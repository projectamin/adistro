diff -urN gcc-3.4.4/INSTALL/finalinstall.html gcc-3.4.4-STEP/INSTALL/finalinstall.html
--- gcc-3.4.4/INSTALL/finalinstall.html	2005-05-19 21:58:07.000000000 +1200
+++ gcc-3.4.4-STEP/INSTALL/finalinstall.html	2005-09-04 10:06:23.417724336 +1200
@@ -101,7 +101,7 @@
 <li>If the build was for GNU/Linux, also include:
 <ul>
 <li>The distribution name and version (e.g., Red Hat 7.1 or Debian 2.2.3);
-this information should be available from <code>/etc/issue</code>.
+this information should be available from <code>/System/Settings/issue</code>.
 
 <li>The version of the Linux kernel, available from <code>uname --version</code>
 or <code>uname -a</code>.
diff -urN gcc-3.4.4/INSTALL/prerequisites.html gcc-3.4.4-STEP/INSTALL/prerequisites.html
--- gcc-3.4.4/INSTALL/prerequisites.html	2005-05-19 21:58:07.000000000 +1200
+++ gcc-3.4.4-STEP/INSTALL/prerequisites.html	2005-09-04 10:06:23.422723576 +1200
@@ -54,8 +54,8 @@
 <br><dt>A "working" POSIX compatible shell, or GNU bash
 <dd>
 Necessary when running <code>configure</code> because some
-<code>/bin/sh</code> shells have bugs and may crash when configuring the
-target libraries.  In other cases, <code>/bin/sh</code> or even some
+<code>/System/Tools/sh</code> shells have bugs and may crash when configuring the
+target libraries.  In other cases, <code>/System/Tools/sh</code> or even some
 <code>ksh</code> have disastrous corner-case performance problems.  This
 can cause target <code>configure</code> runs to literally take days to
 complete in some cases.
diff -urN gcc-3.4.4/INSTALL/specific.html gcc-3.4.4-STEP/INSTALL/specific.html
--- gcc-3.4.4/INSTALL/specific.html	2005-05-19 21:58:07.000000000 +1200
+++ gcc-3.4.4-STEP/INSTALL/specific.html	2005-09-04 10:06:23.435721600 +1200
@@ -633,7 +633,7 @@
 exec-shield-randomize.  Turning this on interferes with precompiled
 headers.  If you need to use precompiled headers,
 exec-shield-randomize can be turned off for the entire system by
-editing <code>/etc/sysctl.conf</code> and adding a line:
+editing <code>/System/Settings/sysctl.conf</code> and adding a line:
 <br><pre>kernel.exec-shield-randomize = 0
 </pre>
 You may then need to run <code>sysctl -p</code>.
@@ -762,7 +762,7 @@
 newer is recommended to build on this platform.
 
 <p>To speed up the configuration phases of bootstrapping and installing GCC,
-one may use GNU Bash instead of AIX <code>/bin/sh</code>, e.g.,
+one may use GNU Bash instead of AIX <code>/System/Tools/sh</code>, e.g.,
 
 <br><pre>   % CONFIG_SHELL=/opt/freeware/bin/bash
    % export CONFIG_SHELL
@@ -1006,7 +1006,7 @@
 <code>configure</code> options when configuring GCC.  You need to use GNU
 <code>ar</code> and <code>nm</code>, also distributed with GNU binutils.
 
-<p>Some users have reported that <code>/bin/sh</code> will hang during bootstrap. 
+<p>Some users have reported that <code>/System/Tools/sh</code> will hang during bootstrap. 
 This problem can be avoided by running the commands:
 
 <br><pre>   % CONFIG_SHELL=/bin/ksh
@@ -1202,7 +1202,7 @@
 GCC you first have to install a pre-built compiler, see the
 <a href="binaries.html">binaries page</a> for details.
 
-<p>The Solaris 2 <code>/bin/sh</code> will often fail to configure
+<p>The Solaris 2 <code>/System/Tools/sh</code> will often fail to configure
 <code>libstdc++-v3</code>, <code>boehm-gc</code> or <code>libjava</code>.  We therefore
 recommend to use the following sequence of commands to bootstrap and
 install GCC:
@@ -1288,7 +1288,7 @@
 <p>Sun <code>as</code> 4.x is broken in that it cannot cope with long symbol names. 
 A typical error message might look similar to the following:
 
-<br><pre>/usr/ccs/bin/as: "/var/tmp/ccMsw135.s", line 11041: error:
+<br><pre>/usr/ccs/bin/as: "/var/System/TemporaryFiles/ccMsw135.s", line 11041: error:
   can't compute value of an expression involving an external symbol.
 </pre>
 
diff -urN gcc-3.4.4/Makefile.in gcc-3.4.4-STEP/Makefile.in
--- gcc-3.4.4/Makefile.in	2005-05-19 21:58:00.000000000 +1200
+++ gcc-3.4.4-STEP/Makefile.in	2005-09-04 10:06:23.451719168 +1200
@@ -186,7 +186,7 @@
 USUAL_MAKEINFO = `if [ -f $$r/texinfo/makeinfo/makeinfo ] ; \
 	then echo $$r/texinfo/makeinfo/makeinfo ; \
 	else if (makeinfo --version \
-	  | egrep 'texinfo[^0-9]*([1-3][0-9]|4\.[2-9]|[5-9])') >/dev/null 2>&1; \
+	  | egrep 'texinfo[^0-9]*([1-3][0-9]|4\.[2-9]|[5-9])') >/System/Devices/null 2>&1; \
         then echo makeinfo; else echo $$s/missing makeinfo; fi; fi`
 
 # This just becomes part of the MAKEINFO definition passed down to
@@ -1111,7 +1111,7 @@
 
 info-etc: \
     configure-etc 
-	@[ -f ./etc/Makefile ] || exit 0; \
+	@[ -f ./System/Settings/Makefile ] || exit 0; \
 	r=`${PWD_COMMAND}`; export r; \
 	s=`cd $(srcdir); ${PWD_COMMAND}`; export s; \
 	$(SET_LIB_PATH) \
@@ -2987,7 +2987,7 @@
 
 dvi-etc: \
     configure-etc 
-	@[ -f ./etc/Makefile ] || exit 0; \
+	@[ -f ./System/Settings/Makefile ] || exit 0; \
 	r=`${PWD_COMMAND}`; export r; \
 	s=`cd $(srcdir); ${PWD_COMMAND}`; export s; \
 	$(SET_LIB_PATH) \
@@ -4863,7 +4863,7 @@
 
 TAGS-etc: \
     configure-etc 
-	@[ -f ./etc/Makefile ] || exit 0; \
+	@[ -f ./System/Settings/Makefile ] || exit 0; \
 	r=`${PWD_COMMAND}`; export r; \
 	s=`cd $(srcdir); ${PWD_COMMAND}`; export s; \
 	$(SET_LIB_PATH) \
@@ -6754,7 +6754,7 @@
 install-info-etc: \
     configure-etc \
     info-etc 
-	@[ -f ./etc/Makefile ] || exit 0; \
+	@[ -f ./System/Settings/Makefile ] || exit 0; \
 	r=`${PWD_COMMAND}`; export r; \
 	s=`cd $(srcdir); ${PWD_COMMAND}`; export s; \
 	$(SET_LIB_PATH) \
@@ -8696,7 +8696,7 @@
 
 installcheck-etc: \
     configure-etc 
-	@[ -f ./etc/Makefile ] || exit 0; \
+	@[ -f ./System/Settings/Makefile ] || exit 0; \
 	r=`${PWD_COMMAND}`; export r; \
 	s=`cd $(srcdir); ${PWD_COMMAND}`; export s; \
 	$(SET_LIB_PATH) \
@@ -10557,7 +10557,7 @@
 maybe-mostlyclean-etc:
 
 mostlyclean-etc: 
-	@[ -f ./etc/Makefile ] || exit 0; \
+	@[ -f ./System/Settings/Makefile ] || exit 0; \
 	r=`${PWD_COMMAND}`; export r; \
 	s=`cd $(srcdir); ${PWD_COMMAND}`; export s; \
 	$(SET_LIB_PATH) \
@@ -12310,7 +12310,7 @@
 maybe-clean-etc:
 
 clean-etc: 
-	@[ -f ./etc/Makefile ] || exit 0; \
+	@[ -f ./System/Settings/Makefile ] || exit 0; \
 	r=`${PWD_COMMAND}`; export r; \
 	s=`cd $(srcdir); ${PWD_COMMAND}`; export s; \
 	$(SET_LIB_PATH) \
@@ -14077,7 +14077,7 @@
 maybe-distclean-etc:
 
 distclean-etc: 
-	@[ -f ./etc/Makefile ] || exit 0; \
+	@[ -f ./System/Settings/Makefile ] || exit 0; \
 	r=`${PWD_COMMAND}`; export r; \
 	s=`cd $(srcdir); ${PWD_COMMAND}`; export s; \
 	$(SET_LIB_PATH) \
@@ -15844,7 +15844,7 @@
 maybe-maintainer-clean-etc:
 
 maintainer-clean-etc: 
-	@[ -f ./etc/Makefile ] || exit 0; \
+	@[ -f ./System/Settings/Makefile ] || exit 0; \
 	r=`${PWD_COMMAND}`; export r; \
 	s=`cd $(srcdir); ${PWD_COMMAND}`; export s; \
 	$(SET_LIB_PATH) \
@@ -17255,9 +17255,9 @@
 	-rm -rf $(BUILD_SUBDIR)
 	-rm -f texinfo/po/Makefile texinfo/po/Makefile.in texinfo/info/Makefile
 	-rm -f texinfo/doc/Makefile texinfo/po/POTFILES
-	-rmdir texinfo/doc texinfo/info texinfo/intl texinfo/lib 2>/dev/null
-	-rmdir texinfo/makeinfo texinfo/po texinfo/util 2>/dev/null
-	-rmdir fastjar gcc libiberty texinfo zlib 2>/dev/null
+	-rmdir texinfo/doc texinfo/info texinfo/intl texinfo/lib 2>/System/Devices/null
+	-rmdir texinfo/makeinfo texinfo/po texinfo/util 2>/System/Devices/null
+	-rmdir fastjar gcc libiberty texinfo zlib 2>/System/Devices/null
 
 local-maintainer-clean:
 	@echo "This command is intended for maintainers to use;"
@@ -23501,7 +23501,7 @@
 gcc-no-fixedincludes:
 	@if [ -f ./gcc/Makefile ]; then \
 	  rm -rf gcc/tmp-include; \
-	  mv gcc/include gcc/tmp-include 2>/dev/null; \
+	  mv gcc/include gcc/tmp-include 2>/System/Devices/null; \
 	  mkdir gcc/include; \
 	  cp $(srcdir)/gcc/gsyslimits.h gcc/include/syslimits.h; \
 	  touch gcc/stmp-fixinc gcc/include/fixed; \
@@ -23512,7 +23512,7 @@
 	  (cd ./gcc && \
 	   $(MAKE) $(GCC_FLAGS_TO_PASS) install); \
 	  rm -rf gcc/include; \
-	  mv gcc/tmp-include gcc/include 2>/dev/null; \
+	  mv gcc/tmp-include gcc/include 2>/System/Devices/null; \
 	else true; fi
 
 # --------------------------------------
@@ -23654,7 +23654,7 @@
 multilib.out: maybe-all-gcc
 	@r=`${PWD_COMMAND}`; export r; \
 	echo "Checking multilib configuration..."; \
-	$(CC_FOR_TARGET) --print-multi-lib > multilib.tmp 2> /dev/null ; \
+	$(CC_FOR_TARGET) --print-multi-lib > multilib.tmp 2> /System/Devices/null ; \
 	$(SHELL) $(srcdir)/move-if-change multilib.tmp multilib.out ; \
 
 # Rebuilding Makefile.in, using autogen.
diff -urN gcc-3.4.4/Makefile.tpl gcc-3.4.4-STEP/Makefile.tpl
--- gcc-3.4.4/Makefile.tpl	2004-09-24 12:43:26.000000000 +1200
+++ gcc-3.4.4-STEP/Makefile.tpl	2005-09-04 10:06:23.453718864 +1200
@@ -189,7 +189,7 @@
 USUAL_MAKEINFO = `if [ -f $$r/texinfo/makeinfo/makeinfo ] ; \
 	then echo $$r/texinfo/makeinfo/makeinfo ; \
 	else if (makeinfo --version \
-	  | egrep 'texinfo[^0-9]*([1-3][0-9]|4\.[2-9]|[5-9])') >/dev/null 2>&1; \
+	  | egrep 'texinfo[^0-9]*([1-3][0-9]|4\.[2-9]|[5-9])') >/System/Devices/null 2>&1; \
         then echo makeinfo; else echo $$s/missing makeinfo; fi; fi`
 
 # This just becomes part of the MAKEINFO definition passed down to
@@ -633,9 +633,9 @@
 	-rm -rf $(BUILD_SUBDIR)
 	-rm -f texinfo/po/Makefile texinfo/po/Makefile.in texinfo/info/Makefile
 	-rm -f texinfo/doc/Makefile texinfo/po/POTFILES
-	-rmdir texinfo/doc texinfo/info texinfo/intl texinfo/lib 2>/dev/null
-	-rmdir texinfo/makeinfo texinfo/po texinfo/util 2>/dev/null
-	-rmdir fastjar gcc libiberty texinfo zlib 2>/dev/null
+	-rmdir texinfo/doc texinfo/info texinfo/intl texinfo/lib 2>/System/Devices/null
+	-rmdir texinfo/makeinfo texinfo/po texinfo/util 2>/System/Devices/null
+	-rmdir fastjar gcc libiberty texinfo zlib 2>/System/Devices/null
 
 local-maintainer-clean:
 	@echo "This command is intended for maintainers to use;"
@@ -1254,7 +1254,7 @@
 gcc-no-fixedincludes:
 	@if [ -f ./gcc/Makefile ]; then \
 	  rm -rf gcc/tmp-include; \
-	  mv gcc/include gcc/tmp-include 2>/dev/null; \
+	  mv gcc/include gcc/tmp-include 2>/System/Devices/null; \
 	  mkdir gcc/include; \
 	  cp $(srcdir)/gcc/gsyslimits.h gcc/include/syslimits.h; \
 	  touch gcc/stmp-fixinc gcc/include/fixed; \
@@ -1265,7 +1265,7 @@
 	  (cd ./gcc && \
 	   $(MAKE) $(GCC_FLAGS_TO_PASS) install); \
 	  rm -rf gcc/include; \
-	  mv gcc/tmp-include gcc/include 2>/dev/null; \
+	  mv gcc/tmp-include gcc/include 2>/System/Devices/null; \
 	else true; fi
 
 # --------------------------------------
@@ -1407,7 +1407,7 @@
 multilib.out: maybe-all-gcc
 	@r=`${PWD_COMMAND}`; export r; \
 	echo "Checking multilib configuration..."; \
-	$(CC_FOR_TARGET) --print-multi-lib > multilib.tmp 2> /dev/null ; \
+	$(CC_FOR_TARGET) --print-multi-lib > multilib.tmp 2> /System/Devices/null ; \
 	$(SHELL) $(srcdir)/move-if-change multilib.tmp multilib.out ; \
 
 # Rebuilding Makefile.in, using autogen.
diff -urN gcc-3.4.4/NEWS gcc-3.4.4-STEP/NEWS
--- gcc-3.4.4/NEWS	2005-05-19 21:58:15.000000000 +1200
+++ gcc-3.4.4-STEP/NEWS	2005-09-04 10:06:23.460717800 +1200
@@ -1708,7 +1708,7 @@
 
      * [310]15498  typo in gcc manual: non-existing locale example en_UK,
        should be en_GB
-     * [311]15747  [mips-sgi-irix5.3]  /bin/sh  hangs  during  bootstrap:
+     * [311]15747  [mips-sgi-irix5.3]  /System/Tools/sh  hangs  during  bootstrap:
        document broken shell
      * [312]16406 USE_LD_AS_NEEDED undocumented
      _________________________________________________________________
diff -urN gcc-3.4.4/config/ChangeLog gcc-3.4.4-STEP/config/ChangeLog
--- gcc-3.4.4/config/ChangeLog	2005-05-19 19:46:27.000000000 +1200
+++ gcc-3.4.4-STEP/config/ChangeLog	2005-09-04 10:06:23.461717648 +1200
@@ -782,7 +782,7 @@
 
 Tue Jun  9 23:29:38 1992  Per Bothner  (bothner@rtl.cygnus.com)
 
-	* Everywhere: Change RANLIB=echo>/dev/null (which confuses
+	* Everywhere: Change RANLIB=echo>/System/Devices/null (which confuses
 	some shells - and I don't blame them) to RANLIB=true.
 	* mh-solaris:  Use /usr/ucb/install for INSTALL.
 
diff -urN gcc-3.4.4/config/acinclude.m4 gcc-3.4.4-STEP/config/acinclude.m4
--- gcc-3.4.4/config/acinclude.m4	2003-05-20 06:09:58.000000000 +1200
+++ gcc-3.4.4-STEP/config/acinclude.m4	2005-09-04 10:06:23.464717192 +1200
@@ -881,7 +881,7 @@
 if test x"${ac_cv_c_tclh}" = x ; then
     dnl find the top level Tcl source directory
     for i in $dirlist; do
-        if test -n "`ls -dr $srcdir/$i/tcl* 2>/dev/null`" ; then
+        if test -n "`ls -dr $srcdir/$i/tcl* 2>/System/Devices/null`" ; then
 	    tclpath=$srcdir/$i
 	    break
 	fi
@@ -889,7 +889,7 @@
 
     dnl find the exact Tcl source dir. We do it this way, cause there
     dnl might be multiple version of Tcl, and we want the most recent one.
-    for i in `ls -dr $tclpath/tcl* 2>/dev/null ` ; do
+    for i in `ls -dr $tclpath/tcl* 2>/System/Devices/null ` ; do
         if test -f $i/generic/tcl.h ; then
           ac_cv_c_tclh=`(cd $i/generic; ${PWDCMD-pwd})`
           break
@@ -976,7 +976,7 @@
     if test x"${ac_cv_c_tclconfig}" = x ; then
         dnl find the top level Tcl source directory
         for i in $dirlist; do
-            if test -n "`ls -dr $i/tcl* 2>/dev/null`" ; then
+            if test -n "`ls -dr $i/tcl* 2>/System/Devices/null`" ; then
 	        tclconfpath=$i
 	        break
 	    fi
@@ -984,7 +984,7 @@
 
         dnl find the exact Tcl dir. We do it this way, cause there
         dnl might be multiple version of Tcl, and we want the most recent one.
-        for i in `ls -dr $tclconfpath/tcl* 2>/dev/null ` ; do
+        for i in `ls -dr $tclconfpath/tcl* 2>/System/Devices/null ` ; do
             dnl need to test both unix and win directories, since 
             dnl cygwin's tclConfig.sh could be in either directory depending
             dnl on the cygwin port of tcl.
@@ -1120,7 +1120,7 @@
 if test x"${ac_cv_c_tkh}" = x ; then
     dnl find the top level Tk source directory
     for i in $dirlist; do
-        if test -n "`ls -dr $srcdir/$i/tk* 2>/dev/null`" ; then
+        if test -n "`ls -dr $srcdir/$i/tk* 2>/System/Devices/null`" ; then
 	    tkpath=$srcdir/$i
 	    break
 	fi
@@ -1128,7 +1128,7 @@
 
     dnl find the exact Tk source dir. We do it this way, cause there
     dnl might be multiple version of Tk, and we want the most recent one.
-    for i in `ls -dr $tkpath/tk* 2>/dev/null ` ; do
+    for i in `ls -dr $tkpath/tk* 2>/System/Devices/null ` ; do
         if test -f $i/generic/tk.h ; then
           ac_cv_c_tkh=`(cd $i/generic; ${PWDCMD-pwd})`
           break
@@ -1209,7 +1209,7 @@
     if test x"${ac_cv_c_tkconfig}" = x ; then
         dnl find the top level Tk source directory
         for i in $dirlist; do
-            if test -n "`ls -dr $i/tk* 2>/dev/null`" ; then
+            if test -n "`ls -dr $i/tk* 2>/System/Devices/null`" ; then
 	        tkconfpath=$i
 	        break
 	    fi
@@ -1217,7 +1217,7 @@
 
         dnl find the exact Tk dir. We do it this way, cause there
         dnl might be multiple version of Tk, and we want the most recent one.
-        for i in `ls -dr $tkconfpath/tk* 2>/dev/null ` ; do
+        for i in `ls -dr $tkconfpath/tk* 2>/System/Devices/null ` ; do
             dnl need to test both unix and win directories, since 
             dnl cygwin's tkConfig.sh could be in either directory depending
             dnl on the cygwin port of tk.
@@ -1325,7 +1325,7 @@
 if test x"${ac_cv_c_itclh}" = x ; then
     dnl find the top level Itcl source directory
     for i in $dirlist; do
-        if test -n "`ls -dr $srcdir/$i/itcl* 2>/dev/null`" ; then
+        if test -n "`ls -dr $srcdir/$i/itcl* 2>/System/Devices/null`" ; then
 	    itclpath=$srcdir/$i
 	    break
 	fi
@@ -1333,7 +1333,7 @@
 
     dnl find the exact Itcl source dir. We do it this way, cause there
     dnl might be multiple version of Itcl, and we want the most recent one.
-    for i in `ls -dr $itclpath/itcl* 2>/dev/null ` ; do
+    for i in `ls -dr $itclpath/itcl* 2>/System/Devices/null ` ; do
         if test -f $i/src/itcl.h ; then
           ac_cv_c_itclh=`(cd $i/src; ${PWDCMD-pwd})`
           break
@@ -1392,7 +1392,7 @@
     if test x"${ac_cv_c_itcllib}" = x ; then
         dnl find the top level Itcl build directory
         for i in $dirlist; do
-            if test -n "`ls -dr $i/itcl* 2>/dev/null`" ; then
+            if test -n "`ls -dr $i/itcl* 2>/System/Devices/null`" ; then
 	        itclpath=$i/itcl
 	        break
 	    fi
@@ -1407,12 +1407,12 @@
     dnl check in a few other private locations
     if test x"${ac_cv_c_itcllib}" = x ; then
         for i in ${dirlist}; do
-            if test -n "`ls -dr ${srcdir}/$i/itcl* 2>/dev/null`" ; then
+            if test -n "`ls -dr ${srcdir}/$i/itcl* 2>/System/Devices/null`" ; then
 	        itclpath=${srcdir}/$i
 	        break
 	    fi
         done
-        for i in `ls -dr ${itclpath}/itcl* 2>/dev/null` ; do
+        for i in `ls -dr ${itclpath}/itcl* 2>/System/Devices/null` ; do
             dnl Itcl 7.5 and greater puts library in subdir.  Look there first.
             if test -f "$i/src/libitcl$TCL_SHLIB_SUFFIX" ; then
 	        ac_cv_c_itcllib=`(cd $i/src; ${PWDCMD-pwd})`
@@ -1476,7 +1476,7 @@
 if test x"${ac_cv_c_itclsh}" = x ; then
     dnl find the top level Itcl source directory
     for i in $dirlist; do
-        if test -n "`ls -dr $srcdir/$i/itcl* 2>/dev/null`" ; then
+        if test -n "`ls -dr $srcdir/$i/itcl* 2>/System/Devices/null`" ; then
 	    itclpath=$srcdir/$i
 	    break
 	fi
@@ -1484,7 +1484,7 @@
 
     dnl find the exact Itcl source dir. We do it this way, cause there
     dnl might be multiple version of Itcl, and we want the most recent one.
-    for i in `ls -dr $itclpath/itcl* 2>/dev/null ` ; do
+    for i in `ls -dr $itclpath/itcl* 2>/System/Devices/null ` ; do
         if test -f $i/src/itcl_sh ; then
           ac_cv_c_itclsh=`(cd $i/src; ${PWDCMD-pwd})`/itcl_sh
           break
@@ -1538,7 +1538,7 @@
 if test x"${ac_cv_c_itclmkidx}" = x ; then
     dnl find the top level Itcl source directory
     for i in $dirlist; do
-        if test -n "`ls -dr $srcdir/$i/itcl* 2>/dev/null`" ; then
+        if test -n "`ls -dr $srcdir/$i/itcl* 2>/System/Devices/null`" ; then
 	    itclpath=$srcdir/$i
 	    break
 	fi
@@ -1546,7 +1546,7 @@
 
     dnl find the exact Itcl source dir. We do it this way, cause there
     dnl might be multiple version of Itcl, and we want the most recent one.
-    for i in `ls -dr $itclpath/itcl* 2>/dev/null ` ; do
+    for i in `ls -dr $itclpath/itcl* 2>/System/Devices/null ` ; do
         if test -f $i/library/itcl_mkindex.tcl ; then
           ac_cv_c_itclmkidx=`(cd $i/library; ${PWDCMD-pwd})`/itcl_mkindex.tcl
           break
@@ -1557,7 +1557,7 @@
     dnl Get the path to the compiler
     ccpath=`which ${CC}  | sed -e 's:/bin/.*::'`/share
     dnl Itcl 7.5 and greater puts library in subdir.  Look there first.
-    for i in `ls -dr $ccpath/itcl* 2>/dev/null ` ; do
+    for i in `ls -dr $ccpath/itcl* 2>/System/Devices/null ` ; do
         if test -f $i/itcl_mkindex.tcl ; then
             ac_cv_c_itclmkidx=`(cd $i; ${PWDCMD-pwd})`/itcl_mkindex.tcl
             break
@@ -1618,7 +1618,7 @@
 if test x"${ac_cv_c_tixh}" = x ; then
     dnl find the top level Tix source directory
     for i in $dirlist; do
-        if test -n "`ls -dr $srcdir/$i/tix* 2>/dev/null`" ; then
+        if test -n "`ls -dr $srcdir/$i/tix* 2>/System/Devices/null`" ; then
 	    tixpath=$srcdir/$i
 	    break
 	fi
@@ -1626,7 +1626,7 @@
 
     dnl find the exact Tix source dir. We do it this way, cause there
     dnl might be multiple version of Tix, and we want the most recent one.
-    for i in `ls -dr $tixpath/tix* 2>/dev/null ` ; do
+    for i in `ls -dr $tixpath/tix* 2>/System/Devices/null ` ; do
         if test -f $i/generic/tix.h ; then
           ac_cv_c_tixh=`(cd $i/generic; ${PWDCMD-pwd})`
           break
@@ -1691,11 +1691,11 @@
   if test x"${ac_cv_c_tixconfig}" = x ; then
     for i in \
 		../tix \
-		`ls -dr ../tix[[4]]* 2>/dev/null` \
+		`ls -dr ../tix[[4]]* 2>/System/Devices/null` \
 		../../tix \
-		`ls -dr ../../tix[[4]]* 2>/dev/null` \
+		`ls -dr ../../tix[[4]]* 2>/System/Devices/null` \
 		../../../tix \
-		`ls -dr ../../../tix[[4]]* 2>/dev/null` ; do
+		`ls -dr ../../../tix[[4]]* 2>/System/Devices/null` ; do
       if test -f "$i/tixConfig.sh" ; then
         ac_cv_c_tixconfig=`(cd $i; ${PWDCMD-pwd})`
 	break
@@ -1704,7 +1704,7 @@
   fi
   # check in a few common install locations
   if test x"${ac_cv_c_tixconfig}" = x ; then
-    for i in `ls -d ${prefix}/lib /usr/local/lib 2>/dev/null` ; do
+    for i in `ls -d ${prefix}/lib /usr/local/lib 2>/System/Devices/null` ; do
       if test -f "$i/tixConfig.sh" ; then
         ac_cv_c_tkconfig=`(cd $i; ${PWDCMD-pwd})`
 	break
@@ -1715,7 +1715,7 @@
   if test x"${ac_cv_c_tixconfig}" = x ; then
     for i in \
 		${srcdir}/../tix \
-		`ls -dr ${srcdir}/../tix[[4-9]]* 2>/dev/null` ; do
+		`ls -dr ${srcdir}/../tix[[4-9]]* 2>/System/Devices/null` ; do
       if test -f "$i/tixConfig.sh" ; then
         ac_cv_c_tixconfig=`(cd $i; ${PWDCMD-pwd})`
 	break
@@ -1774,11 +1774,11 @@
   if test x"${ac_cv_c_itclconfig}" = x ; then
     for i in \
 		../itcl/itcl \
-		`ls -dr ../itcl/itcl[[3]]* 2>/dev/null` \
+		`ls -dr ../itcl/itcl[[3]]* 2>/System/Devices/null` \
 		../../itcl/itcl \
-		`ls -dr ../../itcl/itcl[[3]]* 2>/dev/null` \
+		`ls -dr ../../itcl/itcl[[3]]* 2>/System/Devices/null` \
 		../../../itcl/itcl \
-		`ls -dr ../../../itcl/itcl[[3]]* 2>/dev/null` ; do
+		`ls -dr ../../../itcl/itcl[[3]]* 2>/System/Devices/null` ; do
       if test -f "$i/itclConfig.sh" ; then
         ac_cv_c_itclconfig=`(cd $i; ${PWDCMD-pwd})`
 	break
@@ -1787,7 +1787,7 @@
   fi
   # check in a few common install locations
   if test x"${ac_cv_c_itclconfig}" = x ; then
-    for i in `ls -d ${prefix}/lib /usr/local/lib 2>/dev/null` ; do
+    for i in `ls -d ${prefix}/lib /usr/local/lib 2>/System/Devices/null` ; do
       if test -f "$i/itclConfig.sh" ; then
         ac_cv_c_itclconfig=`(cd $i; ${PWDCMD-pwd})`
 	break
@@ -1798,7 +1798,7 @@
   if test x"${ac_cv_c_itclconfig}" = x ; then
     for i in \
 		${srcdir}/../itcl/itcl \
-		`ls -dr ${srcdir}/../itcl/itcl[[3]]* 2>/dev/null` ; do
+		`ls -dr ${srcdir}/../itcl/itcl[[3]]* 2>/System/Devices/null` ; do
       if test -f "$i/itcl/itclConfig.sh" ; then
         ac_cv_c_itclconfig=`(cd $i; ${PWDCMD-pwd})`
 	break
@@ -1861,11 +1861,11 @@
   if test x"${ac_cv_c_itkconfig}" = x ; then
     for i in \
 		../itcl/itk \
-		`ls -dr ../itcl/itk[[3]]* 2>/dev/null` \
+		`ls -dr ../itcl/itk[[3]]* 2>/System/Devices/null` \
 		../../itcl/itk \
-		`ls -dr ../../itcl/itk[[3]]* 2>/dev/null` \
+		`ls -dr ../../itcl/itk[[3]]* 2>/System/Devices/null` \
 		../../../itcl/itk \
-		`ls -dr ../../../itcl/itk[[3]]* 2>/dev/null` ; do
+		`ls -dr ../../../itcl/itk[[3]]* 2>/System/Devices/null` ; do
       if test -f "$i/itkConfig.sh" ; then
         ac_cv_c_itkconfig=`(cd $i; ${PWDCMD-pwd})`
 	break
@@ -1874,7 +1874,7 @@
   fi
   # check in a few common install locations
   if test x"${ac_cv_c_itkconfig}" = x ; then
-    for i in `ls -d ${prefix}/lib /usr/local/lib 2>/dev/null` ; do
+    for i in `ls -d ${prefix}/lib /usr/local/lib 2>/System/Devices/null` ; do
       if test -f "$i/itcl/itkConfig.sh" ; then
         ac_cv_c_itkconfig=`(cd $i; ${PWDCMD-pwd})`
 	break
@@ -1885,7 +1885,7 @@
   if test x"${ac_cv_c_itkconfig}" = x ; then
     for i in \
 		${srcdir}/../itcl/itk \
-		`ls -dr ${srcdir}/../itcl/itk[[3]]* 2>/dev/null` ; do
+		`ls -dr ${srcdir}/../itcl/itk[[3]]* 2>/System/Devices/null` ; do
       if test -f "$i/itkConfig.sh" ; then
         ac_cv_c_itkconfig=`(cd $i; ${PWDCMD-pwd})`
 	break
@@ -1957,7 +1957,7 @@
 if test x"${ac_cv_c_libguih}" = x ; then
     dnl find the top level Libgui source directory
     for i in $dirlist; do
-        if test -n "`ls -dr $srcdir/$i/libgui* 2>/dev/null`" ; then
+        if test -n "`ls -dr $srcdir/$i/libgui* 2>/System/Devices/null`" ; then
 	    libguipath=$srcdir/$i
 	    break
 	fi
@@ -1965,7 +1965,7 @@
 
     dnl find the exact Libgui source dir. We do it this way, cause there
     dnl might be multiple version of Libgui, and we want the most recent one.
-    for i in `ls -dr $libguipath/libgui* 2>/dev/null ` ; do
+    for i in `ls -dr $libguipath/libgui* 2>/System/Devices/null ` ; do
         if test -f $i/src/guitcl.h ; then
           ac_cv_c_libguih=`(cd $i/src; ${PWDCMD-pwd})`
           break
diff -urN gcc-3.4.4/config/mh-lynxrs6k gcc-3.4.4-STEP/config/mh-lynxrs6k
--- gcc-3.4.4/config/mh-lynxrs6k	2002-12-28 19:57:49.000000000 +1300
+++ gcc-3.4.4-STEP/config/mh-lynxrs6k	2005-09-04 10:06:23.465717040 +1200
@@ -1,2 +1,2 @@
-# /bin/sh is too buggy, so use /bin/bash instead.
+# /System/Tools/sh is too buggy, so use /bin/bash instead.
 SHELL = /bin/bash
diff -urN gcc-3.4.4/config/progtest.m4 gcc-3.4.4-STEP/config/progtest.m4
--- gcc-3.4.4/config/progtest.m4	2003-07-08 17:54:54.000000000 +1200
+++ gcc-3.4.4-STEP/config/progtest.m4	2005-09-04 10:06:23.466716888 +1200
@@ -27,10 +27,10 @@
 # Prepare PATH_SEPARATOR.
 # The user is always right.
 if test "${PATH_SEPARATOR+set}" != set; then
-  echo "#! /bin/sh" >conf$$.sh
+  echo "#! /System/Tools/sh" >conf$$.sh
   echo  "exit 0"   >>conf$$.sh
   chmod +x conf$$.sh
-  if (PATH="/nonexistent;."; conf$$.sh) >/dev/null 2>&1; then
+  if (PATH="/nonexistent;."; conf$$.sh) >/System/Devices/null 2>&1; then
     PATH_SEPARATOR=';'
   else
     PATH_SEPARATOR=:
@@ -41,11 +41,11 @@
 # Find out how to test for executable files. Don't use a zero-byte file,
 # as systems may use methods other than mode bits to determine executability.
 cat >conf$$.file <<_ASEOF
-#! /bin/sh
+#! /System/Tools/sh
 exit 0
 _ASEOF
 chmod +x conf$$.file
-if test -x conf$$.file >/dev/null 2>&1; then
+if test -x conf$$.file >/System/Devices/null 2>&1; then
   ac_executable_p="test -x"
 else
   ac_executable_p="test -f"
diff -urN gcc-3.4.4/config-ml.in gcc-3.4.4-STEP/config-ml.in
--- gcc-3.4.4/config-ml.in	2005-01-13 13:50:40.000000000 +1300
+++ gcc-3.4.4-STEP/config-ml.in	2005-09-04 10:06:23.467716736 +1200
@@ -100,7 +100,7 @@
 # configured for a particular host.
 
 Makefile=${ac_file-Makefile}
-ml_config_shell=${CONFIG_SHELL-/bin/sh}
+ml_config_shell=${CONFIG_SHELL-/System/Tools/sh}
 ml_realsrcdir=${srcdir}
 
 # Scan all the arguments and set all the ones we need.
@@ -202,7 +202,7 @@
 if [ "${ml_toplevel_p}" = yes ]; then
 
 multidirs=
-for i in `${CC-gcc} --print-multi-lib 2>/dev/null`; do
+for i in `${CC-gcc} --print-multi-lib 2>/System/Devices/null`; do
   dir=`echo $i | sed -e 's/;.*$//'`
   if [ "${dir}" = "." ]; then
     true
@@ -542,7 +542,7 @@
 	  srcrootpre=`cd $(srcdir); ${PWD_COMMAND}`/; export srcrootpre; \
 	  lib=`echo $${rootpre} | sed -e 's,^.*/\([^/][^/]*\)/$$,\1,'`; \
 	  compiler="$(CC)"; \
-	  for i in `$${compiler} --print-multi-lib 2>/dev/null`; do \
+	  for i in `$${compiler} --print-multi-lib 2>/System/Devices/null`; do \
 	    dir=`echo $$i | sed -e 's/;.*$$//'`; \
 	    if [ "$${dir}" = "." ]; then \
 	      true; \
@@ -713,7 +713,7 @@
         esac
         if test ! -d "$pathcomp"; then
            echo "mkdir $pathcomp" 1>&2
-           mkdir "$pathcomp" > /dev/null 2>&1 || lasterr=$?
+           mkdir "$pathcomp" > /System/Devices/null 2>&1 || lasterr=$?
         fi
         if test ! -d "$pathcomp"; then
 	   exit $lasterr
@@ -775,7 +775,7 @@
     fi
 
     # find compiler flag corresponding to ${ml_dir}
-    for i in `${CC-gcc} --print-multi-lib 2>/dev/null`; do
+    for i in `${CC-gcc} --print-multi-lib 2>/System/Devices/null`; do
       dir=`echo $i | sed -e 's/;.*$//'`
       if [ "${dir}" = "${ml_dir}" ]; then
         flags=`echo $i | sed -e 's/^[^;]*;//' -e 's/@/ -/g'`
diff -urN gcc-3.4.4/config.guess gcc-3.4.4-STEP/config.guess
--- gcc-3.4.4/config.guess	2004-02-23 03:44:23.000000000 +1300
+++ gcc-3.4.4-STEP/config.guess	2005-09-04 10:06:23.470716280 +1200
@@ -1,4 +1,4 @@
-#! /bin/sh
+#! /System/Tools/sh
 # Attempt to guess a canonical system name.
 #   Copyright (C) 1992, 1993, 1994, 1995, 1996, 1997, 1998, 1999,
 #   2000, 2001, 2002, 2003 Free Software Foundation, Inc.
@@ -101,10 +101,10 @@
 # Portable tmp directory creation inspired by the Autoconf team.
 
 set_cc_for_build='
-trap "exitcode=\$?; (rm -f \$tmpfiles 2>/dev/null; rmdir \$tmp 2>/dev/null) && exit \$exitcode" 0 ;
-trap "rm -f \$tmpfiles 2>/dev/null; rmdir \$tmp 2>/dev/null; exit 1" 1 2 13 15 ;
-: ${TMPDIR=/tmp} ;
- { tmp=`(umask 077 && mktemp -d -q "$TMPDIR/cgXXXXXX") 2>/dev/null` && test -n "$tmp" && test -d "$tmp" ; } ||
+trap "exitcode=\$?; (rm -f \$tmpfiles 2>/System/Devices/null; rmdir \$tmp 2>/System/Devices/null) && exit \$exitcode" 0 ;
+trap "rm -f \$tmpfiles 2>/System/Devices/null; rmdir \$tmp 2>/System/Devices/null; exit 1" 1 2 13 15 ;
+: ${TMPDIR=/System/TemporaryFiles} ;
+ { tmp=`(umask 077 && mktemp -d -q "$TMPDIR/cgXXXXXX") 2>/System/Devices/null` && test -n "$tmp" && test -d "$tmp" ; } ||
  { test -n "$RANDOM" && tmp=$TMPDIR/cg$$-$RANDOM && (umask 077 && mkdir $tmp) ; } ||
  { tmp=$TMPDIR/cg-$$ && (umask 077 && mkdir $tmp) && echo "Warning: creating insecure temp directory" >&2 ; } ||
  { echo "$me: cannot create a temporary directory in $TMPDIR" >&2 ; exit 1 ; } ;
@@ -113,7 +113,7 @@
 case $CC_FOR_BUILD,$HOST_CC,$CC in
  ,,)    echo "int x;" > $dummy.c ;
 	for c in cc gcc c89 c99 ; do
-	  if ($c -c -o $dummy.o $dummy.c) >/dev/null 2>&1 ; then
+	  if ($c -c -o $dummy.o $dummy.c) >/System/Devices/null 2>&1 ; then
 	     CC_FOR_BUILD="$c"; break ;
 	  fi ;
 	done ;
@@ -127,14 +127,14 @@
 
 # This is needed to find uname on a Pyramid OSx when run in the BSD universe.
 # (ghazi@noc.rutgers.edu 1994-08-24)
-if (test -f /.attbin/uname) >/dev/null 2>&1 ; then
+if (test -f /.attbin/uname) >/System/Devices/null 2>&1 ; then
 	PATH=$PATH:/.attbin ; export PATH
 fi
 
-UNAME_MACHINE=`(uname -m) 2>/dev/null` || UNAME_MACHINE=unknown
-UNAME_RELEASE=`(uname -r) 2>/dev/null` || UNAME_RELEASE=unknown
-UNAME_SYSTEM=`(uname -s) 2>/dev/null`  || UNAME_SYSTEM=unknown
-UNAME_VERSION=`(uname -v) 2>/dev/null` || UNAME_VERSION=unknown
+UNAME_MACHINE=`(uname -m) 2>/System/Devices/null` || UNAME_MACHINE=unknown
+UNAME_RELEASE=`(uname -r) 2>/System/Devices/null` || UNAME_RELEASE=unknown
+UNAME_SYSTEM=`(uname -s) 2>/System/Devices/null`  || UNAME_SYSTEM=unknown
+UNAME_VERSION=`(uname -v) 2>/System/Devices/null` || UNAME_VERSION=unknown
 
 # Note: order is significant - the case branches are not exclusive.
 
@@ -151,8 +151,8 @@
 	# Note: NetBSD doesn't particularly care about the vendor
 	# portion of the name.  We always set it to "unknown".
 	sysctl="sysctl -n hw.machine_arch"
-	UNAME_MACHINE_ARCH=`(/sbin/$sysctl 2>/dev/null || \
-	    /usr/sbin/$sysctl 2>/dev/null || echo unknown)`
+	UNAME_MACHINE_ARCH=`(/sbin/$sysctl 2>/System/Devices/null || \
+	    /usr/sbin/$sysctl 2>/System/Devices/null || echo unknown)`
 	case "${UNAME_MACHINE_ARCH}" in
 	    armeb) machine=armeb-unknown ;;
 	    arm*) machine=arm-unknown ;;
@@ -165,8 +165,8 @@
 	case "${UNAME_MACHINE_ARCH}" in
 	    arm*|i386|m68k|ns32k|sh3*|sparc|vax)
 		eval $set_cc_for_build
-		if echo __ELF__ | $CC_FOR_BUILD -E - 2>/dev/null \
-			| grep __ELF__ >/dev/null
+		if echo __ELF__ | $CC_FOR_BUILD -E - 2>/System/Devices/null \
+			| grep __ELF__ >/System/Devices/null
 		then
 		    # Once all utilities can be ECOFF (netbsdecoff) or a.out (netbsdaout).
 		    # Return netbsd for either.  FIX?
@@ -336,7 +336,7 @@
 	exit 0;;
     Pyramid*:OSx*:*:* | MIS*:OSx*:*:* | MIS*:SMP_DC-OSx*:*:*)
 	# akee@wpdis03.wpafb.af.mil (Earle F. Ake) contributed MIS and NILE.
-	if test "`(/bin/universe) 2>/dev/null`" = att ; then
+	if test "`(/System/Tools/universe) 2>/System/Devices/null`" = att ; then
 		echo pyramid-pyramid-sysv3
 	else
 		echo pyramid-pyramid-bsd
@@ -349,7 +349,7 @@
 	echo sparc-icl-nx6
 	exit 0 ;;
     DRS?6000:UNIX_SV:4.2*:7*)
-	case `/usr/bin/uname -p` in
+	case `/System/Tools/uname -p` in
 	    sparc) echo sparc-icl-nx7 && exit 0 ;;
 	esac ;;
     sun4H:SunOS:5.*:*)
@@ -368,7 +368,7 @@
 	echo sparc-sun-solaris3`echo ${UNAME_RELEASE}|sed -e 's/[^.]*//'`
 	exit 0 ;;
     sun4*:SunOS:*:*)
-	case "`/usr/bin/arch -k`" in
+	case "`/System/Tools/arch -k`" in
 	    Series*|S4*)
 		UNAME_RELEASE=`uname -v`
 		;;
@@ -380,9 +380,9 @@
 	echo m68k-sun-sunos${UNAME_RELEASE}
 	exit 0 ;;
     sun*:*:4.2BSD:*)
-	UNAME_RELEASE=`(sed 1q /etc/motd | awk '{print substr($5,1,3)}') 2>/dev/null`
+	UNAME_RELEASE=`(sed 1q /System/Settings/motd | awk '{print substr($5,1,3)}') 2>/System/Devices/null`
 	test "x${UNAME_RELEASE}" = "x" && UNAME_RELEASE=3
-	case "`/bin/arch`" in
+	case "`/System/Tools/arch`" in
 	    sun3)
 		echo m68k-sun-sunos${UNAME_RELEASE}
 		;;
@@ -489,7 +489,7 @@
 	exit 0 ;;
     AViiON:dgux:*:*)
         # DG/UX returns AViiON for all architectures
-        UNAME_PROCESSOR=`/usr/bin/uname -p`
+        UNAME_PROCESSOR=`/System/Tools/uname -p`
 	if [ $UNAME_PROCESSOR = mc88100 ] || [ $UNAME_PROCESSOR = mc88110 ]
 	then
 	    if [ ${TARGET_BINARY_INTERFACE}x = m88kdguxelfx ] || \
@@ -526,15 +526,15 @@
 	echo i386-ibm-aix
 	exit 0 ;;
     ia64:AIX:*:*)
-	if [ -x /usr/bin/oslevel ] ; then
-		IBM_REV=`/usr/bin/oslevel`
+	if [ -x /System/Tools/oslevel ] ; then
+		IBM_REV=`/System/Tools/oslevel`
 	else
 		IBM_REV=${UNAME_VERSION}.${UNAME_RELEASE}
 	fi
 	echo ${UNAME_MACHINE}-ibm-aix${IBM_REV}
 	exit 0 ;;
     *:AIX:2:3)
-	if grep bos325 /usr/include/stdio.h >/dev/null 2>&1; then
+	if grep bos325 /usr/include/stdio.h >/System/Devices/null 2>&1; then
 		eval $set_cc_for_build
 		sed 's/^		//' << EOF >$dummy.c
 		#include <sys/systemcfg.h>
@@ -549,7 +549,7 @@
 EOF
 		$CC_FOR_BUILD -o $dummy $dummy.c && $dummy && exit 0
 		echo rs6000-ibm-aix3.2.5
-	elif grep bos324 /usr/include/stdio.h >/dev/null 2>&1; then
+	elif grep bos324 /usr/include/stdio.h >/System/Devices/null 2>&1; then
 		echo rs6000-ibm-aix3.2.4
 	else
 		echo rs6000-ibm-aix3.2
@@ -557,13 +557,13 @@
 	exit 0 ;;
     *:AIX:*:[45])
 	IBM_CPU_ID=`/usr/sbin/lsdev -C -c processor -S available | sed 1q | awk '{ print $1 }'`
-	if /usr/sbin/lsattr -El ${IBM_CPU_ID} | grep ' POWER' >/dev/null 2>&1; then
+	if /usr/sbin/lsattr -El ${IBM_CPU_ID} | grep ' POWER' >/System/Devices/null 2>&1; then
 		IBM_ARCH=rs6000
 	else
 		IBM_ARCH=powerpc
 	fi
-	if [ -x /usr/bin/oslevel ] ; then
-		IBM_REV=`/usr/bin/oslevel`
+	if [ -x /System/Tools/oslevel ] ; then
+		IBM_REV=`/System/Tools/oslevel`
 	else
 		IBM_REV=${UNAME_VERSION}.${UNAME_RELEASE}
 	fi
@@ -596,9 +596,9 @@
 	    9000/31? )            HP_ARCH=m68000 ;;
 	    9000/[34]?? )         HP_ARCH=m68k ;;
 	    9000/[678][0-9][0-9])
-		if [ -x /usr/bin/getconf ]; then
-		    sc_cpu_version=`/usr/bin/getconf SC_CPU_VERSION 2>/dev/null`
-                    sc_kernel_bits=`/usr/bin/getconf SC_KERNEL_BITS 2>/dev/null`
+		if [ -x /System/Tools/getconf ]; then
+		    sc_cpu_version=`/System/Tools/getconf SC_CPU_VERSION 2>/System/Devices/null`
+                    sc_kernel_bits=`/System/Tools/getconf SC_KERNEL_BITS 2>/System/Devices/null`
                     case "${sc_cpu_version}" in
                       523) HP_ARCH="hppa1.0" ;; # CPU_PA_RISC1_0
                       528) HP_ARCH="hppa1.1" ;; # CPU_PA_RISC1_1
@@ -645,7 +645,7 @@
                   exit (0);
               }
 EOF
-		    (CCOPTS= $CC_FOR_BUILD -o $dummy $dummy.c 2>/dev/null) && HP_ARCH=`$dummy`
+		    (CCOPTS= $CC_FOR_BUILD -o $dummy $dummy.c 2>/System/Devices/null) && HP_ARCH=`$dummy`
 		    test -z "$HP_ARCH" && HP_ARCH=hppa
 		fi ;;
 	esac
@@ -653,7 +653,7 @@
 	then
 	    # avoid double evaluation of $set_cc_for_build
 	    test -n "$CC_FOR_BUILD" || eval $set_cc_for_build
-	    if echo __LP64__ | (CCOPTS= $CC_FOR_BUILD -E -) | grep __LP64__ >/dev/null
+	    if echo __LP64__ | (CCOPTS= $CC_FOR_BUILD -E -) | grep __LP64__ >/System/Devices/null
 	    then
 		HP_ARCH="hppa2.0w"
 	    else
@@ -791,7 +791,7 @@
 	LIBC=
 	#endif
 EOF
-	eval `$CC_FOR_BUILD -E $dummy.c 2>/dev/null | grep ^LIBC=`
+	eval `$CC_FOR_BUILD -E $dummy.c 2>/System/Devices/null | grep ^LIBC=`
 	# GNU/KFreeBSD systems have a "k" prefix to indicate we are using
 	# FreeBSD's kernel, but not the complete OS.
 	case ${LIBC} in gnu) kernel_only='k' ;; esac
@@ -866,7 +866,7 @@
 	#endif
 	#endif
 EOF
-	eval `$CC_FOR_BUILD -E $dummy.c 2>/dev/null | grep ^CPU=`
+	eval `$CC_FOR_BUILD -E $dummy.c 2>/System/Devices/null | grep ^CPU=`
 	test x"${CPU}" != x && echo "${CPU}-unknown-linux-gnu" && exit 0
 	;;
     mips64:Linux:*:*)
@@ -885,7 +885,7 @@
 	#endif
 	#endif
 EOF
-	eval `$CC_FOR_BUILD -E $dummy.c 2>/dev/null | grep ^CPU=`
+	eval `$CC_FOR_BUILD -E $dummy.c 2>/System/Devices/null | grep ^CPU=`
 	test x"${CPU}" != x && echo "${CPU}-unknown-linux-gnu" && exit 0
 	;;
     ppc:Linux:*:*)
@@ -895,7 +895,7 @@
 	echo powerpc64-unknown-linux-gnu
 	exit 0 ;;
     alpha:Linux:*:*)
-	case `sed -n '/^cpu model/s/^.*: \(.*\)/\1/p' < /proc/cpuinfo` in
+	case `sed -n '/^cpu model/s/^.*: \(.*\)/\1/p' < /System/Processes/cpuinfo` in
 	  EV5)   UNAME_MACHINE=alphaev5 ;;
 	  EV56)  UNAME_MACHINE=alphaev56 ;;
 	  PCA56) UNAME_MACHINE=alphapca56 ;;
@@ -904,13 +904,13 @@
 	  EV67)  UNAME_MACHINE=alphaev67 ;;
 	  EV68*) UNAME_MACHINE=alphaev68 ;;
         esac
-	objdump --private-headers /bin/sh | grep ld.so.1 >/dev/null
+	objdump --private-headers /System/Tools/sh | grep ld.so.1 >/System/Devices/null
 	if test "$?" = 0 ; then LIBC="libc1" ; else LIBC="" ; fi
 	echo ${UNAME_MACHINE}-unknown-linux-gnu${LIBC}
 	exit 0 ;;
     parisc:Linux:*:* | hppa:Linux:*:*)
 	# Look for CPU level
-	case `grep '^cpu[^a-z]*:' /proc/cpuinfo 2>/dev/null | cut -d' ' -f2` in
+	case `grep '^cpu[^a-z]*:' /System/Processes/cpuinfo 2>/System/Devices/null | cut -d' ' -f2` in
 	  PA7*) echo hppa1.1-unknown-linux-gnu ;;
 	  PA8*) echo hppa2.0-unknown-linux-gnu ;;
 	  *)    echo hppa-unknown-linux-gnu ;;
@@ -986,7 +986,7 @@
 	LIBC=dietlibc
 	#endif
 EOF
-	eval `$CC_FOR_BUILD -E $dummy.c 2>/dev/null | grep ^LIBC=`
+	eval `$CC_FOR_BUILD -E $dummy.c 2>/System/Devices/null | grep ^LIBC=`
 	test x"${LIBC}" != x && echo "${UNAME_MACHINE}-pc-linux-${LIBC}" && exit 0
 	test x"${TENTATIVE}" != x && echo "${TENTATIVE}" && exit 0
 	;;
@@ -1026,14 +1026,14 @@
 	exit 0 ;;
     i*86:*:4.*:* | i*86:SYSTEM_V:4.*:*)
 	UNAME_REL=`echo ${UNAME_RELEASE} | sed 's/\/MP$//'`
-	if grep Novell /usr/include/link.h >/dev/null 2>/dev/null; then
+	if grep Novell /usr/include/link.h >/System/Devices/null 2>/System/Devices/null; then
 		echo ${UNAME_MACHINE}-univel-sysv${UNAME_REL}
 	else
 		echo ${UNAME_MACHINE}-pc-sysv${UNAME_REL}
 	fi
 	exit 0 ;;
     i*86:*:5:[78]*)
-	case `/bin/uname -X | grep "^Machine"` in
+	case `/System/Tools/uname -X | grep "^Machine"` in
 	    *486*)	     UNAME_MACHINE=i486 ;;
 	    *Pentium)	     UNAME_MACHINE=i586 ;;
 	    *Pent*|*Celeron) UNAME_MACHINE=i686 ;;
@@ -1044,14 +1044,14 @@
 	if test -f /usr/options/cb.name; then
 		UNAME_REL=`sed -n 's/.*Version //p' </usr/options/cb.name`
 		echo ${UNAME_MACHINE}-pc-isc$UNAME_REL
-	elif /bin/uname -X 2>/dev/null >/dev/null ; then
-		UNAME_REL=`(/bin/uname -X|grep Release|sed -e 's/.*= //')`
-		(/bin/uname -X|grep i80486 >/dev/null) && UNAME_MACHINE=i486
-		(/bin/uname -X|grep '^Machine.*Pentium' >/dev/null) \
+	elif /System/Tools/uname -X 2>/System/Devices/null >/System/Devices/null ; then
+		UNAME_REL=`(/System/Tools/uname -X|grep Release|sed -e 's/.*= //')`
+		(/System/Tools/uname -X|grep i80486 >/System/Devices/null) && UNAME_MACHINE=i486
+		(/System/Tools/uname -X|grep '^Machine.*Pentium' >/System/Devices/null) \
 			&& UNAME_MACHINE=i586
-		(/bin/uname -X|grep '^Machine.*Pent *II' >/dev/null) \
+		(/System/Tools/uname -X|grep '^Machine.*Pent *II' >/System/Devices/null) \
 			&& UNAME_MACHINE=i686
-		(/bin/uname -X|grep '^Machine.*Pentium Pro' >/dev/null) \
+		(/System/Tools/uname -X|grep '^Machine.*Pentium Pro' >/System/Devices/null) \
 			&& UNAME_MACHINE=i686
 		echo ${UNAME_MACHINE}-pc-sco$UNAME_REL
 	else
@@ -1071,7 +1071,7 @@
 	echo i860-intel-osf1
 	exit 0 ;;
     i860:*:4.*:*) # i860-SVR4
-	if grep Stardent /usr/include/sys/uadmin.h >/dev/null 2>&1 ; then
+	if grep Stardent /usr/include/sys/uadmin.h >/System/Devices/null 2>&1 ; then
 	  echo i860-stardent-sysv${UNAME_RELEASE} # Stardent Vistra i860-SVR4
 	else # Add other i860-SVR4 vendors below as they are discovered.
 	  echo i860-unknown-sysv${UNAME_RELEASE}  # Unknown i860-SVR4
@@ -1091,14 +1091,14 @@
 	test -r /sysV68 && echo 'm68k-motorola-sysv' && exit 0 ;;
     3[345]??:*:4.0:3.0 | 3[34]??A:*:4.0:3.0 | 3[34]??,*:*:4.0:3.0 | 3[34]??/*:*:4.0:3.0 | 4400:*:4.0:3.0 | 4850:*:4.0:3.0 | SKA40:*:4.0:3.0 | SDS2:*:4.0:3.0 | SHG2:*:4.0:3.0)
 	OS_REL=''
-	test -r /etc/.relid \
-	&& OS_REL=.`sed -n 's/[^ ]* [^ ]* \([0-9][0-9]\).*/\1/p' < /etc/.relid`
-	/bin/uname -p 2>/dev/null | grep 86 >/dev/null \
+	test -r /System/Settings/.relid \
+	&& OS_REL=.`sed -n 's/[^ ]* [^ ]* \([0-9][0-9]\).*/\1/p' < /System/Settings/.relid`
+	/System/Tools/uname -p 2>/System/Devices/null | grep 86 >/System/Devices/null \
 	  && echo i486-ncr-sysv4.3${OS_REL} && exit 0
-	/bin/uname -p 2>/dev/null | /bin/grep entium >/dev/null \
+	/System/Tools/uname -p 2>/System/Devices/null | /System/Tools/grep entium >/System/Devices/null \
 	  && echo i586-ncr-sysv4.3${OS_REL} && exit 0 ;;
     3[34]??:*:4.0:* | 3[34]??,*:*:4.0:*)
-        /bin/uname -p 2>/dev/null | grep 86 >/dev/null \
+        /System/Tools/uname -p 2>/System/Devices/null | grep 86 >/System/Devices/null \
           && echo i486-ncr-sysv4 && exit 0 ;;
     m68*:LynxOS:2.*:* | m68*:LynxOS:3.0*:*)
 	echo m68k-unknown-lynxos${UNAME_RELEASE}
@@ -1125,8 +1125,8 @@
 	echo mips-sni-sysv4
 	exit 0 ;;
     *:SINIX-*:*:*)
-	if uname -p 2>/dev/null >/dev/null ; then
-		UNAME_MACHINE=`(uname -p) 2>/dev/null`
+	if uname -p 2>/System/Devices/null >/System/Devices/null ; then
+		UNAME_MACHINE=`(uname -p) 2>/System/Devices/null`
 		echo ${UNAME_MACHINE}-sni-sysv4
 	else
 		echo ns32k-sni-sysv
@@ -1294,7 +1294,7 @@
 #define __ARCHITECTURE__ "m68k"
 #endif
   int version;
-  version=`(hostinfo | sed -n 's/.*NeXT Mach \([0-9]*\).*/\1/p') 2>/dev/null`;
+  version=`(hostinfo | sed -n 's/.*NeXT Mach \([0-9]*\).*/\1/p') 2>/System/Devices/null`;
   if (version < 4)
     printf ("%s-next-nextstep%d\n", __ARCHITECTURE__, version);
   else
@@ -1371,7 +1371,7 @@
 }
 EOF
 
-$CC_FOR_BUILD -o $dummy $dummy.c 2>/dev/null && $dummy && exit 0
+$CC_FOR_BUILD -o $dummy $dummy.c 2>/System/Devices/null && $dummy && exit 0
 
 # Apollos put the system type in the environment.
 
@@ -1419,20 +1419,20 @@
 
 config.guess timestamp = $timestamp
 
-uname -m = `(uname -m) 2>/dev/null || echo unknown`
-uname -r = `(uname -r) 2>/dev/null || echo unknown`
-uname -s = `(uname -s) 2>/dev/null || echo unknown`
-uname -v = `(uname -v) 2>/dev/null || echo unknown`
-
-/usr/bin/uname -p = `(/usr/bin/uname -p) 2>/dev/null`
-/bin/uname -X     = `(/bin/uname -X) 2>/dev/null`
-
-hostinfo               = `(hostinfo) 2>/dev/null`
-/bin/universe          = `(/bin/universe) 2>/dev/null`
-/usr/bin/arch -k       = `(/usr/bin/arch -k) 2>/dev/null`
-/bin/arch              = `(/bin/arch) 2>/dev/null`
-/usr/bin/oslevel       = `(/usr/bin/oslevel) 2>/dev/null`
-/usr/convex/getsysinfo = `(/usr/convex/getsysinfo) 2>/dev/null`
+uname -m = `(uname -m) 2>/System/Devices/null || echo unknown`
+uname -r = `(uname -r) 2>/System/Devices/null || echo unknown`
+uname -s = `(uname -s) 2>/System/Devices/null || echo unknown`
+uname -v = `(uname -v) 2>/System/Devices/null || echo unknown`
+
+/System/Tools/uname -p = `(/System/Tools/uname -p) 2>/System/Devices/null`
+/System/Tools/uname -X     = `(/System/Tools/uname -X) 2>/System/Devices/null`
+
+hostinfo               = `(hostinfo) 2>/System/Devices/null`
+/System/Tools/universe          = `(/System/Tools/universe) 2>/System/Devices/null`
+/System/Tools/arch -k       = `(/System/Tools/arch -k) 2>/System/Devices/null`
+/System/Tools/arch              = `(/System/Tools/arch) 2>/System/Devices/null`
+/System/Tools/oslevel       = `(/System/Tools/oslevel) 2>/System/Devices/null`
+/usr/convex/getsysinfo = `(/usr/convex/getsysinfo) 2>/System/Devices/null`
 
 UNAME_MACHINE = ${UNAME_MACHINE}
 UNAME_RELEASE = ${UNAME_RELEASE}
diff -urN gcc-3.4.4/config.if gcc-3.4.4-STEP/config.if
--- gcc-3.4.4/config.if	2003-07-16 18:34:53.000000000 +1200
+++ gcc-3.4.4-STEP/config.if	2005-09-04 10:06:23.471716128 +1200
@@ -1,4 +1,4 @@
-#! /dev/null
+#! /System/Devices/null
 # Don't call it directly. This shell script fragment is called to
 # determine:
 #
diff -urN gcc-3.4.4/config.rpath gcc-3.4.4-STEP/config.rpath
--- gcc-3.4.4/config.rpath	2003-07-05 06:18:43.000000000 +1200
+++ gcc-3.4.4-STEP/config.rpath	2005-09-04 10:06:23.473715824 +1200
@@ -1,4 +1,4 @@
-#! /bin/sh
+#! /System/Tools/sh
 # Output a system dependent set of variables, describing how to set the
 # run time search path of shared libraries in an executable.
 #
@@ -143,7 +143,7 @@
       ld_shlibs=no
       ;;
     beos*)
-      if $LD --help 2>&1 | egrep ': supported targets:.* elf' > /dev/null; then
+      if $LD --help 2>&1 | egrep ': supported targets:.* elf' > /System/Devices/null; then
         :
       else
         ld_shlibs=no
@@ -153,7 +153,7 @@
       # hardcode_libdir_flag_spec is actually meaningless, as there is
       # no search path for DLLs.
       hardcode_libdir_flag_spec='-L$libdir'
-      if $LD --help 2>&1 | grep 'auto-import' > /dev/null; then
+      if $LD --help 2>&1 | grep 'auto-import' > /System/Devices/null; then
         :
       else
         ld_shlibs=no
@@ -162,9 +162,9 @@
     netbsd*)
       ;;
     solaris* | sysv5*)
-      if $LD -v 2>&1 | egrep 'BFD 2\.8' > /dev/null; then
+      if $LD -v 2>&1 | egrep 'BFD 2\.8' > /System/Devices/null; then
         ld_shlibs=no
-      elif $LD --help 2>&1 | egrep ': supported targets:.* elf' > /dev/null; then
+      elif $LD --help 2>&1 | egrep ': supported targets:.* elf' > /System/Devices/null; then
         :
       else
         ld_shlibs=no
@@ -174,7 +174,7 @@
       hardcode_direct=yes
       ;;
     *)
-      if $LD --help 2>&1 | egrep ': supported targets:.* elf' > /dev/null; then
+      if $LD --help 2>&1 | egrep ': supported targets:.* elf' > /System/Devices/null; then
         :
       else
         ld_shlibs=no
@@ -223,7 +223,7 @@
         case $host_os in aix4.[012]|aix4.[012].*)
           collect2name=`${CC} -print-prog-name=collect2`
           if test -f "$collect2name" && \
-            strings "$collect2name" | grep resolve_lib_name >/dev/null
+            strings "$collect2name" | grep resolve_lib_name >/System/Devices/null
           then
             # We have reworked collect2
             hardcode_direct=yes
@@ -239,10 +239,10 @@
       # Begin _LT_AC_SYS_LIBPATH_AIX.
       echo 'int main () { return 0; }' > conftest.c
       ${CC} ${LDFLAGS} conftest.c -o conftest
-      aix_libpath=`dump -H conftest 2>/dev/null | sed -n -e '/Import File Strings/,/^$/ { /^0/ { s/^0  *\(.*\)$/\1/; p; }
+      aix_libpath=`dump -H conftest 2>/System/Devices/null | sed -n -e '/Import File Strings/,/^$/ { /^0/ { s/^0  *\(.*\)$/\1/; p; }
 }'`
       if test -z "$aix_libpath"; then
-        aix_libpath=`dump -HX64 conftest 2>/dev/null | sed -n -e '/Import File Strings/,/^$/ { /^0/ { s/^0  *\(.*\)$/\1/; p; }
+        aix_libpath=`dump -HX64 conftest 2>/System/Devices/null | sed -n -e '/Import File Strings/,/^$/ { /^0/ { s/^0  *\(.*\)$/\1/; p; }
 }'`
       fi
       if test -z "$aix_libpath"; then
@@ -277,7 +277,7 @@
       libext=lib
       ;;
     darwin* | rhapsody*)
-      if $CC -v 2>&1 | grep 'Apple' >/dev/null ; then
+      if $CC -v 2>&1 | grep 'Apple' >/System/Devices/null ; then
         hardcode_direct=no
       fi
       ;;
diff -urN gcc-3.4.4/config.sub gcc-3.4.4-STEP/config.sub
--- gcc-3.4.4/config.sub	2004-02-23 03:44:23.000000000 +1300
+++ gcc-3.4.4-STEP/config.sub	2005-09-04 10:06:23.474715672 +1200
@@ -1,4 +1,4 @@
-#! /bin/sh
+#! /System/Tools/sh
 # Configuration validation subroutine script.
 #   Copyright (C) 1992, 1993, 1994, 1995, 1996, 1997, 1998, 1999,
 #   2000, 2001, 2002, 2003 Free Software Foundation, Inc.
diff -urN gcc-3.4.4/configure gcc-3.4.4-STEP/configure
--- gcc-3.4.4/configure	2005-03-09 06:31:40.000000000 +1300
+++ gcc-3.4.4-STEP/configure	2005-09-04 10:06:23.479714912 +1200
@@ -1,4 +1,4 @@
-#! /bin/sh
+#! /System/Tools/sh
 
 # Guess values for system-dependent variables and create Makefiles.
 # Generated automatically using autoconf version 2.13 
@@ -57,7 +57,7 @@
 # Initialize some other variables.
 subdirs=
 MFLAGS= MAKEFLAGS=
-SHELL=${CONFIG_SHELL-/bin/sh}
+SHELL=${CONFIG_SHELL-/System/Tools/sh}
 # Maximum number of lines to put in a shell here document.
 ac_max_here_lines=12
 
@@ -410,12 +410,12 @@
 # 0 standard input
 # 1 file creation
 # 2 errors and warnings
-# 3 some systems may open it to /dev/tty
+# 3 some systems may open it to /System/Devices/tty
 # 4 used on the Kubota Titan
 # 6 checking for... messages and results
 # 5 compiler messages saved in config.log
 if test "$silent" = yes; then
-  exec 6>/dev/null
+  exec 6>/System/Devices/null
 else
   exec 6>&1
 fi
@@ -487,9 +487,9 @@
 # Prefer explicitly selected file to automatically selected ones.
 if test -z "$CONFIG_SITE"; then
   if test "x$prefix" != xNONE; then
-    CONFIG_SITE="$prefix/share/config.site $prefix/etc/config.site"
+    CONFIG_SITE="$prefix/share/config.site $prefix/System/Settings/config.site"
   else
-    CONFIG_SITE="$ac_default_prefix/share/config.site $ac_default_prefix/etc/config.site"
+    CONFIG_SITE="$ac_default_prefix/share/config.site $ac_default_prefix/System/Settings/config.site"
   fi
 fi
 for ac_site_file in $CONFIG_SITE; do
@@ -516,9 +516,9 @@
 
 ac_exeext=
 ac_objext=o
-if (echo "testing\c"; echo 1,2,3) | grep c >/dev/null; then
+if (echo "testing\c"; echo 1,2,3) | grep c >/System/Devices/null; then
   # Stardent Vistra SVR4 grep lacks -e, says ghazi@caip.rutgers.edu.
-  if (echo -n testing; echo 1,2,3) | sed s/-n/xn/ | grep xn >/dev/null; then
+  if (echo -n testing; echo 1,2,3) | sed s/-n/xn/ | grep xn >/System/Devices/null; then
     ac_n= ac_c='
 ' ac_t='	'
   else
@@ -572,7 +572,7 @@
 
 
 # Make sure we can run config.sub.
-if ${CONFIG_SHELL-/bin/sh} $ac_config_sub sun4 >/dev/null 2>&1; then :
+if ${CONFIG_SHELL-/System/Tools/sh} $ac_config_sub sun4 >/System/Devices/null 2>&1; then :
 else { echo "configure: error: can not run $ac_config_sub" 1>&2; exit 1; }
 fi
 
@@ -584,14 +584,14 @@
 NONE)
   case $nonopt in
   NONE)
-    if host_alias=`${CONFIG_SHELL-/bin/sh} $ac_config_guess`; then :
+    if host_alias=`${CONFIG_SHELL-/System/Tools/sh} $ac_config_guess`; then :
     else { echo "configure: error: can not guess host type; you must specify one" 1>&2; exit 1; }
     fi ;;
   *) host_alias=$nonopt ;;
   esac ;;
 esac
 
-host=`${CONFIG_SHELL-/bin/sh} $ac_config_sub $host_alias`
+host=`${CONFIG_SHELL-/System/Tools/sh} $ac_config_sub $host_alias`
 host_cpu=`echo $host | sed 's/^\([^-]*\)-\([^-]*\)-\(.*\)$/\1/'`
 host_vendor=`echo $host | sed 's/^\([^-]*\)-\([^-]*\)-\(.*\)$/\2/'`
 host_os=`echo $host | sed 's/^\([^-]*\)-\([^-]*\)-\(.*\)$/\3/'`
@@ -609,7 +609,7 @@
   esac ;;
 esac
 
-target=`${CONFIG_SHELL-/bin/sh} $ac_config_sub $target_alias`
+target=`${CONFIG_SHELL-/System/Tools/sh} $ac_config_sub $target_alias`
 target_cpu=`echo $target | sed 's/^\([^-]*\)-\([^-]*\)-\(.*\)$/\1/'`
 target_vendor=`echo $target | sed 's/^\([^-]*\)-\([^-]*\)-\(.*\)$/\2/'`
 target_os=`echo $target | sed 's/^\([^-]*\)-\([^-]*\)-\(.*\)$/\3/'`
@@ -627,7 +627,7 @@
   esac ;;
 esac
 
-build=`${CONFIG_SHELL-/bin/sh} $ac_config_sub $build_alias`
+build=`${CONFIG_SHELL-/System/Tools/sh} $ac_config_sub $build_alias`
 build_cpu=`echo $build | sed 's/^\([^-]*\)-\([^-]*\)-\(.*\)$/\1/'`
 build_vendor=`echo $build | sed 's/^\([^-]*\)-\([^-]*\)-\(.*\)$/\2/'`
 build_os=`echo $build | sed 's/^\([^-]*\)-\([^-]*\)-\(.*\)$/\3/'`
@@ -662,11 +662,11 @@
 # Find a good install program.  We prefer a C program (faster),
 # so one script is as good as another.  But avoid the broken or
 # incompatible versions:
-# SysV /etc/install, /usr/sbin/install
-# SunOS /usr/etc/install
+# SysV /System/Settings/install, /usr/sbin/install
+# SunOS /usr/System/Settings/install
 # IRIX /sbin/install
 # AIX /bin/install
-# AIX 4 /usr/bin/installbsd, which doesn't work without a -g flag
+# AIX 4 /System/Tools/installbsd, which doesn't work without a -g flag
 # AFS /usr/afsws/bin/install, which mishandles nonexistent args
 # SVR4 /usr/ucb/install, which tries to use the nonexistent group "staff"
 # ./install, which can be erroneously created by make from ./install.sh.
@@ -680,7 +680,7 @@
   for ac_dir in $PATH; do
     # Account for people who put trailing slashes in PATH elements.
     case "$ac_dir/" in
-    /|./|.//|/etc/*|/usr/sbin/*|/usr/etc/*|/sbin/*|/usr/afsws/bin/*|/usr/ucb/*) ;;
+    /|./|.//|/System/Settings/*|/usr/sbin/*|/usr/System/Settings/*|/sbin/*|/usr/afsws/bin/*|/usr/ucb/*) ;;
     *)
       # OSF1 and SCO ODT 3.0 have their own names for install.
       # Don't use installbsd from OSF since it installs stuff as root
@@ -688,7 +688,7 @@
       for ac_prog in ginstall scoinst install; do
         if test -f $ac_dir/$ac_prog; then
 	  if test $ac_prog = install &&
-            grep dspmsg $ac_dir/$ac_prog >/dev/null 2>&1; then
+            grep dspmsg $ac_dir/$ac_prog >/System/Devices/null 2>&1; then
 	    # AIX install.  It has an incompatible calling convention.
 	    :
 	  else
@@ -768,15 +768,15 @@
 # AC_PROG_CPP_WERROR
 
 
-### we might need to use some other shell than /bin/sh for running subshells
+### we might need to use some other shell than /System/Tools/sh for running subshells
 ### If we are on Windows, search for the shell.  This will permit people
-### to not have /bin/sh, but to be able to see /SOME/PATH/sh configure
+### to not have /System/Tools/sh, but to be able to see /SOME/PATH/sh configure
 ### without also having to set CONFIG_SHELL.  This code will work when
 ### using bash, which sets OSTYPE.
 case "${OSTYPE}" in
 *win32*)
   if test x${CONFIG_SHELL} = x ; then
-    if test ! -f /bin/sh ; then
+    if test ! -f /System/Tools/sh ; then
       if test x${SHELL} != x && test -f ${SHELL} ; then
 	CONFIG_SHELL=${SHELL}
 	export CONFIG_SHELL
@@ -800,7 +800,7 @@
   ;;
 esac
 
-config_shell=${CONFIG_SHELL-/bin/sh}
+config_shell=${CONFIG_SHELL-/System/Tools/sh}
 
 progname=$0
 # if PWD already has a value, it is probably wrong.
@@ -1605,20 +1605,20 @@
 notsupp=""
 for dir in . $skipdirs $noconfigdirs ; do
   dirname=`echo $dir | sed -e s/target-//g`
-  if test $dir != .  && echo " ${configdirs} " | grep " ${dir} " >/dev/null 2>&1; then
+  if test $dir != .  && echo " ${configdirs} " | grep " ${dir} " >/System/Devices/null 2>&1; then
     configdirs=`echo " ${configdirs} " | sed -e "s/ ${dir} / /"`
     if test -r $srcdir/$dirname/configure ; then
-      if echo " ${skipdirs} " | grep " ${dir} " >/dev/null 2>&1; then
+      if echo " ${skipdirs} " | grep " ${dir} " >/System/Devices/null 2>&1; then
 	true
       else
 	notsupp="$notsupp $dir"
       fi
     fi
   fi
-  if test $dir != . && echo " ${target_configdirs} " | grep " ${dir} " >/dev/null 2>&1; then
+  if test $dir != . && echo " ${target_configdirs} " | grep " ${dir} " >/System/Devices/null 2>&1; then
     target_configdirs=`echo " ${target_configdirs} " | sed -e "s/ ${dir} / /"`
     if test -r $srcdir/$dirname/configure ; then
-      if echo " ${skipdirs} " | grep " ${dir} " >/dev/null 2>&1; then
+      if echo " ${skipdirs} " | grep " ${dir} " >/System/Devices/null 2>&1; then
 	true
       else
 	notsupp="$notsupp $dir"
@@ -1676,11 +1676,11 @@
   if test -n "$appdirs" ; then
     for dir in $appdirs ; do
       if test -r $dir/Makefile.in ; then
-	if echo " ${configdirs} " | grep " ${dir} " >/dev/null 2>&1; then
+	if echo " ${configdirs} " | grep " ${dir} " >/System/Devices/null 2>&1; then
 	  appdirs=""
 	  break
 	fi
-	if echo " ${target_configdirs} " | grep " ${dir} " >/dev/null 2>&1; then
+	if echo " ${target_configdirs} " | grep " ${dir} " >/System/Devices/null 2>&1; then
 	  appdirs=""
 	  break
 	fi
@@ -1775,7 +1775,7 @@
 
 # Work in distributions that contain no compiler tools, like Autoconf.
 tentative_cc=""
-host_makefile_frag=/dev/null
+host_makefile_frag=/System/Devices/null
 if test -d ${srcdir}/config ; then
 case "${host}" in
   m68k-hp-hpux*)
@@ -1927,7 +1927,7 @@
 extra_arflags_for_target=
 extra_nmflags_for_target=
 extra_ranlibflags_for_target=
-target_makefile_frag=/dev/null
+target_makefile_frag=/System/Devices/null
 case "${target}" in
   i[3456789]86-*-netware*)
     target_makefile_frag="config/mt-netware"
@@ -1954,7 +1954,7 @@
     ;;
 esac
 
-alphaieee_frag=/dev/null
+alphaieee_frag=/System/Devices/null
 case $target in
   alpha*-*-*)
     # This just makes sure to use the -mieee option to build target libs.
@@ -1966,7 +1966,7 @@
 # If --enable-target-optspace always use -Os instead of -O2 to build
 # the target libraries, similarly if it is not specified, use -Os
 # on selected platforms.
-ospace_frag=/dev/null
+ospace_frag=/System/Devices/null
 case "${enable_target_optspace}:${target}" in
   yes:*)
     ospace_frag="config/mt-ospace"
@@ -1998,13 +1998,13 @@
 # --without-gnu-ld options for the configure script.
 
 if test x${use_gnu_as} = x &&
-   echo " ${configdirs} " | grep " gas " > /dev/null 2>&1 ; then
+   echo " ${configdirs} " | grep " gas " > /System/Devices/null 2>&1 ; then
   with_gnu_as=yes
   extra_host_args="$extra_host_args --with-gnu-as"
 fi
 
 if test x${use_gnu_ld} = x &&
-   echo " ${configdirs} " | grep " ld " > /dev/null 2>&1 ; then
+   echo " ${configdirs} " | grep " ld " > /System/Devices/null 2>&1 ; then
   with_gnu_ld=yes
   extra_host_args="$extra_host_args --with-gnu-ld"
 fi
@@ -2012,7 +2012,7 @@
 # If using newlib, add --with-newlib to the extra_host_args so that gcc/configure
 # can detect this case.
 
-if test x${with_newlib} != xno && echo " ${target_configdirs} " | grep " target-newlib " > /dev/null 2>&1 ; then
+if test x${with_newlib} != xno && echo " ${target_configdirs} " | grep " target-newlib " > /System/Devices/null 2>&1 ; then
   with_newlib=yes
   extra_host_args="$extra_host_args --with-newlib"
 fi
@@ -2225,7 +2225,7 @@
   yes;
 #endif
 EOF
-    if ${CC} -E conftest.c | grep yes >/dev/null 2>&1; then
+    if ${CC} -E conftest.c | grep yes >/System/Devices/null 2>&1; then
       cc_prog_is_gcc=yes
     fi
     rm -f conftest.c
@@ -2298,7 +2298,7 @@
 
   ${remove} -f ${link}
   # Make a symlink if possible, otherwise try a hard link
-  if ${symbolic_link} ${srcfile} ${link} >/dev/null 2>&1 ; then
+  if ${symbolic_link} ${srcfile} ${link} >/System/Devices/null 2>&1 ; then
     true
   else
     # We need to re-remove the file because Lynx leaves a 
@@ -2635,7 +2635,7 @@
 
 # Pass --with-newlib if appropriate.  Note that target_configdirs has
 # changed from the earlier setting of with_newlib.
-if test x${with_newlib} != xno && echo " ${target_configdirs} " | grep " newlib " > /dev/null 2>&1 && test -d ${srcdir}/newlib ; then
+if test x${with_newlib} != xno && echo " ${target_configdirs} " | grep " newlib " > /System/Devices/null 2>&1 && test -d ${srcdir}/newlib ; then
   target_configargs="--with-newlib ${target_configargs}"
 fi
 
@@ -2734,7 +2734,7 @@
 fi
 
 if test "x${use_gnu_ld}" = x &&
-   echo " ${configdirs} " | grep " ld " > /dev/null ; then
+   echo " ${configdirs} " | grep " ld " > /System/Devices/null ; then
   # Arrange for us to find uninstalled linker scripts.
   FLAGS_FOR_TARGET=$FLAGS_FOR_TARGET' -L$$r/ld'
 fi
@@ -4105,7 +4105,7 @@
 # the --cache-file=FILE option to use a different cache file; that is
 # what configure does when it calls configure scripts in
 # subdirectories, so they share the cache.
-# Giving --cache-file=/dev/null disables caching, for debugging configure.
+# Giving --cache-file=/System/Devices/null disables caching, for debugging configure.
 # config.status only pays attention to the cache file if you give it the
 # --recheck option to rerun configure.
 #
@@ -4176,11 +4176,11 @@
 echo creating $CONFIG_STATUS
 rm -f $CONFIG_STATUS
 cat > $CONFIG_STATUS <<EOF
-#! /bin/sh
+#! /System/Tools/sh
 # Generated automatically by configure.
 # Run this file to recreate the current configuration.
 # This directory was configured as follows,
-# on host `(hostname || uname -n) 2>/dev/null | sed 1q`:
+# on host `(hostname || uname -n) 2>/System/Devices/null | sed 1q`:
 #
 # $0 $ac_configure_args
 #
@@ -4192,8 +4192,8 @@
 do
   case "\$ac_option" in
   -recheck | --recheck | --rechec | --reche | --rech | --rec | --re | --r)
-    echo "running \${CONFIG_SHELL-/bin/sh} $0 $ac_configure_args --no-create --no-recursion"
-    exec \${CONFIG_SHELL-/bin/sh} $0 $ac_configure_args --no-create --no-recursion ;;
+    echo "running \${CONFIG_SHELL-/System/Tools/sh} $0 $ac_configure_args --no-create --no-recursion"
+    exec \${CONFIG_SHELL-/System/Tools/sh} $0 $ac_configure_args --no-create --no-recursion ;;
   -version | --version | --versio | --versi | --vers | --ver | --ve | --v)
     echo "$CONFIG_STATUS generated by autoconf version 2.13"
     exit 0 ;;
@@ -4457,5 +4457,5 @@
 EOF
 chmod +x $CONFIG_STATUS
 rm -fr confdefs* $ac_clean_files
-test "$no_create" = yes || ${CONFIG_SHELL-/bin/sh} $CONFIG_STATUS || exit 1
+test "$no_create" = yes || ${CONFIG_SHELL-/System/Tools/sh} $CONFIG_STATUS || exit 1
 
diff -urN gcc-3.4.4/configure.in gcc-3.4.4-STEP/configure.in
--- gcc-3.4.4/configure.in	2005-03-09 06:31:40.000000000 +1300
+++ gcc-3.4.4-STEP/configure.in	2005-09-04 10:06:23.482714456 +1200
@@ -28,15 +28,15 @@
 
 sinclude(config/acx.m4)
 
-### we might need to use some other shell than /bin/sh for running subshells
+### we might need to use some other shell than /System/Tools/sh for running subshells
 ### If we are on Windows, search for the shell.  This will permit people
-### to not have /bin/sh, but to be able to see /SOME/PATH/sh configure
+### to not have /System/Tools/sh, but to be able to see /SOME/PATH/sh configure
 ### without also having to set CONFIG_SHELL.  This code will work when
 ### using bash, which sets OSTYPE.
 case "${OSTYPE}" in
 *win32*)
   if test x${CONFIG_SHELL} = x ; then
-    if test ! -f /bin/sh ; then
+    if test ! -f /System/Tools/sh ; then
       if test x${SHELL} != x && test -f ${SHELL} ; then
 	CONFIG_SHELL=${SHELL}
 	export CONFIG_SHELL
@@ -60,7 +60,7 @@
   ;;
 esac
 
-config_shell=${CONFIG_SHELL-/bin/sh}
+config_shell=${CONFIG_SHELL-/System/Tools/sh}
 
 progname=$0
 # if PWD already has a value, it is probably wrong.
@@ -844,20 +844,20 @@
 notsupp=""
 for dir in . $skipdirs $noconfigdirs ; do
   dirname=`echo $dir | sed -e s/target-//g`
-  if test $dir != .  && echo " ${configdirs} " | grep " ${dir} " >/dev/null 2>&1; then
+  if test $dir != .  && echo " ${configdirs} " | grep " ${dir} " >/System/Devices/null 2>&1; then
     configdirs=`echo " ${configdirs} " | sed -e "s/ ${dir} / /"`
     if test -r $srcdir/$dirname/configure ; then
-      if echo " ${skipdirs} " | grep " ${dir} " >/dev/null 2>&1; then
+      if echo " ${skipdirs} " | grep " ${dir} " >/System/Devices/null 2>&1; then
 	true
       else
 	notsupp="$notsupp $dir"
       fi
     fi
   fi
-  if test $dir != . && echo " ${target_configdirs} " | grep " ${dir} " >/dev/null 2>&1; then
+  if test $dir != . && echo " ${target_configdirs} " | grep " ${dir} " >/System/Devices/null 2>&1; then
     target_configdirs=`echo " ${target_configdirs} " | sed -e "s/ ${dir} / /"`
     if test -r $srcdir/$dirname/configure ; then
-      if echo " ${skipdirs} " | grep " ${dir} " >/dev/null 2>&1; then
+      if echo " ${skipdirs} " | grep " ${dir} " >/System/Devices/null 2>&1; then
 	true
       else
 	notsupp="$notsupp $dir"
@@ -915,11 +915,11 @@
   if test -n "$appdirs" ; then
     for dir in $appdirs ; do
       if test -r $dir/Makefile.in ; then
-	if echo " ${configdirs} " | grep " ${dir} " >/dev/null 2>&1; then
+	if echo " ${configdirs} " | grep " ${dir} " >/System/Devices/null 2>&1; then
 	  appdirs=""
 	  break
 	fi
-	if echo " ${target_configdirs} " | grep " ${dir} " >/dev/null 2>&1; then
+	if echo " ${target_configdirs} " | grep " ${dir} " >/System/Devices/null 2>&1; then
 	  appdirs=""
 	  break
 	fi
@@ -1014,7 +1014,7 @@
 
 # Work in distributions that contain no compiler tools, like Autoconf.
 tentative_cc=""
-host_makefile_frag=/dev/null
+host_makefile_frag=/System/Devices/null
 if test -d ${srcdir}/config ; then
 case "${host}" in
   m68k-hp-hpux*)
@@ -1166,7 +1166,7 @@
 extra_arflags_for_target=
 extra_nmflags_for_target=
 extra_ranlibflags_for_target=
-target_makefile_frag=/dev/null
+target_makefile_frag=/System/Devices/null
 case "${target}" in
   i[[3456789]]86-*-netware*)
     target_makefile_frag="config/mt-netware"
@@ -1193,7 +1193,7 @@
     ;;
 esac
 
-alphaieee_frag=/dev/null
+alphaieee_frag=/System/Devices/null
 case $target in
   alpha*-*-*)
     # This just makes sure to use the -mieee option to build target libs.
@@ -1205,7 +1205,7 @@
 # If --enable-target-optspace always use -Os instead of -O2 to build
 # the target libraries, similarly if it is not specified, use -Os
 # on selected platforms.
-ospace_frag=/dev/null
+ospace_frag=/System/Devices/null
 case "${enable_target_optspace}:${target}" in
   yes:*)
     ospace_frag="config/mt-ospace"
@@ -1237,13 +1237,13 @@
 # --without-gnu-ld options for the configure script.
 
 if test x${use_gnu_as} = x &&
-   echo " ${configdirs} " | grep " gas " > /dev/null 2>&1 ; then
+   echo " ${configdirs} " | grep " gas " > /System/Devices/null 2>&1 ; then
   with_gnu_as=yes
   extra_host_args="$extra_host_args --with-gnu-as"
 fi
 
 if test x${use_gnu_ld} = x &&
-   echo " ${configdirs} " | grep " ld " > /dev/null 2>&1 ; then
+   echo " ${configdirs} " | grep " ld " > /System/Devices/null 2>&1 ; then
   with_gnu_ld=yes
   extra_host_args="$extra_host_args --with-gnu-ld"
 fi
@@ -1251,7 +1251,7 @@
 # If using newlib, add --with-newlib to the extra_host_args so that gcc/configure
 # can detect this case.
 
-if test x${with_newlib} != xno && echo " ${target_configdirs} " | grep " target-newlib " > /dev/null 2>&1 ; then
+if test x${with_newlib} != xno && echo " ${target_configdirs} " | grep " target-newlib " > /System/Devices/null 2>&1 ; then
   with_newlib=yes
   extra_host_args="$extra_host_args --with-newlib"
 fi
@@ -1464,7 +1464,7 @@
   yes;
 #endif
 EOF
-    if ${CC} -E conftest.c | grep yes >/dev/null 2>&1; then
+    if ${CC} -E conftest.c | grep yes >/System/Devices/null 2>&1; then
       cc_prog_is_gcc=yes
     fi
     rm -f conftest.c
@@ -1537,7 +1537,7 @@
 
   ${remove} -f ${link}
   # Make a symlink if possible, otherwise try a hard link
-  if ${symbolic_link} ${srcfile} ${link} >/dev/null 2>&1 ; then
+  if ${symbolic_link} ${srcfile} ${link} >/System/Devices/null 2>&1 ; then
     true
   else
     # We need to re-remove the file because Lynx leaves a 
@@ -1873,7 +1873,7 @@
 
 # Pass --with-newlib if appropriate.  Note that target_configdirs has
 # changed from the earlier setting of with_newlib.
-if test x${with_newlib} != xno && echo " ${target_configdirs} " | grep " newlib " > /dev/null 2>&1 && test -d ${srcdir}/newlib ; then
+if test x${with_newlib} != xno && echo " ${target_configdirs} " | grep " newlib " > /System/Devices/null 2>&1 && test -d ${srcdir}/newlib ; then
   target_configargs="--with-newlib ${target_configargs}"
 fi
 
@@ -1972,7 +1972,7 @@
 fi
 
 if test "x${use_gnu_ld}" = x &&
-   echo " ${configdirs} " | grep " ld " > /dev/null ; then
+   echo " ${configdirs} " | grep " ld " > /System/Devices/null ; then
   # Arrange for us to find uninstalled linker scripts.
   FLAGS_FOR_TARGET=$FLAGS_FOR_TARGET' -L$$r/ld'
 fi
diff -urN gcc-3.4.4/contrib/ChangeLog gcc-3.4.4-STEP/contrib/ChangeLog
--- gcc-3.4.4/contrib/ChangeLog	2005-05-19 19:46:30.000000000 +1200
+++ gcc-3.4.4-STEP/contrib/ChangeLog	2005-09-04 10:06:23.483714304 +1200
@@ -650,7 +650,7 @@
 
 2000-04-28  Pavel Roskin <pavel_roskin@geocities.com>
 
-	* index-prop: Don't change /dev/null.
+	* index-prop: Don't change /System/Devices/null.
 
 2000-04-27  Gerald Pfeifer  <pfeifer@dbai.tuwien.ac.at>
 
diff -urN gcc-3.4.4/contrib/compare_tests gcc-3.4.4-STEP/contrib/compare_tests
--- gcc-3.4.4/contrib/compare_tests	2003-04-05 10:49:10.000000000 +1200
+++ gcc-3.4.4-STEP/contrib/compare_tests	2005-09-04 10:06:23.484714152 +1200
@@ -1,4 +1,4 @@
-#!/bin/sh
+#!/System/Tools/sh
 # This script automatically test the given tool with the tool's test cases,
 # reporting anything of interest.
 
@@ -12,10 +12,10 @@
 
 tool=gxx
 
-tmp1=/tmp/$tool-testing.$$a
-tmp2=/tmp/$tool-testing.$$b
-now_s=/tmp/$tool-testing.$$d
-before_s=/tmp/$tool-testing.$$e
+tmp1=/System/TemporaryFiles/$tool-testing.$$a
+tmp2=/System/TemporaryFiles/$tool-testing.$$b
+now_s=/System/TemporaryFiles/$tool-testing.$$d
+before_s=/System/TemporaryFiles/$tool-testing.$$e
 
 if [ "$2" = "" ]; then
 	echo "Usage: $0 previous current" >&2
@@ -37,7 +37,7 @@
 grep '^FAIL:' "$now_s" | sed 's/^[^:]*:[ 	]//' >$tmp1
 grep '^PASS' "$before_s" | sed 's/^[^:]*:[ 	]//' | comm -12 $tmp1 - >$tmp2
 
-grep -s . $tmp2 >/dev/null
+grep -s . $tmp2 >/System/Devices/null
 if [ $? = 0 ]; then
 	echo "Tests that now fail, but worked before:"
 	echo
@@ -49,7 +49,7 @@
 grep '^PASS' "$now_s" | sed 's/^[^:]*:[ 	]//' >$tmp1
 grep '^FAIL' "$before_s" | sed 's/^[^:]*:[ 	]//' | comm -12 $tmp1 - >$tmp2
 
-grep -s . $tmp2 >/dev/null
+grep -s . $tmp2 >/System/Devices/null
 if [ $? = 0 ]; then
 	echo "Tests that now work, but didn't before:"
 	echo
@@ -60,7 +60,7 @@
 grep '^FAIL' "$now_s" | sed 's/^[^:]*:[ 	]//' >$tmp1
 grep '^[PF]A[SI][SL]' "$before_s" | sed 's/^[^:]*:[ 	]//' | comm -23 $tmp1 - >$tmp2
 
-grep -s . $tmp2 >/dev/null
+grep -s . $tmp2 >/System/Devices/null
 if [ $? = 0 ]; then
 	echo "New tests that FAIL:"
 	echo
@@ -72,7 +72,7 @@
 grep '^PASS' "$now_s" | sed 's/^[^:]*:[ 	]//' >$tmp1
 grep '^[PF]A[SI][SL]' "$before_s" | sed 's/^[^:]*:[ 	]//' | comm -23 $tmp1 - >$tmp2
 
-grep -s . $tmp2 >/dev/null
+grep -s . $tmp2 >/System/Devices/null
 if [ $? = 0 ]; then
 	echo "New tests that PASS:"
 	echo
@@ -83,7 +83,7 @@
 grep '^[PF]A[SI][SL]' "$now_s" | sed 's/^[^:]*:[ 	]//' >$tmp1
 grep '^PASS' "$before_s" | sed 's/^[^:]*:[ 	]//' | comm -13 $tmp1 - >$tmp2
 
-grep -s . $tmp2 >/dev/null
+grep -s . $tmp2 >/System/Devices/null
 if [ $? = 0 ]; then
 	echo "Old tests that passed, that have disappeared: (Eeek!)"
 	echo
@@ -94,7 +94,7 @@
 grep '^[PF]A[SI][SL]' "$now_s" | sed 's/^[^:]*:[ 	]//' >$tmp1
 grep '^FAIL' "$before_s" | sed 's/^[^:]*:[ 	]//' | comm -13 $tmp1 - >$tmp2
 
-grep -s . $tmp2 >/dev/null
+grep -s . $tmp2 >/System/Devices/null
 if [ $? = 0 ]; then
 	echo "Old tests that failed, that have disappeared: (Eeek!)"
 	echo
diff -urN gcc-3.4.4/contrib/convert_to_f2c gcc-3.4.4-STEP/contrib/convert_to_f2c
--- gcc-3.4.4/contrib/convert_to_f2c	1999-09-12 09:53:17.000000000 +1200
+++ gcc-3.4.4-STEP/contrib/convert_to_f2c	2005-09-04 10:06:23.485714000 +1200
@@ -1,4 +1,4 @@
-#!/bin/sh
+#!/System/Tools/sh
 #
 # convert_to_f2c [g2c-dir]
 #
diff -urN gcc-3.4.4/contrib/convert_to_g2c gcc-3.4.4-STEP/contrib/convert_to_g2c
--- gcc-3.4.4/contrib/convert_to_g2c	1999-09-12 09:53:17.000000000 +1200
+++ gcc-3.4.4-STEP/contrib/convert_to_g2c	2005-09-04 10:06:23.486713848 +1200
@@ -1,4 +1,4 @@
-#!/bin/sh
+#!/System/Tools/sh
 #
 # convert_to_g2c [f2c-dir]
 #
diff -urN gcc-3.4.4/contrib/download_f2c gcc-3.4.4-STEP/contrib/download_f2c
--- gcc-3.4.4/contrib/download_f2c	1999-09-12 09:53:17.000000000 +1200
+++ gcc-3.4.4-STEP/contrib/download_f2c	2005-09-04 10:06:23.487713696 +1200
@@ -1,4 +1,4 @@
-#!/bin/sh
+#!/System/Tools/sh
 #
 # download_f2c
 #
@@ -59,9 +59,9 @@
 rm -fr f2c
 gunzip *.gz
 (cd src; rm -f MD5 MD5.gz gram.c.gz .depend .depend.gz f2c.1.gz index.html index.html.gz; gunzip *.gz)
-sh libf77 > /dev/null && rm libf77
+sh libf77 > /System/Devices/null && rm libf77
 rm -f libF77/xsum0.out libF77/libF77.xsum
-sh libi77 > /dev/null && rm libi77
+sh libi77 > /System/Devices/null && rm libi77
 rm -f libI77/xsum0.out libI77/libI77.xsum
 rm -f src/xsum0.out
 touch src/xsum.out
diff -urN gcc-3.4.4/contrib/gcc_build gcc-3.4.4-STEP/contrib/gcc_build
--- gcc-3.4.4/contrib/gcc_build	2003-08-22 06:59:05.000000000 +1200
+++ gcc-3.4.4-STEP/contrib/gcc_build	2005-09-04 10:06:23.488713544 +1200
@@ -1,4 +1,4 @@
-#! /bin/sh
+#! /System/Tools/sh
 
 ########################################################################
 #
@@ -222,13 +222,13 @@
 CVS_USERNAME="anoncvs"
 
 # The directory where the checked out GCC will be placed.
-DESTINATION="${HOME}/dev/gcc"
+DESTINATION="${HOME}/System/Devices/gcc"
 # The relative path from the top of the source tree to the 
 # object directory.
 OBJDIR="objdir"
 
 # The file where the tarred up sources will be placed.
-TARFILE="${HOME}/dev/gcc.tgz"
+TARFILE="${HOME}/System/Devices/gcc.tgz"
 
 # Options to pass to configure.
 CONFIGURE_OPTIONS=
diff -urN gcc-3.4.4/contrib/gcc_update gcc-3.4.4-STEP/contrib/gcc_update
--- gcc-3.4.4/contrib/gcc_update	2005-03-22 18:42:33.000000000 +1200
+++ gcc-3.4.4-STEP/contrib/gcc_update	2005-09-04 10:06:23.489713392 +1200
@@ -1,4 +1,4 @@
-#! /bin/sh
+#! /System/Tools/sh
 #
 # Update a local CVS tree from the GCC repository, with an emphasis
 # on treating generated files correctly, so that autoconf, gperf et
@@ -129,7 +129,7 @@
     chat '	echo Touching $@... 1>&2; \' >> Makefile.$$
     echo '	touch $@' >> Makefile.$$
     files_and_dependencies | sed 's,[^ ]* ,,;s,$, :,' >> Makefile.$$
-    while ${MAKE-make} -s -f Makefile.$$ all | grep . > /dev/null; do
+    while ${MAKE-make} -s -f Makefile.$$ all | grep . > /System/Devices/null; do
       sleep 1
     done 2>&1
     rm -f Makefile.$$
@@ -141,7 +141,7 @@
 # dependencies and rules will be used.
 touch_files_reexec () {
     chat "Adjusting file timestamps"
-    exec ${CONFIG_SHELL-/bin/sh} $self ${silent+"--silent"} --touch
+    exec ${CONFIG_SHELL-/System/Tools/sh} $self ${silent+"--silent"} --touch
 }
 
 # This functions applies a patch to an existing tree.
diff -urN gcc-3.4.4/contrib/gennews gcc-3.4.4-STEP/contrib/gennews
--- gcc-3.4.4/contrib/gennews	2004-05-15 21:51:28.000000000 +1200
+++ gcc-3.4.4-STEP/contrib/gennews	2005-09-04 10:06:23.490713240 +1200
@@ -1,4 +1,4 @@
-#! /bin/sh
+#! /System/Tools/sh
 #
 # Script to generate the NEWS file from online release notes.
 # Contributed by Joseph Myers <jsm28@cam.ac.uk>.
diff -urN gcc-3.4.4/contrib/index-prop gcc-3.4.4-STEP/contrib/index-prop
--- gcc-3.4.4/contrib/index-prop	2000-04-29 10:06:30.000000000 +1200
+++ gcc-3.4.4-STEP/contrib/index-prop	2005-09-04 10:06:23.491713088 +1200
@@ -15,7 +15,7 @@
 	{
 	  $_ = <>;
 	  s/^([-+*]{3}) [^\t]+\t/$1 $full\t/
-	    unless m{ /dev/null\t};
+	    unless m{ /System/Devices/null\t};
 	  print;
 	}
     }
diff -urN gcc-3.4.4/contrib/reghunt/reg_test_template gcc-3.4.4-STEP/contrib/reghunt/reg_test_template
--- gcc-3.4.4/contrib/reghunt/reg_test_template	2003-03-28 06:57:42.000000000 +1200
+++ gcc-3.4.4-STEP/contrib/reghunt/reg_test_template	2005-09-04 10:06:23.492712936 +1200
@@ -1,4 +1,4 @@
-#! /bin/sh
+#! /System/Tools/sh
 
 # Template for the test script specified for REG_TEST.
 
diff -urN gcc-3.4.4/contrib/regression/btest-gcc.sh gcc-3.4.4-STEP/contrib/regression/btest-gcc.sh
--- gcc-3.4.4/contrib/regression/btest-gcc.sh	2003-09-19 08:25:51.000000000 +1200
+++ gcc-3.4.4-STEP/contrib/regression/btest-gcc.sh	2005-09-04 10:06:23.493712784 +1200
@@ -1,4 +1,4 @@
-#!/bin/sh
+#!/System/Tools/sh
 
 #  Test GCC.
 #  Copyright (C) 1999, 2000, 2001, 2002  Free Software Foundation, Inc.
@@ -156,7 +156,7 @@
 # Sanity-check the testlogs.  They should contain at least one PASS.
 cd $BUILD || exit 1
 for LOG in $TESTLOGS ; do
-  if ! grep ^PASS: $LOG > /dev/null ; then
+  if ! grep ^PASS: $LOG > /System/Devices/null ; then
     echo build > $RESULT
     exit 1
   fi
diff -urN gcc-3.4.4/contrib/regression/objs-gcc.sh gcc-3.4.4-STEP/contrib/regression/objs-gcc.sh
--- gcc-3.4.4/contrib/regression/objs-gcc.sh	2002-10-12 09:23:21.000000000 +1300
+++ gcc-3.4.4-STEP/contrib/regression/objs-gcc.sh	2005-09-04 10:06:23.493712784 +1200
@@ -1,4 +1,4 @@
-#!/bin/sh
+#!/System/Tools/sh
 
 #  Build tools for testing GCC.
 #  Copyright (C) 1999, 2000, 2001, 2002  Free Software Foundation, Inc.
diff -urN gcc-3.4.4/contrib/test_installed gcc-3.4.4-STEP/contrib/test_installed
--- gcc-3.4.4/contrib/test_installed	2003-07-11 18:05:01.000000000 +1200
+++ gcc-3.4.4-STEP/contrib/test_installed	2005-09-04 10:06:23.495712480 +1200
@@ -1,4 +1,4 @@
-#! /bin/sh
+#! /System/Tools/sh
 
 # (C) 1998, 2000, 2002, 2003 Free Software Foundation
 # Originally by Alexandre Oliva <oliva@dcc.unicamp.br>
@@ -98,7 +98,7 @@
   while [ -h $file ]; do
     file=`ls -l $file | sed s/'.* -> '//`
   done
-  srcdir=`CDPATH=. && cd \`echo "$file" | sed 's,/*[^/]*$,,;s,^$,.,'\`/.. >/dev/null && ${PWDCMD-pwd}`
+  srcdir=`CDPATH=. && cd \`echo "$file" | sed 's,/*[^/]*$,,;s,^$,.,'\`/.. >/System/Devices/null && ${PWDCMD-pwd}`
 fi
 
 cat >site.exp <<EOF
diff -urN gcc-3.4.4/contrib/test_summary gcc-3.4.4-STEP/contrib/test_summary
--- gcc-3.4.4/contrib/test_summary	2004-08-26 17:49:13.000000000 +1200
+++ gcc-3.4.4-STEP/contrib/test_summary	2005-09-04 10:06:23.496712328 +1200
@@ -1,4 +1,4 @@
-#! /bin/sh
+#! /System/Tools/sh
 
 # (C) 1998, 1999, 2000, 2002 Free Software Foundation
 # Originally by Alexandre Oliva <oliva@dcc.unicamp.br>
@@ -45,7 +45,7 @@
 # Find a good awk.
 if test -z "$AWK" ; then
   for AWK in gawk nawk awk ; do
-    if type $AWK 2>&1 | grep 'not found' > /dev/null 2>&1 ; then
+    if type $AWK 2>&1 | grep 'not found' > /System/Devices/null 2>&1 ; then
       :
     else
       break
@@ -74,9 +74,9 @@
     [ -f $file ] &&
     anyfile=true &&
     { $anychange ||
-      anychange=`diff -u $file.sent $file 2>/dev/null |
+      anychange=`diff -u $file.sent $file 2>/System/Devices/null |
 	if test ! -f $file.sent ||
-	   egrep '^[-+](XPASS|FAIL)' >/dev/null; then
+	   egrep '^[-+](XPASS|FAIL)' >/System/Devices/null; then
 	    echo true
 	else
 	    echo false
diff -urN gcc-3.4.4/contrib/warn_summary gcc-3.4.4-STEP/contrib/warn_summary
--- gcc-3.4.4/contrib/warn_summary	2002-01-02 16:35:21.000000000 +1300
+++ gcc-3.4.4-STEP/contrib/warn_summary	2005-09-04 10:06:23.497712176 +1200
@@ -1,4 +1,4 @@
-#!/bin/sh
+#!/System/Tools/sh
 #
 # This script parses the output of a gcc bootstrap when using warning
 # flags and determines various statistics.
@@ -134,7 +134,7 @@
 
 usage="usage: `basename $0` [-llf] [-s stage] [-nosub|-ch|-cp|-f|-java|-ada|-intl|-fixinc] [-pass|-wpass] [file(s)]"
 stageN=3
-tmpfile=/tmp/tmp-warn.$$
+tmpfile=/System/TemporaryFiles/tmp-warn.$$
 
 # Remove $tmpfile on exit and various signals.
 trap "rm -f $tmpfile" 0
@@ -143,7 +143,7 @@
 # Find a good awk.
 if test -z "$AWK" ; then
   for AWK in gawk nawk awk ; do
-    if type $AWK 2>&1 | grep 'not found' > /dev/null 2>&1 ; then
+    if type $AWK 2>&1 | grep 'not found' > /System/Devices/null 2>&1 ; then
       :
     else
       break
diff -urN gcc-3.4.4/gcc/ChangeLog gcc-3.4.4-STEP/gcc/ChangeLog
--- gcc-3.4.4/gcc/ChangeLog	2005-05-19 19:47:08.000000000 +1200
+++ gcc-3.4.4-STEP/gcc/ChangeLog	2005-09-04 10:06:23.503711264 +1200
@@ -1437,7 +1437,7 @@
 2004-10-26  Richard Sandiford  <rsandifo@redhat.com>
 
 	PR bootstrap/15747
-	* doc/install.texi (mips-sgi-irix5): Document that /bin/sh has been
+	* doc/install.texi (mips-sgi-irix5): Document that /System/Tools/sh has been
 	reported to hang during bootstrap and that CONFIG_SHELL=/bin/ksh
 	can be used to work around this.
 
diff -urN gcc-3.4.4/gcc/ChangeLog.1 gcc-3.4.4-STEP/gcc/ChangeLog.1
--- gcc-3.4.4/gcc/ChangeLog.1	2003-06-24 04:11:54.000000000 +1200
+++ gcc-3.4.4-STEP/gcc/ChangeLog.1	2005-09-04 10:06:23.524708072 +1200
@@ -369,7 +369,7 @@
 	in signal handler.
 	(sig_handler): Add debug code.
 	* fixinc/server.c (run_shell): Don't \-escape cd, it breaks the
-	Ultrix V4.3 /bin/sh.
+	Ultrix V4.3 /System/Tools/sh.
 	* fixinc/server.c (def_args): Use static instead of STATIC to
 	avoid redefinition error from linker iff DEBUG.
 
diff -urN gcc-3.4.4/gcc/ChangeLog.10 gcc-3.4.4-STEP/gcc/ChangeLog.10
--- gcc-3.4.4/gcc/ChangeLog.10	2004-01-04 08:58:37.000000000 +1300
+++ gcc-3.4.4-STEP/gcc/ChangeLog.10	2005-09-04 10:06:23.536706248 +1200
@@ -7068,7 +7068,7 @@
 
 2003-10-01  John David Anglin  <dave.anglin@nrc-cnrc.gc.ca>
 
-	* aclocal.m4: Add hpux10* and hpux11.00 to /dev/zero blacklist.
+	* aclocal.m4: Add hpux10* and hpux11.00 to /System/Devices/zero blacklist.
 	* configure: Rebuilt.
 
 2003-10-01  Richard Kenner  <kenner@vlsi1.ultra.nyu.edu>
@@ -7085,7 +7085,7 @@
 
 2003-10-01  John David Anglin  <dave.anglin@nrc-cnrc.gc.ca>
 
-	* aclocal.m4: Add ultrix* to /dev/zero blacklist.
+	* aclocal.m4: Add ultrix* to /System/Devices/zero blacklist.
 	* configure: Rebuilt.
 
 2003-10-01  Rainer Orth  <ro@TechFak.Uni-Bielefeld.DE>
diff -urN gcc-3.4.4/gcc/ChangeLog.3 gcc-3.4.4-STEP/gcc/ChangeLog.3
--- gcc-3.4.4/gcc/ChangeLog.3	2003-06-18 07:03:06.000000000 +1200
+++ gcc-3.4.4-STEP/gcc/ChangeLog.3	2005-09-04 10:06:23.548704424 +1200
@@ -12621,7 +12621,7 @@
 	(aux_info_suffix): Use.
 	(SAVE_SUFFIX): New macro.
 	(save_suffix): Use.
-	(munge_compile_parms): Fix typo in NUL. DJGPP supports /dev/null.
+	(munge_compile_parms): Fix typo in NUL. DJGPP supports /System/Devices/null.
 	(gen_aux_info_file): Use aux_info_suffix instead of ".X".
 	(edit_file): Handle 8.3 restriction for DOS/DJGPP filenames.
 
diff -urN gcc-3.4.4/gcc/ChangeLog.4 gcc-3.4.4-STEP/gcc/ChangeLog.4
--- gcc-3.4.4/gcc/ChangeLog.4	2002-12-19 18:18:03.000000000 +1300
+++ gcc-3.4.4-STEP/gcc/ChangeLog.4	2005-09-04 10:06:23.560702600 +1200
@@ -10928,7 +10928,7 @@
 	Remove dead comment.
 
 	* gcc.texi (The Configuration File): Document HOST_BIT_BUCKET.
-	* system.h (HOST_BIT_BUCKET): Default to "/dev/null".
+	* system.h (HOST_BIT_BUCKET): Default to "/System/Devices/null".
 	* config/i386/xm-dos.h (HOST_BIT_BUCKET): Define as "NUL".
 	* config/i386/xm-os2.h, config/winnt/winnt.h: Likewise.
 
@@ -12292,7 +12292,7 @@
 	* config/i386/xm-djgpp.h (UPDATE_PATH_HOST_CANONICALIZE): New macro.
 	* prefix.c (update_path): Use it.
 	* i386/djgpp.h (STANDARD_INCLUDE_DIR): Define.
-	(MD_EXEC_PREFIX): Set to '/dev/env/DJDIR/bin/'.
+	(MD_EXEC_PREFIX): Set to '/System/Devices/env/DJDIR/bin/'.
 	(ASM_OUTPUT_SECTION_NAME): Add code attribute to sections containing
 	code.
 	(SUPPORTS_WEAK, SUPPORTS_ONE_ONLY): Default to true.
diff -urN gcc-3.4.4/gcc/ChangeLog.5 gcc-3.4.4-STEP/gcc/ChangeLog.5
--- gcc-3.4.4/gcc/ChangeLog.5	2002-12-19 18:18:03.000000000 +1300
+++ gcc-3.4.4-STEP/gcc/ChangeLog.5	2005-09-04 10:06:23.571700928 +1200
@@ -1272,7 +1272,7 @@
 2001-06-13  Alexandre Oliva  <aoliva@redhat.com>
 
 	* doc/install.texi (ix86-*-solaris*): Removed, outdated.
-	(*-*-solaris*): Document problem in /bin/sh that affects
+	(*-*-solaris*): Document problem in /System/Tools/sh that affects
 	configuring libraries.
 	(sparc-*-solaris*): Recommend GNU binutils 2.11.1 or vendor tools.
 	(*-sun-solaris2.8): Document linker problem that explains why
diff -urN gcc-3.4.4/gcc/ChangeLog.7 gcc-3.4.4-STEP/gcc/ChangeLog.7
--- gcc-3.4.4/gcc/ChangeLog.7	2003-11-21 19:52:22.000000000 +1300
+++ gcc-3.4.4-STEP/gcc/ChangeLog.7	2005-09-04 10:06:23.586698648 +1200
@@ -7902,7 +7902,7 @@
 
 	* doc/install.texi (Specific, *-*-solaris2*): Update passus on
 	setting CONFIG_SHELL to /bin/ksh and remove alternate trick to
-	(possibly) work around broken /bin/sh.
+	(possibly) work around broken /System/Tools/sh.
 
 2002-05-10  Rainer Orth  <ro@TechFak.Uni-Bielefeld.DE>
 
diff -urN gcc-3.4.4/gcc/ChangeLog.8 gcc-3.4.4-STEP/gcc/ChangeLog.8
--- gcc-3.4.4/gcc/ChangeLog.8	2004-01-01 13:32:08.000000000 +1300
+++ gcc-3.4.4-STEP/gcc/ChangeLog.8	2005-09-04 10:06:23.597696976 +1200
@@ -2194,8 +2194,8 @@
 2002-11-22  Geoffrey Keating  <geoffk@apple.com>
 
 	* aclocal.m4 (ac_cv_func_mmap_dev_zero): Darwin does not
-	allow mmap from /dev/zero.  Don't make decisions for the host
-	based on presence or absence of /dev/zero on the build machine.
+	allow mmap from /System/Devices/zero.  Don't make decisions for the host
+	based on presence or absence of /System/Devices/zero on the build machine.
 	(ac_cv_func_mmap_anon): Darwin does have working MMAP_ANON.
 	(AC_FUNC_MMAP_FILE): Darwin does have mmap of a file.
 	* configure: Regenerate.
diff -urN gcc-3.4.4/gcc/ChangeLog.9 gcc-3.4.4-STEP/gcc/ChangeLog.9
--- gcc-3.4.4/gcc/ChangeLog.9	2003-07-25 05:18:40.000000000 +1200
+++ gcc-3.4.4-STEP/gcc/ChangeLog.9	2005-09-04 10:06:23.618693784 +1200
@@ -4240,7 +4240,7 @@
 
 	PR target/10663
 	* configure.in (HAVE_LD_RO_RW_SECTION_MIXING): Redirect
-	assembler and linker output to /dev/null.
+	assembler and linker output to /System/Devices/null.
 	Use a 'sed' construct instead of 'grep -A1'.
 	* configure: Regenerate.
 
@@ -4941,7 +4941,7 @@
 2003-06-01  Zack Weinberg  <zack@codesourcery.com>
 
 	* ggc-page.c (init_ggc): Give better diagnostics on failure to
-	open /dev/zero.
+	open /System/Devices/zero.
 	* toplev.c (crash_signal): Reset handling for received signal
 	to SIG_DFL.
 
diff -urN gcc-3.4.4/gcc/ChangeLog.lib gcc-3.4.4-STEP/gcc/ChangeLog.lib
--- gcc-3.4.4/gcc/ChangeLog.lib	2001-10-29 01:41:59.000000000 +1300
+++ gcc-3.4.4-STEP/gcc/ChangeLog.lib	2005-09-04 10:06:23.622693176 +1200
@@ -713,7 +713,7 @@
 
 Tue Aug  1 14:29:43 1995  Roland McGrath  <roland@churchy.gnu.ai.mit.edu>
 
-	* getloadavg.c (getloadavg): Set FD_CLOEXEC flag on /dev/kmem file
+	* getloadavg.c (getloadavg): Set FD_CLOEXEC flag on /System/Devices/kmem file
 	descriptor.
 
 Wed Jul 26 00:26:34 1995  David J. MacKenzie  <djm@geech.gnu.ai.mit.edu>
diff -urN gcc-3.4.4/gcc/FSFChangeLog.10 gcc-3.4.4-STEP/gcc/FSFChangeLog.10
--- gcc-3.4.4/gcc/FSFChangeLog.10	2002-09-29 03:29:34.000000000 +1200
+++ gcc-3.4.4-STEP/gcc/FSFChangeLog.10	2005-09-04 10:06:23.630691960 +1200
@@ -6373,7 +6373,7 @@
 	* pa-hpux.h (LIB_SPEC): Likewise.
 	* pa-hpux7.h (LIB_SPEC): Likewise.
 
-	* genmultilib: Work around hpux8 /bin/sh case bug.
+	* genmultilib: Work around hpux8 /System/Tools/sh case bug.
 
 	* pa.h (LIB_SPEC): Define to avoid -lg.
 
@@ -8074,7 +8074,7 @@
 	* c-typeck.c (process_init_element): Don't clear_momentary if
 	constructor_stack is not empty.
 
-	* objc/Makefile (SHELL): Now /bin/sh.
+	* objc/Makefile (SHELL): Now /System/Tools/sh.
 
 	* c-typeck.c (build_binary_op): Also warn about ordered
 	comparison of pointer with zero if -Wall.
diff -urN gcc-3.4.4/gcc/FSFChangeLog.11 gcc-3.4.4-STEP/gcc/FSFChangeLog.11
--- gcc-3.4.4/gcc/FSFChangeLog.11	2002-09-27 00:29:43.000000000 +1200
+++ gcc-3.4.4-STEP/gcc/FSFChangeLog.11	2005-09-04 10:06:23.641690288 +1200
@@ -1393,7 +1393,7 @@
 	(STARTFILE_SPEC): If -dll, use dllcrt1.o.
 	(INCOMING_RETURN_ADDR_RTX): Undefine.
 	
-	* Makefile.in (float.h-nat): Avoid using /dev/null for input,
+	* Makefile.in (float.h-nat): Avoid using /System/Devices/null for input,
 	since it's not present on all systems.
 
 	* prefix.c : New file.
@@ -4967,7 +4967,7 @@
 	* configure.in: Execute configure.frag in a shell.
 
 	* configure.in (cross_overrides, build_overrides): Default to
-	/dev/null to help platforms where sed cannot handle empty filenames.
+	/System/Devices/null to help platforms where sed cannot handle empty filenames.
 
 	* Reorganize thread implementation to make a clearly defined
 	front-end/back-end interface.
diff -urN gcc-3.4.4/gcc/Makefile.in gcc-3.4.4-STEP/gcc/Makefile.in
--- gcc-3.4.4/gcc/Makefile.in	2005-02-24 22:26:57.000000000 +1300
+++ gcc-3.4.4-STEP/gcc/Makefile.in	2005-09-04 10:06:23.645689680 +1200
@@ -345,7 +345,7 @@
 PARTITION_H = $(srcdir)/../include/partition.h
 
 # Default native SYSTEM_HEADER_DIR, to be overridden by targets.
-NATIVE_SYSTEM_HEADER_DIR = /usr/include
+NATIVE_SYSTEM_HEADER_DIR = /System/Library/Headers
 # Default cross SYSTEM_HEADER_DIR, to be overridden by targets.
 CROSS_SYSTEM_HEADER_DIR = @CROSS_SYSTEM_HEADER_DIR@
 
@@ -706,7 +706,7 @@
 
 # This is the variable actually used when we compile. If you change this,
 # you probably want to update BUILD_CFLAGS in configure.ac
-ALL_CFLAGS = $(X_CFLAGS) $(T_CFLAGS) \
+ALL_CFLAGS = $(X_CFLAGS) $(T_CFLAGS) @NOSTDINC@ \
   $(CFLAGS) $(INTERNAL_CFLAGS) $(COVERAGE_FLAGS) $(WARN_CFLAGS) $(XCFLAGS) @DEFS@
 
 # Likewise.
@@ -1431,7 +1431,8 @@
 	(SHLIB_LINK='$(SHLIB_LINK)' \
 	SHLIB_MULTILIB='$(SHLIB_MULTILIB)'; \
 	$(CC) $(ALL_CFLAGS) $(ALL_CPPFLAGS) $(INCLUDES) \
-  $(DRIVER_DEFINES) \
+  $(DRIVER_DEFINES) `if test -n "@DYNAMICLINKER@" ; then \
+	echo -D__DYNAMIC_LINKER__=\"@DYNAMICLINKER@\" ; fi` \
   -c $(srcdir)/gcc.c $(OUTPUT_OPTION))
 
 gccspec.o: gccspec.c $(CONFIG_H) $(SYSTEM_H) coretypes.h $(TM_H) $(GCC_H)
@@ -2504,10 +2505,6 @@
 	rm -f include/limits.h
 	cp xlimits.h include/limits.h
 	chmod a+r include/limits.h
-# Install the README
-	rm -f include/README
-	cp $(srcdir)/README-fixinc include/README
-	chmod a+r include/README
 	$(STAMP) $@
 
 # fixinc.sh depends on this, not on specs directly.
@@ -2553,7 +2550,6 @@
 	(TARGET_MACHINE='$(target)'; srcdir=`cd $(srcdir); ${PWD_COMMAND}`; \
 	SHELL='$(SHELL)' ;\
 	export TARGET_MACHINE srcdir SHELL ; \
-	$(SHELL) ./fixinc.sh `${PWD_COMMAND}`/include $(SYSTEM_HEADER_DIR) $(OTHER_FIXINCLUDES_DIRS); \
 	rm -f include/syslimits.h; \
 	if [ -f include/limits.h ]; then \
 	  mv include/limits.h include/syslimits.h; \
@@ -2849,7 +2845,7 @@
 	-rm -f fixinc/Makefile
 # Delete po/*.gmo only if we are not building in the source directory.
 	-if [ ! -f po/exgettext ]; then rm -f po/*.gmo; fi
-	-rmdir ada cp f java objc fixinc intl po testsuite 2>/dev/null
+	-rmdir ada cp f java objc fixinc intl po testsuite 2>/System/Devices/null
 
 # Get rid of every file that's generated from some other file, except for `configure'.
 # Most of these files ARE PRESENT in the GCC distribution.
@@ -2979,7 +2975,7 @@
 	    chmod a-x $(DESTDIR)$(infodir)/$$realfile; \
 	  done; \
 	else true; fi
-	-if $(SHELL) -c 'install-info --version' >/dev/null 2>&1; then \
+	-if $(SHELL) -c 'install-info --version' >/System/Devices/null 2>&1; then \
 	  if [ -f $@ ]; then \
 	    install-info --dir-file=$(DESTDIR)$(infodir)/dir $@; \
 	  else true; fi; \
@@ -3035,12 +3031,12 @@
 # Fix symlinks to absolute paths in the installed include directory to
 # point to the installed directory, not the build directory.
 # Don't need to use LN_S here since we really do need ln -s and no substitutes.
-	-files=`cd $(DESTDIR)$(libsubdir)/include; find . -type l -print 2>/dev/null`; \
+	-files=`cd $(DESTDIR)$(libsubdir)/include; find . -type l -print 2>/System/Devices/null`; \
 	if [ $$? -eq 0 ]; then \
 	  dir=`cd include; ${PWD_COMMAND}`; \
 	  for i in $$files; do \
 	    dest=`ls -ld $(DESTDIR)$(libsubdir)/include/$$i | sed -n 's/.*-> //p'`; \
-	    if expr "$$dest" : "$$dir.*" > /dev/null; then \
+	    if expr "$$dest" : "$$dir.*" > /System/Devices/null; then \
 	      rm -f $(DESTDIR)$(libsubdir)/include/$$i; \
 	      ln -s `echo $$i | sed "s|/[^/]*|/..|g" | sed 's|/..$$||'``echo "$$dest" | sed "s|$$dir||"` $(DESTDIR)$(libsubdir)/include/$$i; \
 	    fi; \
@@ -3061,7 +3057,7 @@
 # output of `cd', but some shells lose on redirection within `()'s
 	(cd `${PWD_COMMAND}`/include ; \
 	 tar -cf - .; exit 0) | (cd $(DESTDIR)$(libsubdir)/include; tar xpf - )
-# /bin/sh on some systems returns the status of the first tar,
+# /System/Tools/sh on some systems returns the status of the first tar,
 # and that can lose with GNU tar which always writes a full block.
 # So use `exit 0' to ignore its exit status.
 
@@ -3484,11 +3480,11 @@
 	rm -f $$stage/ld$(exeext); \
 	rm -f $$stage/collect-ld$(exeext); \
 	if test -d $$stage; then \
-	  mv $$stage/specs $(SPECS) 2>/dev/null || :; \
-	  mv $$stage/* . 2>/dev/null; \
+	  mv $$stage/specs $(SPECS) 2>/System/Devices/null || :; \
+	  mv $$stage/* . 2>/System/Devices/null; \
 	  for i in `cd $$stage; echo *` ; do \
 	    if test -d $$stage/$$i; then \
-	      mv $$stage/$$i/* $$i/. 2>/dev/null; \
+	      mv $$stage/$$i/* $$i/. 2>/System/Devices/null; \
 	    else \
 	      mv $$stage/$$i .; \
 	    fi; \
@@ -3580,14 +3576,14 @@
 		slowcompare* ) \
 		  tail +16c ./$$file > tmp-foo1; \
 		  tail +16c stage$$stage/$$file > tmp-foo2 \
-		    && (cmp tmp-foo1 tmp-foo2 > /dev/null 2>&1 || echo $$file differs >> .bad_compare) || true; \
+		    && (cmp tmp-foo1 tmp-foo2 > /System/Devices/null 2>&1 || echo $$file differs >> .bad_compare) || true; \
 		  ;; \
 		fastcompare* ) \
-		  cmp $$file stage$$stage/$$file 16 16 > /dev/null 2>&1; \
+		  cmp $$file stage$$stage/$$file 16 16 > /System/Devices/null 2>&1; \
 		  test $$? -eq 1 && echo $$file differs >> .bad_compare || true; \
 		  ;; \
 		gnucompare* ) \
-		  cmp --ignore-initial=16 $$file stage$$stage/$$file > /dev/null 2>&1; \
+		  cmp --ignore-initial=16 $$file stage$$stage/$$file > /System/Devices/null 2>&1; \
 		  test $$? -eq 1 && echo $$file differs >> .bad_compare || true; \
 		  ;; \
 	      esac ; \
diff -urN gcc-3.4.4/gcc/aclocal.m4 gcc-3.4.4-STEP/gcc/aclocal.m4
--- gcc-3.4.4/gcc/aclocal.m4	2004-04-17 10:13:20.000000000 +1200
+++ gcc-3.4.4-STEP/gcc/aclocal.m4	2005-09-04 10:06:23.648689224 +1200
@@ -91,16 +91,16 @@
 [ echo abfoo >t1
   echo cdfoo >t2
   gcc_cv_prog_cmp_skip=slowcompare
-  if cmp --ignore-initial=2 t1 t2 > /dev/null 2>&1; then
-    if cmp --ignore-initial=1 t1 t2 > /dev/null 2>&1; then
+  if cmp --ignore-initial=2 t1 t2 > /System/Devices/null 2>&1; then
+    if cmp --ignore-initial=1 t1 t2 > /System/Devices/null 2>&1; then
       :
     else
       gcc_cv_prog_cmp_skip=gnucompare
     fi
   fi
   if test $gcc_cv_prog_cmp_skip = slowcompare ; then
-    if cmp t1 t2 2 2 > /dev/null 2>&1; then
-      if cmp t1 t2 1 1 > /dev/null 2>&1; then
+    if cmp t1 t2 2 2 > /System/Devices/null 2>&1; then
+      if cmp t1 t2 1 1 > /System/Devices/null 2>&1; then
         :
       else
         gcc_cv_prog_cmp_skip=fastcompare
@@ -140,11 +140,11 @@
 AC_CACHE_VAL(gcc_cv_prog_LN_S,
 [rm -f conftestdata_t
 echo >conftestdata_f
-if ln -s conftestdata_f conftestdata_t 2>/dev/null
+if ln -s conftestdata_f conftestdata_t 2>/System/Devices/null
 then
   gcc_cv_prog_LN_S="ln -s"
 else
-  if ln conftestdata_f conftestdata_t 2>/dev/null
+  if ln conftestdata_f conftestdata_t 2>/System/Devices/null
   then
     gcc_cv_prog_LN_S=ln
   else
@@ -172,11 +172,11 @@
 AC_CACHE_VAL(gcc_cv_prog_LN,
 [rm -f conftestdata_t
 echo >conftestdata_f
-if ln conftestdata_f conftestdata_t 2>/dev/null
+if ln conftestdata_f conftestdata_t 2>/System/Devices/null
 then
   gcc_cv_prog_LN="ln"
 else
-  if ln -s conftestdata_f conftestdata_t 2>/dev/null
+  if ln -s conftestdata_f conftestdata_t 2>/System/Devices/null
   then
     gcc_cv_prog_LN="ln -s"
   else
@@ -236,8 +236,8 @@
 # Find a good install program.  We prefer a C program (faster),
 # so one script is as good as another.  But avoid the broken or
 # incompatible versions:
-# SysV /etc/install, /usr/sbin/install
-# SunOS /usr/etc/install
+# SysV /System/Settings/install, /usr/sbin/install
+# SunOS /usr/System/Settings/install
 # IRIX /sbin/install
 # AIX /bin/install
 # AFS /usr/afsws/bin/install, which mishandles nonexistent args
@@ -250,13 +250,13 @@
   for ac_dir in $PATH; do
     # Account for people who put trailing slashes in PATH elements.
     case "$ac_dir/" in
-    /|./|.//|/etc/*|/usr/sbin/*|/usr/etc/*|/sbin/*|/usr/afsws/bin/*|/usr/ucb/*) ;;
+    /|./|.//|/System/Settings/*|/usr/sbin/*|/usr/System/Settings/*|/sbin/*|/usr/afsws/bin/*|/usr/ucb/*) ;;
     *)
       # OSF1 and SCO ODT 3.0 have their own names for install.
       for ac_prog in ginstall scoinst install; do
         if test -f $ac_dir/$ac_prog; then
 	  if test $ac_prog = install &&
-            grep dspmsg $ac_dir/$ac_prog >/dev/null 2>&1; then
+            grep dspmsg $ac_dir/$ac_prog >/System/Devices/null 2>&1; then
 	    # AIX install.  It has an incompatible calling convention.
 	    # OSF/1 installbsd also uses dspmsg, but is usable.
 	    :
@@ -398,10 +398,10 @@
      *)
         gcc_cv_func_mmap_file=yes;;
    esac])
-   AC_CACHE_CHECK([whether mmap from /dev/zero works],
+   AC_CACHE_CHECK([whether mmap from /System/Devices/zero works],
   gcc_cv_func_mmap_dev_zero,
-  [# Add a system to this blacklist if it has mmap() but /dev/zero
-   # does not exist, or if mmapping /dev/zero does not give anonymous
+  [# Add a system to this blacklist if it has mmap() but /System/Devices/zero
+   # does not exist, or if mmapping /System/Devices/zero does not give anonymous
    # zeroed pages with both the following properties:
    # 1. If you map N consecutive pages in with one call, and then
    #    unmap any subset of those pages, the pages that were not
@@ -417,7 +417,7 @@
         gcc_cv_func_mmap_dev_zero=yes;;
    esac])
 
-   # Unlike /dev/zero, the MAP_ANON(YMOUS) defines can be probed for.
+   # Unlike /System/Devices/zero, the MAP_ANON(YMOUS) defines can be probed for.
    AC_CACHE_CHECK([for MAP_ANON(YMOUS)], gcc_cv_decl_map_anon,
     [AC_TRY_COMPILE(
 [#include <sys/types.h>
@@ -440,7 +440,7 @@
   [# Add a system to this blacklist if it has mmap() and MAP_ANON or
    # MAP_ANONYMOUS, but using mmap(..., MAP_PRIVATE|MAP_ANONYMOUS, -1, 0)
    # doesn't give anonymous zeroed pages with the same properties listed
-   # above for use of /dev/zero.
+   # above for use of /System/Devices/zero.
    # Systems known to be in this category are Windows, VMS, and SCO Unix.
    case "$host_os" in
      vms* | cygwin* | pe | mingw* | sco* | udk* )
@@ -457,7 +457,7 @@
 fi
 if test $gcc_cv_func_mmap_dev_zero = yes; then
   AC_DEFINE(HAVE_MMAP_DEV_ZERO, 1,
-	    [Define if mmap of /dev/zero works.])
+	    [Define if mmap of /System/Devices/zero works.])
 fi
 if test $gcc_cv_func_mmap_anon = yes; then
   AC_DEFINE(HAVE_MMAP_ANON, 1,
diff -urN gcc-3.4.4/gcc/config/alpha/linux-elf.h gcc-3.4.4-STEP/gcc/config/alpha/linux-elf.h
--- gcc-3.4.4/gcc/config/alpha/linux-elf.h	2003-09-27 16:48:12.000000000 +1200
+++ gcc-3.4.4-STEP/gcc/config/alpha/linux-elf.h	2005-09-04 10:06:23.648689224 +1200
@@ -27,7 +27,7 @@
 #define SUBTARGET_EXTRA_SPECS \
 { "elf_dynamic_linker", ELF_DYNAMIC_LINKER },
 
-#define ELF_DYNAMIC_LINKER	"/lib/ld-linux.so.2"
+#define ELF_DYNAMIC_LINKER	"/System/Library/Libraries/Glibc-2.3.4/lib/ld-adistro.so.2"
 
 #define LINK_SPEC "-m elf64alpha %{G*} %{relax:-relax}		\
   %{O*:-O3} %{!O*:-O1}						\
diff -urN gcc-3.4.4/gcc/config/arm/linux-elf.h gcc-3.4.4-STEP/gcc/config/arm/linux-elf.h
--- gcc-3.4.4/gcc/config/arm/linux-elf.h	2004-01-31 19:18:11.000000000 +1300
+++ gcc-3.4.4-STEP/gcc/config/arm/linux-elf.h	2005-09-04 10:06:23.649689072 +1200
@@ -87,7 +87,7 @@
    %{shared:-shared} \
    %{symbolic:-Bsymbolic} \
    %{rdynamic:-export-dynamic} \
-   %{!dynamic-linker:-dynamic-linker /lib/ld-linux.so.2} \
+   %{!dynamic-linker:-dynamic-linker /System/Library/Libraries/Glibc-2.3.4/lib/ld-adistro.so.2} \
    -X \
    %{mbig-endian:-EB}" \
    SUBTARGET_EXTRA_LINK_SPEC
diff -urN gcc-3.4.4/gcc/config/i386/djgpp.h gcc-3.4.4-STEP/gcc/config/i386/djgpp.h
--- gcc-3.4.4/gcc/config/i386/djgpp.h	2004-01-31 19:18:19.000000000 +1300
+++ gcc-3.4.4-STEP/gcc/config/i386/djgpp.h	2005-09-04 10:06:23.650688920 +1200
@@ -58,20 +58,20 @@
 #define TEXT_SECTION_ASM_OP "\t.section .text"
 
 /* Define standard DJGPP installation paths.  */
-/* We override default /usr or /usr/local part with /dev/env/DJDIR which */
+/* We override default /usr or /usr/local part with /System/Devices/env/DJDIR which */
 /* points to actual DJGPP installation directory.  */
 
 /* Standard include directory */
 #undef STANDARD_INCLUDE_DIR
-#define STANDARD_INCLUDE_DIR "/dev/env/DJDIR/include/"
+#define STANDARD_INCLUDE_DIR "/System/Devices/env/DJDIR/include/"
 
 /* Search for as.exe and ld.exe in DJGPP's binary directory.  */ 
 #undef MD_EXEC_PREFIX
-#define MD_EXEC_PREFIX "/dev/env/DJDIR/bin/"
+#define MD_EXEC_PREFIX "/System/Devices/env/DJDIR/bin/"
 
 /* Standard DJGPP library and startup files */
 #undef MD_STARTFILE_PREFIX
-#define MD_STARTFILE_PREFIX "/dev/env/DJDIR/lib/"
+#define MD_STARTFILE_PREFIX "/System/Devices/env/DJDIR/lib/"
 
 /* Correctly handle absolute filename detection in cp/xref.c */
 #define FILE_NAME_ABSOLUTE_P(NAME) \
diff -urN gcc-3.4.4/gcc/config/i386/gnu.h gcc-3.4.4-STEP/gcc/config/i386/gnu.h
--- gcc-3.4.4/gcc/config/i386/gnu.h	2003-11-29 16:08:10.000000000 +1300
+++ gcc-3.4.4-STEP/gcc/config/i386/gnu.h	2005-09-04 10:06:23.651688768 +1200
@@ -27,7 +27,7 @@
   %{!shared: \
     %{!static: \
       %{rdynamic:-export-dynamic} \
-      %{!dynamic-linker:-dynamic-linker /lib/ld.so}} \
+      %{!dynamic-linker:-dynamic-linker /System/Library/Libraries/Glibc-2.3.4/lib/ld.so}} \
     %{static:-static}}"
 
 #undef	STARTFILE_SPEC
diff -urN gcc-3.4.4/gcc/config/i386/kfreebsdgnu.h gcc-3.4.4-STEP/gcc/config/i386/kfreebsdgnu.h
--- gcc-3.4.4/gcc/config/i386/kfreebsdgnu.h	2003-10-21 22:52:47.000000000 +1300
+++ gcc-3.4.4-STEP/gcc/config/i386/kfreebsdgnu.h	2005-09-04 10:06:23.652688616 +1200
@@ -31,5 +31,5 @@
     %{!ibcs: \
       %{!static: \
 	%{rdynamic:-export-dynamic} \
-	%{!dynamic-linker:-dynamic-linker /lib/ld.so.1}} \
+	%{!dynamic-linker:-dynamic-linker /System/Library/Libraries/Glibc-2.3.4/lib/ld.so.1}} \
 	%{static:-static}}}"
diff -urN gcc-3.4.4/gcc/config/i386/linux.h gcc-3.4.4-STEP/gcc/config/i386/linux.h
--- gcc-3.4.4/gcc/config/i386/linux.h	2003-11-29 16:08:10.000000000 +1300
+++ gcc-3.4.4-STEP/gcc/config/i386/linux.h	2005-09-04 10:06:23.653688464 +1200
@@ -109,13 +109,22 @@
 /* If ELF is the default format, we should not use /lib/elf.  */
 
 #undef	LINK_SPEC
+#ifdef __DYNAMIC_LINKER__
+#define LINK_SPEC "-m elf_i386 %{shared:-shared} \
+  %{!shared: \
+    %{!ibcs: \
+      %{!static: \
+        %{rdynamic:-export-dynamic} \
+        %{!dynamic-linker:-dynamic-linker "__DYNAMIC_LINKER__"}} \
+        %{static:-static}}}"
+#else
 #ifdef USE_GNULIBC_1
 #define LINK_SPEC "-m elf_i386 %{shared:-shared} \
   %{!shared: \
     %{!ibcs: \
       %{!static: \
 	%{rdynamic:-export-dynamic} \
-	%{!dynamic-linker:-dynamic-linker /lib/ld-linux.so.1}} \
+	%{!dynamic-linker:-dynamic-linker /System/Library/Libraries/Glibc-2.3.4/lib/ld-adistro.so.1}} \
 	%{static:-static}}}"
 #else
 #define LINK_SPEC "-m elf_i386 %{shared:-shared} \
@@ -123,9 +132,10 @@
     %{!ibcs: \
       %{!static: \
 	%{rdynamic:-export-dynamic} \
-	%{!dynamic-linker:-dynamic-linker /lib/ld-linux.so.2}} \
+	%{!dynamic-linker:-dynamic-linker /System/Library/Libraries/Glibc-2.3.4/lib/ld-adistro.so.2}} \
 	%{static:-static}}}"
 #endif
+#endif
 
 /* A C statement (sans semicolon) to output to the stdio stream
    FILE the assembler definition of uninitialized global DECL named
diff -urN gcc-3.4.4/gcc/config/i386/linux64.h gcc-3.4.4-STEP/gcc/config/i386/linux64.h
--- gcc-3.4.4/gcc/config/i386/linux64.h	2003-11-29 16:08:10.000000000 +1300
+++ gcc-3.4.4-STEP/gcc/config/i386/linux64.h	2005-09-04 10:06:23.654688312 +1200
@@ -60,8 +60,8 @@
   %{!shared: \
     %{!static: \
       %{rdynamic:-export-dynamic} \
-      %{m32:%{!dynamic-linker:-dynamic-linker /lib/ld-linux.so.2}} \
-      %{!m32:%{!dynamic-linker:-dynamic-linker /lib64/ld-linux-x86-64.so.2}}} \
+      %{m32:%{!dynamic-linker:-dynamic-linker /System/Library/Libraries/Glibc-2.3.4/lib/ld-adistro.so.2}} \
+      %{!m32:%{!dynamic-linker:-dynamic-linker /System/Library/Libraries/Glibc-2.3.4/lib/ld-adistro-x86-64.so.2}}} \
     %{static:-static}}"
 
 #define MULTILIB_DEFAULTS { "m64" }
diff -urN gcc-3.4.4/gcc/config/i386/xm-djgpp.h gcc-3.4.4-STEP/gcc/config/i386/xm-djgpp.h
--- gcc-3.4.4/gcc/config/i386/xm-djgpp.h	2004-02-10 11:35:26.000000000 +1300
+++ gcc-3.4.4-STEP/gcc/config/i386/xm-djgpp.h	2005-09-04 10:06:23.655688160 +1200
@@ -68,13 +68,13 @@
       } \
   } while (0)
 
-/* Canonicalize paths containing '/dev/env/'; used in prefix.c.
+/* Canonicalize paths containing '/System/Devices/env/'; used in prefix.c.
    _fixpath is a djgpp-specific function to canonicalize a path.
-   "/dev/env/DJDIR" evaluates to "c:/djgpp" if DJDIR is "c:/djgpp" for
+   "/System/Devices/env/DJDIR" evaluates to "c:/djgpp" if DJDIR is "c:/djgpp" for
    example.  It removes any trailing '/', so add it back.  */
 /* We cannot free PATH below as it can point to string constant  */
 #define UPDATE_PATH_HOST_CANONICALIZE(PATH) \
-  if (memcmp ((PATH), "/dev/env/", sizeof("/dev/env/") - 1) == 0) \
+  if (memcmp ((PATH), "/System/Devices/env/", sizeof("/System/Devices/env/") - 1) == 0) \
     {						\
       static char fixed_path[FILENAME_MAX + 1];	\
 						\
diff -urN gcc-3.4.4/gcc/config/ia64/linux.h gcc-3.4.4-STEP/gcc/config/ia64/linux.h
--- gcc-3.4.4/gcc/config/ia64/linux.h	2004-02-07 20:56:17.000000000 +1300
+++ gcc-3.4.4-STEP/gcc/config/ia64/linux.h	2005-09-04 10:06:23.656688008 +1200
@@ -43,7 +43,7 @@
   %{!shared: \
     %{!static: \
       %{rdynamic:-export-dynamic} \
-      %{!dynamic-linker:-dynamic-linker /lib/ld-linux-ia64.so.2}} \
+      %{!dynamic-linker:-dynamic-linker /System/Library/Libraries/Glibc-2.3.4/lib/ld-linux-ia64.so.2}} \
       %{static:-static}}"
 
 
diff -urN gcc-3.4.4/gcc/config/linux.h gcc-3.4.4-STEP/gcc/config/linux.h
--- gcc-3.4.4/gcc/config/linux.h	2003-11-29 16:08:10.000000000 +1300
+++ gcc-3.4.4-STEP/gcc/config/linux.h	2005-09-04 10:08:01.658789424 +1200
@@ -48,12 +48,12 @@
    crti.o%s %{!shared:crtbegin.o%s} %{shared:crtbeginS.o%s}"
 #elif defined HAVE_LD_PIE
 #define STARTFILE_SPEC \
-  "%{!shared: %{pg|p|profile:gcrt1.o%s;pie:Scrt1.o%s;:crt1.o%s}} \
-   crti.o%s %{static:crtbeginT.o%s;shared|pie:crtbeginS.o%s;:crtbegin.o%s}"
+  "%{!shared: %{pg|p|profile:gcrt1.o%s;pie:Scrt1.o%s;:/System/Library/Libraries/Glibc-2.3.4/lib/crt1.o%s}} \
+   /System/Library/Libraries/Glibc-2.3.4/lib/crti.o%s %{static:crtbeginT.o%s;shared|pie:crtbeginS.o%s;:crtbegin.o%s}"
 #else
 #define STARTFILE_SPEC \
-  "%{!shared: %{pg|p|profile:gcrt1.o%s;:crt1.o%s}} \
-   crti.o%s %{static:crtbeginT.o%s;shared|pie:crtbeginS.o%s;:crtbegin.o%s}"
+  "%{!shared: %{pg|p|profile:gcrt1.o%s;:/System/Library/Libraries/Glibc-2.3.4/lib/crt1.o%s}} \
+   /System/Library/Libraries/Glibc-2.3.4/lib/crti.o%s %{static:crtbeginT.o%s;shared|pie:crtbeginS.o%s;:crtbegin.o%s}"
 #endif
 
 /* Provide a ENDFILE_SPEC appropriate for GNU/Linux.  Here we tack on
@@ -64,7 +64,7 @@
 
 #undef	ENDFILE_SPEC
 #define ENDFILE_SPEC \
-  "%{shared|pie:crtendS.o%s;:crtend.o%s} crtn.o%s"
+  "%{shared|pie:crtendS.o%s;:crtend.o%s} /System/Library/Libraries/Glibc-2.3.4/lib/crtn.o%s"
 
 /* This is for -profile to use -lc_p instead of -lc.  */
 #ifndef CC1_SPEC
@@ -124,3 +124,7 @@
 #endif
 
 #define TARGET_HAS_F_SETLKW
+#ifdef NOSTDINC
+#undef STANDARD_INCLUDE_DIR
+#define STANDARD_INCLUDE_DIR 0
+#endif
diff -urN gcc-3.4.4/gcc/config/m32r/linux.h gcc-3.4.4-STEP/gcc/config/m32r/linux.h
--- gcc-3.4.4/gcc/config/m32r/linux.h	2003-12-31 23:33:02.000000000 +1300
+++ gcc-3.4.4-STEP/gcc/config/m32r/linux.h	2005-09-04 10:06:23.658687704 +1200
@@ -66,7 +66,7 @@
     %{!ibcs: \
       %{!static: \
 	%{rdynamic:-export-dynamic} \
-	%{!dynamic-linker:-dynamic-linker /lib/ld-linux.so.2}} \
+	%{!dynamic-linker:-dynamic-linker /System/Library/Libraries/Glibc-2.3.4/lib/ld-adistro.so.2}} \
 	%{static:-static}}}"
 #else
 #define LINK_SPEC "%(link_cpu) -m m32relf_linux %{shared:-shared} \
@@ -74,7 +74,7 @@
     %{!ibcs: \
       %{!static: \
 	%{rdynamic:-export-dynamic} \
-	%{!dynamic-linker:-dynamic-linker /lib/ld-linux.so.2}} \
+	%{!dynamic-linker:-dynamic-linker /System/Library/Libraries/Glibc-2.3.4/lib/ld-adistro.so.2}} \
 	%{static:-static}}}"
 #endif
 
diff -urN gcc-3.4.4/gcc/config/m68k/linux.h gcc-3.4.4-STEP/gcc/config/m68k/linux.h
--- gcc-3.4.4/gcc/config/m68k/linux.h	2003-11-29 16:08:11.000000000 +1300
+++ gcc-3.4.4-STEP/gcc/config/m68k/linux.h	2005-09-04 10:06:23.659687552 +1200
@@ -136,7 +136,7 @@
   %{!shared: \
     %{!static: \
       %{rdynamic:-export-dynamic} \
-      %{!dynamic-linker*:-dynamic-linker /lib/ld.so.1}} \
+      %{!dynamic-linker*:-dynamic-linker /System/Library/Libraries/Glibc-2.3.4/lib/ld.so.1}} \
     %{static}}"
 
 /* For compatibility with linux/a.out */
diff -urN gcc-3.4.4/gcc/config/mips/linux.h gcc-3.4.4-STEP/gcc/config/mips/linux.h
--- gcc-3.4.4/gcc/config/mips/linux.h	2004-06-16 13:42:24.000000000 +1200
+++ gcc-3.4.4-STEP/gcc/config/mips/linux.h	2005-09-04 10:06:23.660687400 +1200
@@ -116,7 +116,7 @@
     %{!ibcs: \
       %{!static: \
         %{rdynamic:-export-dynamic} \
-        %{!dynamic-linker:-dynamic-linker /lib/ld.so.1}} \
+        %{!dynamic-linker:-dynamic-linker /System/Library/Libraries/Glibc-2.3.4/lib/ld.so.1}} \
         %{static:-static}}}"
 
 #undef SUBTARGET_ASM_SPEC
diff -urN gcc-3.4.4/gcc/config/mips/linux64.h gcc-3.4.4-STEP/gcc/config/mips/linux64.h
--- gcc-3.4.4/gcc/config/mips/linux64.h	2004-06-16 13:42:25.000000000 +1200
+++ gcc-3.4.4-STEP/gcc/config/mips/linux64.h	2005-09-04 10:06:23.661687248 +1200
@@ -52,7 +52,7 @@
  %{mabi=64:-rpath-link %R/lib64:%R/usr/lib64} \
  %{mabi=32:-rpath-link %R/lib:%R/usr/lib}} \
 %{!shared: %{pthread:-lpthread} \
-  %{profile:-lc_p} %{!profile: -lc}}"
+  %{profile:-lc_p} %{!profile: -lc}}"O5B
 
 #undef LINK_SPEC
 #define LINK_SPEC "\
@@ -65,9 +65,9 @@
       %{!static: \
         %{rdynamic:-export-dynamic} \
         %{!dynamic-linker: \
-	  %{mabi=n32: -dynamic-linker /lib32/ld.so.1} \
-	  %{mabi=64: -dynamic-linker /lib64/ld.so.1} \
-	  %{mabi=32: -dynamic-linker /lib/ld.so.1}}} \
+	  %{mabi=n32: -dynamic-linker /System/Library/Libraries/Glibc-2.3.4/lib/lib32/ld.so.1} \
+	  %{mabi=64: -dynamic-linker /System/Library/Libraries/Glibc-2.3.4/lib/lib64/ld.so.1} \
+	  %{mabi=32: -dynamic-linker /System/Library/Libraries/Glibc-2.3.4/lib/ld.so.1}}} \
       %{static:-static}}} \
 %{mabi=n32:-melf32%{EB:b}%{EL:l}tsmipn32} \
 %{mabi=64:-melf64%{EB:b}%{EL:l}tsmip} \
diff -urN gcc-3.4.4/gcc/config/mn10300/linux.h gcc-3.4.4-STEP/gcc/config/mn10300/linux.h
--- gcc-3.4.4/gcc/config/mn10300/linux.h	2003-11-29 16:08:11.000000000 +1300
+++ gcc-3.4.4-STEP/gcc/config/mn10300/linux.h	2005-09-04 10:06:23.662687096 +1200
@@ -37,7 +37,7 @@
 #define LINK_SPEC "%{mrelax:--relax} %{shared:-shared} \
    %{!static: \
      %{rdynamic:-export-dynamic} \
-     %{!dynamic-linker:-dynamic-linker /lib/ld.so.1}} \
+     %{!dynamic-linker:-dynamic-linker /System/Library/Libraries/Glibc-2.3.4/lib/ld.so.1}} \
    %{static:-static}"
 
 #undef  LIB_SPEC
diff -urN gcc-3.4.4/gcc/config/pa/pa-linux.h gcc-3.4.4-STEP/gcc/config/pa/pa-linux.h
--- gcc-3.4.4/gcc/config/pa/pa-linux.h	2003-11-29 16:08:11.000000000 +1300
+++ gcc-3.4.4-STEP/gcc/config/pa/pa-linux.h	2005-09-04 10:06:23.663686944 +1200
@@ -83,7 +83,7 @@
   %{!shared: \
     %{!static: \
       %{rdynamic:-export-dynamic} \
-      %{!dynamic-linker:-dynamic-linker /lib/ld.so.1}} \
+      %{!dynamic-linker:-dynamic-linker /System/Library/Libraries/Glibc-2.3.4/lib/ld.so.1}} \
       %{static:-static}}"
 
 /* glibc's profiling functions don't need gcc to allocate counters.  */
diff -urN gcc-3.4.4/gcc/config/rs6000/linux64.h gcc-3.4.4-STEP/gcc/config/rs6000/linux64.h
--- gcc-3.4.4/gcc/config/rs6000/linux64.h	2005-04-29 12:31:57.000000000 +1200
+++ gcc-3.4.4-STEP/gcc/config/rs6000/linux64.h	2005-09-04 10:06:23.664686792 +1200
@@ -351,11 +351,11 @@
 
 #define LINK_OS_LINUX_SPEC32 "-m elf32ppclinux %{!shared: %{!static: \
   %{rdynamic:-export-dynamic} \
-  %{!dynamic-linker:-dynamic-linker /lib/ld.so.1}}}"
+  %{!dynamic-linker:-dynamic-linker /System/Library/Libraries/Glibc-2.3.4/lib/ld.so.1}}}"
 
 #define LINK_OS_LINUX_SPEC64 "-m elf64ppc %{!shared: %{!static: \
   %{rdynamic:-export-dynamic} \
-  %{!dynamic-linker:-dynamic-linker /lib64/ld64.so.1}}}"
+  %{!dynamic-linker:-dynamic-linker /System/Library/Libraries/Glibc-2.3.4/lib/ld64.so.1}}}"
 
 #undef  TOC_SECTION_ASM_OP
 #define TOC_SECTION_ASM_OP \
diff -urN gcc-3.4.4/gcc/config/s390/linux.h gcc-3.4.4-STEP/gcc/config/s390/linux.h
--- gcc-3.4.4/gcc/config/s390/linux.h	2003-11-29 16:08:12.000000000 +1300
+++ gcc-3.4.4-STEP/gcc/config/s390/linux.h	2005-09-04 10:06:23.665686640 +1200
@@ -86,8 +86,8 @@
       %{!static: \
 	%{rdynamic:-export-dynamic} \
 	%{!dynamic-linker: \
-          %{m31:-dynamic-linker /lib/ld.so.1} \
-          %{m64:-dynamic-linker /lib/ld64.so.1}}}}"
+          %{m31:-dynamic-linker /System/Library/Libraries/Glibc-2.3.4/lib/ld.so.1} \
+          %{m64:-dynamic-linker /System/Library/Libraries/Glibc-2.3.4/lib/ld64.so.1}}}}"
 
 
 #define TARGET_ASM_FILE_END file_end_indicate_exec_stack
diff -urN gcc-3.4.4/gcc/config/sh/linux.h gcc-3.4.4-STEP/gcc/config/sh/linux.h
--- gcc-3.4.4/gcc/config/sh/linux.h	2004-01-12 15:29:13.000000000 +1300
+++ gcc-3.4.4-STEP/gcc/config/sh/linux.h	2005-09-04 10:06:23.666686488 +1200
@@ -77,7 +77,7 @@
   "%{shared:-shared} \
    %{!static: \
      %{rdynamic:-export-dynamic} \
-     %{!dynamic-linker:-dynamic-linker /lib/ld-linux.so.2}} \
+     %{!dynamic-linker:-dynamic-linker /System/Library/Libraries/Glibc-2.3.4/lib/ld-adistro.so.2}} \
    %{static:-static}"
 
 #undef LIB_SPEC
diff -urN gcc-3.4.4/gcc/config/sparc/linux.h gcc-3.4.4-STEP/gcc/config/sparc/linux.h
--- gcc-3.4.4/gcc/config/sparc/linux.h	2004-06-06 15:55:17.000000000 +1200
+++ gcc-3.4.4-STEP/gcc/config/sparc/linux.h	2005-09-04 10:06:23.667686336 +1200
@@ -159,7 +159,7 @@
     %{!ibcs: \
       %{!static: \
         %{rdynamic:-export-dynamic} \
-        %{!dynamic-linker:-dynamic-linker /lib/ld-linux.so.1}} \
+        %{!dynamic-linker:-dynamic-linker /System/Library/Libraries/Glibc-2.3.4/lib/ld-adistro.so.1}} \
         %{static:-static}}}"
 #else
 #define LINK_SPEC "-m elf32_sparc -Y P,/usr/lib %{shared:-shared} \
@@ -168,7 +168,7 @@
     %{!ibcs: \
       %{!static: \
         %{rdynamic:-export-dynamic} \
-        %{!dynamic-linker:-dynamic-linker /lib/ld-linux.so.2}} \
+        %{!dynamic-linker:-dynamic-linker /System/Library/Libraries/Glibc-2.3.4/lib/ld-adistro.so.2}} \
         %{static:-static}}}"
 #endif
 
diff -urN gcc-3.4.4/gcc/config/sparc/linux64.h gcc-3.4.4-STEP/gcc/config/sparc/linux64.h
--- gcc-3.4.4/gcc/config/sparc/linux64.h	2004-06-06 15:55:17.000000000 +1200
+++ gcc-3.4.4-STEP/gcc/config/sparc/linux64.h	2005-09-04 10:06:23.668686184 +1200
@@ -172,7 +172,7 @@
     %{!ibcs: \
       %{!static: \
         %{rdynamic:-export-dynamic} \
-        %{!dynamic-linker:-dynamic-linker /lib/ld-linux.so.2}} \
+        %{!dynamic-linker:-dynamic-linker /System/Library/Libraries/Glibc-2.3.4/lib/ld-adistro.so.2}} \
         %{static:-static}}} \
 "
 
@@ -181,7 +181,7 @@
     %{!ibcs: \
       %{!static: \
         %{rdynamic:-export-dynamic} \
-        %{!dynamic-linker:-dynamic-linker /lib64/ld-linux.so.2}} \
+        %{!dynamic-linker:-dynamic-linker /System/Library/Libraries/Glibc-2.3.4/lib64/ld-adistro.so.2}} \
         %{static:-static}}} \
 "
 
diff -urN gcc-3.4.4/gcc/config/t-gnu gcc-3.4.4-STEP/gcc/config/t-gnu
--- gcc-3.4.4/gcc/config/t-gnu	2004-01-10 19:40:24.000000000 +1300
+++ gcc-3.4.4-STEP/gcc/config/t-gnu	2005-09-04 10:06:23.670685880 +1200
@@ -1,2 +1,2 @@
 # In GNU, "/usr" is a four-letter word.
-NATIVE_SYSTEM_HEADER_DIR = /include
+NATIVE_SYSTEM_HEADER_DIR = /System/Library/Headers
diff -urN gcc-3.4.4/gcc/config/t-linux-uclibc gcc-3.4.4-STEP/gcc/config/t-linux-uclibc
--- gcc-3.4.4/gcc/config/t-linux-uclibc	1970-01-01 12:00:00.000000000 +1200
+++ gcc-3.4.4-STEP/gcc/config/t-linux-uclibc	2005-09-04 10:06:23.670685880 +1200
@@ -0,0 +1,15 @@
+T_CFLAGS = -DUSE_UCLIBC
+
+# Compile crtbeginS.o and crtendS.o with pic.
+CRTSTUFF_T_CFLAGS_S = $(CRTSTUFF_T_CFLAGS) -fPIC
+# Compile libgcc2.a with pic.
+TARGET_LIBGCC2_CFLAGS = -fPIC
+
+# Override t-slibgcc-elf-ver to export some libgcc symbols with
+# the symbol versions that glibc used.
+#SHLIB_MAPFILES += $(srcdir)/config/libgcc-glibc.ver
+
+# Use unwind-dw2-fde
+LIB2ADDEH = $(srcdir)/unwind-dw2.c $(srcdir)/unwind-dw2-fde.c \
+  $(srcdir)/unwind-sjlj.c $(srcdir)/gthr-gnat.c $(srcdir)/unwind-c.c
+LIB2ADDEHDEP = unwind.inc unwind-dw2-fde.h
diff -urN gcc-3.4.4/gcc/config/xtensa/linux.h gcc-3.4.4-STEP/gcc/config/xtensa/linux.h
--- gcc-3.4.4/gcc/config/xtensa/linux.h	2003-11-29 16:08:13.000000000 +1300
+++ gcc-3.4.4-STEP/gcc/config/xtensa/linux.h	2005-09-04 10:06:23.671685728 +1200
@@ -50,7 +50,7 @@
     %{!ibcs: \
       %{!static: \
         %{rdynamic:-export-dynamic} \
-        %{!dynamic-linker:-dynamic-linker /lib/ld.so.1}} \
+        %{!dynamic-linker:-dynamic-linker /System/Library/Libraries/Glibc-2.3.4/lib/ld.so.1}} \
       %{static:-static}}}"
 
 #undef LOCAL_LABEL_PREFIX
diff -urN gcc-3.4.4/gcc/config.gcc gcc-3.4.4-STEP/gcc/config.gcc
--- gcc-3.4.4/gcc/config.gcc	2005-04-25 16:47:59.000000000 +1200
+++ gcc-3.4.4-STEP/gcc/config.gcc	2005-09-04 10:06:23.673685424 +1200
@@ -998,6 +998,11 @@
 		thread_file='single'
 	fi
 	;;
+i[34567]86-*-linux*uclibc*)	# Intel 80386's running GNU/Linux
+				# with ELF format using uClibc
+	tm_file="${tm_file} i386/unix.h i386/att.h dbxelf.h elfos.h svr4.h linux.h i386/linux.h"
+	tmake_file="t-slibgcc-elf-ver t-linux-uclibc i386/t-crtstuff"
+	;;
 i[34567]86-*-linux*)	# Intel 80386's running GNU/Linux
 			# with ELF format using glibc 2
 			# aka GNU/Linux C library 6
diff -urN gcc-3.4.4/gcc/config.in gcc-3.4.4-STEP/gcc/config.in
--- gcc-3.4.4/gcc/config.in	2005-05-19 21:58:00.000000000 +1200
+++ gcc-3.4.4-STEP/gcc/config.in	2005-09-04 10:06:23.675685120 +1200
@@ -355,7 +355,7 @@
 /* Define if mmap with MAP_ANON(YMOUS) works. */
 #undef HAVE_MMAP_ANON
 
-/* Define if mmap of /dev/zero works. */
+/* Define if mmap of /System/Devices/zero works. */
 #undef HAVE_MMAP_DEV_ZERO
 
 /* Define if read-only mmap of a plain file works. */
diff -urN gcc-3.4.4/gcc/configure gcc-3.4.4-STEP/gcc/configure
--- gcc-3.4.4/gcc/configure	2005-01-08 14:20:19.000000000 +1300
+++ gcc-3.4.4-STEP/gcc/configure	2005-09-04 10:06:23.687683296 +1200
@@ -1,4 +1,4 @@
-#! /bin/sh
+#! /System/Tools/sh
 # Guess values for system-dependent variables and create Makefiles.
 # Generated by GNU Autoconf 2.59.
 #
@@ -10,19 +10,19 @@
 ## --------------------- ##
 
 # Be Bourne compatible
-if test -n "${ZSH_VERSION+set}" && (emulate sh) >/dev/null 2>&1; then
+if test -n "${ZSH_VERSION+set}" && (emulate sh) >/System/Devices/null 2>&1; then
   emulate sh
   NULLCMD=:
   # Zsh 3.x and 4.x performs word splitting on ${1+"$@"}, which
   # is contrary to our usage.  Disable this feature.
   alias -g '${1+"$@"}'='"$@"'
-elif test -n "${BASH_VERSION+set}" && (set -o posix) >/dev/null 2>&1; then
+elif test -n "${BASH_VERSION+set}" && (set -o posix) >/System/Devices/null 2>&1; then
   set -o posix
 fi
 DUALCASE=1; export DUALCASE # for MKS sh
 
 # Support unset when possible.
-if ( (MAIL=60; unset MAIL) || exit) >/dev/null 2>&1; then
+if ( (MAIL=60; unset MAIL) || exit) >/System/Devices/null 2>&1; then
   as_unset=unset
 else
   as_unset=false
@@ -49,13 +49,13 @@
 done
 
 # Required to use basename.
-if expr a : '\(a\)' >/dev/null 2>&1; then
+if expr a : '\(a\)' >/System/Devices/null 2>&1; then
   as_expr=expr
 else
   as_expr=false
 fi
 
-if (basename /) >/dev/null 2>&1 && test "X`basename / 2>&1`" = "X/"; then
+if (basename /) >/System/Devices/null 2>&1 && test "X`basename / 2>&1`" = "X/"; then
   as_basename=basename
 else
   as_basename=false
@@ -67,7 +67,7 @@
 $as_expr X/"$0" : '.*/\([^/][^/]*\)/*$' \| \
 	 X"$0" : 'X\(//\)$' \| \
 	 X"$0" : 'X\(/\)$' \| \
-	 .     : '\(.\)' 2>/dev/null ||
+	 .     : '\(.\)' 2>/System/Devices/null ||
 echo X/"$0" |
     sed '/^.*\/\([^/][^/]*\)\/*$/{ s//\1/; q; }
   	  /^X\/\(\/\/\)$/{ s//\1/; q; }
@@ -85,10 +85,10 @@
 
 # The user is always right.
 if test "${PATH_SEPARATOR+set}" != set; then
-  echo "#! /bin/sh" >conf$$.sh
+  echo "#! /System/Tools/sh" >conf$$.sh
   echo  "exit 0"   >>conf$$.sh
   chmod +x conf$$.sh
-  if (PATH="/nonexistent;."; conf$$.sh) >/dev/null 2>&1; then
+  if (PATH="/nonexistent;."; conf$$.sh) >/System/Devices/null 2>&1; then
     PATH_SEPARATOR=';'
   else
     PATH_SEPARATOR=:
@@ -99,7 +99,7 @@
 
   as_lineno_1=$LINENO
   as_lineno_2=$LINENO
-  as_lineno_3=`(expr $as_lineno_1 + 1) 2>/dev/null`
+  as_lineno_3=`(expr $as_lineno_1 + 1) 2>/System/Devices/null`
   test "x$as_lineno_1" != "x$as_lineno_2" &&
   test "x$as_lineno_3"  = "x$as_lineno_2"  || {
   # Find who we are.  Look in the path if we contain no path at all
@@ -138,9 +138,9 @@
 	   if ("$as_dir/$as_base" -c '
   as_lineno_1=$LINENO
   as_lineno_2=$LINENO
-  as_lineno_3=`(expr $as_lineno_1 + 1) 2>/dev/null`
+  as_lineno_3=`(expr $as_lineno_1 + 1) 2>/System/Devices/null`
   test "x$as_lineno_1" != "x$as_lineno_2" &&
-  test "x$as_lineno_3"  = "x$as_lineno_2" ') 2>/dev/null; then
+  test "x$as_lineno_3"  = "x$as_lineno_2" ') 2>/System/Devices/null; then
 	     $as_unset BASH_ENV || test "${BASH_ENV+set}" != set || { BASH_ENV=; export BASH_ENV; }
 	     $as_unset ENV || test "${ENV+set}" != set || { ENV=; export ENV; }
 	     CONFIG_SHELL=$as_dir/$as_base
@@ -191,7 +191,7 @@
   *)       ECHO_N= ECHO_C='\c' ECHO_T= ;;
 esac
 
-if expr a : '\(a\)' >/dev/null 2>&1; then
+if expr a : '\(a\)' >/System/Devices/null 2>&1; then
   as_expr=expr
 else
   as_expr=false
@@ -199,7 +199,7 @@
 
 rm -f conf$$ conf$$.exe conf$$.file
 echo >conf$$.file
-if ln -s conf$$.file conf$$ 2>/dev/null; then
+if ln -s conf$$.file conf$$ 2>/System/Devices/null; then
   # We could just check for DJGPP; but this test a) works b) is more generic
   # and c) will remain valid once DJGPP supports symlinks (DJGPP 2.04).
   if test -f conf$$.exe; then
@@ -208,14 +208,14 @@
   else
     as_ln_s='ln -s'
   fi
-elif ln conf$$.file conf$$ 2>/dev/null; then
+elif ln conf$$.file conf$$ 2>/System/Devices/null; then
   as_ln_s=ln
 else
   as_ln_s='cp -p'
 fi
 rm -f conf$$ conf$$.exe conf$$.file
 
-if mkdir -p . 2>/dev/null; then
+if mkdir -p . 2>/System/Devices/null; then
   as_mkdir_p=:
 else
   test -d ./-p && rmdir ./-p
@@ -244,7 +244,7 @@
 # Name of the host.
 # hostname on some systems (SVR3.2, Linux) returns a bogus exit status,
 # so uname gets run too.
-ac_hostname=`(hostname || uname -n) 2>/dev/null | sed 1q`
+ac_hostname=`(hostname || uname -n) 2>/System/Devices/null | sed 1q`
 
 exec 6>&1
 
@@ -257,7 +257,7 @@
 subdirs=
 MFLAGS=
 MAKEFLAGS=
-SHELL=${CONFIG_SHELL-/bin/sh}
+SHELL=${CONFIG_SHELL-/System/Tools/sh}
 
 # Maximum number of lines to put in a shell here document.
 # This variable seems obsolete.  It should probably be removed, and
@@ -317,7 +317,7 @@
 ac_init_version=false
 # The variables have the same names as the options, with
 # dashes changed to underlines.
-cache_file=/dev/null
+cache_file=/System/Devices/null
 exec_prefix=NONE
 no_create=
 no_recursion=
@@ -395,7 +395,7 @@
   -disable-* | --disable-*)
     ac_feature=`expr "x$ac_option" : 'x-*disable-\(.*\)'`
     # Reject names that are not valid shell variable names.
-    expr "x$ac_feature" : ".*[^-_$as_cr_alnum]" >/dev/null &&
+    expr "x$ac_feature" : ".*[^-_$as_cr_alnum]" >/System/Devices/null &&
       { echo "$as_me: error: invalid feature name: $ac_feature" >&2
    { (exit 1); exit 1; }; }
     ac_feature=`echo $ac_feature | sed 's/-/_/g'`
@@ -404,7 +404,7 @@
   -enable-* | --enable-*)
     ac_feature=`expr "x$ac_option" : 'x-*enable-\([^=]*\)'`
     # Reject names that are not valid shell variable names.
-    expr "x$ac_feature" : ".*[^-_$as_cr_alnum]" >/dev/null &&
+    expr "x$ac_feature" : ".*[^-_$as_cr_alnum]" >/System/Devices/null &&
       { echo "$as_me: error: invalid feature name: $ac_feature" >&2
    { (exit 1); exit 1; }; }
     ac_feature=`echo $ac_feature | sed 's/-/_/g'`
@@ -586,7 +586,7 @@
   -with-* | --with-*)
     ac_package=`expr "x$ac_option" : 'x-*with-\([^=]*\)'`
     # Reject names that are not valid shell variable names.
-    expr "x$ac_package" : ".*[^-_$as_cr_alnum]" >/dev/null &&
+    expr "x$ac_package" : ".*[^-_$as_cr_alnum]" >/System/Devices/null &&
       { echo "$as_me: error: invalid package name: $ac_package" >&2
    { (exit 1); exit 1; }; }
     ac_package=`echo $ac_package| sed 's/-/_/g'`
@@ -599,7 +599,7 @@
   -without-* | --without-*)
     ac_package=`expr "x$ac_option" : 'x-*without-\(.*\)'`
     # Reject names that are not valid shell variable names.
-    expr "x$ac_package" : ".*[^-_$as_cr_alnum]" >/dev/null &&
+    expr "x$ac_package" : ".*[^-_$as_cr_alnum]" >/System/Devices/null &&
       { echo "$as_me: error: invalid package name: $ac_package" >&2
    { (exit 1); exit 1; }; }
     ac_package=`echo $ac_package | sed 's/-/_/g'`
@@ -631,7 +631,7 @@
   *=*)
     ac_envvar=`expr "x$ac_option" : 'x\([^=]*\)='`
     # Reject names that are not valid shell variable names.
-    expr "x$ac_envvar" : ".*[^_$as_cr_alnum]" >/dev/null &&
+    expr "x$ac_envvar" : ".*[^_$as_cr_alnum]" >/System/Devices/null &&
       { echo "$as_me: error: invalid variable name: $ac_envvar" >&2
    { (exit 1); exit 1; }; }
     ac_optarg=`echo "$ac_optarg" | sed "s/'/'\\\\\\\\''/g"`
@@ -641,7 +641,7 @@
   *)
     # FIXME: should be removed in autoconf 3.0.
     echo "$as_me: WARNING: you should use --build, --host, --target" >&2
-    expr "x$ac_option" : ".*[^-._$as_cr_alnum]" >/dev/null &&
+    expr "x$ac_option" : ".*[^-._$as_cr_alnum]" >/System/Devices/null &&
       echo "$as_me: WARNING: invalid host type: $ac_option" >&2
     : ${build_alias=$ac_option} ${host_alias=$ac_option} ${target_alias=$ac_option}
     ;;
@@ -699,19 +699,19 @@
 ac_tool_prefix=
 test -n "$host_alias" && ac_tool_prefix=$host_alias-
 
-test "$silent" = yes && exec 6>/dev/null
+test "$silent" = yes && exec 6>/System/Devices/null
 
 
 # Find the source files, if location was not specified.
 if test -z "$srcdir"; then
   ac_srcdir_defaulted=yes
   # Try the directory containing this script, then its parent.
-  ac_confdir=`(dirname "$0") 2>/dev/null ||
+  ac_confdir=`(dirname "$0") 2>/System/Devices/null ||
 $as_expr X"$0" : 'X\(.*[^/]\)//*[^/][^/]*/*$' \| \
 	 X"$0" : 'X\(//\)[^/]' \| \
 	 X"$0" : 'X\(//\)$' \| \
 	 X"$0" : 'X\(/\)' \| \
-	 .     : '\(.\)' 2>/dev/null ||
+	 .     : '\(.\)' 2>/System/Devices/null ||
 echo X"$0" |
     sed '/^X\(.*[^/]\)\/\/*[^/][^/]*\/*$/{ s//\1/; q; }
   	  /^X\(\/\/\)[^/].*/{ s//\1/; q; }
@@ -734,7 +734,7 @@
    { (exit 1); exit 1; }; }
   fi
 fi
-(cd $srcdir && test -r ./$ac_unique_file) 2>/dev/null ||
+(cd $srcdir && test -r ./$ac_unique_file) 2>/System/Devices/null ||
   { echo "$as_me: error: sources are in $srcdir, but \`cd $srcdir' does not work" >&2
    { (exit 1); exit 1; }; }
 srcdir=`echo "$srcdir" | sed 's%\([^\\/]\)[\\/]*$%\1%'`
@@ -914,6 +914,10 @@
                           with the compiler
   --with-system-zlib      use installed libz
   --with-slibdir=DIR      shared libraries in DIR LIBDIR
+  --with-dynamic-linker=PATH
+                          specifies path to dynamic linker.
+                          example: "/lib/ld-linux.so.2"
+  --with-nostdinc         build gcc to ignore standard include directories
 
 Some influential environment variables:
   CC          C compiler command
@@ -1046,22 +1050,22 @@
 ## Platform. ##
 ## --------- ##
 
-hostname = `(hostname || uname -n) 2>/dev/null | sed 1q`
-uname -m = `(uname -m) 2>/dev/null || echo unknown`
-uname -r = `(uname -r) 2>/dev/null || echo unknown`
-uname -s = `(uname -s) 2>/dev/null || echo unknown`
-uname -v = `(uname -v) 2>/dev/null || echo unknown`
-
-/usr/bin/uname -p = `(/usr/bin/uname -p) 2>/dev/null || echo unknown`
-/bin/uname -X     = `(/bin/uname -X) 2>/dev/null     || echo unknown`
-
-/bin/arch              = `(/bin/arch) 2>/dev/null              || echo unknown`
-/usr/bin/arch -k       = `(/usr/bin/arch -k) 2>/dev/null       || echo unknown`
-/usr/convex/getsysinfo = `(/usr/convex/getsysinfo) 2>/dev/null || echo unknown`
-hostinfo               = `(hostinfo) 2>/dev/null               || echo unknown`
-/bin/machine           = `(/bin/machine) 2>/dev/null           || echo unknown`
-/usr/bin/oslevel       = `(/usr/bin/oslevel) 2>/dev/null       || echo unknown`
-/bin/universe          = `(/bin/universe) 2>/dev/null          || echo unknown`
+hostname = `(hostname || uname -n) 2>/System/Devices/null | sed 1q`
+uname -m = `(uname -m) 2>/System/Devices/null || echo unknown`
+uname -r = `(uname -r) 2>/System/Devices/null || echo unknown`
+uname -s = `(uname -s) 2>/System/Devices/null || echo unknown`
+uname -v = `(uname -v) 2>/System/Devices/null || echo unknown`
+
+/System/Tools/uname -p = `(/System/Tools/uname -p) 2>/System/Devices/null || echo unknown`
+/System/Tools/uname -X     = `(/System/Tools/uname -X) 2>/System/Devices/null     || echo unknown`
+
+/System/Tools/arch              = `(/System/Tools/arch) 2>/System/Devices/null              || echo unknown`
+/System/Tools/arch -k       = `(/System/Tools/arch -k) 2>/System/Devices/null       || echo unknown`
+/usr/convex/getsysinfo = `(/usr/convex/getsysinfo) 2>/System/Devices/null || echo unknown`
+hostinfo               = `(hostinfo) 2>/System/Devices/null               || echo unknown`
+/System/Tools/machine           = `(/System/Tools/machine) 2>/System/Devices/null           || echo unknown`
+/System/Tools/oslevel       = `(/System/Tools/oslevel) 2>/System/Devices/null       || echo unknown`
+/System/Tools/universe          = `(/System/Tools/universe) 2>/System/Devices/null          || echo unknown`
 
 _ASUNAME
 
@@ -1256,9 +1260,9 @@
 # Prefer explicitly selected file to automatically selected ones.
 if test -z "$CONFIG_SITE"; then
   if test "x$prefix" != xNONE; then
-    CONFIG_SITE="$prefix/share/config.site $prefix/etc/config.site"
+    CONFIG_SITE="$prefix/share/config.site $prefix/System/Settings/config.site"
   else
-    CONFIG_SITE="$ac_default_prefix/share/config.site $ac_default_prefix/etc/config.site"
+    CONFIG_SITE="$ac_default_prefix/share/config.site $ac_default_prefix/System/Settings/config.site"
   fi
 fi
 for ac_site_file in $CONFIG_SITE; do
@@ -1271,7 +1275,7 @@
 done
 
 if test -r "$cache_file"; then
-  # Some versions of bash will fail to source /dev/null (special
+  # Some versions of bash will fail to source /System/Devices/null (special
   # files actually), so we avoid doing that.
   if test -f "$cache_file"; then
     { echo "$as_me:$LINENO: loading cache $cache_file" >&5
@@ -1393,7 +1397,7 @@
 ac_configure="$SHELL $ac_aux_dir/configure" # This should be Cygnus configure.
 
 # Make sure we can run config.sub.
-$ac_config_sub sun4 >/dev/null 2>&1 ||
+$ac_config_sub sun4 >/System/Devices/null 2>&1 ||
   { { echo "$as_me:$LINENO: error: cannot run $ac_config_sub" >&5
 echo "$as_me: error: cannot run $ac_config_sub" >&2;}
    { (exit 1); exit 1; }; }
@@ -1694,7 +1698,7 @@
   if test ! -x "$DEFAULT_LINKER"; then
     { echo "$as_me:$LINENO: WARNING: cannot execute: $DEFAULT_LINKER: check --with-ld or env. var. DEFAULT_LINKER" >&5
 echo "$as_me: WARNING: cannot execute: $DEFAULT_LINKER: check --with-ld or env. var. DEFAULT_LINKER" >&2;}
-  elif $DEFAULT_LINKER -v < /dev/null 2>&1 | grep GNU > /dev/null; then
+  elif $DEFAULT_LINKER -v < /System/Devices/null 2>&1 | grep GNU > /System/Devices/null; then
     gnu_ld_flag=yes
   fi
 
@@ -1743,7 +1747,7 @@
   if test ! -x "$DEFAULT_ASSEMBLER"; then
     { echo "$as_me:$LINENO: WARNING: cannot execute: $DEFAULT_ASSEMBLER: check --with-as or env. var. DEFAULT_ASSEMBLER" >&5
 echo "$as_me: WARNING: cannot execute: $DEFAULT_ASSEMBLER: check --with-as or env. var. DEFAULT_ASSEMBLER" >&2;}
-  elif $DEFAULT_ASSEMBLER -v < /dev/null 2>&1 | grep GNU > /dev/null; then
+  elif $DEFAULT_ASSEMBLER -v < /System/Devices/null 2>&1 | grep GNU > /System/Devices/null; then
     gas_flag=yes
   fi
 
@@ -2101,18 +2105,18 @@
 echo "$as_me:$LINENO:" \
      "checking for C compiler version" >&5
 ac_compiler=`set X $ac_compile; echo $2`
-{ (eval echo "$as_me:$LINENO: \"$ac_compiler --version </dev/null >&5\"") >&5
-  (eval $ac_compiler --version </dev/null >&5) 2>&5
+{ (eval echo "$as_me:$LINENO: \"$ac_compiler --version </System/Devices/null >&5\"") >&5
+  (eval $ac_compiler --version </System/Devices/null >&5) 2>&5
   ac_status=$?
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); }
-{ (eval echo "$as_me:$LINENO: \"$ac_compiler -v </dev/null >&5\"") >&5
-  (eval $ac_compiler -v </dev/null >&5) 2>&5
+{ (eval echo "$as_me:$LINENO: \"$ac_compiler -v </System/Devices/null >&5\"") >&5
+  (eval $ac_compiler -v </System/Devices/null >&5) 2>&5
   ac_status=$?
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); }
-{ (eval echo "$as_me:$LINENO: \"$ac_compiler -V </dev/null >&5\"") >&5
-  (eval $ac_compiler -V </dev/null >&5) 2>&5
+{ (eval echo "$as_me:$LINENO: \"$ac_compiler -V </System/Devices/null >&5\"") >&5
+  (eval $ac_compiler -V </System/Devices/null >&5) 2>&5
   ac_status=$?
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); }
@@ -2294,7 +2298,7 @@
   ac_status=$?
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); }; then
-  for ac_file in `(ls conftest.o conftest.obj; ls conftest.*) 2>/dev/null`; do
+  for ac_file in `(ls conftest.o conftest.obj; ls conftest.*) 2>/System/Devices/null`; do
   case $ac_file in
     *.$ac_ext | *.xcoff | *.tds | *.d | *.pdb | *.xSYM | *.bb | *.bbg ) ;;
     *) ac_cv_objext=`expr "$ac_file" : '.*\.\(.*\)'`
@@ -2920,7 +2924,7 @@
   rm -f conftest.er1
   cat conftest.err >&5
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
-  (exit $ac_status); } >/dev/null; then
+  (exit $ac_status); } >/System/Devices/null; then
   if test -s conftest.err; then
     ac_cpp_err=$ac_c_preproc_warn_flag
     ac_cpp_err=$ac_cpp_err$ac_c_werror_flag
@@ -2958,7 +2962,7 @@
   rm -f conftest.er1
   cat conftest.err >&5
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
-  (exit $ac_status); } >/dev/null; then
+  (exit $ac_status); } >/System/Devices/null; then
   if test -s conftest.err; then
     ac_cpp_err=$ac_c_preproc_warn_flag
     ac_cpp_err=$ac_cpp_err$ac_c_werror_flag
@@ -3027,7 +3031,7 @@
   rm -f conftest.er1
   cat conftest.err >&5
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
-  (exit $ac_status); } >/dev/null; then
+  (exit $ac_status); } >/System/Devices/null; then
   if test -s conftest.err; then
     ac_cpp_err=$ac_c_preproc_warn_flag
     ac_cpp_err=$ac_cpp_err$ac_c_werror_flag
@@ -3065,7 +3069,7 @@
   rm -f conftest.er1
   cat conftest.err >&5
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
-  (exit $ac_status); } >/dev/null; then
+  (exit $ac_status); } >/System/Devices/null; then
   if test -s conftest.err; then
     ac_cpp_err=$ac_c_preproc_warn_flag
     ac_cpp_err=$ac_cpp_err$ac_c_werror_flag
@@ -4052,7 +4056,7 @@
 if test "${ac_cv_prog_egrep+set}" = set; then
   echo $ECHO_N "(cached) $ECHO_C" >&6
 else
-  if echo a | (grep -E '(a|b)') >/dev/null 2>&1
+  if echo a | (grep -E '(a|b)') >/System/Devices/null 2>&1
     then ac_cv_prog_egrep='grep -E'
     else ac_cv_prog_egrep='egrep'
     fi
@@ -4129,7 +4133,7 @@
 
 _ACEOF
 if (eval "$ac_cpp conftest.$ac_ext") 2>&5 |
-  $EGREP "memchr" >/dev/null 2>&1; then
+  $EGREP "memchr" >/System/Devices/null 2>&1; then
   :
 else
   ac_cv_header_stdc=no
@@ -4150,7 +4154,7 @@
 
 _ACEOF
 if (eval "$ac_cpp conftest.$ac_ext") 2>&5 |
-  $EGREP "free" >/dev/null 2>&1; then
+  $EGREP "free" >/System/Devices/null 2>&1; then
   :
 else
   ac_cv_header_stdc=no
@@ -4160,7 +4164,7 @@
 fi
 
 if test $ac_cv_header_stdc = yes; then
-  # /bin/cc in Irix-4.0.5 gets non-ANSI ctype macros unless using -ansi.
+  # /System/Tools/cc in Irix-4.0.5 gets non-ANSI ctype macros unless using -ansi.
   if test "$cross_compiling" = yes; then
   :
 else
@@ -4372,7 +4376,7 @@
   rm -f conftest.er1
   cat conftest.err >&5
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
-  (exit $ac_status); } >/dev/null; then
+  (exit $ac_status); } >/System/Devices/null; then
   if test -s conftest.err; then
     ac_cpp_err=$ac_c_preproc_warn_flag
     ac_cpp_err=$ac_cpp_err$ac_c_werror_flag
@@ -4468,7 +4472,7 @@
   rm -f conftest.er1
   cat conftest.err >&5
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
-  (exit $ac_status); } >/dev/null; then
+  (exit $ac_status); } >/System/Devices/null; then
   if test -s conftest.err; then
     ac_cpp_err=$ac_c_preproc_warn_flag
     ac_cpp_err=$ac_cpp_err$ac_c_werror_flag
@@ -4509,7 +4513,7 @@
   rm -f conftest.er1
   cat conftest.err >&5
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
-  (exit $ac_status); } >/dev/null; then
+  (exit $ac_status); } >/System/Devices/null; then
   if test -s conftest.err; then
     ac_cpp_err=$ac_c_preproc_warn_flag
     ac_cpp_err=$ac_cpp_err$ac_c_werror_flag
@@ -4534,10 +4538,10 @@
 # Prepare PATH_SEPARATOR.
 # The user is always right.
 if test "${PATH_SEPARATOR+set}" != set; then
-  echo "#! /bin/sh" >conf$$.sh
+  echo "#! /System/Tools/sh" >conf$$.sh
   echo  "exit 0"   >>conf$$.sh
   chmod +x conf$$.sh
-  if (PATH="/nonexistent;."; conf$$.sh) >/dev/null 2>&1; then
+  if (PATH="/nonexistent;."; conf$$.sh) >/System/Devices/null 2>&1; then
     PATH_SEPARATOR=';'
   else
     PATH_SEPARATOR=:
@@ -4548,11 +4552,11 @@
 # Find out how to test for executable files. Don't use a zero-byte file,
 # as systems may use methods other than mode bits to determine executability.
 cat >conf$$.file <<_ASEOF
-#! /bin/sh
+#! /System/Tools/sh
 exit 0
 _ASEOF
 chmod +x conf$$.file
-if test -x conf$$.file >/dev/null 2>&1; then
+if test -x conf$$.file >/System/Devices/null 2>&1; then
   ac_executable_p="test -x"
 else
   ac_executable_p="test -f"
@@ -4577,7 +4581,7 @@
       test -z "$ac_dir" && ac_dir=.
       for ac_exec_ext in '' $ac_executable_extensions; do
         if $ac_executable_p "$ac_dir/$ac_word$ac_exec_ext"; then
-          if $ac_dir/$ac_word --version | grep valgrind- >/dev/null 2>&1; then
+          if $ac_dir/$ac_word --version | grep valgrind- >/System/Devices/null 2>&1; then
             ac_cv_path_valgrind_path="$ac_dir/$ac_word$ac_exec_ext"
             break 2
           fi
@@ -4808,6 +4812,34 @@
   onestep=""
 fi;
 
+# Check whether --with-dynamic-linker= was given.
+
+if test "${with_dynamic_linker+set}" = set; then
+  withval="$with_dynamic_linker"
+  case "${withval}" in
+yes)    { { echo "$as_me:$LINENO: error: bad value ${withval} given for dynamic linker" >&5
+echo "$as_me: error: bad value ${withval} given for dynamic linker" >&2;}
+   { (exit 1); exit 1; }; } ;;
+no)     ;;
+*)	if test -e $withval ; then
+	DYNAMICLINKER=$withval
+	else
+	echo "$as_me: error: bad value $withval given for dynamic linker. No such file." >&2
+	exit 1
+	fi ;;
+esac
+fi;
+
+# Check whether --with-nostdinc was given.
+
+if test "${with_nostdinc+set}" = set; then
+  withval="$with_nostdinc"
+  case "${withval}" in
+yes)	NOSTDINC="-DNOSTDINC" ;;
+no)	;;
+*)	NOSTDINC="-DNOSTDINC" ;;
+esac
+fi;
 
 # -------------------------
 # Checks for other programs
@@ -4824,7 +4856,7 @@
 	@echo 'ac_maketemp="$(MAKE)"'
 _ACEOF
 # GNU make sometimes prints "make[1]: Entering...", which would confuse us.
-eval `${MAKE-make} -f conftest.make 2>/dev/null | grep temp=`
+eval `${MAKE-make} -f conftest.make 2>/System/Devices/null | grep temp=`
 if test -n "$ac_maketemp"; then
   eval ac_cv_prog_make_${ac_make}_set=yes
 else
@@ -4899,11 +4931,11 @@
 else
   rm -f conftestdata_t
 echo >conftestdata_f
-if ln conftestdata_f conftestdata_t 2>/dev/null
+if ln conftestdata_f conftestdata_t 2>/System/Devices/null
 then
   gcc_cv_prog_LN="ln"
 else
-  if ln -s conftestdata_f conftestdata_t 2>/dev/null
+  if ln -s conftestdata_f conftestdata_t 2>/System/Devices/null
   then
     gcc_cv_prog_LN="ln -s"
   else
@@ -4934,11 +4966,11 @@
 else
   rm -f conftestdata_t
 echo >conftestdata_f
-if ln -s conftestdata_f conftestdata_t 2>/dev/null
+if ln -s conftestdata_f conftestdata_t 2>/System/Devices/null
 then
   gcc_cv_prog_LN_S="ln -s"
 else
-  if ln conftestdata_f conftestdata_t 2>/dev/null
+  if ln conftestdata_f conftestdata_t 2>/System/Devices/null
   then
     gcc_cv_prog_LN_S=ln
   else
@@ -5045,8 +5077,8 @@
 # Find a good install program.  We prefer a C program (faster),
 # so one script is as good as another.  But avoid the broken or
 # incompatible versions:
-# SysV /etc/install, /usr/sbin/install
-# SunOS /usr/etc/install
+# SysV /System/Settings/install, /usr/sbin/install
+# SunOS /usr/System/Settings/install
 # IRIX /sbin/install
 # AIX /bin/install
 # AFS /usr/afsws/bin/install, which mishandles nonexistent args
@@ -5062,13 +5094,13 @@
   for ac_dir in $PATH; do
     # Account for people who put trailing slashes in PATH elements.
     case "$ac_dir/" in
-    /|./|.//|/etc/*|/usr/sbin/*|/usr/etc/*|/sbin/*|/usr/afsws/bin/*|/usr/ucb/*) ;;
+    /|./|.//|/System/Settings/*|/usr/sbin/*|/usr/System/Settings/*|/sbin/*|/usr/afsws/bin/*|/usr/ucb/*) ;;
     *)
       # OSF1 and SCO ODT 3.0 have their own names for install.
       for ac_prog in ginstall scoinst install; do
         if test -f $ac_dir/$ac_prog; then
 	  if test $ac_prog = install &&
-            grep dspmsg $ac_dir/$ac_prog >/dev/null 2>&1; then
+            grep dspmsg $ac_dir/$ac_prog >/System/Devices/null 2>&1; then
 	    # AIX install.  It has an incompatible calling convention.
 	    # OSF/1 installbsd also uses dspmsg, but is usable.
 	    :
@@ -5113,16 +5145,16 @@
    echo abfoo >t1
   echo cdfoo >t2
   gcc_cv_prog_cmp_skip=slowcompare
-  if cmp --ignore-initial=2 t1 t2 > /dev/null 2>&1; then
-    if cmp --ignore-initial=1 t1 t2 > /dev/null 2>&1; then
+  if cmp --ignore-initial=2 t1 t2 > /System/Devices/null 2>&1; then
+    if cmp --ignore-initial=1 t1 t2 > /System/Devices/null 2>&1; then
       :
     else
       gcc_cv_prog_cmp_skip=gnucompare
     fi
   fi
   if test $gcc_cv_prog_cmp_skip = slowcompare ; then
-    if cmp t1 t2 2 2 > /dev/null 2>&1; then
-      if cmp t1 t2 1 1 > /dev/null 2>&1; then
+    if cmp t1 t2 2 2 > /System/Devices/null 2>&1; then
+      if cmp t1 t2 1 1 > /System/Devices/null 2>&1; then
         :
       else
         gcc_cv_prog_cmp_skip=fastcompare
@@ -5261,7 +5293,7 @@
 # Is pod2man recent enough to regenerate manpages?
 echo "$as_me:$LINENO: checking for recent Pod::Man" >&5
 echo $ECHO_N "checking for recent Pod::Man... $ECHO_C" >&6
-if (perl -e 'use 1.10 Pod::Man') >/dev/null 2>&1; then
+if (perl -e 'use 1.10 Pod::Man') >/System/Devices/null 2>&1; then
   echo "$as_me:$LINENO: result: yes" >&5
 echo "${ECHO_T}yes" >&6
   GENERATED_MANPAGES=generated-manpages
@@ -5299,7 +5331,7 @@
 done
 done
 
-  test -z "$ac_cv_prog_FLEX" && ac_cv_prog_FLEX="${CONFIG_SHELL-/bin/sh} ${srcdir}/../missing flex"
+  test -z "$ac_cv_prog_FLEX" && ac_cv_prog_FLEX="${CONFIG_SHELL-/System/Tools/sh} ${srcdir}/../missing flex"
 fi
 fi
 FLEX=$ac_cv_prog_FLEX
@@ -5342,7 +5374,7 @@
 done
 done
 
-  test -z "$ac_cv_prog_BISON" && ac_cv_prog_BISON="${CONFIG_SHELL-/bin/sh} ${srcdir}/../missing bison"
+  test -z "$ac_cv_prog_BISON" && ac_cv_prog_BISON="${CONFIG_SHELL-/System/Tools/sh} ${srcdir}/../missing bison"
 fi
 fi
 BISON=$ac_cv_prog_BISON
@@ -5497,7 +5529,7 @@
 
 _ACEOF
 if (eval "$ac_cpp conftest.$ac_ext") 2>&5 |
-  $EGREP "memchr" >/dev/null 2>&1; then
+  $EGREP "memchr" >/System/Devices/null 2>&1; then
   :
 else
   ac_cv_header_stdc=no
@@ -5518,7 +5550,7 @@
 
 _ACEOF
 if (eval "$ac_cpp conftest.$ac_ext") 2>&5 |
-  $EGREP "free" >/dev/null 2>&1; then
+  $EGREP "free" >/System/Devices/null 2>&1; then
   :
 else
   ac_cv_header_stdc=no
@@ -5902,7 +5934,7 @@
   rm -f conftest.er1
   cat conftest.err >&5
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
-  (exit $ac_status); } >/dev/null; then
+  (exit $ac_status); } >/System/Devices/null; then
   if test -s conftest.err; then
     ac_cpp_err=$ac_c_preproc_warn_flag
     ac_cpp_err=$ac_cpp_err$ac_c_werror_flag
@@ -5954,7 +5986,7 @@
   rm -f conftest.er1
   cat conftest.err >&5
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
-  (exit $ac_status); } >/dev/null; then
+  (exit $ac_status); } >/System/Devices/null; then
   if test -s conftest.err; then
     ac_cpp_err=$ac_c_preproc_warn_flag
     ac_cpp_err=$ac_cpp_err$ac_c_werror_flag
@@ -6002,7 +6034,7 @@
   rm -f conftest.er1
   cat conftest.err >&5
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
-  (exit $ac_status); } >/dev/null; then
+  (exit $ac_status); } >/System/Devices/null; then
   if test -s conftest.err; then
     ac_cpp_err=$ac_c_preproc_warn_flag
     ac_cpp_err=$ac_cpp_err$ac_c_werror_flag
@@ -6051,7 +6083,7 @@
 #endif
 _ACEOF
 if (eval "$ac_cpp conftest.$ac_ext") 2>&5 |
-  $EGREP "found" >/dev/null 2>&1; then
+  $EGREP "found" >/System/Devices/null 2>&1; then
   gcc_cv_decl_char_bit=yes
 else
   gcc_cv_decl_char_bit=no
@@ -7055,7 +7087,7 @@
 
 _ACEOF
 if (eval "$ac_cpp conftest.$ac_ext") 2>&5 |
-  $EGREP "uid_t" >/dev/null 2>&1; then
+  $EGREP "uid_t" >/System/Devices/null 2>&1; then
   ac_cv_type_uid_t=yes
 else
   ac_cv_type_uid_t=no
@@ -7148,7 +7180,7 @@
 
 _ACEOF
 if (eval "$ac_cpp conftest.$ac_ext") 2>&5 |
-  $EGREP "getgroups.*int.*gid_t" >/dev/null 2>&1; then
+  $EGREP "getgroups.*int.*gid_t" >/System/Devices/null 2>&1; then
   ac_cv_type_getgroups=gid_t
 else
   ac_cv_type_getgroups=int
@@ -7266,13 +7298,13 @@
 fi
 echo "$as_me:$LINENO: result: $gcc_cv_func_mmap_file" >&5
 echo "${ECHO_T}$gcc_cv_func_mmap_file" >&6
-   echo "$as_me:$LINENO: checking whether mmap from /dev/zero works" >&5
-echo $ECHO_N "checking whether mmap from /dev/zero works... $ECHO_C" >&6
+   echo "$as_me:$LINENO: checking whether mmap from /System/Devices/zero works" >&5
+echo $ECHO_N "checking whether mmap from /System/Devices/zero works... $ECHO_C" >&6
 if test "${gcc_cv_func_mmap_dev_zero+set}" = set; then
   echo $ECHO_N "(cached) $ECHO_C" >&6
 else
-  # Add a system to this blacklist if it has mmap() but /dev/zero
-   # does not exist, or if mmapping /dev/zero does not give anonymous
+  # Add a system to this blacklist if it has mmap() but /System/Devices/zero
+   # does not exist, or if mmapping /System/Devices/zero does not give anonymous
    # zeroed pages with both the following properties:
    # 1. If you map N consecutive pages in with one call, and then
    #    unmap any subset of those pages, the pages that were not
@@ -7291,7 +7323,7 @@
 echo "$as_me:$LINENO: result: $gcc_cv_func_mmap_dev_zero" >&5
 echo "${ECHO_T}$gcc_cv_func_mmap_dev_zero" >&6
 
-   # Unlike /dev/zero, the MAP_ANON(YMOUS) defines can be probed for.
+   # Unlike /System/Devices/zero, the MAP_ANON(YMOUS) defines can be probed for.
    echo "$as_me:$LINENO: checking for MAP_ANON(YMOUS)" >&5
 echo $ECHO_N "checking for MAP_ANON(YMOUS)... $ECHO_C" >&6
 if test "${gcc_cv_decl_map_anon+set}" = set; then
@@ -7364,7 +7396,7 @@
   # Add a system to this blacklist if it has mmap() and MAP_ANON or
    # MAP_ANONYMOUS, but using mmap(..., MAP_PRIVATE|MAP_ANONYMOUS, -1, 0)
    # doesn't give anonymous zeroed pages with the same properties listed
-   # above for use of /dev/zero.
+   # above for use of /System/Devices/zero.
    # Systems known to be in this category are Windows, VMS, and SCO Unix.
    case "$host_os" in
      vms* | cygwin* | pe | mingw* | sco* | udk* )
@@ -7500,7 +7532,7 @@
   rm -f conftest.er1
   cat conftest.err >&5
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
-  (exit $ac_status); } >/dev/null; then
+  (exit $ac_status); } >/System/Devices/null; then
   if test -s conftest.err; then
     ac_cpp_err=$ac_c_preproc_warn_flag
     ac_cpp_err=$ac_cpp_err$ac_c_werror_flag
@@ -7904,7 +7936,7 @@
   rm -f conftest.er1
   cat conftest.err >&5
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
-  (exit $ac_status); } >/dev/null; then
+  (exit $ac_status); } >/System/Devices/null; then
   if test -s conftest.err; then
     ac_cpp_err=$ac_c_preproc_warn_flag
     ac_cpp_err=$ac_cpp_err$ac_c_werror_flag
@@ -9728,7 +9760,7 @@
 # FLAGS_TO_PASS so CC="stage1/xgcc -Bstage1/" works.
 # Otherwise, we can use "CC=$(CC)".
 rm -f symtest.tem
-if $symbolic_link $srcdir/gcc.c symtest.tem 2>/dev/null
+if $symbolic_link $srcdir/gcc.c symtest.tem 2>/System/Devices/null
 then
 	cc_set_by_configure="\$(CC)"
 	quoted_cc_set_by_configure="\$(CC)"
@@ -9736,7 +9768,7 @@
 	quoted_stage_prefix_set_by_configure="\$(STAGE_PREFIX)"
 else
 	rm -f symtest.tem
-	if cp -p $srcdir/gcc.c symtest.tem 2>/dev/null
+	if cp -p $srcdir/gcc.c symtest.tem 2>/System/Devices/null
 	then
 		symbolic_link="cp -p"
 	else
@@ -9987,11 +10019,11 @@
 			    + $gcc_cv_gas_patch_version`
 
   rm -f as$host_exeext
-  $symbolic_link ../gas/as-new$host_exeext as$host_exeext 2>/dev/null
+  $symbolic_link ../gas/as-new$host_exeext as$host_exeext 2>/System/Devices/null
   in_tree_gas_is_elf=no
-  if grep 'obj_format = elf' ../gas/Makefile > /dev/null \
+  if grep 'obj_format = elf' ../gas/Makefile > /System/Devices/null \
      || (grep 'obj_format = multi' ../gas/Makefile \
-         && grep 'extra_objects =.* obj-elf' ../gas/Makefile) > /dev/null
+         && grep 'extra_objects =.* obj-elf' ../gas/Makefile) > /System/Devices/null
   then
     in_tree_gas_is_elf=yes
   fi
@@ -10095,7 +10127,7 @@
 	in_tree_ld=yes
 	in_tree_ld_is_elf=no
 	if (grep 'EMUL = .*elf' ../ld/Makefile \
-	    || grep 'EMUL = .*linux' ../ld/Makefile) > /dev/null; then
+	    || grep 'EMUL = .*linux' ../ld/Makefile) > /System/Devices/null; then
 	  in_tree_ld_is_elf=yes
 	fi
 	for f in $gcc_cv_ld_bfd_srcdir/configure $gcc_cv_ld_gld_srcdir/configure $gcc_cv_ld_gld_srcdir/configure.in $gcc_cv_ld_gld_srcdir/Makefile.in
@@ -10109,7 +10141,7 @@
 	gcc_cv_gld_minor_version=`expr "$gcc_cv_gld_version" : "VERSION=[0-9]*\.\([0-9]*\)"`
 	rm -f collect-ld$host_exeext
 	$symbolic_link ../ld/ld-new$host_exeext collect-ld$host_exeext \
-		2>/dev/null
+		2>/System/Devices/null
 fi
 
 if test "x$gcc_cv_ld" = x; then
@@ -10195,7 +10227,7 @@
 	in_tree_nm=yes
 	gcc_cv_nm=./nm$host_exeext
 	rm -f nm$host_exeext
-	$symbolic_link ../binutils/nm-new$host_exeext nm$host_exeext 2>/dev/null
+	$symbolic_link ../binutils/nm-new$host_exeext nm$host_exeext 2>/System/Devices/null
 elif test "x$program_prefix" != xNONE; then
 	gcc_cv_nm=${program_prefix}nm$host_exeext
 else
@@ -10221,7 +10253,7 @@
 	gcc_cv_objdump=./objdump$host_exeext
 	rm -f objdump$host_exeext
 	$symbolic_link ../binutils/objdump$host_exeext \
-		objdump$host_exeext 2>/dev/null
+		objdump$host_exeext 2>/System/Devices/null
 elif test "x$program_prefix" != xNONE; then
 	gcc_cv_objdump=${program_prefix}objdump$host_exeext
 else
@@ -10337,7 +10369,7 @@
 	if test x$gcc_cv_nm != x; then
     $gcc_cv_nm conftest.o | grep conftest_label1 > conftest.nm1
     $gcc_cv_nm conftest.o | grep conftest_label2 | sed -e 's/label2/label1/' > conftest.nm2
-    if cmp conftest.nm1 conftest.nm2 > /dev/null 2>&1
+    if cmp conftest.nm1 conftest.nm2 > /System/Devices/null 2>&1
     then :
     else gcc_cv_as_subsection_m1=yes
     fi
@@ -10488,8 +10520,8 @@
   fi
 else
   gcc_cv_ld_hidden=yes
-  ld_ver=`$gcc_cv_ld --version 2>/dev/null | sed 1q`
-  if echo "$ld_ver" | grep GNU > /dev/null; then
+  ld_ver=`$gcc_cv_ld --version 2>/System/Devices/null | sed 1q`
+  if echo "$ld_ver" | grep GNU > /System/Devices/null; then
     ld_vers=`echo $ld_ver | sed -n \
 	-e 's,^.*[	 ]\([0-9][0-9]*\.[0-9][0-9]*\)$,\1,p' \
 	-e 's,^.*[	 ]\([0-9][0-9]*\.[0-9][0-9]*\.[0-9][0-9]*\)$,\1,p' \
@@ -10575,8 +10607,8 @@
   # ??? There exists an elf-specific test that will crash
   # the assembler.  Perhaps it's better to figure out whether
   # arbitrary sections are supported and try the test.
-  as_ver=`$gcc_cv_as --version 2>/dev/null | sed 1q`
-  if echo "$as_ver" | grep GNU > /dev/null; then
+  as_ver=`$gcc_cv_as --version 2>/System/Devices/null | sed 1q`
+  if echo "$as_ver" | grep GNU > /System/Devices/null; then
     as_ver=`echo $as_ver | sed -e 's/GNU assembler \([0-9.][0-9.]*\).*/\1/'`
     as_major=`echo $as_ver | sed 's/\..*//'`
     as_minor=`echo $as_ver | sed 's/[^.]*\.\([0-9]*\).*/\1/'`
@@ -10668,13 +10700,13 @@
   # If the assembler didn't choke, and we can objdump,
   # and we got the correct data, then succeed.
   if test x$gcc_cv_objdump != x \
-  && $gcc_cv_objdump -s -j .eh_frame conftest.o 2>/dev/null \
+  && $gcc_cv_objdump -s -j .eh_frame conftest.o 2>/System/Devices/null \
      | tail -3 > conftest.got \
-  && { cmp conftest.lit conftest.got > /dev/null 2>&1 \
-    || cmp conftest.big conftest.got > /dev/null 2>&1; }
+  && { cmp conftest.lit conftest.got > /System/Devices/null 2>&1 \
+    || cmp conftest.big conftest.got > /System/Devices/null 2>&1; }
   then
     gcc_cv_as_eh_frame=yes
-  elif { ac_try='$gcc_cv_as -o conftest.o --traditional-format /dev/null'
+  elif { ac_try='$gcc_cv_as -o conftest.o --traditional-format /System/Devices/null'
   { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
   (eval $ac_try) 2>&5
   ac_status=$?
@@ -11221,7 +11253,7 @@
   (exit $ac_status); }; }
     then
 	if test x$gcc_cv_ld != x \
-       && $gcc_cv_ld -o conftest conftest.o -G > /dev/null 2>&1; then
+       && $gcc_cv_ld -o conftest conftest.o -G > /System/Devices/null 2>&1; then
 	 gcc_cv_as_sparc_ua_pcrel=yes
        fi
        rm -f conftest
@@ -11265,11 +11297,11 @@
   (exit $ac_status); }; }
     then
 	if test x$gcc_cv_ld != x && test x$gcc_cv_objdump != x \
-	 && $gcc_cv_ld -o conftest conftest.o -G > /dev/null 2>&1 \
-	 && $gcc_cv_objdump -s -j .data conftest 2> /dev/null \
-	    | grep ' 31000000 07323334' > /dev/null 2>&1; then
-	    if $gcc_cv_objdump -R conftest 2> /dev/null \
-	       | grep 'DISP32' > /dev/null 2>&1; then
+	 && $gcc_cv_ld -o conftest conftest.o -G > /System/Devices/null 2>&1 \
+	 && $gcc_cv_objdump -s -j .data conftest 2> /System/Devices/null \
+	    | grep ' 31000000 07323334' > /System/Devices/null 2>&1; then
+	    if $gcc_cv_objdump -R conftest 2> /System/Devices/null \
+	       | grep 'DISP32' > /System/Devices/null 2>&1; then
 		:
 	    else
 		gcc_cv_as_sparc_ua_pcrel_hidden=yes
@@ -11313,8 +11345,8 @@
   (exit $ac_status); }; }
     then
 	if test x$gcc_cv_objdump != x \
-       && $gcc_cv_objdump -s -j .text conftest.o 2> /dev/null \
-          | grep ' 82106000 82106000' > /dev/null 2>&1; then
+       && $gcc_cv_objdump -s -j .text conftest.o 2> /System/Devices/null \
+          | grep ' 82106000 82106000' > /System/Devices/null 2>&1; then
 	 gcc_cv_as_sparc_offsetable_lo10=yes
        fi
     else
@@ -11624,7 +11656,7 @@
   (exit $ac_status); }; }
     then
 	# ??? This fails with non-gnu grep.  Maybe use objdump?
-   if grep debug_line conftest.o > /dev/null 2>&1; then
+   if grep debug_line conftest.o > /System/Devices/null 2>&1; then
      gcc_cv_as_dwarf2_debug_line=yes
    fi
     else
@@ -11740,7 +11772,7 @@
 	# The native Solaris 9/Intel assembler doesn't understand --gstabs
    # and warns about it, but still exits successfully.  So check for
    # this.
-   if { ac_try='$gcc_cv_as --gstabs -o conftest.o conftest.s 2>&1 | grep -i warning > /dev/null'
+   if { ac_try='$gcc_cv_as --gstabs -o conftest.o conftest.s 2>&1 | grep -i warning > /System/Devices/null'
   { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
   (eval $ac_try) 2>&5
   ac_status=$?
@@ -11781,15 +11813,15 @@
   echo '.byte 1' >> conftest2.s
   echo '.section myfoosect, "a"' > conftest3.s
   echo '.byte 0' >> conftest3.s
-  if $gcc_cv_as -o conftest1.o conftest1.s > /dev/null 2>&1 \
-     && $gcc_cv_as -o conftest2.o conftest2.s > /dev/null 2>&1 \
-     && $gcc_cv_as -o conftest3.o conftest3.s > /dev/null 2>&1 \
+  if $gcc_cv_as -o conftest1.o conftest1.s > /System/Devices/null 2>&1 \
+     && $gcc_cv_as -o conftest2.o conftest2.s > /System/Devices/null 2>&1 \
+     && $gcc_cv_as -o conftest3.o conftest3.s > /System/Devices/null 2>&1 \
      && $gcc_cv_ld -shared -o conftest1.so conftest1.o \
-	conftest2.o conftest3.o > /dev/null 2>&1; then
+	conftest2.o conftest3.o > /System/Devices/null 2>&1; then
     gcc_cv_ld_ro_rw_mix=`$gcc_cv_objdump -h conftest1.so \
 			 | sed -e '/myfoosect/!d' -e N`
-    if echo "$gcc_cv_ld_ro_rw_mix" | grep CONTENTS > /dev/null; then
-      if echo "$gcc_cv_ld_ro_rw_mix" | grep READONLY > /dev/null; then
+    if echo "$gcc_cv_ld_ro_rw_mix" | grep CONTENTS > /System/Devices/null; then
+      if echo "$gcc_cv_ld_ro_rw_mix" | grep READONLY > /System/Devices/null; then
 	gcc_cv_ld_ro_rw_mix=read-only
       else
 	gcc_cv_ld_ro_rw_mix=read-write
@@ -11818,7 +11850,7 @@
   fi
 elif test x$gcc_cv_ld != x; then
 	# Check if linker supports --eh-frame-hdr option
-	if $gcc_cv_ld --help 2>/dev/null | grep eh-frame-hdr > /dev/null; then
+	if $gcc_cv_ld --help 2>/System/Devices/null | grep eh-frame-hdr > /System/Devices/null; then
 		gcc_cv_ld_eh_frame_hdr=yes
 	fi
 fi
@@ -11842,7 +11874,7 @@
   fi
 elif test x$gcc_cv_ld != x; then
 	# Check if linker supports -pie option
-	if $gcc_cv_ld --help 2>/dev/null | grep -- -pie > /dev/null; then
+	if $gcc_cv_ld --help 2>/System/Devices/null | grep -- -pie > /System/Devices/null; then
 		gcc_cv_ld_pie=yes
 	fi
 fi
@@ -11865,8 +11897,8 @@
   fi
 elif test x$gcc_cv_ld != x; then
 	# Check if linker supports -Bstatic/-Bdynamic option
-	if $gcc_cv_ld --help 2>/dev/null | grep -- -Bstatic > /dev/null \
-	  && $gcc_cv_ld --help 2>/dev/null | grep -- -Bdynamic > /dev/null; then
+	if $gcc_cv_ld --help 2>/System/Devices/null | grep -- -Bstatic > /System/Devices/null \
+	  && $gcc_cv_ld --help 2>/System/Devices/null | grep -- -Bdynamic > /System/Devices/null; then
 		gcc_cv_ld_static_dynamic=yes
 	fi
 fi
@@ -11895,7 +11927,7 @@
       fi
     elif test x$gcc_cv_ld != x; then
       # Check if linker supports --as-needed and --no-as-needed options
-      if $gcc_cv_ld --help 2>/dev/null | grep as-needed > /dev/null; then
+      if $gcc_cv_ld --help 2>/System/Devices/null | grep as-needed > /System/Devices/null; then
         gcc_cv_ld_as_needed=yes
       fi
     fi
@@ -12476,9 +12508,9 @@
      t end
      /^ac_cv_env/!s/^\([^=]*\)=\(.*\)$/\1=${\1=\2}/
      : end' >>confcache
-if diff $cache_file confcache >/dev/null 2>&1; then :; else
+if diff $cache_file confcache >/System/Devices/null 2>&1; then :; else
   if test -w $cache_file; then
-    test "x$cache_file" != "x/dev/null" && echo "updating cache $cache_file"
+    test "x$cache_file" != "x/System/Devices/null" && echo "updating cache $cache_file"
     cat confcache >$cache_file
   else
     echo "not updating unwritable cache $cache_file"
@@ -12547,19 +12579,19 @@
 ## --------------------- ##
 
 # Be Bourne compatible
-if test -n "${ZSH_VERSION+set}" && (emulate sh) >/dev/null 2>&1; then
+if test -n "${ZSH_VERSION+set}" && (emulate sh) >/System/Devices/null 2>&1; then
   emulate sh
   NULLCMD=:
   # Zsh 3.x and 4.x performs word splitting on ${1+"$@"}, which
   # is contrary to our usage.  Disable this feature.
   alias -g '${1+"$@"}'='"$@"'
-elif test -n "${BASH_VERSION+set}" && (set -o posix) >/dev/null 2>&1; then
+elif test -n "${BASH_VERSION+set}" && (set -o posix) >/System/Devices/null 2>&1; then
   set -o posix
 fi
 DUALCASE=1; export DUALCASE # for MKS sh
 
 # Support unset when possible.
-if ( (MAIL=60; unset MAIL) || exit) >/dev/null 2>&1; then
+if ( (MAIL=60; unset MAIL) || exit) >/System/Devices/null 2>&1; then
   as_unset=unset
 else
   as_unset=false
@@ -12586,13 +12618,13 @@
 done
 
 # Required to use basename.
-if expr a : '\(a\)' >/dev/null 2>&1; then
+if expr a : '\(a\)' >/System/Devices/null 2>&1; then
   as_expr=expr
 else
   as_expr=false
 fi
 
-if (basename /) >/dev/null 2>&1 && test "X`basename / 2>&1`" = "X/"; then
+if (basename /) >/System/Devices/null 2>&1 && test "X`basename / 2>&1`" = "X/"; then
   as_basename=basename
 else
   as_basename=false
@@ -12604,7 +12636,7 @@
 $as_expr X/"$0" : '.*/\([^/][^/]*\)/*$' \| \
 	 X"$0" : 'X\(//\)$' \| \
 	 X"$0" : 'X\(/\)$' \| \
-	 .     : '\(.\)' 2>/dev/null ||
+	 .     : '\(.\)' 2>/System/Devices/null ||
 echo X/"$0" |
     sed '/^.*\/\([^/][^/]*\)\/*$/{ s//\1/; q; }
   	  /^X\/\(\/\/\)$/{ s//\1/; q; }
@@ -12622,10 +12654,10 @@
 
 # The user is always right.
 if test "${PATH_SEPARATOR+set}" != set; then
-  echo "#! /bin/sh" >conf$$.sh
+  echo "#! /System/Tools/sh" >conf$$.sh
   echo  "exit 0"   >>conf$$.sh
   chmod +x conf$$.sh
-  if (PATH="/nonexistent;."; conf$$.sh) >/dev/null 2>&1; then
+  if (PATH="/nonexistent;."; conf$$.sh) >/System/Devices/null 2>&1; then
     PATH_SEPARATOR=';'
   else
     PATH_SEPARATOR=:
@@ -12636,7 +12668,7 @@
 
   as_lineno_1=$LINENO
   as_lineno_2=$LINENO
-  as_lineno_3=`(expr $as_lineno_1 + 1) 2>/dev/null`
+  as_lineno_3=`(expr $as_lineno_1 + 1) 2>/System/Devices/null`
   test "x$as_lineno_1" != "x$as_lineno_2" &&
   test "x$as_lineno_3"  = "x$as_lineno_2"  || {
   # Find who we are.  Look in the path if we contain no path at all
@@ -12676,9 +12708,9 @@
 	   if ("$as_dir/$as_base" -c '
   as_lineno_1=$LINENO
   as_lineno_2=$LINENO
-  as_lineno_3=`(expr $as_lineno_1 + 1) 2>/dev/null`
+  as_lineno_3=`(expr $as_lineno_1 + 1) 2>/System/Devices/null`
   test "x$as_lineno_1" != "x$as_lineno_2" &&
-  test "x$as_lineno_3"  = "x$as_lineno_2" ') 2>/dev/null; then
+  test "x$as_lineno_3"  = "x$as_lineno_2" ') 2>/System/Devices/null; then
 	     $as_unset BASH_ENV || test "${BASH_ENV+set}" != set || { BASH_ENV=; export BASH_ENV; }
 	     $as_unset ENV || test "${ENV+set}" != set || { ENV=; export ENV; }
 	     CONFIG_SHELL=$as_dir/$as_base
@@ -12730,7 +12762,7 @@
   *)       ECHO_N= ECHO_C='\c' ECHO_T= ;;
 esac
 
-if expr a : '\(a\)' >/dev/null 2>&1; then
+if expr a : '\(a\)' >/System/Devices/null 2>&1; then
   as_expr=expr
 else
   as_expr=false
@@ -12738,7 +12770,7 @@
 
 rm -f conf$$ conf$$.exe conf$$.file
 echo >conf$$.file
-if ln -s conf$$.file conf$$ 2>/dev/null; then
+if ln -s conf$$.file conf$$ 2>/System/Devices/null; then
   # We could just check for DJGPP; but this test a) works b) is more generic
   # and c) will remain valid once DJGPP supports symlinks (DJGPP 2.04).
   if test -f conf$$.exe; then
@@ -12747,14 +12779,14 @@
   else
     as_ln_s='ln -s'
   fi
-elif ln conf$$.file conf$$ 2>/dev/null; then
+elif ln conf$$.file conf$$ 2>/System/Devices/null; then
   as_ln_s=ln
 else
   as_ln_s='cp -p'
 fi
 rm -f conf$$ conf$$.exe conf$$.file
 
-if mkdir -p . 2>/dev/null; then
+if mkdir -p . 2>/System/Devices/null; then
   as_mkdir_p=:
 else
   test -d ./-p && rmdir ./-p
@@ -12803,7 +12835,7 @@
   $ $0 $@
 
 _CSEOF
-echo "on `(hostname || uname -n) 2>/dev/null | sed 1q`" >&5
+echo "on `(hostname || uname -n) 2>/System/Devices/null | sed 1q`" >&5
 echo >&5
 _ACEOF
 
@@ -12936,7 +12968,7 @@
 ac_configure_extra_args=
 
 if $ac_cs_silent; then
-  exec 6>/dev/null
+  exec 6>/System/Devices/null
   ac_configure_extra_args="$ac_configure_extra_args --silent"
 fi
 
@@ -12999,7 +13031,7 @@
 # Create a (secure) tmp directory for tmp files.
 
 {
-  tmp=`(umask 077 && mktemp -d -q "./confstatXXXXXX") 2>/dev/null` &&
+  tmp=`(umask 077 && mktemp -d -q "./confstatXXXXXX") 2>/System/Devices/null` &&
   test -n "$tmp" && test -d "$tmp"
 }  ||
 {
@@ -13098,6 +13130,8 @@
 s,@TARGET_SYSTEM_ROOT_DEFINE@,$TARGET_SYSTEM_ROOT_DEFINE,;t t
 s,@CROSS_SYSTEM_HEADER_DIR@,$CROSS_SYSTEM_HEADER_DIR,;t t
 s,@onestep@,$onestep,;t t
+s,@DYNAMICLINKER@,$DYNAMICLINKER,;t t
+s,@NOSTDINC@,$NOSTDINC,;t t
 s,@SET_MAKE@,$SET_MAKE,;t t
 s,@AWK@,$AWK,;t t
 s,@LN@,$LN,;t t
@@ -13283,12 +13317,12 @@
   esac
 
   # Compute @srcdir@, @top_srcdir@, and @INSTALL@ for subdirectories.
-  ac_dir=`(dirname "$ac_file") 2>/dev/null ||
+  ac_dir=`(dirname "$ac_file") 2>/System/Devices/null ||
 $as_expr X"$ac_file" : 'X\(.*[^/]\)//*[^/][^/]*/*$' \| \
 	 X"$ac_file" : 'X\(//\)[^/]' \| \
 	 X"$ac_file" : 'X\(//\)$' \| \
 	 X"$ac_file" : 'X\(/\)' \| \
-	 .     : '\(.\)' 2>/dev/null ||
+	 .     : '\(.\)' 2>/System/Devices/null ||
 echo X"$ac_file" |
     sed '/^X\(.*[^/]\)\/\/*[^/][^/]*\/*$/{ s//\1/; q; }
   	  /^X\(\/\/\)[^/].*/{ s//\1/; q; }
@@ -13302,12 +13336,12 @@
     as_dirs=
     while test ! -d "$as_dir"; do
       as_dirs="$as_dir $as_dirs"
-      as_dir=`(dirname "$as_dir") 2>/dev/null ||
+      as_dir=`(dirname "$as_dir") 2>/System/Devices/null ||
 $as_expr X"$as_dir" : 'X\(.*[^/]\)//*[^/][^/]*/*$' \| \
 	 X"$as_dir" : 'X\(//\)[^/]' \| \
 	 X"$as_dir" : 'X\(//\)$' \| \
 	 X"$as_dir" : 'X\(/\)' \| \
-	 .     : '\(.\)' 2>/dev/null ||
+	 .     : '\(.\)' 2>/System/Devices/null ||
 echo X"$as_dir" |
     sed '/^X\(.*[^/]\)\/\/*[^/][^/]*\/*$/{ s//\1/; q; }
   	  /^X\(\/\/\)[^/].*/{ s//\1/; q; }
@@ -13423,7 +13457,7 @@
 	   # Source tree
 	   echo "$srcdir/$f"
 	 else
-	   # /dev/null tree
+	   # /System/Devices/null tree
 	   { { echo "$as_me:$LINENO: error: cannot find input file: $f" >&5
 echo "$as_me: error: cannot find input file: $f" >&2;}
    { (exit 1); exit 1; }; }
@@ -13514,7 +13548,7 @@
 	   # Source tree
 	   echo "$srcdir/$f"
 	 else
-	   # /dev/null tree
+	   # /System/Devices/null tree
 	   { { echo "$as_me:$LINENO: error: cannot find input file: $f" >&5
 echo "$as_me: error: cannot find input file: $f" >&2;}
    { (exit 1); exit 1; }; }
@@ -13567,11 +13601,11 @@
 # Break up conftest.defines because some shells have a limit on the size
 # of here documents, and old seds have small limits too (100 cmds).
 echo '  # Handle all the #define templates only if necessary.' >>$CONFIG_STATUS
-echo '  if grep "^[	 ]*#[	 ]*define" $tmp/in >/dev/null; then' >>$CONFIG_STATUS
+echo '  if grep "^[	 ]*#[	 ]*define" $tmp/in >/System/Devices/null; then' >>$CONFIG_STATUS
 echo '  # If there are no defines, we may have an empty if/fi' >>$CONFIG_STATUS
 echo '  :' >>$CONFIG_STATUS
 rm -f conftest.tail
-while grep . conftest.defines >/dev/null
+while grep . conftest.defines >/System/Devices/null
 do
   # Write a limited-size here document to $tmp/defines.sed.
   echo '  cat >$tmp/defines.sed <<CEOF' >>$CONFIG_STATUS
@@ -13598,7 +13632,7 @@
 # of here documents, and old seds have small limits too (100 cmds).
 echo '  # Handle all the #undef templates' >>$CONFIG_STATUS
 rm -f conftest.tail
-while grep . conftest.undefs >/dev/null
+while grep . conftest.undefs >/System/Devices/null
 do
   # Write a limited-size here document to $tmp/undefs.sed.
   echo '  cat >$tmp/undefs.sed <<CEOF' >>$CONFIG_STATUS
@@ -13631,16 +13665,16 @@
   cat $tmp/in >>$tmp/config.h
   rm -f $tmp/in
   if test x"$ac_file" != x-; then
-    if diff $ac_file $tmp/config.h >/dev/null 2>&1; then
+    if diff $ac_file $tmp/config.h >/System/Devices/null 2>&1; then
       { echo "$as_me:$LINENO: $ac_file is unchanged" >&5
 echo "$as_me: $ac_file is unchanged" >&6;}
     else
-      ac_dir=`(dirname "$ac_file") 2>/dev/null ||
+      ac_dir=`(dirname "$ac_file") 2>/System/Devices/null ||
 $as_expr X"$ac_file" : 'X\(.*[^/]\)//*[^/][^/]*/*$' \| \
 	 X"$ac_file" : 'X\(//\)[^/]' \| \
 	 X"$ac_file" : 'X\(//\)$' \| \
 	 X"$ac_file" : 'X\(/\)' \| \
-	 .     : '\(.\)' 2>/dev/null ||
+	 .     : '\(.\)' 2>/System/Devices/null ||
 echo X"$ac_file" |
     sed '/^X\(.*[^/]\)\/\/*[^/][^/]*\/*$/{ s//\1/; q; }
   	  /^X\(\/\/\)[^/].*/{ s//\1/; q; }
@@ -13654,12 +13688,12 @@
     as_dirs=
     while test ! -d "$as_dir"; do
       as_dirs="$as_dir $as_dirs"
-      as_dir=`(dirname "$as_dir") 2>/dev/null ||
+      as_dir=`(dirname "$as_dir") 2>/System/Devices/null ||
 $as_expr X"$as_dir" : 'X\(.*[^/]\)//*[^/][^/]*/*$' \| \
 	 X"$as_dir" : 'X\(//\)[^/]' \| \
 	 X"$as_dir" : 'X\(//\)$' \| \
 	 X"$as_dir" : 'X\(/\)' \| \
-	 .     : '\(.\)' 2>/dev/null ||
+	 .     : '\(.\)' 2>/System/Devices/null ||
 echo X"$as_dir" |
     sed '/^X\(.*[^/]\)\/\/*[^/][^/]*\/*$/{ s//\1/; q; }
   	  /^X\(\/\/\)[^/].*/{ s//\1/; q; }
@@ -13689,12 +13723,12 @@
 for ac_file in : $CONFIG_COMMANDS; do test "x$ac_file" = x: && continue
   ac_dest=`echo "$ac_file" | sed 's,:.*,,'`
   ac_source=`echo "$ac_file" | sed 's,[^:]*:,,'`
-  ac_dir=`(dirname "$ac_dest") 2>/dev/null ||
+  ac_dir=`(dirname "$ac_dest") 2>/System/Devices/null ||
 $as_expr X"$ac_dest" : 'X\(.*[^/]\)//*[^/][^/]*/*$' \| \
 	 X"$ac_dest" : 'X\(//\)[^/]' \| \
 	 X"$ac_dest" : 'X\(//\)$' \| \
 	 X"$ac_dest" : 'X\(/\)' \| \
-	 .     : '\(.\)' 2>/dev/null ||
+	 .     : '\(.\)' 2>/System/Devices/null ||
 echo X"$ac_dest" |
     sed '/^X\(.*[^/]\)\/\/*[^/][^/]*\/*$/{ s//\1/; q; }
   	  /^X\(\/\/\)[^/].*/{ s//\1/; q; }
@@ -13708,12 +13742,12 @@
     as_dirs=
     while test ! -d "$as_dir"; do
       as_dirs="$as_dir $as_dirs"
-      as_dir=`(dirname "$as_dir") 2>/dev/null ||
+      as_dir=`(dirname "$as_dir") 2>/System/Devices/null ||
 $as_expr X"$as_dir" : 'X\(.*[^/]\)//*[^/][^/]*/*$' \| \
 	 X"$as_dir" : 'X\(//\)[^/]' \| \
 	 X"$as_dir" : 'X\(//\)$' \| \
 	 X"$as_dir" : 'X\(/\)' \| \
-	 .     : '\(.\)' 2>/dev/null ||
+	 .     : '\(.\)' 2>/System/Devices/null ||
 echo X"$as_dir" |
     sed '/^X\(.*[^/]\)\/\/*[^/][^/]*\/*$/{ s//\1/; q; }
   	  /^X\(\/\/\)[^/].*/{ s//\1/; q; }
@@ -13818,7 +13852,7 @@
 	for t in stage1 stage2 stage3 stage4 stageprofile stagefeedback include
 	do
 		rm -f $t
-		$symbolic_link ../$t $t 2>/dev/null
+		$symbolic_link ../$t $t 2>/System/Devices/null
 	done
 	cd $STARTDIR
  done
@@ -13840,7 +13874,7 @@
 # config.status does its own redirection, appending to config.log.
 # Unfortunately, on DOS this fails, as config.log is still kept open
 # by configure, so config.status won't be able to write to it; its
-# output is simply discarded.  So we exec the FD to /dev/null,
+# output is simply discarded.  So we exec the FD to /System/Devices/null,
 # effectively closing config.log, so it can be properly (re)opened and
 # appended to by config.status.  When coming back to configure, we
 # need to make the FD available again.
@@ -13849,7 +13883,7 @@
   ac_config_status_args=
   test "$silent" = yes &&
     ac_config_status_args="$ac_config_status_args --quiet"
-  exec 5>/dev/null
+  exec 5>/System/Devices/null
   $SHELL $CONFIG_STATUS $ac_config_status_args || ac_cs_success=false
   exec 5>>config.log
   # Use ||, not &&, to avoid exiting from the if with $? = 1, which
diff -urN gcc-3.4.4/gcc/configure.ac gcc-3.4.4-STEP/gcc/configure.ac
--- gcc-3.4.4/gcc/configure.ac	2005-01-08 14:20:19.000000000 +1300
+++ gcc-3.4.4-STEP/gcc/configure.ac	2005-09-04 10:06:23.691682688 +1200
@@ -193,7 +193,7 @@
 if test x"${DEFAULT_LINKER+set}" = x"set"; then
   if test ! -x "$DEFAULT_LINKER"; then
     AC_MSG_WARN([cannot execute: $DEFAULT_LINKER: check --with-ld or env. var. DEFAULT_LINKER])
-  elif $DEFAULT_LINKER -v < /dev/null 2>&1 | grep GNU > /dev/null; then
+  elif $DEFAULT_LINKER -v < /System/Devices/null 2>&1 | grep GNU > /System/Devices/null; then
     gnu_ld_flag=yes
   fi
   AC_DEFINE_UNQUOTED(DEFAULT_LINKER,"$DEFAULT_LINKER",
@@ -227,7 +227,7 @@
 if test x"${DEFAULT_ASSEMBLER+set}" = x"set"; then
   if test ! -x "$DEFAULT_ASSEMBLER"; then
     AC_MSG_WARN([cannot execute: $DEFAULT_ASSEMBLER: check --with-as or env. var. DEFAULT_ASSEMBLER])
-  elif $DEFAULT_ASSEMBLER -v < /dev/null 2>&1 | grep GNU > /dev/null; then
+  elif $DEFAULT_ASSEMBLER -v < /System/Devices/null 2>&1 | grep GNU > /System/Devices/null; then
     gas_flag=yes
   fi
   AC_DEFINE_UNQUOTED(DEFAULT_ASSEMBLER,"$DEFAULT_ASSEMBLER",
@@ -448,7 +448,7 @@
   gcc_cv_header_memcheck_h=no)
   AC_MSG_RESULT($gcc_cv_header_memcheck_h)
   AM_PATH_PROG_WITH_TEST(valgrind_path, valgrind,
-	[$ac_dir/$ac_word --version | grep valgrind- >/dev/null 2>&1])
+	[$ac_dir/$ac_word --version | grep valgrind- >/System/Devices/null 2>&1])
   if test "x$valgrind_path" = "x" \
     || (test $have_valgrind_h = no \
 	&& test $gcc_cv_header_memcheck_h = no \
@@ -662,7 +662,7 @@
 
 # Is pod2man recent enough to regenerate manpages?
 AC_MSG_CHECKING([for recent Pod::Man])
-if (perl -e 'use 1.10 Pod::Man') >/dev/null 2>&1; then
+if (perl -e 'use 1.10 Pod::Man') >/System/Devices/null 2>&1; then
   AC_MSG_RESULT(yes)
   GENERATED_MANPAGES=generated-manpages		AC_SUBST(GENERATED_MANPAGES)
 else
@@ -676,7 +676,7 @@
 if test -f $srcdir/../flex/skel.c; then
   FLEX='$(objdir)/../flex/flex'
 else
-  AC_CHECK_PROG(FLEX, flex, flex, ${CONFIG_SHELL-/bin/sh} ${srcdir}/../missing flex)
+  AC_CHECK_PROG(FLEX, flex, flex, ${CONFIG_SHELL-/System/Tools/sh} ${srcdir}/../missing flex)
 fi
 
 # Bison?
@@ -684,7 +684,7 @@
 if test -f $srcdir/../bison/bison.simple; then
   BISON='$(objdir)/../bison/bison -L $(srcdir)/../bison/'
 else
-  AC_CHECK_PROG(BISON, bison, bison, ${CONFIG_SHELL-/bin/sh} ${srcdir}/../missing bison)
+  AC_CHECK_PROG(BISON, bison, bison, ${CONFIG_SHELL-/System/Tools/sh} ${srcdir}/../missing bison)
 fi
 
 # --------------------
@@ -1336,7 +1336,7 @@
 # FLAGS_TO_PASS so CC="stage1/xgcc -Bstage1/" works.
 # Otherwise, we can use "CC=$(CC)".
 rm -f symtest.tem
-if $symbolic_link $srcdir/gcc.c symtest.tem 2>/dev/null
+if $symbolic_link $srcdir/gcc.c symtest.tem 2>/System/Devices/null
 then
 	cc_set_by_configure="\$(CC)"
 	quoted_cc_set_by_configure="\$(CC)"
@@ -1344,7 +1344,7 @@
 	quoted_stage_prefix_set_by_configure="\$(STAGE_PREFIX)"
 else
 	rm -f symtest.tem
-	if cp -p $srcdir/gcc.c symtest.tem 2>/dev/null
+	if cp -p $srcdir/gcc.c symtest.tem 2>/System/Devices/null
 	then
 		symbolic_link="cp -p"
 	else
@@ -1575,11 +1575,11 @@
   in_tree_gas=yes
   _gcc_COMPUTE_GAS_VERSION
   rm -f as$host_exeext
-  $symbolic_link ../gas/as-new$host_exeext as$host_exeext 2>/dev/null
+  $symbolic_link ../gas/as-new$host_exeext as$host_exeext 2>/System/Devices/null
   in_tree_gas_is_elf=no
-  if grep 'obj_format = elf' ../gas/Makefile > /dev/null \
+  if grep 'obj_format = elf' ../gas/Makefile > /System/Devices/null \
      || (grep 'obj_format = multi' ../gas/Makefile \
-         && grep 'extra_objects =.* obj-elf' ../gas/Makefile) > /dev/null
+         && grep 'extra_objects =.* obj-elf' ../gas/Makefile) > /System/Devices/null
   then
     in_tree_gas_is_elf=yes
   fi
@@ -1680,7 +1680,7 @@
 	in_tree_ld=yes
 	in_tree_ld_is_elf=no
 	if (grep 'EMUL = .*elf' ../ld/Makefile \
-	    || grep 'EMUL = .*linux' ../ld/Makefile) > /dev/null; then
+	    || grep 'EMUL = .*linux' ../ld/Makefile) > /System/Devices/null; then
 	  in_tree_ld_is_elf=yes
 	fi
 	for f in $gcc_cv_ld_bfd_srcdir/configure $gcc_cv_ld_gld_srcdir/configure $gcc_cv_ld_gld_srcdir/configure.in $gcc_cv_ld_gld_srcdir/Makefile.in
@@ -1698,7 +1698,7 @@
 changequote([,])dnl
 	rm -f collect-ld$host_exeext
 	$symbolic_link ../ld/ld-new$host_exeext collect-ld$host_exeext \
-		2>/dev/null
+		2>/System/Devices/null
 fi
 
 if test "x$gcc_cv_ld" = x; then
@@ -1781,7 +1781,7 @@
 	in_tree_nm=yes
 	gcc_cv_nm=./nm$host_exeext
 	rm -f nm$host_exeext
-	$symbolic_link ../binutils/nm-new$host_exeext nm$host_exeext 2>/dev/null
+	$symbolic_link ../binutils/nm-new$host_exeext nm$host_exeext 2>/System/Devices/null
 elif test "x$program_prefix" != xNONE; then
 	gcc_cv_nm=${program_prefix}nm$host_exeext
 else
@@ -1804,7 +1804,7 @@
 	gcc_cv_objdump=./objdump$host_exeext
 	rm -f objdump$host_exeext
 	$symbolic_link ../binutils/objdump$host_exeext \
-		objdump$host_exeext 2>/dev/null
+		objdump$host_exeext 2>/System/Devices/null
 elif test "x$program_prefix" != xNONE; then
 	gcc_cv_objdump=${program_prefix}objdump$host_exeext
 else
@@ -1840,7 +1840,7 @@
  [if test x$gcc_cv_nm != x; then
     $gcc_cv_nm conftest.o | grep conftest_label1 > conftest.nm1
     $gcc_cv_nm conftest.o | grep conftest_label2 | sed -e 's/label2/label1/' > conftest.nm2
-    if cmp conftest.nm1 conftest.nm2 > /dev/null 2>&1
+    if cmp conftest.nm1 conftest.nm2 > /System/Devices/null 2>&1
     then :
     else gcc_cv_as_subsection_m1=yes
     fi
@@ -1882,8 +1882,8 @@
   fi
 else
   gcc_cv_ld_hidden=yes
-  ld_ver=`$gcc_cv_ld --version 2>/dev/null | sed 1q`
-  if echo "$ld_ver" | grep GNU > /dev/null; then
+  ld_ver=`$gcc_cv_ld --version 2>/System/Devices/null | sed 1q`
+  if echo "$ld_ver" | grep GNU > /System/Devices/null; then
 changequote(,)dnl
     ld_vers=`echo $ld_ver | sed -n \
 	-e 's,^.*[	 ]\([0-9][0-9]*\.[0-9][0-9]*\)$,\1,p' \
@@ -1948,8 +1948,8 @@
   # ??? There exists an elf-specific test that will crash
   # the assembler.  Perhaps it's better to figure out whether
   # arbitrary sections are supported and try the test.
-  as_ver=`$gcc_cv_as --version 2>/dev/null | sed 1q`
-  if echo "$as_ver" | grep GNU > /dev/null; then
+  as_ver=`$gcc_cv_as --version 2>/System/Devices/null | sed 1q`
+  if echo "$as_ver" | grep GNU > /System/Devices/null; then
 changequote(,)dnl
     as_ver=`echo $as_ver | sed -e 's/GNU assembler \([0-9.][0-9.]*\).*/\1/'`
     as_major=`echo $as_ver | sed 's/\..*//'`
@@ -2013,13 +2013,13 @@
   # If the assembler didn't choke, and we can objdump,
   # and we got the correct data, then succeed.
   if test x$gcc_cv_objdump != x \
-  && $gcc_cv_objdump -s -j .eh_frame conftest.o 2>/dev/null \
+  && $gcc_cv_objdump -s -j .eh_frame conftest.o 2>/System/Devices/null \
      | tail -3 > conftest.got \
-  && { cmp conftest.lit conftest.got > /dev/null 2>&1 \
-    || cmp conftest.big conftest.got > /dev/null 2>&1; }
+  && { cmp conftest.lit conftest.got > /System/Devices/null 2>&1 \
+    || cmp conftest.big conftest.got > /System/Devices/null 2>&1; }
   then
     gcc_cv_as_eh_frame=yes
-  elif AC_TRY_COMMAND($gcc_cv_as -o conftest.o --traditional-format /dev/null); then
+  elif AC_TRY_COMMAND($gcc_cv_as -o conftest.o --traditional-format /System/Devices/null); then
     gcc_cv_as_eh_frame=buggy
   else
     # Uh oh, what do we do now?
@@ -2359,7 +2359,7 @@
 .byte 0
 .uaword %r_disp32(foo)],
       [if test x$gcc_cv_ld != x \
-       && $gcc_cv_ld -o conftest conftest.o -G > /dev/null 2>&1; then
+       && $gcc_cv_ld -o conftest conftest.o -G > /System/Devices/null 2>&1; then
 	 gcc_cv_as_sparc_ua_pcrel=yes
        fi
        rm -f conftest],
@@ -2379,11 +2379,11 @@
 foo:
 .skip 4],
 	[if test x$gcc_cv_ld != x && test x$gcc_cv_objdump != x \
-	 && $gcc_cv_ld -o conftest conftest.o -G > /dev/null 2>&1 \
-	 && $gcc_cv_objdump -s -j .data conftest 2> /dev/null \
-	    | grep ' 31000000 07323334' > /dev/null 2>&1; then
-	    if $gcc_cv_objdump -R conftest 2> /dev/null \
-	       | grep 'DISP32' > /dev/null 2>&1; then
+	 && $gcc_cv_ld -o conftest conftest.o -G > /System/Devices/null 2>&1 \
+	 && $gcc_cv_objdump -s -j .data conftest 2> /System/Devices/null \
+	    | grep ' 31000000 07323334' > /System/Devices/null 2>&1; then
+	    if $gcc_cv_objdump -R conftest 2> /System/Devices/null \
+	       | grep 'DISP32' > /System/Devices/null 2>&1; then
 		:
 	    else
 		gcc_cv_as_sparc_ua_pcrel_hidden=yes
@@ -2401,8 +2401,8 @@
 	or %g1, %lo(ab) + 12, %g1
 	or %g1, %lo(ab + 12), %g1],
       [if test x$gcc_cv_objdump != x \
-       && $gcc_cv_objdump -s -j .text conftest.o 2> /dev/null \
-          | grep ' 82106000 82106000' > /dev/null 2>&1; then
+       && $gcc_cv_objdump -s -j .text conftest.o 2> /System/Devices/null \
+          | grep ' 82106000 82106000' > /System/Devices/null 2>&1; then
 	 gcc_cv_as_sparc_offsetable_lo10=yes
        fi],
        [AC_DEFINE(HAVE_AS_OFFSETABLE_LO10, 1,
@@ -2506,7 +2506,7 @@
   gcc_cv_as_dwarf2_debug_line,
   [elf,2,11,0],, [$conftest_s],
   [# ??? This fails with non-gnu grep.  Maybe use objdump?
-   if grep debug_line conftest.o > /dev/null 2>&1; then
+   if grep debug_line conftest.o > /System/Devices/null 2>&1; then
      gcc_cv_as_dwarf2_debug_line=yes
    fi])
 
@@ -2538,7 +2538,7 @@
   [# The native Solaris 9/Intel assembler doesn't understand --gstabs
    # and warns about it, but still exits successfully.  So check for
    # this.
-   if AC_TRY_COMMAND([$gcc_cv_as --gstabs -o conftest.o conftest.s 2>&1 | grep -i warning > /dev/null])
+   if AC_TRY_COMMAND([$gcc_cv_as --gstabs -o conftest.o conftest.s 2>&1 | grep -i warning > /System/Devices/null])
    then :
    else gcc_cv_as_gstabs_flag=yes
    fi],
@@ -2559,15 +2559,15 @@
   echo '.byte 1' >> conftest2.s
   echo '.section myfoosect, "a"' > conftest3.s
   echo '.byte 0' >> conftest3.s
-  if $gcc_cv_as -o conftest1.o conftest1.s > /dev/null 2>&1 \
-     && $gcc_cv_as -o conftest2.o conftest2.s > /dev/null 2>&1 \
-     && $gcc_cv_as -o conftest3.o conftest3.s > /dev/null 2>&1 \
+  if $gcc_cv_as -o conftest1.o conftest1.s > /System/Devices/null 2>&1 \
+     && $gcc_cv_as -o conftest2.o conftest2.s > /System/Devices/null 2>&1 \
+     && $gcc_cv_as -o conftest3.o conftest3.s > /System/Devices/null 2>&1 \
      && $gcc_cv_ld -shared -o conftest1.so conftest1.o \
-	conftest2.o conftest3.o > /dev/null 2>&1; then
+	conftest2.o conftest3.o > /System/Devices/null 2>&1; then
     gcc_cv_ld_ro_rw_mix=`$gcc_cv_objdump -h conftest1.so \
 			 | sed -e '/myfoosect/!d' -e N`
-    if echo "$gcc_cv_ld_ro_rw_mix" | grep CONTENTS > /dev/null; then
-      if echo "$gcc_cv_ld_ro_rw_mix" | grep READONLY > /dev/null; then
+    if echo "$gcc_cv_ld_ro_rw_mix" | grep CONTENTS > /System/Devices/null; then
+      if echo "$gcc_cv_ld_ro_rw_mix" | grep READONLY > /System/Devices/null; then
 	gcc_cv_ld_ro_rw_mix=read-only
       else
 	gcc_cv_ld_ro_rw_mix=read-write
@@ -2594,7 +2594,7 @@
   fi
 elif test x$gcc_cv_ld != x; then
 	# Check if linker supports --eh-frame-hdr option
-	if $gcc_cv_ld --help 2>/dev/null | grep eh-frame-hdr > /dev/null; then
+	if $gcc_cv_ld --help 2>/System/Devices/null | grep eh-frame-hdr > /System/Devices/null; then
 		gcc_cv_ld_eh_frame_hdr=yes
 	fi
 fi
@@ -2613,7 +2613,7 @@
   fi
 elif test x$gcc_cv_ld != x; then
 	# Check if linker supports -pie option
-	if $gcc_cv_ld --help 2>/dev/null | grep -- -pie > /dev/null; then
+	if $gcc_cv_ld --help 2>/System/Devices/null | grep -- -pie > /System/Devices/null; then
 		gcc_cv_ld_pie=yes
 	fi
 fi
@@ -2631,8 +2631,8 @@
   fi
 elif test x$gcc_cv_ld != x; then
 	# Check if linker supports -Bstatic/-Bdynamic option
-	if $gcc_cv_ld --help 2>/dev/null | grep -- -Bstatic > /dev/null \
-	  && $gcc_cv_ld --help 2>/dev/null | grep -- -Bdynamic > /dev/null; then
+	if $gcc_cv_ld --help 2>/System/Devices/null | grep -- -Bstatic > /System/Devices/null \
+	  && $gcc_cv_ld --help 2>/System/Devices/null | grep -- -Bdynamic > /System/Devices/null; then
 		gcc_cv_ld_static_dynamic=yes
 	fi
 fi
@@ -2654,7 +2654,7 @@
       fi
     elif test x$gcc_cv_ld != x; then
       # Check if linker supports --as-needed and --no-as-needed options
-      if $gcc_cv_ld --help 2>/dev/null | grep as-needed > /dev/null; then
+      if $gcc_cv_ld --help 2>/System/Devices/null | grep as-needed > /System/Devices/null; then
         gcc_cv_ld_as_needed=yes
       fi
     fi
@@ -3175,7 +3175,7 @@
 	for t in stage1 stage2 stage3 stage4 stageprofile stagefeedback include
 	do
 		rm -f $t
-		$symbolic_link ../$t $t 2>/dev/null
+		$symbolic_link ../$t $t 2>/System/Devices/null
 	done
 	cd $STARTDIR
  done
diff -urN gcc-3.4.4/gcc/cppdefault.c gcc-3.4.4-STEP/gcc/cppdefault.c
--- gcc-3.4.4/gcc/cppdefault.c	2003-03-02 03:31:12.000000000 +1300
+++ gcc-3.4.4-STEP/gcc/cppdefault.c	2005-09-04 10:06:23.692682536 +1200
@@ -26,7 +26,7 @@
 #include "cppdefault.h"
 
 #ifndef STANDARD_INCLUDE_DIR
-#define STANDARD_INCLUDE_DIR "/usr/include"
+#define STANDARD_INCLUDE_DIR "/System/Library/Headers"
 #endif
 
 #ifndef STANDARD_INCLUDE_COMPONENT
diff -urN gcc-3.4.4/gcc/doc/g77.1 gcc-3.4.4-STEP/gcc/doc/g77.1
--- gcc-3.4.4/gcc/doc/g77.1	2005-05-19 22:02:20.000000000 +1200
+++ gcc-3.4.4-STEP/gcc/doc/g77.1	2005-09-04 10:06:23.694682232 +1200
@@ -383,7 +383,7 @@
 via \fBg77\fR or \fBgcc\fR
 However, such developers should, after linking a new \f(CW\*(C`f771\*(C'\fR
 executable, invoke it without this option once,
-e.g. via \f(CW\*(C`./f771 \-quiet < /dev/null\*(C'\fR,
+e.g. via \f(CW\*(C`./f771 \-quiet < /System/Devices/null\*(C'\fR,
 to ensure that they have not introduced any
 internal inconsistencies (such as in the table of
 intrinsics) before proceeding\-\-\-\fBg77\fR will crash
diff -urN gcc-3.4.4/gcc/doc/g77.info gcc-3.4.4-STEP/gcc/doc/g77.info
--- gcc-3.4.4/gcc/doc/g77.info	2005-05-19 22:02:14.000000000 +1200
+++ gcc-3.4.4-STEP/gcc/doc/g77.info	2005-09-04 10:06:23.714679192 +1200
@@ -1626,7 +1626,7 @@
      by hand to get the same defaults as they would running `f771' via
      `g77' or `gcc' However, such developers should, after linking a
      new `f771' executable, invoke it without this option once, e.g.
-     via `./f771 -quiet < /dev/null', to ensure that they have not
+     via `./f771 -quiet < /System/Devices/null', to ensure that they have not
      introduced any internal inconsistencies (such as in the table of
      intrinsics) before proceeding--`g77' will crash with a diagnostic
      if it detects an inconsistency.
@@ -3069,7 +3069,7 @@
           ICE on valid input using CALL EXIT(%VAL(...))
 
     `4752'
-          g77 -v -c -xf77-version /dev/null -xnone causes ice
+          g77 -v -c -xf77-version /System/Devices/null -xnone causes ice
 
     `4885'
           BACKSPACE example that doesn't work as of gcc/g77-3.0.x
@@ -4400,7 +4400,7 @@
           ICE on valid input using CALL EXIT(%VAL(...))
 
     `4752'
-          g77 -v -c -xf77-version /dev/null -xnone causes ice
+          g77 -v -c -xf77-version /System/Devices/null -xnone causes ice
 
     `4885'
           BACKSPACE example that doesn't work as of gcc/g77-3.0.x
@@ -18445,8 +18445,8 @@
 at the end of the constant.  This null byte is superfluous.
 
    `g77' does not generate such null bytes.  This represents significant
-savings of resources, such as on systems where `/dev/null' or
-`/dev/zero' represent bottlenecks in the systems' performance, because
+savings of resources, such as on systems where `/System/Devices/null' or
+`/System/Devices/zero' represent bottlenecks in the systems' performance, because
 `g77' simply asks for fewer zeros from the operating system than `f2c'.
 (Avoiding spurious use of zero bytes, each byte typically have eight
 zero bits, also reduces the liabilities in case Microsoft's rumored
diff -urN gcc-3.4.4/gcc/doc/gccinstall.info gcc-3.4.4-STEP/gcc/doc/gccinstall.info
--- gcc-3.4.4/gcc/doc/gccinstall.info	2005-05-19 22:02:14.000000000 +1200
+++ gcc-3.4.4-STEP/gcc/doc/gccinstall.info	2005-09-04 10:06:23.719678432 +1200
@@ -133,9 +133,9 @@
      instructions for more specific information.
 
 A "working" POSIX compatible shell, or GNU bash
-     Necessary when running `configure' because some `/bin/sh' shells
+     Necessary when running `configure' because some `/System/Tools/sh' shells
      have bugs and may crash when configuring the target libraries.  In
-     other cases, `/bin/sh' or even some `ksh' have disastrous
+     other cases, `/System/Tools/sh' or even some `ksh' have disastrous
      corner-case performance problems.  This can cause target
      `configure' runs to literally take days to complete in some cases.
 
@@ -1644,7 +1644,7 @@
    * If the build was for GNU/Linux, also include:
         * The distribution name and version (e.g., Red Hat 7.1 or
           Debian 2.2.3); this information should be available from
-          `/etc/issue'.
+          `/System/Settings/issue'.
 
         * The version of the Linux kernel, available from `uname
           --version' or `uname -a'.
@@ -2241,7 +2241,7 @@
    Some recent versions of GNU/Linux, such as Fedora Core 1, support
 exec-shield-randomize.  Turning this on interferes with precompiled
 headers.  If you need to use precompiled headers, exec-shield-randomize
-can be turned off for the entire system by editing `/etc/sysctl.conf'
+can be turned off for the entire system by editing `/System/Settings/sysctl.conf'
 and adding a line:
      kernel.exec-shield-randomize = 0
    You may then need to run `sysctl -p'.
@@ -2359,7 +2359,7 @@
 3.79.1 or newer is recommended to build on this platform.
 
    To speed up the configuration phases of bootstrapping and installing
-GCC, one may use GNU Bash instead of AIX `/bin/sh', e.g.,
+GCC, one may use GNU Bash instead of AIX `/System/Tools/sh', e.g.,
 
         % CONFIG_SHELL=/opt/freeware/bin/bash
         % export CONFIG_SHELL
@@ -2583,7 +2583,7 @@
 options when configuring GCC.  You need to use GNU `ar' and `nm', also
 distributed with GNU binutils.
 
-   Some users have reported that `/bin/sh' will hang during bootstrap.
+   Some users have reported that `/System/Tools/sh' will hang during bootstrap.
 This problem can be avoided by running the commands:
 
         % CONFIG_SHELL=/bin/ksh
@@ -2753,7 +2753,7 @@
 install GCC you first have to install a pre-built compiler, see the
 binaries page for details.
 
-   The Solaris 2 `/bin/sh' will often fail to configure `libstdc++-v3',
+   The Solaris 2 `/System/Tools/sh' will often fail to configure `libstdc++-v3',
 `boehm-gc' or `libjava'.  We therefore recommend to use the following
 sequence of commands to bootstrap and install GCC:
 
@@ -2833,7 +2833,7 @@
    Sun `as' 4.x is broken in that it cannot cope with long symbol names.
 A typical error message might look similar to the following:
 
-     /usr/ccs/bin/as: "/var/tmp/ccMsw135.s", line 11041: error:
+     /usr/ccs/bin/as: "/var/System/TemporaryFiles/ccMsw135.s", line 11041: error:
        can't compute value of an expression involving an external symbol.
 
    This is Sun bug 4237974.  This is fixed with patch 108908-02 for
diff -urN gcc-3.4.4/gcc/doc/gccint.info gcc-3.4.4-STEP/gcc/doc/gccint.info
--- gcc-3.4.4/gcc/doc/gccint.info	2005-05-19 22:02:14.000000000 +1200
+++ gcc-3.4.4-STEP/gcc/doc/gccint.info	2005-09-04 10:06:23.741675088 +1200
@@ -21977,7 +21977,7 @@
      opened as a file and written to, but all the information written
      is discarded.  This is commonly known as a "bit bucket" or "null
      device".  If you do not define this macro, GCC will use
-     `/dev/null' as the bit bucket.  If the host does not support a bit
+     `/System/Devices/null' as the bit bucket.  If the host does not support a bit
      bucket, define this macro to an invalid filename.
 
 `UPDATE_PATH_HOST_CANONICALIZE (PATH)'
diff -urN gcc-3.4.4/gcc/doc/hostconfig.texi gcc-3.4.4-STEP/gcc/doc/hostconfig.texi
--- gcc-3.4.4/gcc/doc/hostconfig.texi	2003-07-30 11:36:47.000000000 +1200
+++ gcc-3.4.4-STEP/gcc/doc/hostconfig.texi	2005-09-04 10:06:23.743674784 +1200
@@ -129,7 +129,7 @@
 A pathname defined by the host operating system, which can be opened as
 a file and written to, but all the information written is discarded.
 This is commonly known as a @dfn{bit bucket} or @dfn{null device}.  If
-you do not define this macro, GCC will use @samp{/dev/null} as the bit
+you do not define this macro, GCC will use @samp{/System/Devices/null} as the bit
 bucket.  If the host does not support a bit bucket, define this macro to
 an invalid filename.
 
diff -urN gcc-3.4.4/gcc/doc/install.texi gcc-3.4.4-STEP/gcc/doc/install.texi
--- gcc-3.4.4/gcc/doc/install.texi	2005-05-02 06:50:39.000000000 +1200
+++ gcc-3.4.4-STEP/gcc/doc/install.texi	2005-09-04 10:06:23.746674328 +1200
@@ -248,8 +248,8 @@
 @item A ``working'' POSIX compatible shell, or GNU bash
 
 Necessary when running @command{configure} because some
-@command{/bin/sh} shells have bugs and may crash when configuring the
-target libraries.  In other cases, @command{/bin/sh} or even some
+@command{/System/Tools/sh} shells have bugs and may crash when configuring the
+target libraries.  In other cases, @command{/System/Tools/sh} or even some
 @command{ksh} have disastrous corner-case performance problems.  This
 can cause target @command{configure} runs to literally take days to
 complete in some cases.
@@ -1935,7 +1935,7 @@
 @itemize @bullet
 @item
 The distribution name and version (e.g., Red Hat 7.1 or Debian 2.2.3);
-this information should be available from @file{/etc/issue}.
+this information should be available from @file{/System/Settings/issue}.
 
 @item
 The version of the Linux kernel, available from @samp{uname --version}
@@ -2825,7 +2825,7 @@
 exec-shield-randomize.  Turning this on interferes with precompiled
 headers.  If you need to use precompiled headers,
 exec-shield-randomize can be turned off for the entire system by
-editing @file{/etc/sysctl.conf} and adding a line:
+editing @file{/System/Settings/sysctl.conf} and adding a line:
 @smallexample
 kernel.exec-shield-randomize = 0
 @end smallexample
@@ -2958,7 +2958,7 @@
 newer is recommended to build on this platform.
 
 To speed up the configuration phases of bootstrapping and installing GCC,
-one may use GNU Bash instead of AIX @command{/bin/sh}, e.g.,
+one may use GNU Bash instead of AIX @command{/System/Tools/sh}, e.g.,
 
 @smallexample
    % CONFIG_SHELL=/opt/freeware/bin/bash
@@ -3210,7 +3210,7 @@
 @command{configure} options when configuring GCC@.  You need to use GNU
 @command{ar} and @command{nm}, also distributed with GNU binutils.
 
-Some users have reported that @command{/bin/sh} will hang during bootstrap.
+Some users have reported that @command{/System/Tools/sh} will hang during bootstrap.
 This problem can be avoided by running the commands:
 
 @smallexample
@@ -3420,7 +3420,7 @@
 GCC you first have to install a pre-built compiler, see the
 @uref{binaries.html,,binaries page} for details.
 
-The Solaris 2 @command{/bin/sh} will often fail to configure
+The Solaris 2 @command{/System/Tools/sh} will often fail to configure
 @file{libstdc++-v3}, @file{boehm-gc} or @file{libjava}.  We therefore
 recommend to use the following sequence of commands to bootstrap and
 install GCC:
@@ -3509,7 +3509,7 @@
 A typical error message might look similar to the following:
 
 @smallexample
-/usr/ccs/bin/as: "/var/tmp/ccMsw135.s", line 11041: error:
+/usr/ccs/bin/as: "/var/System/TemporaryFiles/ccMsw135.s", line 11041: error:
   can't compute value of an expression involving an external symbol.
 @end smallexample
 
diff -urN gcc-3.4.4/gcc/doc/install.texi2html gcc-3.4.4-STEP/gcc/doc/install.texi2html
--- gcc-3.4.4/gcc/doc/install.texi2html	2003-06-07 06:08:37.000000000 +1200
+++ gcc-3.4.4-STEP/gcc/doc/install.texi2html	2005-09-04 10:06:23.748674024 +1200
@@ -1,4 +1,4 @@
-#!/bin/sh
+#!/System/Tools/sh
 #
 # Convert the GCC install documentation from texinfo format to HTML.
 #
diff -urN gcc-3.4.4/gcc/fixinc/Makefile.in gcc-3.4.4-STEP/gcc/fixinc/Makefile.in
--- gcc-3.4.4/gcc/fixinc/Makefile.in	2003-07-09 08:42:17.000000000 +1200
+++ gcc-3.4.4-STEP/gcc/fixinc/Makefile.in	2005-09-04 10:06:23.749673872 +1200
@@ -124,7 +124,7 @@
 #  We still copy the script because we still have alternative scripts.
 #
 install-bin : $(TARGETS)
-	./fixincl -v < /dev/null
+	./fixincl -v < /System/Devices/null
 	@if [ -f ../fixinc.sh ] ; then rm -f ../fixinc.sh || \
 	    mv -f ../fixinc.sh ../fixinc.sh.$$ || exit 1 ; else : ; fi
 	@cp $(srcdir)/fixincl.sh ../fixinc.sh
diff -urN gcc-3.4.4/gcc/fixinc/check.tpl gcc-3.4.4-STEP/gcc/fixinc/check.tpl
--- gcc-3.4.4/gcc/fixinc/check.tpl	2003-05-28 23:53:34.000000000 +1200
+++ gcc-3.4.4-STEP/gcc/fixinc/check.tpl	2005-09-04 10:06:23.750673720 +1200
@@ -3,7 +3,7 @@
 #
 #  This file contanes the shell template to run tests on the fixes
 #
-=]#!/bin/sh
+=]#!/System/Tools/sh
 
 set -e
 TESTDIR=tests
@@ -36,7 +36,7 @@
      while read g
      do echo \"  mkdir \\${SRCDIR}/$g || mkdir -p \\${SRCDIR}/$g || exit 1\"
      done" (join " " (stack "fix.files"))  ) =]
-) 2> /dev/null[= # suppress 'No such file or directory' messages =]
+) 2> /System/Devices/null[= # suppress 'No such file or directory' messages =]
 cd inc
 [=
 (define sfile "")
@@ -164,7 +164,7 @@
   cd ${TESTDIR}
   rm -rf inc res LIST
   cd ..
-  rmdir ${TESTDIR} > /dev/null 2>&1 || :
+  rmdir ${TESTDIR} > /System/Devices/null 2>&1 || :
   echo All fixinclude tests pass >&2
 else
   echo There were fixinclude test FAILURES  >&2
diff -urN gcc-3.4.4/gcc/fixinc/fixincl.c gcc-3.4.4-STEP/gcc/fixinc/fixincl.c
--- gcc-3.4.4/gcc/fixinc/fixincl.c	2003-08-12 09:47:39.000000000 +1200
+++ gcc-3.4.4-STEP/gcc/fixinc/fixincl.c	2005-09-04 10:06:23.751673568 +1200
@@ -125,7 +125,7 @@
       and err open so that the proper input file does not get closed
       by accident  */
 
-  freopen ("/dev/null", "r", stdin);
+  freopen ("/System/Devices/null", "r", stdin);
 
   if (file_name_buf == (char *) NULL)
     {
@@ -622,7 +622,7 @@
 {
   tSCC cmd_fmt[] =
 "file=%s\n\
-if ( test %s ) > /dev/null 2>&1\n\
+if ( test %s ) > /System/Devices/null 2>&1\n\
 then echo TRUE\n\
 else echo FALSE\n\
 fi";
diff -urN gcc-3.4.4/gcc/fixinc/fixincl.sh gcc-3.4.4-STEP/gcc/fixinc/fixincl.sh
--- gcc-3.4.4/gcc/fixinc/fixincl.sh	2003-07-28 14:15:25.000000000 +1200
+++ gcc-3.4.4-STEP/gcc/fixinc/fixincl.sh	2005-09-04 10:06:23.753673264 +1200
@@ -1,4 +1,4 @@
-#!/bin/sh
+#!/System/Tools/sh
 #
 # Install modified versions of certain ANSI-incompatible system header
 # files which are fixed to work correctly with ANSI C and placed in a
@@ -121,11 +121,11 @@
 # Determine whether this system has symbolic links.
 if test -n "$DJDIR"; then
   LINKS=false
-elif ln -s X $LIB/ShouldNotExist 2>/dev/null; then
+elif ln -s X $LIB/ShouldNotExist 2>/System/Devices/null; then
   rm -f $LIB/ShouldNotExist
   LINKS=true
-elif ln -s X /tmp/ShouldNotExist 2>/dev/null; then
-  rm -f /tmp/ShouldNotExist
+elif ln -s X /System/TemporaryFiles/ShouldNotExist 2>/System/Devices/null; then
+  rm -f /System/TemporaryFiles/ShouldNotExist
   LINKS=true
 else
   LINKS=false
@@ -254,7 +254,7 @@
     # Check that the target directory exists.
     # Redirections changed to avoid bug in sh on Ultrix.
     #
-    (cd $dest) > /dev/null 2>&1
+    (cd $dest) > /System/Devices/null 2>&1
     if [ $? = 0 ]; then
       cd $dest
 
@@ -272,13 +272,13 @@
       if [ ${full_dest_dir} = ${cinput} ]; then
         if test $VERBOSE -gt 2
         then echo ${sym_link} '->' . ': Making self link' ; fi
-        rm -fr ${LIB}/${sym_link} > /dev/null 2>&1
-        ln -s . ${LIB}/${sym_link} > /dev/null 2>&1
+        rm -fr ${LIB}/${sym_link} > /System/Devices/null 2>&1
+        ln -s . ${LIB}/${sym_link} > /System/Devices/null 2>&1
 
       # If link leads back into ${INPUT},
       # make a similar link here.
       #
-      elif expr ${full_dest_dir} : "${cinput}/.*" > /dev/null; then
+      elif expr ${full_dest_dir} : "${cinput}/.*" > /System/Devices/null; then
         # Y gets the actual target dir name, relative to ${INPUT}.
         y=`echo ${full_dest_dir} | sed -n "s&${cinput}/&&p"`
         # DOTS is the relative path from ${LIB}/${sym_link} back to ${LIB}.
@@ -286,8 +286,8 @@
           sed -e 's@^./@@' -e 's@/./@/@g' -e 's@[^/][^/]*@..@g' -e 's@..$@@'`
         if test $VERBOSE -gt 2
         then echo ${sym_link} '->' $dots$y ': Making local link' ; fi
-        rm -fr ${LIB}/${sym_link} > /dev/null 2>&1
-        ln -s $dots$y ${LIB}/${sym_link} > /dev/null 2>&1
+        rm -fr ${LIB}/${sym_link} > /System/Devices/null 2>&1
+        ln -s $dots$y ${LIB}/${sym_link} > /System/Devices/null 2>&1
 
       else
         # If the link is to a dir $target outside ${INPUT},
@@ -306,7 +306,7 @@
           cd $LIB
           while [ x$dirname != x ]; do
             component=`echo $dirname | sed -e 's|/.*$||'`
-            mkdir $component >/dev/null 2>&1
+            mkdir $component >/System/Devices/null 2>&1
             cd $component
             dirmade=$dirmade/$component
             dirname=`echo $dirname | sed -e 's|[^/]*/||'`
@@ -343,8 +343,8 @@
         # DOTS is the relative path from ${LIB}/${sym_link} back to ${LIB}.
         #
         dots=`echo "$file2" | sed -e 's@/[^/]*@../@g'`
-        rm -fr ${LIB}/${sym_link} > /dev/null 2>&1
-        ln -s ${dots}root${full_dest_dir} ${LIB}/${sym_link} > /dev/null 2>&1
+        rm -fr ${LIB}/${sym_link} > /System/Devices/null 2>&1
+        ln -s ${dots}root${full_dest_dir} ${LIB}/${sym_link} > /System/Devices/null 2>&1
         treetops="$treetops ${sym_link} ${LIB}/root${full_dest_dir}"
       fi
     fi
@@ -409,9 +409,9 @@
     cd $1
     if [ -f $2 ] ; then
       if [ -r $2 ] && [ ! -r $3 ]; then
-        cp $2 $3 >/dev/null 2>&1 || echo "Can't copy $2" >&2
-        chmod +w $3 2>/dev/null
-        chmod a+r $3 2>/dev/null
+        cp $2 $3 >/System/Devices/null 2>&1 || echo "Can't copy $2" >&2
+        chmod +w $3 2>/System/Devices/null
+        chmod a+r $3 2>/System/Devices/null
         if test $VERBOSE -gt 2
         then echo Copied $2 ; fi
         for include in `egrep '^[ 	]*#[ 	]*include[ 	]*"[^/]' $3 |
@@ -441,11 +441,11 @@
 cd $LIB
 all_dirs=`find . -type d \! -name '.' -print | sort -r`
 for file in $all_dirs; do
-  if rmdir $LIB/$file > /dev/null
+  if rmdir $LIB/$file > /System/Devices/null
   then
     test $VERBOSE -gt 3 && echo "  removed $file"
   fi
-done 2> /dev/null
+done 2> /System/Devices/null
 
 # On systems which don't support symlinks, `find' may barf
 # if called with "-type l" predicate.  So only use that if
@@ -460,11 +460,11 @@
     then
       rm -f $file
       test $VERBOSE -gt 3 && echo "  removed $file"
-      rmdir `dirname $file` > /dev/null && \
+      rmdir `dirname $file` > /System/Devices/null && \
            test $VERBOSE -gt 3 && \
            echo "  removed `dirname $file`"
     fi
-  done 2> /dev/null
+  done 2> /System/Devices/null
 fi
 
 if test $VERBOSE -gt 0
diff -urN gcc-3.4.4/gcc/fixinc/fixincl.x gcc-3.4.4-STEP/gcc/fixinc/fixincl.x
--- gcc-3.4.4/gcc/fixinc/fixincl.x	2005-05-19 21:58:00.000000000 +1200
+++ gcc-3.4.4-STEP/gcc/fixinc/fixincl.x	2005-09-04 10:06:23.758672504 +1200
@@ -3602,8 +3602,8 @@
  *  Fix Command Arguments for Math_Huge_Val_From_Dbl_Max
  */
 static const char* apzMath_Huge_Val_From_Dbl_MaxPatch[] = { "sh", "-c",
-    "\tdbl_max_def=`egrep 'define[ \t]+DBL_MAX[ \t]+.*' float.h | sed 's/.*DBL_MAX[ \t]*//' 2>/dev/null`\n\n\
-\tif ( test -n \"${dbl_max_def}\" ) > /dev/null 2>&1\n\
+    "\tdbl_max_def=`egrep 'define[ \t]+DBL_MAX[ \t]+.*' float.h | sed 's/.*DBL_MAX[ \t]*//' 2>/System/Devices/null`\n\n\
+\tif ( test -n \"${dbl_max_def}\" ) > /System/Devices/null 2>&1\n\
 \tthen sed -e '/define[ \t]*HUGE_VAL[ \t]*DBL_MAX/s@DBL_MAX@'\"$dbl_max_def@\"\n\
 \telse cat\n\
 \tfi",
diff -urN gcc-3.4.4/gcc/fixinc/genfixes gcc-3.4.4-STEP/gcc/fixinc/genfixes
--- gcc-3.4.4/gcc/fixinc/genfixes	2003-05-24 08:48:48.000000000 +1200
+++ gcc-3.4.4-STEP/gcc/fixinc/genfixes	2005-09-04 10:06:23.759672352 +1200
@@ -1,4 +1,4 @@
-#! /bin/sh
+#! /System/Tools/sh
 
 # Copyright (C) 1999, 2000, 2001 Free Software Foundation, Inc.
 # This file is part of GCC.
@@ -18,7 +18,7 @@
 # the Free Software Foundation, 59 Temple Place - Suite 330,
 # Boston, MA 02111-1307, USA.
 
-SHELL=/bin/sh
+SHELL=/System/Tools/sh
 export SHELL
 if [ $# -eq 0 ] ; then
   not_done=false
diff -urN gcc-3.4.4/gcc/fixinc/inclhack.def gcc-3.4.4-STEP/gcc/fixinc/inclhack.def
--- gcc-3.4.4/gcc/fixinc/inclhack.def	2005-05-07 04:30:20.000000000 +1200
+++ gcc-3.4.4-STEP/gcc/fixinc/inclhack.def	2005-09-04 10:06:23.762671896 +1200
@@ -2033,9 +2033,9 @@
      */
 
     "\tdbl_max_def=`egrep 'define[ \t]+DBL_MAX[ \t]+.*' float.h "
-                   "| sed 's/.*DBL_MAX[ \t]*//' 2>/dev/null`\n\n"
+                   "| sed 's/.*DBL_MAX[ \t]*//' 2>/System/Devices/null`\n\n"
 
-    "\tif ( test -n \"${dbl_max_def}\" ) > /dev/null 2>&1\n"
+    "\tif ( test -n \"${dbl_max_def}\" ) > /System/Devices/null 2>&1\n"
     "\tthen sed -e '/define[ \t]*HUGE_VAL[ \t]*DBL_MAX/"
 			"s@DBL_MAX@'\"$dbl_max_def@\"\n"
     "\telse cat\n"
@@ -4021,7 +4021,7 @@
           "#include <types/vxTypesOld.h>\n";
 
     test_text = "`touch types/vxTypesOld.h`"
-    "#include </dev/null> /* ULONG */\n"
+    "#include </System/Devices/null> /* ULONG */\n"
     "# define\t__INCstath <sys/stat.h>";
 };
 
diff -urN gcc-3.4.4/gcc/fixinc/mkfixinc.sh gcc-3.4.4-STEP/gcc/fixinc/mkfixinc.sh
--- gcc-3.4.4/gcc/fixinc/mkfixinc.sh	2003-10-25 06:47:51.000000000 +1300
+++ gcc-3.4.4-STEP/gcc/fixinc/mkfixinc.sh	2005-09-04 10:06:23.763671744 +1200
@@ -1,4 +1,4 @@
-#! /bin/sh
+#! /System/Tools/sh
 
 if [ $# -ne 2 ]
 then
@@ -64,7 +64,7 @@
 #
 if test -z "$fixincludes"
 then
-    (echo "#! /bin/sh" ; echo "exit 0" ) > ${target}
+    (echo "#! /System/Tools/sh" ; echo "exit 0" ) > ${target}
     chmod 755 ${target}
     exit 0
 fi
diff -urN gcc-3.4.4/gcc/fixinc/server.c gcc-3.4.4-STEP/gcc/fixinc/server.c
--- gcc-3.4.4/gcc/fixinc/server.c	2003-08-02 11:07:04.000000000 +1200
+++ gcc-3.4.4-STEP/gcc/fixinc/server.c	2005-09-04 10:06:23.764671592 +1200
@@ -203,7 +203,7 @@
  *  (like the use of "trap" in server_setup(), it must be a
  *  Bourne-like shell.
  *
- *  Most of the time, /bin/sh is preferred, but sometimes
+ *  Most of the time, /System/Tools/sh is preferred, but sometimes
  *  it's quite broken (like on Ultrix).  autoconf lets you
  *  override with $CONFIG_SHELL, so we do the same.
  */
@@ -215,7 +215,7 @@
   if (shell)
     return shell;
 
-  return "/bin/sh";
+  return "/System/Tools/sh";
 }
 
 
diff -urN gcc-3.4.4/gcc/fixinc/tests/base/sys/stat.h gcc-3.4.4-STEP/gcc/fixinc/tests/base/sys/stat.h
--- gcc-3.4.4/gcc/fixinc/tests/base/sys/stat.h	2004-01-24 09:59:01.000000000 +1300
+++ gcc-3.4.4-STEP/gcc/fixinc/tests/base/sys/stat.h	2005-09-04 10:06:23.765671440 +1200
@@ -62,7 +62,7 @@
 
 
 #if defined( VXWORKS_NEEDS_VXWORKS_CHECK )
-#include </dev/null> /* ULONG */
+#include </System/Devices/null> /* ULONG */
 # define	__INCstath <sys/stat.h>
 #include <types/vxTypesOld.h>
 #endif  /* VXWORKS_NEEDS_VXWORKS_CHECK */
diff -urN gcc-3.4.4/gcc/fixproto gcc-3.4.4-STEP/gcc/fixproto
--- gcc-3.4.4/gcc/fixproto	2003-03-22 12:15:53.000000000 +1200
+++ gcc-3.4.4-STEP/gcc/fixproto	2005-09-04 10:06:23.766671288 +1200
@@ -1,4 +1,4 @@
-#!/bin/sh
+#!/System/Tools/sh
 #
 # SYNOPSIS
 #	fixproto TARGET-DIR SOURCE-DIR-ALL SOURCE-DIR-STD
@@ -61,14 +61,14 @@
 FIX_HEADER=${FIX_HEADER-$original_dir/fix-header}
 DEFINES="-D__STDC__=0 -D__cplusplus ${FIXPROTO_DEFINES}"
 
-if mkdir -p . 2> /dev/null; then
+if mkdir -p . 2> /System/Devices/null; then
   # Great, mkdir accepts -p
   mkinstalldirs="mkdir -p"
 else
   # We expect mkinstalldirs to be passed in the environment.
   # If it is not, assume it is in the directory that contains this script.
-  mkinstalldirs=${mkinstalldirs-"/bin/sh $dirname/mkinstalldirs"}
-  if $mkinstalldirs . 2> /dev/null; then
+  mkinstalldirs=${mkinstalldirs-"/System/Tools/sh $dirname/mkinstalldirs"}
+  if $mkinstalldirs . 2> /System/Devices/null; then
     :
   else
     # But, in case of failure, fallback to plain mkdir, and hope it works
@@ -101,11 +101,11 @@
 esac
 
 # Determine whether this system has symbolic links.
-if ln -s X $rel_target_dir/ShouldNotExist 2>/dev/null; then
+if ln -s X $rel_target_dir/ShouldNotExist 2>/System/Devices/null; then
   rm -f $rel_target_dir/ShouldNotExist
   LINKS=true
-elif ln -s X /tmp/ShouldNotExist 2>/dev/null; then
-  rm -f /tmp/ShouldNotExist
+elif ln -s X /System/TemporaryFiles/ShouldNotExist 2>/System/Devices/null; then
+  rm -f /System/TemporaryFiles/ShouldNotExist
   LINKS=true
 else
   LINKS=false
@@ -263,7 +263,7 @@
 	# If target file exists, check if was written while processing one
 	# of the earlier source directories;  if so ignore it.
 	elif test -f $abs_target_file -a -n "$done_dirs" \
-	  && grep "$rel_source_file" fixproto.list >/dev/null
+	  && grep "$rel_source_file" fixproto.list >/System/Devices/null
 	then true
 	else
 	  $FIX_HEADER $rel_source_file $abs_source_file $abs_target_file ${DEFINES} $include_path
@@ -280,7 +280,7 @@
 
 # All the headers we create define size_t and NULL.
 for rel_source_file in unistd.h stdlib.h string.h time.h ; do
-  if grep "$rel_source_file" fixproto.list >/dev/null ; then
+  if grep "$rel_source_file" fixproto.list >/System/Devices/null ; then
     : # It exists, we don't need to make it
   else
     echo Adding missing $rel_source_file
@@ -301,7 +301,7 @@
       time.h)
         # If time.h doesn't exist, find out if sys/time.h does.
         if test -f $src_dir_std/sys/time.h \
-            || grep "sys/time.h" fixproto.list >/dev/null ; then
+            || grep "sys/time.h" fixproto.list >/System/Devices/null ; then
           # It does; include it and hope it has the needed declarations.
           # Some versions require sys/types.h.
           cat >>tmp.h <<EOF
@@ -336,6 +336,6 @@
 done
 
 # Remove any directories that we made that are still empty.
-rmdir $subdirs_made 2>/dev/null
+rmdir $subdirs_made 2>/System/Devices/null
 
 exit 0
diff -urN gcc-3.4.4/gcc/gccbug.in gcc-3.4.4-STEP/gcc/gccbug.in
--- gcc-3.4.4/gcc/gccbug.in	2004-06-15 14:43:16.000000000 +1200
+++ gcc-3.4.4-STEP/gcc/gccbug.in	2005-09-04 10:06:23.767671136 +1200
@@ -1,4 +1,4 @@
-#!/bin/sh
+#!/System/Tools/sh
 # Submit a problem report to a GNATS site.
 # Copyright (C) 1993, 2000, 2001, 2002, 2003 Free Software Foundation, Inc.
 # Contributed by Brendan Kehoe (brendan@cygnus.com), based on a
@@ -53,7 +53,7 @@
 
 
 # How to read the passwd database.
-PASSWD="cat /etc/passwd"
+PASSWD="cat /System/Settings/passwd"
 
 ECHON=bsd
 
@@ -234,7 +234,7 @@
 HOW_TO_REPEAT_C='<When reporting a compiler error, preprocessor output must be included>'
 FIX_C='<how to correct or work around the problem, if known (multiple lines)>'
 
-# Catch some signals. ($xs kludge needed by Sun /bin/sh)
+# Catch some signals. ($xs kludge needed by Sun /System/Tools/sh)
 xs=0
 trap '$REMOVE_TEMP; exit $xs' 0
 trap 'echo "$COMMAND: Aborting ..."; $REMOVE_TEMP; xs=1; exit' 1 3 13 15
@@ -460,7 +460,7 @@
   #
   # 6) Check that synopsis is not empty
   #
-  if grep "^>Synopsis:[ 	]*${SYNOPSIS_C}\$" $TEMP > /dev/null
+  if grep "^>Synopsis:[ 	]*${SYNOPSIS_C}\$" $TEMP > /System/Devices/null
   then
     echo "$COMMAND: Synopsis must not be empty."
   else
@@ -508,7 +508,7 @@
 # in Synopsis.
 #
 
-if grep '^Subject:[ 	]*$' $TEMP > /dev/null
+if grep '^Subject:[ 	]*$' $TEMP > /System/Devices/null
 then
   SYNOPSIS=`grep '^>Synopsis:' $TEMP | sed -e 's/^>Synopsis:[ 	]*//'`
   ed -s $TEMP << __EOF__
diff -urN gcc-3.4.4/gcc/genmultilib gcc-3.4.4-STEP/gcc/genmultilib
--- gcc-3.4.4/gcc/genmultilib	2003-12-20 20:40:21.000000000 +1300
+++ gcc-3.4.4-STEP/gcc/genmultilib	2005-09-04 10:06:23.769670832 +1200
@@ -1,4 +1,4 @@
-#!/bin/sh 
+#!/System/Tools/sh 
 # Generates multilib.h.
 #   Copyright (C) 1994, 1995, 1996, 1997, 1999, 2002 Free Software Foundation, Inc.
 
@@ -137,7 +137,7 @@
 # by creating a temporary shell script which invokes itself.
 rm -f tmpmultilib
 cat >tmpmultilib <<\EOF
-#!/bin/sh
+#!/System/Tools/sh
 # This recursive script basically outputs all combinations of its
 # input arguments, handling mutually exclusive sets of options by
 # repetition.  When the script is called, ${initial} is the list of
@@ -173,7 +173,7 @@
 # If there exceptions, weed them out now
 if [ -n "${exceptions}" ]; then
   cat >tmpmultilib2 <<\EOF
-#!/bin/sh
+#!/System/Tools/sh
 # This recursive script weeds out any combination of multilib
 # switches that should not be generated.  The output looks like
 # a list of subdirectory names with leading and trailing slashes.
@@ -272,7 +272,7 @@
 # In other words, we must output all combinations of matches.
 rm -f tmpmultilib2
 cat >tmpmultilib2 <<\EOF
-#!/bin/sh
+#!/System/Tools/sh
 # The positional parameters are a list of matches to consider.
 # ${dirout} is the directory name and ${optout} is the current list of
 # options.
@@ -284,7 +284,7 @@
   dirout="${dirout}" optout="${optout}" ./tmpmultilib2 $@
   l=`echo ${first} | sed -e 's/=.*$//' -e 's/?/=/g'`
   r=`echo ${first} | sed -e 's/^.*=//' -e 's/?/=/g'`
-  if expr " ${optout} " : ".* ${l} .*" > /dev/null; then
+  if expr " ${optout} " : ".* ${l} .*" > /System/Devices/null; then
     newopt=`echo " ${optout} " | sed -e "s/ ${l} / ${r} /" -e 's/^ //' -e 's/ $//'`
     dirout="${dirout}" optout="${newopt}" ./tmpmultilib2 $@
   fi
@@ -349,7 +349,7 @@
   for set in ${options}; do
     setopts=`echo ${set} | sed -e 's_[/|]_ _g'`
     for opt in ${setopts}; do
-      if expr "${combo} " : ".*/${opt}/.*" > /dev/null; then
+      if expr "${combo} " : ".*/${opt}/.*" > /System/Devices/null; then
 	optout="${optout} ${opt}"
       else
 	optout="${optout} !${opt}"
diff -urN gcc-3.4.4/gcc/ggc-page.c gcc-3.4.4-STEP/gcc/ggc-page.c
--- gcc-3.4.4/gcc/ggc-page.c	2003-12-22 20:42:37.000000000 +1300
+++ gcc-3.4.4-STEP/gcc/ggc-page.c	2005-09-04 10:06:23.771670528 +1200
@@ -43,7 +43,7 @@
 #define VALGRIND_DISCARD(x)
 #endif
 
-/* Prefer MAP_ANON(YMOUS) to /dev/zero, since we don't need to keep a
+/* Prefer MAP_ANON(YMOUS) to /System/Devices/zero, since we don't need to keep a
    file open.  Prefer either to valloc.  */
 #ifdef HAVE_MMAP_ANON
 # undef HAVE_MMAP_DEV_ZERO
@@ -358,7 +358,7 @@
   /* The current depth in the context stack.  */
   unsigned short context_depth;
 
-  /* A file descriptor open to /dev/zero for reading.  */
+  /* A file descriptor open to /System/Devices/zero for reading.  */
 #if defined (HAVE_MMAP_DEV_ZERO)
   int dev_zero_fd;
 #endif
@@ -1320,9 +1320,9 @@
   G.lg_pagesize = exact_log2 (G.pagesize);
 
 #ifdef HAVE_MMAP_DEV_ZERO
-  G.dev_zero_fd = open ("/dev/zero", O_RDONLY);
+  G.dev_zero_fd = open ("/System/Devices/zero", O_RDONLY);
   if (G.dev_zero_fd == -1)
-    internal_error ("open /dev/zero: %m");
+    internal_error ("open /System/Devices/zero: %m");
 #endif
 
 #if 0
diff -urN gcc-3.4.4/gcc/ggc-zone.c gcc-3.4.4-STEP/gcc/ggc-zone.c
--- gcc-3.4.4/gcc/ggc-zone.c	2004-01-24 12:36:00.000000000 +1300
+++ gcc-3.4.4-STEP/gcc/ggc-zone.c	2005-09-04 10:06:23.772670376 +1200
@@ -51,7 +51,7 @@
 #define VALGRIND_MALLOCLIKE_BLOCK(w,x,y,z)
 #define VALGRIND_FREELIKE_BLOCK(x,y)
 #endif
-/* Prefer MAP_ANON(YMOUS) to /dev/zero, since we don't need to keep a
+/* Prefer MAP_ANON(YMOUS) to /System/Devices/zero, since we don't need to keep a
    file open.  Prefer either to valloc.  */
 #ifdef HAVE_MMAP_ANON
 # undef HAVE_MMAP_DEV_ZERO
@@ -253,7 +253,7 @@
   size_t pagesize;
   size_t lg_pagesize;
 
-  /* A file descriptor open to /dev/zero for reading.  */
+  /* A file descriptor open to /System/Devices/zero for reading.  */
 #if defined (HAVE_MMAP_DEV_ZERO)
   int dev_zero_fd;
 #endif
@@ -809,7 +809,7 @@
   G.pagesize = getpagesize();
   G.lg_pagesize = exact_log2 (G.pagesize);
 #ifdef HAVE_MMAP_DEV_ZERO
-  G.dev_zero_fd = open ("/dev/zero", O_RDONLY);
+  G.dev_zero_fd = open ("/System/Devices/zero", O_RDONLY);
   if (G.dev_zero_fd == -1)
     abort ();
 #endif
diff -urN gcc-3.4.4/gcc/mkconfig.sh gcc-3.4.4-STEP/gcc/mkconfig.sh
--- gcc-3.4.4/gcc/mkconfig.sh	2003-06-21 17:20:05.000000000 +1200
+++ gcc-3.4.4-STEP/gcc/mkconfig.sh	2005-09-04 10:06:23.773670224 +1200
@@ -1,4 +1,4 @@
-#! /bin/sh
+#! /System/Tools/sh
 
 # Copyright (C) 2001, 2002 Free Software Foundation, Inc.
 # This file is part of GCC.
@@ -97,7 +97,7 @@
 echo "#endif /* ${header_guard} */" >> ${output}T
 
 # Avoid changing the actual file if possible.
-if [ -f $output ] && cmp ${output}T $output >/dev/null 2>&1; then
+if [ -f $output ] && cmp ${output}T $output >/System/Devices/null 2>&1; then
     echo $output is unchanged >&2
     rm -f ${output}T
 else
diff -urN gcc-3.4.4/gcc/mkheaders.in gcc-3.4.4-STEP/gcc/mkheaders.in
--- gcc-3.4.4/gcc/mkheaders.in	2004-08-01 12:45:13.000000000 +1200
+++ gcc-3.4.4-STEP/gcc/mkheaders.in	2005-09-04 10:06:23.774670072 +1200
@@ -1,4 +1,4 @@
-#!/bin/sh
+#!/System/Tools/sh
 
 # Copyright (C) 2002 Free Software Foundation, Inc.
 
diff -urN gcc-3.4.4/gcc/mkinstalldirs gcc-3.4.4-STEP/gcc/mkinstalldirs
--- gcc-3.4.4/gcc/mkinstalldirs	2003-07-30 13:36:05.000000000 +1200
+++ gcc-3.4.4-STEP/gcc/mkinstalldirs	2005-09-04 10:06:23.775669920 +1200
@@ -1,4 +1,4 @@
-#! /bin/sh
+#! /System/Tools/sh
 # mkinstalldirs --- make directory hierarchy
 # Author: Noah Friedman <friedman@prep.ai.mit.edu>
 # Created: 1993-05-16
@@ -52,13 +52,13 @@
 
 case $dirmode in
   '')
-    if mkdir -p -- . 2>/dev/null; then
+    if mkdir -p -- . 2>/System/Devices/null; then
       echo "mkdir -p -- $*"
       exec mkdir -p -- "$@"
     fi
     ;;
   *)
-    if mkdir -m "$dirmode" -p -- . 2>/dev/null; then
+    if mkdir -m "$dirmode" -p -- . 2>/System/Devices/null; then
       echo "mkdir -m $dirmode -p -- $*"
       exec mkdir -m "$dirmode" -p -- "$@"
     fi
diff -urN gcc-3.4.4/gcc/mklibgcc.in gcc-3.4.4-STEP/gcc/mklibgcc.in
--- gcc-3.4.4/gcc/mklibgcc.in	2005-02-24 22:26:57.000000000 +1300
+++ gcc-3.4.4-STEP/gcc/mklibgcc.in	2005-09-04 10:06:23.776669768 +1200
@@ -1,4 +1,4 @@
-#!/bin/sh
+#!/System/Tools/sh
 # Construct makefile for libgcc.
 #   Copyright (C) 2000, 2002, 2003 Free Software Foundation, Inc.
 #
diff -urN gcc-3.4.4/gcc/move-if-change gcc-3.4.4-STEP/gcc/move-if-change
--- gcc-3.4.4/gcc/move-if-change	1998-12-17 09:57:26.000000000 +1300
+++ gcc-3.4.4-STEP/gcc/move-if-change	2005-09-04 10:06:23.777669616 +1200
@@ -1,4 +1,4 @@
-#!/bin/sh
+#!/System/Tools/sh
 # Like mv $1 $2, but if the files are the same, just delete $1.
 # Status is 0 if $2 is changed, 1 otherwise.
 if
diff -urN gcc-3.4.4/gcc/opts.sh gcc-3.4.4-STEP/gcc/opts.sh
--- gcc-3.4.4/gcc/opts.sh	2003-07-19 20:13:56.000000000 +1200
+++ gcc-3.4.4-STEP/gcc/opts.sh	2005-09-04 10:06:23.778669464 +1200
@@ -1,4 +1,4 @@
-#!/bin/sh
+#!/System/Tools/sh
 #
 #  Copyright (C) 2003 Free Software Foundation, Inc.
 #  Contributed by Neil Booth, May 2003.
diff -urN gcc-3.4.4/gcc/protoize.c gcc-3.4.4-STEP/gcc/protoize.c
--- gcc-3.4.4/gcc/protoize.c	2003-08-14 18:04:46.000000000 +1200
+++ gcc-3.4.4-STEP/gcc/protoize.c	2005-09-04 10:06:23.782668856 +1200
@@ -1799,7 +1799,7 @@
    to the indices of the slots where the file names should go.  */
 
 /* We initialize the vector by  removing -g, -O, -S, -c, and -o options,
-   and adding '-aux-info AUXFILE -S  -o /dev/null INFILE' at the end.  */
+   and adding '-aux-info AUXFILE -S  -o /System/Devices/null INFILE' at the end.  */
 
 static void
 munge_compile_params (const char *params_list)
@@ -1866,7 +1866,7 @@
     /* FIXME: This is hardly likely to be right, if HOST_BIT_BUCKET is not
        writable.  But until this is rejigged to use make_temp_file(), this
        is the best we can do.  */
-    temp_params[param_count++] = "/dev/null";
+    temp_params[param_count++] = "/System/Devices/null";
 
   /* Leave room for the input file name argument.  */
   input_file_name_index = param_count;
diff -urN gcc-3.4.4/gcc/scan-types.sh gcc-3.4.4-STEP/gcc/scan-types.sh
--- gcc-3.4.4/gcc/scan-types.sh	2000-06-10 02:42:09.000000000 +1200
+++ gcc-3.4.4-STEP/gcc/scan-types.sh	2005-09-04 10:06:23.783668704 +1200
@@ -1,4 +1,4 @@
-#! /bin/sh
+#! /System/Tools/sh
 # Deduce values of standard ANSI and POSIX types (e.g. size_t, pid_t).
 # Emits macros definitions for these, and some other types.
 # Intended to be used to massage the sys-protos.h file.
@@ -44,7 +44,7 @@
 	# Search st-dummy.out for a typedef for $TYPE, and write it out
 	# to TMP in #define syntax.
 	rm -f TMP
-	${SED} -n -e "s|.*typedef  *\(.*\) X*$TYPE *;.*|\1|w TMP" <st-dummy.out>/dev/null
+	${SED} -n -e "s|.*typedef  *\(.*\) X*$TYPE *;.*|\1|w TMP" <st-dummy.out>/System/Devices/null
 	# Now select the first definition.
         if [ -s TMP ]; then
 	    # VALUE is now the typedef'd definition of $TYPE.
@@ -54,10 +54,10 @@
 	    # Ensure $VALUE is double quoted to protect cases where it
 	    # contains an asterisk and would cause filename expansion.
 	    # E.g. when va_list is "char *".
-	    if echo "$VALUE" | grep " " >/dev/null ; then true
+	    if echo "$VALUE" | grep " " >/System/Devices/null ; then true
 	    else
 		rm -f TMP
-		${SED} -n -e "s|.*typedef[ 	][ 	]*\(.*[^a-zA-Z0-9_]\)${VALUE}[ 	]*;.*|\1|w TMP" <st-dummy.out>/dev/null
+		${SED} -n -e "s|.*typedef[ 	][ 	]*\(.*[^a-zA-Z0-9_]\)${VALUE}[ 	]*;.*|\1|w TMP" <st-dummy.out>/System/Devices/null
 		if [ -s TMP ]; then
 		    eval "VALUE='`${SED} -e '2,$d' -e 's|[ 	]*$||' <TMP`'"
 		fi
@@ -104,7 +104,7 @@
 	# check $tmp doesn't conflict with <unistd.h>
 	echo "#include <unistd.h>
 	extern $tmp read();" >st-dummy.c
-	${CC} -c st-dummy.c >/dev/null 2>&1 || tmp=int
+	${CC} -c st-dummy.c >/System/Devices/null 2>&1 || tmp=int
     fi
     echo "#define ${macro_prefix}ssize_t $tmp /* default */"
 fi
@@ -119,7 +119,7 @@
 long bar(int i, ...)
 { va_list ap; long j; va_start(ap, i); j = foo(ap); va_end(ap); return j; }
 !EOF!
-if ${CC} -c st-dummy.c >/dev/null 2>&1 ; then
+if ${CC} -c st-dummy.c >/System/Devices/null 2>&1 ; then
   # Ok: We have something that works.
   echo "#define ${macro_prefix}va_list ${va_list-char* /* default */}"
 else
diff -urN gcc-3.4.4/gcc/sort-protos gcc-3.4.4-STEP/gcc/sort-protos
--- gcc-3.4.4/gcc/sort-protos	1998-12-17 09:58:16.000000000 +1300
+++ gcc-3.4.4-STEP/gcc/sort-protos	2005-09-04 10:06:23.784668552 +1200
@@ -1,4 +1,4 @@
-#!/bin/sh
+#!/System/Tools/sh
 # Sort the sys-protos.h file in its usual order.
 # Invoke as `sort-protos sys-protos.h'.
 
diff -urN gcc-3.4.4/gcc/system.h gcc-3.4.4-STEP/gcc/system.h
--- gcc-3.4.4/gcc/system.h	2004-03-16 12:22:47.000000000 +1300
+++ gcc-3.4.4-STEP/gcc/system.h	2005-09-04 10:06:23.785668400 +1200
@@ -483,7 +483,7 @@
    This suffices for POSIX-like hosts.  */
 
 #ifndef HOST_BIT_BUCKET
-#define HOST_BIT_BUCKET "/dev/null"
+#define HOST_BIT_BUCKET "/System/Devices/null"
 #endif
 
 /* Be conservative and only use enum bitfields with GCC.
diff -urN gcc-3.4.4/install-sh gcc-3.4.4-STEP/install-sh
--- gcc-3.4.4/install-sh	2003-07-20 21:40:28.000000000 +1200
+++ gcc-3.4.4-STEP/install-sh	2005-09-04 10:06:23.786668248 +1200
@@ -1,4 +1,4 @@
-#!/bin/sh
+#!/System/Tools/sh
 #
 # install - install a program, script, or datafile
 #
@@ -113,7 +113,7 @@
 	    then
 		src=$1
 	    else
-		# this colon is to work around a 386BSD /bin/sh bug
+		# this colon is to work around a 386BSD /System/Tools/sh bug
 		:
 		dst=$1
 	    fi
@@ -270,8 +270,8 @@
 {
 	if [ -f "$dstdir/$dstfile" ]
 	then
-		$doit $rmcmd -f "$dstdir/$dstfile" 2>/dev/null ||
-		$doit $mvcmd -f "$dstdir/$dstfile" "$rmtmp" 2>/dev/null ||
+		$doit $rmcmd -f "$dstdir/$dstfile" 2>/System/Devices/null ||
+		$doit $mvcmd -f "$dstdir/$dstfile" "$rmtmp" 2>/System/Devices/null ||
 		{
 		  echo "$0: cannot unlink or rename $dstdir/$dstfile" >&2
 		  (exit 1); exit
diff -urN gcc-3.4.4/intl/Makefile.in gcc-3.4.4-STEP/intl/Makefile.in
--- gcc-3.4.4/intl/Makefile.in	2003-07-08 17:55:11.000000000 +1200
+++ gcc-3.4.4-STEP/intl/Makefile.in	2005-09-04 10:06:23.787668096 +1200
@@ -24,7 +24,7 @@
 PACKAGE = @PACKAGE@
 VERSION = @VERSION@
 
-SHELL = /bin/sh
+SHELL = /System/Tools/sh
 
 srcdir = @srcdir@
 VPATH = $(srcdir)
diff -urN gcc-3.4.4/intl/aclocal.m4 gcc-3.4.4-STEP/intl/aclocal.m4
--- gcc-3.4.4/intl/aclocal.m4	2003-07-08 17:55:11.000000000 +1200
+++ gcc-3.4.4-STEP/intl/aclocal.m4	2005-09-04 10:06:23.790667640 +1200
@@ -462,8 +462,8 @@
   dnl The first test excludes Solaris msgfmt and early GNU msgfmt versions.
   dnl The second test excludes FreeBSD msgfmt.
   AM_PATH_PROG_WITH_TEST(MSGFMT, msgfmt,
-    [$ac_dir/$ac_word --statistics /dev/null >/dev/null 2>&1 &&
-     (if $ac_dir/$ac_word --statistics /dev/null 2>&1 >/dev/null | grep usage >/dev/null; then exit 1; else exit 0; fi)],
+    [$ac_dir/$ac_word --statistics /System/Devices/null >/System/Devices/null 2>&1 &&
+     (if $ac_dir/$ac_word --statistics /System/Devices/null 2>&1 >/System/Devices/null | grep usage >/System/Devices/null; then exit 1; else exit 0; fi)],
     :)
   AC_PATH_PROG(GMSGFMT, gmsgfmt, $MSGFMT)
 
@@ -471,23 +471,23 @@
   dnl The first test excludes Solaris xgettext and early GNU xgettext versions.
   dnl The second test excludes FreeBSD xgettext.
   AM_PATH_PROG_WITH_TEST(XGETTEXT, xgettext,
-    [$ac_dir/$ac_word --omit-header --copyright-holder= --msgid-bugs-address= /dev/null >/dev/null 2>&1 &&
-     (if $ac_dir/$ac_word --omit-header --copyright-holder= --msgid-bugs-address= /dev/null 2>&1 >/dev/null | grep usage >/dev/null; then exit 1; else exit 0; fi)],
+    [$ac_dir/$ac_word --omit-header --copyright-holder= --msgid-bugs-address= /System/Devices/null >/System/Devices/null 2>&1 &&
+     (if $ac_dir/$ac_word --omit-header --copyright-holder= --msgid-bugs-address= /System/Devices/null 2>&1 >/System/Devices/null | grep usage >/System/Devices/null; then exit 1; else exit 0; fi)],
     :)
   dnl Remove leftover from FreeBSD xgettext call.
   rm -f messages.po
 
   dnl Search for GNU msgmerge 0.11 or newer in the PATH.
   AM_PATH_PROG_WITH_TEST(MSGMERGE, msgmerge,
-    [$ac_dir/$ac_word --update -q /dev/null /dev/null >/dev/null 2>&1], :)
+    [$ac_dir/$ac_word --update -q /System/Devices/null /System/Devices/null >/System/Devices/null 2>&1], :)
 
   dnl This could go away some day; the PATH_PROG_WITH_TEST already does it.
   dnl Test whether we really found GNU msgfmt.
   if test "$GMSGFMT" != ":"; then
     dnl If it is no GNU msgfmt we define it as : so that the
     dnl Makefiles still can work.
-    if $GMSGFMT --statistics /dev/null >/dev/null 2>&1 &&
-       (if $GMSGFMT --statistics /dev/null 2>&1 >/dev/null | grep usage >/dev/null; then exit 1; else exit 0; fi); then
+    if $GMSGFMT --statistics /System/Devices/null >/System/Devices/null 2>&1 &&
+       (if $GMSGFMT --statistics /System/Devices/null 2>&1 >/System/Devices/null | grep usage >/System/Devices/null; then exit 1; else exit 0; fi); then
       : ;
     else
       GMSGFMT=`echo "$GMSGFMT" | sed -e 's,^.*/,,'`
@@ -502,8 +502,8 @@
   if test "$XGETTEXT" != ":"; then
     dnl If it is no GNU xgettext we define it as : so that the
     dnl Makefiles still can work.
-    if $XGETTEXT --omit-header --copyright-holder= --msgid-bugs-address= /dev/null >/dev/null 2>&1 &&
-       (if $XGETTEXT --omit-header --copyright-holder= --msgid-bugs-address= /dev/null 2>&1 >/dev/null | grep usage >/dev/null; then exit 1; else exit 0; fi); then
+    if $XGETTEXT --omit-header --copyright-holder= --msgid-bugs-address= /System/Devices/null >/System/Devices/null 2>&1 &&
+       (if $XGETTEXT --omit-header --copyright-holder= --msgid-bugs-address= /System/Devices/null 2>&1 >/System/Devices/null | grep usage >/System/Devices/null; then exit 1; else exit 0; fi); then
       : ;
     else
       AC_MSG_RESULT(
@@ -779,7 +779,7 @@
   AC_REQUIRE([AC_CONFIG_AUX_DIR_DEFAULT]) dnl we use $ac_aux_dir
   AC_CACHE_CHECK([for shared library run path origin], acl_cv_rpath, [
     CC="$CC" GCC="$GCC" LDFLAGS="$LDFLAGS" LD="$LD" with_gnu_ld="$with_gnu_ld" \
-    ${CONFIG_SHELL-/bin/sh} "$ac_aux_dir/config.rpath" "$host" > conftest.sh
+    ${CONFIG_SHELL-/System/Tools/sh} "$ac_aux_dir/config.rpath" "$host" > conftest.sh
     . ./conftest.sh
     rm -f ./conftest.sh
     acl_cv_rpath=done
@@ -1400,7 +1400,7 @@
 AC_DEFUN([AC_LIB_PROG_LD_GNU],
 [AC_CACHE_CHECK([if the linker ($LD) is GNU ld], acl_cv_prog_gnu_ld,
 [# I'd rather use --version here, but apparently some GNU ld's only accept -v.
-if $LD -v 2>&1 </dev/null | egrep '(GNU|with BFD)' 1>&5; then
+if $LD -v 2>&1 </System/Devices/null | egrep '(GNU|with BFD)' 1>&5; then
   acl_cv_prog_gnu_ld=yes
 else
   acl_cv_prog_gnu_ld=no
@@ -1418,10 +1418,10 @@
 # Prepare PATH_SEPARATOR.
 # The user is always right.
 if test "${PATH_SEPARATOR+set}" != set; then
-  echo "#! /bin/sh" >conf$$.sh
+  echo "#! /System/Tools/sh" >conf$$.sh
   echo  "exit 0"   >>conf$$.sh
   chmod +x conf$$.sh
-  if (PATH="/nonexistent;."; conf$$.sh) >/dev/null 2>&1; then
+  if (PATH="/nonexistent;."; conf$$.sh) >/System/Devices/null 2>&1; then
     PATH_SEPARATOR=';'
   else
     PATH_SEPARATOR=:
@@ -1445,7 +1445,7 @@
       [re_direlt='/[^/][^/]*/\.\./']
       # Canonicalize the path of ld
       ac_prog=`echo $ac_prog| sed 's%\\\\%/%g'`
-      while echo $ac_prog | grep "$re_direlt" > /dev/null 2>&1; do
+      while echo $ac_prog | grep "$re_direlt" > /System/Devices/null 2>&1; do
 	ac_prog=`echo $ac_prog| sed "s%$re_direlt%/%"`
       done
       test -z "$LD" && LD="$ac_prog"
@@ -1474,7 +1474,7 @@
       # Check to see if the program is GNU ld.  I'd rather use --version,
       # but apparently some GNU ld's only accept -v.
       # Break only if it was the GNU/non-GNU ld that we prefer.
-      if "$acl_cv_path_LD" -v 2>&1 < /dev/null | egrep '(GNU|with BFD)' > /dev/null; then
+      if "$acl_cv_path_LD" -v 2>&1 < /System/Devices/null | egrep '(GNU|with BFD)' > /System/Devices/null; then
 	test "$with_gnu_ld" != no && break
       else
 	test "$with_gnu_ld" != yes && break
diff -urN gcc-3.4.4/intl/configure gcc-3.4.4-STEP/intl/configure
--- gcc-3.4.4/intl/configure	2003-07-08 17:55:11.000000000 +1200
+++ gcc-3.4.4-STEP/intl/configure	2005-09-04 10:06:23.795666880 +1200
@@ -1,4 +1,4 @@
-#! /bin/sh
+#! /System/Tools/sh
 
 # Guess values for system-dependent variables and create Makefiles.
 # Generated automatically using autoconf version 2.13 
@@ -65,7 +65,7 @@
 # Initialize some other variables.
 subdirs=
 MFLAGS= MAKEFLAGS=
-SHELL=${CONFIG_SHELL-/bin/sh}
+SHELL=${CONFIG_SHELL-/System/Tools/sh}
 # Maximum number of lines to put in a shell here document.
 ac_max_here_lines=12
 
@@ -418,12 +418,12 @@
 # 0 standard input
 # 1 file creation
 # 2 errors and warnings
-# 3 some systems may open it to /dev/tty
+# 3 some systems may open it to /System/Devices/tty
 # 4 used on the Kubota Titan
 # 6 checking for... messages and results
 # 5 compiler messages saved in config.log
 if test "$silent" = yes; then
-  exec 6>/dev/null
+  exec 6>/System/Devices/null
 else
   exec 6>&1
 fi
@@ -495,9 +495,9 @@
 # Prefer explicitly selected file to automatically selected ones.
 if test -z "$CONFIG_SITE"; then
   if test "x$prefix" != xNONE; then
-    CONFIG_SITE="$prefix/share/config.site $prefix/etc/config.site"
+    CONFIG_SITE="$prefix/share/config.site $prefix/System/Settings/config.site"
   else
-    CONFIG_SITE="$ac_default_prefix/share/config.site $ac_default_prefix/etc/config.site"
+    CONFIG_SITE="$ac_default_prefix/share/config.site $ac_default_prefix/System/Settings/config.site"
   fi
 fi
 for ac_site_file in $CONFIG_SITE; do
@@ -524,9 +524,9 @@
 
 ac_exeext=
 ac_objext=o
-if (echo "testing\c"; echo 1,2,3) | grep c >/dev/null; then
+if (echo "testing\c"; echo 1,2,3) | grep c >/System/Devices/null; then
   # Stardent Vistra SVR4 grep lacks -e, says ghazi@caip.rutgers.edu.
-  if (echo -n testing; echo 1,2,3) | sed s/-n/xn/ | grep xn >/dev/null; then
+  if (echo -n testing; echo 1,2,3) | sed s/-n/xn/ | grep xn >/System/Devices/null; then
     ac_n= ac_c='
 ' ac_t='	'
   else
@@ -547,10 +547,10 @@
 # Prepare PATH_SEPARATOR.
 # The user is always right.
 if test "${PATH_SEPARATOR+set}" != set; then
-  echo "#! /bin/sh" >conf$$.sh
+  echo "#! /System/Tools/sh" >conf$$.sh
   echo  "exit 0"   >>conf$$.sh
   chmod +x conf$$.sh
-  if (PATH="/nonexistent;."; conf$$.sh) >/dev/null 2>&1; then
+  if (PATH="/nonexistent;."; conf$$.sh) >/System/Devices/null 2>&1; then
     PATH_SEPARATOR=';'
   else
     PATH_SEPARATOR=:
@@ -575,7 +575,7 @@
       re_direlt='/[^/][^/]*/\.\./'
       # Canonicalize the path of ld
       ac_prog=`echo $ac_prog| sed 's%\\\\%/%g'`
-      while echo $ac_prog | grep "$re_direlt" > /dev/null 2>&1; do
+      while echo $ac_prog | grep "$re_direlt" > /System/Devices/null 2>&1; do
 	ac_prog=`echo $ac_prog| sed "s%$re_direlt%/%"`
       done
       test -z "$LD" && LD="$ac_prog"
@@ -608,7 +608,7 @@
       # Check to see if the program is GNU ld.  I'd rather use --version,
       # but apparently some GNU ld's only accept -v.
       # Break only if it was the GNU/non-GNU ld that we prefer.
-      if "$acl_cv_path_LD" -v 2>&1 < /dev/null | egrep '(GNU|with BFD)' > /dev/null; then
+      if "$acl_cv_path_LD" -v 2>&1 < /System/Devices/null | egrep '(GNU|with BFD)' > /System/Devices/null; then
 	test "$with_gnu_ld" != no && break
       else
 	test "$with_gnu_ld" != yes && break
@@ -634,7 +634,7 @@
   echo $ac_n "(cached) $ac_c" 1>&6
 else
   # I'd rather use --version here, but apparently some GNU ld's only accept -v.
-if $LD -v 2>&1 </dev/null | egrep '(GNU|with BFD)' 1>&5; then
+if $LD -v 2>&1 </System/Devices/null | egrep '(GNU|with BFD)' 1>&5; then
   acl_cv_prog_gnu_ld=yes
 else
   acl_cv_prog_gnu_ld=no
@@ -688,7 +688,7 @@
 #include <assert.h>
 Syntax Error
 EOF
-ac_try="$ac_cpp conftest.$ac_ext >/dev/null 2>conftest.out"
+ac_try="$ac_cpp conftest.$ac_ext >/System/Devices/null 2>conftest.out"
 { (eval echo configure:693: \"$ac_try\") 1>&5; (eval $ac_try) 2>&5; }
 ac_err=`grep -v '^ *+' conftest.out | grep -v "^conftest.${ac_ext}\$"`
 if test -z "$ac_err"; then
@@ -705,7 +705,7 @@
 #include <assert.h>
 Syntax Error
 EOF
-ac_try="$ac_cpp conftest.$ac_ext >/dev/null 2>conftest.out"
+ac_try="$ac_cpp conftest.$ac_ext >/System/Devices/null 2>conftest.out"
 { (eval echo configure:710: \"$ac_try\") 1>&5; (eval $ac_try) 2>&5; }
 ac_err=`grep -v '^ *+' conftest.out | grep -v "^conftest.${ac_ext}\$"`
 if test -z "$ac_err"; then
@@ -722,7 +722,7 @@
 #include <assert.h>
 Syntax Error
 EOF
-ac_try="$ac_cpp conftest.$ac_ext >/dev/null 2>conftest.out"
+ac_try="$ac_cpp conftest.$ac_ext >/System/Devices/null 2>conftest.out"
 { (eval echo configure:727: \"$ac_try\") 1>&5; (eval $ac_try) 2>&5; }
 ac_err=`grep -v '^ *+' conftest.out | grep -v "^conftest.${ac_ext}\$"`
 if test -z "$ac_err"; then
@@ -876,7 +876,7 @@
 else
   
     CC="$CC" GCC="$GCC" LDFLAGS="$LDFLAGS" LD="$LD" with_gnu_ld="$with_gnu_ld" \
-    ${CONFIG_SHELL-/bin/sh} "$ac_aux_dir/config.rpath" "$host" > conftest.sh
+    ${CONFIG_SHELL-/System/Tools/sh} "$ac_aux_dir/config.rpath" "$host" > conftest.sh
     . ./conftest.sh
     rm -f ./conftest.sh
     acl_cv_rpath=done
@@ -911,7 +911,7 @@
 	@echo 'ac_maketemp="${MAKE}"'
 EOF
 # GNU make sometimes prints "make[1]: Entering...", which would confuse us.
-eval `${MAKE-make} -f conftestmake 2>/dev/null | grep temp=`
+eval `${MAKE-make} -f conftestmake 2>/System/Devices/null | grep temp=`
 if test -n "$ac_maketemp"; then
   eval ac_cv_prog_make_${ac_make}_set=yes
 else
@@ -930,11 +930,11 @@
 # Find a good install program.  We prefer a C program (faster),
 # so one script is as good as another.  But avoid the broken or
 # incompatible versions:
-# SysV /etc/install, /usr/sbin/install
-# SunOS /usr/etc/install
+# SysV /System/Settings/install, /usr/sbin/install
+# SunOS /usr/System/Settings/install
 # IRIX /sbin/install
 # AIX /bin/install
-# AIX 4 /usr/bin/installbsd, which doesn't work without a -g flag
+# AIX 4 /System/Tools/installbsd, which doesn't work without a -g flag
 # AFS /usr/afsws/bin/install, which mishandles nonexistent args
 # SVR4 /usr/ucb/install, which tries to use the nonexistent group "staff"
 # ./install, which can be erroneously created by make from ./install.sh.
@@ -948,7 +948,7 @@
   for ac_dir in $PATH; do
     # Account for people who put trailing slashes in PATH elements.
     case "$ac_dir/" in
-    /|./|.//|/etc/*|/usr/sbin/*|/usr/etc/*|/sbin/*|/usr/afsws/bin/*|/usr/ucb/*) ;;
+    /|./|.//|/System/Settings/*|/usr/sbin/*|/usr/System/Settings/*|/sbin/*|/usr/afsws/bin/*|/usr/ucb/*) ;;
     *)
       # OSF1 and SCO ODT 3.0 have their own names for install.
       # Don't use installbsd from OSF since it installs stuff as root
@@ -956,7 +956,7 @@
       for ac_prog in ginstall scoinst install; do
         if test -f $ac_dir/$ac_prog; then
 	  if test $ac_prog = install &&
-            grep dspmsg $ac_dir/$ac_prog >/dev/null 2>&1; then
+            grep dspmsg $ac_dir/$ac_prog >/System/Devices/null 2>&1; then
 	    # AIX install.  It has an incompatible calling convention.
 	    :
 	  else
@@ -1153,7 +1153,7 @@
 if { (eval echo configure:1154: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
   ac_cv_prog_cc_works=yes
   # If we can't run a trivial program, we are probably using a cross compiler.
-  if (./conftest; exit) 2>/dev/null; then
+  if (./conftest; exit) 2>/System/Devices/null; then
     ac_cv_prog_cc_cross=no
   else
     ac_cv_prog_cc_cross=yes
@@ -1190,7 +1190,7 @@
   yes;
 #endif
 EOF
-if { ac_try='${CC-cc} -E conftest.c'; { (eval echo configure:1194: \"$ac_try\") 1>&5; (eval $ac_try) 2>&5; }; } | egrep yes >/dev/null 2>&1; then
+if { ac_try='${CC-cc} -E conftest.c'; { (eval echo configure:1194: \"$ac_try\") 1>&5; (eval $ac_try) 2>&5; }; } | egrep yes >/System/Devices/null 2>&1; then
   ac_cv_prog_gcc=yes
 else
   ac_cv_prog_gcc=no
@@ -1242,7 +1242,7 @@
 
 
 # Make sure we can run config.sub.
-if ${CONFIG_SHELL-/bin/sh} $ac_config_sub sun4 >/dev/null 2>&1; then :
+if ${CONFIG_SHELL-/System/Tools/sh} $ac_config_sub sun4 >/System/Devices/null 2>&1; then :
 else { echo "configure: error: can not run $ac_config_sub" 1>&2; exit 1; }
 fi
 
@@ -1254,14 +1254,14 @@
 NONE)
   case $nonopt in
   NONE)
-    if host_alias=`${CONFIG_SHELL-/bin/sh} $ac_config_guess`; then :
+    if host_alias=`${CONFIG_SHELL-/System/Tools/sh} $ac_config_guess`; then :
     else { echo "configure: error: can not guess host type; you must specify one" 1>&2; exit 1; }
     fi ;;
   *) host_alias=$nonopt ;;
   esac ;;
 esac
 
-host=`${CONFIG_SHELL-/bin/sh} $ac_config_sub $host_alias`
+host=`${CONFIG_SHELL-/System/Tools/sh} $ac_config_sub $host_alias`
 host_cpu=`echo $host | sed 's/^\([^-]*\)-\([^-]*\)-\(.*\)$/\1/'`
 host_vendor=`echo $host | sed 's/^\([^-]*\)-\([^-]*\)-\(.*\)$/\2/'`
 host_os=`echo $host | sed 's/^\([^-]*\)-\([^-]*\)-\(.*\)$/\3/'`
@@ -1353,7 +1353,7 @@
 #include <string.h>
 #include <float.h>
 EOF
-ac_try="$ac_cpp conftest.$ac_ext >/dev/null 2>conftest.out"
+ac_try="$ac_cpp conftest.$ac_ext >/System/Devices/null 2>conftest.out"
 { (eval echo configure:1358: \"$ac_try\") 1>&5; (eval $ac_try) 2>&5; }
 ac_err=`grep -v '^ *+' conftest.out | grep -v "^conftest.${ac_ext}\$"`
 if test -z "$ac_err"; then
@@ -1376,7 +1376,7 @@
 #include <string.h>
 EOF
 if (eval "$ac_cpp conftest.$ac_ext") 2>&5 |
-  egrep "memchr" >/dev/null 2>&1; then
+  egrep "memchr" >/System/Devices/null 2>&1; then
   :
 else
   rm -rf conftest*
@@ -1394,7 +1394,7 @@
 #include <stdlib.h>
 EOF
 if (eval "$ac_cpp conftest.$ac_ext") 2>&5 |
-  egrep "free" >/dev/null 2>&1; then
+  egrep "free" >/System/Devices/null 2>&1; then
   :
 else
   rm -rf conftest*
@@ -1421,7 +1421,7 @@
 exit (0); }
 
 EOF
-if { (eval echo configure:1425: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null
+if { (eval echo configure:1425: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/System/Devices/null
 then
   :
 else
@@ -1574,7 +1574,7 @@
 #endif
 EOF
 if (eval "$ac_cpp conftest.$ac_ext") 2>&5 |
-  egrep "(^|[^a-zA-Z_0-9])off_t[^a-zA-Z_0-9]" >/dev/null 2>&1; then
+  egrep "(^|[^a-zA-Z_0-9])off_t[^a-zA-Z_0-9]" >/System/Devices/null 2>&1; then
   rm -rf conftest*
   ac_cv_type_off_t=yes
 else
@@ -1607,7 +1607,7 @@
 #endif
 EOF
 if (eval "$ac_cpp conftest.$ac_ext") 2>&5 |
-  egrep "(^|[^a-zA-Z_0-9])size_t[^a-zA-Z_0-9]" >/dev/null 2>&1; then
+  egrep "(^|[^a-zA-Z_0-9])size_t[^a-zA-Z_0-9]" >/System/Devices/null 2>&1; then
   rm -rf conftest*
   ac_cv_type_size_t=yes
 else
@@ -1741,7 +1741,7 @@
 
 EOF
 if (eval "$ac_cpp conftest.$ac_ext") 2>&5 |
-  egrep "webecray" >/dev/null 2>&1; then
+  egrep "webecray" >/System/Devices/null 2>&1; then
   rm -rf conftest*
   ac_cv_os_cray=yes
 else
@@ -1838,7 +1838,7 @@
   exit (find_stack_direction() < 0);
 }
 EOF
-if { (eval echo configure:1842: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null
+if { (eval echo configure:1842: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/System/Devices/null
 then
   ac_cv_c_stack_direction=1
 else
@@ -1872,7 +1872,7 @@
 #include "confdefs.h"
 #include <$ac_hdr>
 EOF
-ac_try="$ac_cpp conftest.$ac_ext >/dev/null 2>conftest.out"
+ac_try="$ac_cpp conftest.$ac_ext >/System/Devices/null 2>conftest.out"
 { (eval echo configure:1877: \"$ac_try\") 1>&5; (eval $ac_try) 2>&5; }
 ac_err=`grep -v '^ *+' conftest.out | grep -v "^conftest.${ac_ext}\$"`
 if test -z "$ac_err"; then
@@ -2103,7 +2103,7 @@
 }
 
 EOF
-if { (eval echo configure:2107: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null
+if { (eval echo configure:2107: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/System/Devices/null
 then
   ac_cv_func_mmap_fixed_mapped=yes
 else
@@ -2144,7 +2144,7 @@
 	
 EOF
 if (eval "$ac_cpp conftest.$ac_ext") 2>&5 |
-  egrep "Lucky GNU user" >/dev/null 2>&1; then
+  egrep "Lucky GNU user" >/System/Devices/null 2>&1; then
   rm -rf conftest*
   ac_cv_gnu_library_2_1=yes
 else
@@ -2222,7 +2222,7 @@
 }
 
 EOF
-if { (eval echo configure:2226: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null
+if { (eval echo configure:2226: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/System/Devices/null
 then
   gt_cv_int_divbyzero_sigfpe=yes
 else
@@ -2736,10 +2736,10 @@
 # Prepare PATH_SEPARATOR.
 # The user is always right.
 if test "${PATH_SEPARATOR+set}" != set; then
-  echo "#! /bin/sh" >conf$$.sh
+  echo "#! /System/Tools/sh" >conf$$.sh
   echo  "exit 0"   >>conf$$.sh
   chmod +x conf$$.sh
-  if (PATH="/nonexistent;."; conf$$.sh) >/dev/null 2>&1; then
+  if (PATH="/nonexistent;."; conf$$.sh) >/System/Devices/null 2>&1; then
     PATH_SEPARATOR=';'
   else
     PATH_SEPARATOR=:
@@ -2750,11 +2750,11 @@
 # Find out how to test for executable files. Don't use a zero-byte file,
 # as systems may use methods other than mode bits to determine executability.
 cat >conf$$.file <<_ASEOF
-#! /bin/sh
+#! /System/Tools/sh
 exit 0
 _ASEOF
 chmod +x conf$$.file
-if test -x conf$$.file >/dev/null 2>&1; then
+if test -x conf$$.file >/System/Devices/null 2>&1; then
   ac_executable_p="test -x"
 else
   ac_executable_p="test -f"
@@ -2779,8 +2779,8 @@
       test -z "$ac_dir" && ac_dir=.
       for ac_exec_ext in '' $ac_executable_extensions; do
         if $ac_executable_p "$ac_dir/$ac_word$ac_exec_ext"; then
-          if $ac_dir/$ac_word --statistics /dev/null >/dev/null 2>&1 &&
-     (if $ac_dir/$ac_word --statistics /dev/null 2>&1 >/dev/null | grep usage >/dev/null; then exit 1; else exit 0; fi); then
+          if $ac_dir/$ac_word --statistics /System/Devices/null >/System/Devices/null 2>&1 &&
+     (if $ac_dir/$ac_word --statistics /System/Devices/null 2>&1 >/System/Devices/null | grep usage >/System/Devices/null; then exit 1; else exit 0; fi); then
             ac_cv_path_MSGFMT="$ac_dir/$ac_word$ac_exec_ext"
             break 2
           fi
@@ -2840,10 +2840,10 @@
 # Prepare PATH_SEPARATOR.
 # The user is always right.
 if test "${PATH_SEPARATOR+set}" != set; then
-  echo "#! /bin/sh" >conf$$.sh
+  echo "#! /System/Tools/sh" >conf$$.sh
   echo  "exit 0"   >>conf$$.sh
   chmod +x conf$$.sh
-  if (PATH="/nonexistent;."; conf$$.sh) >/dev/null 2>&1; then
+  if (PATH="/nonexistent;."; conf$$.sh) >/System/Devices/null 2>&1; then
     PATH_SEPARATOR=';'
   else
     PATH_SEPARATOR=:
@@ -2854,11 +2854,11 @@
 # Find out how to test for executable files. Don't use a zero-byte file,
 # as systems may use methods other than mode bits to determine executability.
 cat >conf$$.file <<_ASEOF
-#! /bin/sh
+#! /System/Tools/sh
 exit 0
 _ASEOF
 chmod +x conf$$.file
-if test -x conf$$.file >/dev/null 2>&1; then
+if test -x conf$$.file >/System/Devices/null 2>&1; then
   ac_executable_p="test -x"
 else
   ac_executable_p="test -f"
@@ -2883,8 +2883,8 @@
       test -z "$ac_dir" && ac_dir=.
       for ac_exec_ext in '' $ac_executable_extensions; do
         if $ac_executable_p "$ac_dir/$ac_word$ac_exec_ext"; then
-          if $ac_dir/$ac_word --omit-header --copyright-holder= --msgid-bugs-address= /dev/null >/dev/null 2>&1 &&
-     (if $ac_dir/$ac_word --omit-header --copyright-holder= --msgid-bugs-address= /dev/null 2>&1 >/dev/null | grep usage >/dev/null; then exit 1; else exit 0; fi); then
+          if $ac_dir/$ac_word --omit-header --copyright-holder= --msgid-bugs-address= /System/Devices/null >/System/Devices/null 2>&1 &&
+     (if $ac_dir/$ac_word --omit-header --copyright-holder= --msgid-bugs-address= /System/Devices/null 2>&1 >/System/Devices/null | grep usage >/System/Devices/null; then exit 1; else exit 0; fi); then
             ac_cv_path_XGETTEXT="$ac_dir/$ac_word$ac_exec_ext"
             break 2
           fi
@@ -2909,10 +2909,10 @@
 # Prepare PATH_SEPARATOR.
 # The user is always right.
 if test "${PATH_SEPARATOR+set}" != set; then
-  echo "#! /bin/sh" >conf$$.sh
+  echo "#! /System/Tools/sh" >conf$$.sh
   echo  "exit 0"   >>conf$$.sh
   chmod +x conf$$.sh
-  if (PATH="/nonexistent;."; conf$$.sh) >/dev/null 2>&1; then
+  if (PATH="/nonexistent;."; conf$$.sh) >/System/Devices/null 2>&1; then
     PATH_SEPARATOR=';'
   else
     PATH_SEPARATOR=:
@@ -2923,11 +2923,11 @@
 # Find out how to test for executable files. Don't use a zero-byte file,
 # as systems may use methods other than mode bits to determine executability.
 cat >conf$$.file <<_ASEOF
-#! /bin/sh
+#! /System/Tools/sh
 exit 0
 _ASEOF
 chmod +x conf$$.file
-if test -x conf$$.file >/dev/null 2>&1; then
+if test -x conf$$.file >/System/Devices/null 2>&1; then
   ac_executable_p="test -x"
 else
   ac_executable_p="test -f"
@@ -2952,7 +2952,7 @@
       test -z "$ac_dir" && ac_dir=.
       for ac_exec_ext in '' $ac_executable_extensions; do
         if $ac_executable_p "$ac_dir/$ac_word$ac_exec_ext"; then
-          if $ac_dir/$ac_word --update -q /dev/null /dev/null >/dev/null 2>&1; then
+          if $ac_dir/$ac_word --update -q /System/Devices/null /System/Devices/null >/System/Devices/null 2>&1; then
             ac_cv_path_MSGMERGE="$ac_dir/$ac_word$ac_exec_ext"
             break 2
           fi
@@ -2973,8 +2973,8 @@
 
 
       if test "$GMSGFMT" != ":"; then
-            if $GMSGFMT --statistics /dev/null >/dev/null 2>&1 &&
-       (if $GMSGFMT --statistics /dev/null 2>&1 >/dev/null | grep usage >/dev/null; then exit 1; else exit 0; fi); then
+            if $GMSGFMT --statistics /System/Devices/null >/System/Devices/null 2>&1 &&
+       (if $GMSGFMT --statistics /System/Devices/null 2>&1 >/System/Devices/null | grep usage >/System/Devices/null; then exit 1; else exit 0; fi); then
       : ;
     else
       GMSGFMT=`echo "$GMSGFMT" | sed -e 's,^.*/,,'`
@@ -2984,8 +2984,8 @@
   fi
 
       if test "$XGETTEXT" != ":"; then
-            if $XGETTEXT --omit-header --copyright-holder= --msgid-bugs-address= /dev/null >/dev/null 2>&1 &&
-       (if $XGETTEXT --omit-header --copyright-holder= --msgid-bugs-address= /dev/null 2>&1 >/dev/null | grep usage >/dev/null; then exit 1; else exit 0; fi); then
+            if $XGETTEXT --omit-header --copyright-holder= --msgid-bugs-address= /System/Devices/null >/System/Devices/null 2>&1 &&
+       (if $XGETTEXT --omit-header --copyright-holder= --msgid-bugs-address= /System/Devices/null 2>&1 >/System/Devices/null | grep usage >/System/Devices/null; then exit 1; else exit 0; fi); then
       : ;
     else
       echo "$ac_t""found xgettext program is not GNU xgettext; ignore it" 1>&6
@@ -3012,7 +3012,7 @@
 #include "confdefs.h"
 #include <$ac_hdr>
 EOF
-ac_try="$ac_cpp conftest.$ac_ext >/dev/null 2>conftest.out"
+ac_try="$ac_cpp conftest.$ac_ext >/System/Devices/null 2>conftest.out"
 { (eval echo configure:3017: \"$ac_try\") 1>&5; (eval $ac_try) 2>&5; }
 ac_err=`grep -v '^ *+' conftest.out | grep -v "^conftest.${ac_ext}\$"`
 if test -z "$ac_err"; then
@@ -4107,7 +4107,7 @@
 # the --cache-file=FILE option to use a different cache file; that is
 # what configure does when it calls configure scripts in
 # subdirectories, so they share the cache.
-# Giving --cache-file=/dev/null disables caching, for debugging configure.
+# Giving --cache-file=/System/Devices/null disables caching, for debugging configure.
 # config.status only pays attention to the cache file if you give it the
 # --recheck option to rerun configure.
 #
@@ -4166,11 +4166,11 @@
 echo creating $CONFIG_STATUS
 rm -f $CONFIG_STATUS
 cat > $CONFIG_STATUS <<EOF
-#! /bin/sh
+#! /System/Tools/sh
 # Generated automatically by configure.
 # Run this file to recreate the current configuration.
 # This directory was configured as follows,
-# on host `(hostname || uname -n) 2>/dev/null | sed 1q`:
+# on host `(hostname || uname -n) 2>/System/Devices/null | sed 1q`:
 #
 # $0 $ac_configure_args
 #
@@ -4182,8 +4182,8 @@
 do
   case "\$ac_option" in
   -recheck | --recheck | --rechec | --reche | --rech | --rec | --re | --r)
-    echo "running \${CONFIG_SHELL-/bin/sh} $0 $ac_configure_args --no-create --no-recursion"
-    exec \${CONFIG_SHELL-/bin/sh} $0 $ac_configure_args --no-create --no-recursion ;;
+    echo "running \${CONFIG_SHELL-/System/Tools/sh} $0 $ac_configure_args --no-create --no-recursion"
+    exec \${CONFIG_SHELL-/System/Tools/sh} $0 $ac_configure_args --no-create --no-recursion ;;
   -version | --version | --versio | --versi | --vers | --ver | --ve | --v)
     echo "$CONFIG_STATUS generated by autoconf version 2.13"
     exit 0 ;;
@@ -4457,7 +4457,7 @@
   echo "/* $ac_file.  Generated automatically by configure.  */" > conftest.h
   cat conftest.in >> conftest.h
   rm -f conftest.in
-  if cmp -s $ac_file conftest.h 2>/dev/null; then
+  if cmp -s $ac_file conftest.h 2>/System/Devices/null; then
     echo "$ac_file is unchanged"
     rm -f conftest.h
   else
@@ -4590,5 +4590,5 @@
 EOF
 chmod +x $CONFIG_STATUS
 rm -fr confdefs* $ac_clean_files
-test "$no_create" = yes || ${CONFIG_SHELL-/bin/sh} $CONFIG_STATUS || exit 1
+test "$no_create" = yes || ${CONFIG_SHELL-/System/Tools/sh} $CONFIG_STATUS || exit 1
 
diff -urN gcc-3.4.4/intl/relocatable.c gcc-3.4.4-STEP/intl/relocatable.c
--- gcc-3.4.4/intl/relocatable.c	2003-07-05 06:18:54.000000000 +1200
+++ gcc-3.4.4-STEP/intl/relocatable.c	2005-09-04 10:06:23.796666728 +1200
@@ -308,7 +308,7 @@
   FILE *fp;
 
   /* Open the current process' maps file.  It describes one VMA per line.  */
-  fp = fopen ("/proc/self/maps", "r");
+  fp = fopen ("/System/Processes/self/maps", "r");
   if (fp)
     {
       unsigned long address = (unsigned long) &find_shared_library_fullname;
diff -urN gcc-3.4.4/libiberty/ChangeLog gcc-3.4.4-STEP/libiberty/ChangeLog
--- gcc-3.4.4/libiberty/ChangeLog	2005-05-19 19:50:22.000000000 +1200
+++ gcc-3.4.4-STEP/libiberty/ChangeLog	2005-09-04 10:06:23.801665968 +1200
@@ -4337,7 +4337,7 @@
 Tue Feb 27 12:00:50 1996  Raymond Jou  <rjou@mexican.cygnus.com>
 
 	* mpw.c (mpwify_filename): Change 6 to 5 in
-	strncmp (unixname, "/tmp/", 5).
+	strncmp (unixname, "/System/TemporaryFiles/", 5).
 
 Tue Feb 20 10:55:53 1996  Ian Lance Taylor  <ian@cygnus.com>
 
@@ -4553,7 +4553,7 @@
 
 	* mpw-make.in (ALL_CFLAGS): Define NEED_basename.
 	* mpw.c: Only test DebugPI once whenever printing debug info.
-	(mpwify_filename): If filename is /tmp/foo, change it into :_foo,
+	(mpwify_filename): If filename is /System/TemporaryFiles/foo, change it into :_foo,
 	also fix to not write on input filename buffer.
 	(mpw_access): Use stat() instead of open(), works for directories
 	as well as files.
@@ -5305,7 +5305,7 @@
 
 Wed Aug 18 19:50:29 1993  Jason Merrill  (jason@deneb.cygnus.com)
 
-	* Makefile.in (dummy.o): Redirect to /dev/null to avoid "variable
+	* Makefile.in (dummy.o): Redirect to /System/Devices/null to avoid "variable
 	not initialized" warnings under HP/UX
 
 Sun Aug 15 20:42:40 1993  Jim Kingdon  (kingdon@lioth.cygnus.com)
@@ -5757,7 +5757,7 @@
 Fri Jun 12 19:22:40 1992  John Gilmore  (gnu at cygnus.com)
 
 	* Makefile.in:  Add random.c.
-	* config/mh-*:  Use "true" rather than "echo >/dev/null" for ranlib.
+	* config/mh-*:  Use "true" rather than "echo >/System/Devices/null" for ranlib.
 	* configure.in:  update solaris2 config.
 
 Wed Jun 10 16:31:29 1992  Fred Fish  (fnf@cygnus.com)
diff -urN gcc-3.4.4/libiberty/Makefile.in gcc-3.4.4-STEP/libiberty/Makefile.in
--- gcc-3.4.4/libiberty/Makefile.in	2004-01-15 10:27:28.000000000 +1300
+++ gcc-3.4.4-STEP/libiberty/Makefile.in	2005-09-04 10:06:23.802665816 +1200
@@ -378,7 +378,7 @@
 	@$(MULTICLEAN) multi-clean DO=distclean
 	-rm -f *~ Makefile config.cache config.status xhost-mkfrag TAGS multilib.out
 	-rm -f config.log
-	-rmdir testsuite 2>/dev/null
+	-rmdir testsuite 2>/System/Devices/null
 maintainer-clean realclean: maintainer-clean-subdir
 	$(MAKE) SUBDIRS="" distclean
 
diff -urN gcc-3.4.4/libiberty/aclocal.m4 gcc-3.4.4-STEP/libiberty/aclocal.m4
--- gcc-3.4.4/libiberty/aclocal.m4	2003-09-03 11:29:10.000000000 +1200
+++ gcc-3.4.4-STEP/libiberty/aclocal.m4	2005-09-04 10:06:23.803665664 +1200
@@ -45,7 +45,7 @@
   char *p;
   int dev_zero;
 
-  dev_zero = open ("/dev/zero", O_RDONLY);
+  dev_zero = open ("/System/Devices/zero", O_RDONLY);
   if (dev_zero < 0)
     exit (1);
   
diff -urN gcc-3.4.4/libiberty/config.table gcc-3.4.4-STEP/libiberty/config.table
--- gcc-3.4.4/libiberty/config.table	2003-05-20 14:49:26.000000000 +1200
+++ gcc-3.4.4-STEP/libiberty/config.table	2005-09-04 10:06:23.804665512 +1200
@@ -65,4 +65,4 @@
 fi
 
 frag=xhost-mkfrag
-${CONFIG_SHELL-/bin/sh} ${libiberty_topdir}/move-if-change temp-frag xhost-mkfrag
+${CONFIG_SHELL-/System/Tools/sh} ${libiberty_topdir}/move-if-change temp-frag xhost-mkfrag
diff -urN gcc-3.4.4/libiberty/configure gcc-3.4.4-STEP/libiberty/configure
--- gcc-3.4.4/libiberty/configure	2003-10-02 05:11:29.000000000 +1200
+++ gcc-3.4.4-STEP/libiberty/configure	2005-09-04 10:06:23.811664448 +1200
@@ -1,4 +1,4 @@
-#! /bin/sh
+#! /System/Tools/sh
 # Guess values for system-dependent variables and create Makefiles.
 # Generated by GNU Autoconf 2.57.
 #
@@ -11,18 +11,18 @@
 ## --------------------- ##
 
 # Be Bourne compatible
-if test -n "${ZSH_VERSION+set}" && (emulate sh) >/dev/null 2>&1; then
+if test -n "${ZSH_VERSION+set}" && (emulate sh) >/System/Devices/null 2>&1; then
   emulate sh
   NULLCMD=:
   # Zsh 3.x and 4.x performs word splitting on ${1+"$@"}, which
   # is contrary to our usage.  Disable this feature.
   alias -g '${1+"$@"}'='"$@"'
-elif test -n "${BASH_VERSION+set}" && (set -o posix) >/dev/null 2>&1; then
+elif test -n "${BASH_VERSION+set}" && (set -o posix) >/System/Devices/null 2>&1; then
   set -o posix
 fi
 
 # Support unset when possible.
-if (FOO=FOO; unset FOO) >/dev/null 2>&1; then
+if (FOO=FOO; unset FOO) >/System/Devices/null 2>&1; then
   as_unset=unset
 else
   as_unset=false
@@ -49,13 +49,13 @@
 done
 
 # Required to use basename.
-if expr a : '\(a\)' >/dev/null 2>&1; then
+if expr a : '\(a\)' >/System/Devices/null 2>&1; then
   as_expr=expr
 else
   as_expr=false
 fi
 
-if (basename /) >/dev/null 2>&1 && test "X`basename / 2>&1`" = "X/"; then
+if (basename /) >/System/Devices/null 2>&1 && test "X`basename / 2>&1`" = "X/"; then
   as_basename=basename
 else
   as_basename=false
@@ -67,7 +67,7 @@
 $as_expr X/"$0" : '.*/\([^/][^/]*\)/*$' \| \
 	 X"$0" : 'X\(//\)$' \| \
 	 X"$0" : 'X\(/\)$' \| \
-	 .     : '\(.\)' 2>/dev/null ||
+	 .     : '\(.\)' 2>/System/Devices/null ||
 echo X/"$0" |
     sed '/^.*\/\([^/][^/]*\)\/*$/{ s//\1/; q; }
   	  /^X\/\(\/\/\)$/{ s//\1/; q; }
@@ -85,10 +85,10 @@
 
 # The user is always right.
 if test "${PATH_SEPARATOR+set}" != set; then
-  echo "#! /bin/sh" >conf$$.sh
+  echo "#! /System/Tools/sh" >conf$$.sh
   echo  "exit 0"   >>conf$$.sh
   chmod +x conf$$.sh
-  if (PATH="/nonexistent;."; conf$$.sh) >/dev/null 2>&1; then
+  if (PATH="/nonexistent;."; conf$$.sh) >/System/Devices/null 2>&1; then
     PATH_SEPARATOR=';'
   else
     PATH_SEPARATOR=:
@@ -99,7 +99,7 @@
 
   as_lineno_1=$LINENO
   as_lineno_2=$LINENO
-  as_lineno_3=`(expr $as_lineno_1 + 1) 2>/dev/null`
+  as_lineno_3=`(expr $as_lineno_1 + 1) 2>/System/Devices/null`
   test "x$as_lineno_1" != "x$as_lineno_2" &&
   test "x$as_lineno_3"  = "x$as_lineno_2"  || {
   # Find who we are.  Look in the path if we contain no path at all
@@ -138,9 +138,9 @@
 	   if ("$as_dir/$as_base" -c '
   as_lineno_1=$LINENO
   as_lineno_2=$LINENO
-  as_lineno_3=`(expr $as_lineno_1 + 1) 2>/dev/null`
+  as_lineno_3=`(expr $as_lineno_1 + 1) 2>/System/Devices/null`
   test "x$as_lineno_1" != "x$as_lineno_2" &&
-  test "x$as_lineno_3"  = "x$as_lineno_2" ') 2>/dev/null; then
+  test "x$as_lineno_3"  = "x$as_lineno_2" ') 2>/System/Devices/null; then
 	     $as_unset BASH_ENV || test "${BASH_ENV+set}" != set || { BASH_ENV=; export BASH_ENV; }
 	     $as_unset ENV || test "${ENV+set}" != set || { ENV=; export ENV; }
 	     CONFIG_SHELL=$as_dir/$as_base
@@ -191,7 +191,7 @@
   *)       ECHO_N= ECHO_C='\c' ECHO_T= ;;
 esac
 
-if expr a : '\(a\)' >/dev/null 2>&1; then
+if expr a : '\(a\)' >/System/Devices/null 2>&1; then
   as_expr=expr
 else
   as_expr=false
@@ -199,7 +199,7 @@
 
 rm -f conf$$ conf$$.exe conf$$.file
 echo >conf$$.file
-if ln -s conf$$.file conf$$ 2>/dev/null; then
+if ln -s conf$$.file conf$$ 2>/System/Devices/null; then
   # We could just check for DJGPP; but this test a) works b) is more generic
   # and c) will remain valid once DJGPP supports symlinks (DJGPP 2.04).
   if test -f conf$$.exe; then
@@ -208,14 +208,14 @@
   else
     as_ln_s='ln -s'
   fi
-elif ln conf$$.file conf$$ 2>/dev/null; then
+elif ln conf$$.file conf$$ 2>/System/Devices/null; then
   as_ln_s=ln
 else
   as_ln_s='cp -p'
 fi
 rm -f conf$$ conf$$.exe conf$$.file
 
-if mkdir -p . 2>/dev/null; then
+if mkdir -p . 2>/System/Devices/null; then
   as_mkdir_p=:
 else
   as_mkdir_p=false
@@ -243,7 +243,7 @@
 # Name of the host.
 # hostname on some systems (SVR3.2, Linux) returns a bogus exit status,
 # so uname gets run too.
-ac_hostname=`(hostname || uname -n) 2>/dev/null | sed 1q`
+ac_hostname=`(hostname || uname -n) 2>/System/Devices/null | sed 1q`
 
 exec 6>&1
 
@@ -256,7 +256,7 @@
 subdirs=
 MFLAGS=
 MAKEFLAGS=
-SHELL=${CONFIG_SHELL-/bin/sh}
+SHELL=${CONFIG_SHELL-/System/Tools/sh}
 
 # Maximum number of lines to put in a shell here document.
 # This variable seems obsolete.  It should probably be removed, and
@@ -316,7 +316,7 @@
 ac_init_version=false
 # The variables have the same names as the options, with
 # dashes changed to underlines.
-cache_file=/dev/null
+cache_file=/System/Devices/null
 exec_prefix=NONE
 no_create=
 no_recursion=
@@ -394,7 +394,7 @@
   -disable-* | --disable-*)
     ac_feature=`expr "x$ac_option" : 'x-*disable-\(.*\)'`
     # Reject names that are not valid shell variable names.
-    expr "x$ac_feature" : ".*[^-_$as_cr_alnum]" >/dev/null &&
+    expr "x$ac_feature" : ".*[^-_$as_cr_alnum]" >/System/Devices/null &&
       { echo "$as_me: error: invalid feature name: $ac_feature" >&2
    { (exit 1); exit 1; }; }
     ac_feature=`echo $ac_feature | sed 's/-/_/g'`
@@ -403,7 +403,7 @@
   -enable-* | --enable-*)
     ac_feature=`expr "x$ac_option" : 'x-*enable-\([^=]*\)'`
     # Reject names that are not valid shell variable names.
-    expr "x$ac_feature" : ".*[^-_$as_cr_alnum]" >/dev/null &&
+    expr "x$ac_feature" : ".*[^-_$as_cr_alnum]" >/System/Devices/null &&
       { echo "$as_me: error: invalid feature name: $ac_feature" >&2
    { (exit 1); exit 1; }; }
     ac_feature=`echo $ac_feature | sed 's/-/_/g'`
@@ -585,7 +585,7 @@
   -with-* | --with-*)
     ac_package=`expr "x$ac_option" : 'x-*with-\([^=]*\)'`
     # Reject names that are not valid shell variable names.
-    expr "x$ac_package" : ".*[^-_$as_cr_alnum]" >/dev/null &&
+    expr "x$ac_package" : ".*[^-_$as_cr_alnum]" >/System/Devices/null &&
       { echo "$as_me: error: invalid package name: $ac_package" >&2
    { (exit 1); exit 1; }; }
     ac_package=`echo $ac_package| sed 's/-/_/g'`
@@ -598,7 +598,7 @@
   -without-* | --without-*)
     ac_package=`expr "x$ac_option" : 'x-*without-\(.*\)'`
     # Reject names that are not valid shell variable names.
-    expr "x$ac_package" : ".*[^-_$as_cr_alnum]" >/dev/null &&
+    expr "x$ac_package" : ".*[^-_$as_cr_alnum]" >/System/Devices/null &&
       { echo "$as_me: error: invalid package name: $ac_package" >&2
    { (exit 1); exit 1; }; }
     ac_package=`echo $ac_package | sed 's/-/_/g'`
@@ -630,7 +630,7 @@
   *=*)
     ac_envvar=`expr "x$ac_option" : 'x\([^=]*\)='`
     # Reject names that are not valid shell variable names.
-    expr "x$ac_envvar" : ".*[^_$as_cr_alnum]" >/dev/null &&
+    expr "x$ac_envvar" : ".*[^_$as_cr_alnum]" >/System/Devices/null &&
       { echo "$as_me: error: invalid variable name: $ac_envvar" >&2
    { (exit 1); exit 1; }; }
     ac_optarg=`echo "$ac_optarg" | sed "s/'/'\\\\\\\\''/g"`
@@ -640,7 +640,7 @@
   *)
     # FIXME: should be removed in autoconf 3.0.
     echo "$as_me: WARNING: you should use --build, --host, --target" >&2
-    expr "x$ac_option" : ".*[^-._$as_cr_alnum]" >/dev/null &&
+    expr "x$ac_option" : ".*[^-._$as_cr_alnum]" >/System/Devices/null &&
       echo "$as_me: WARNING: invalid host type: $ac_option" >&2
     : ${build_alias=$ac_option} ${host_alias=$ac_option} ${target_alias=$ac_option}
     ;;
@@ -698,19 +698,19 @@
 ac_tool_prefix=
 test -n "$host_alias" && ac_tool_prefix=$host_alias-
 
-test "$silent" = yes && exec 6>/dev/null
+test "$silent" = yes && exec 6>/System/Devices/null
 
 
 # Find the source files, if location was not specified.
 if test -z "$srcdir"; then
   ac_srcdir_defaulted=yes
   # Try the directory containing this script, then its parent.
-  ac_confdir=`(dirname "$0") 2>/dev/null ||
+  ac_confdir=`(dirname "$0") 2>/System/Devices/null ||
 $as_expr X"$0" : 'X\(.*[^/]\)//*[^/][^/]*/*$' \| \
          X"$0" : 'X\(//\)[^/]' \| \
          X"$0" : 'X\(//\)$' \| \
          X"$0" : 'X\(/\)' \| \
-         .     : '\(.\)' 2>/dev/null ||
+         .     : '\(.\)' 2>/System/Devices/null ||
 echo X"$0" |
     sed '/^X\(.*[^/]\)\/\/*[^/][^/]*\/*$/{ s//\1/; q; }
   	  /^X\(\/\/\)[^/].*/{ s//\1/; q; }
@@ -733,7 +733,7 @@
    { (exit 1); exit 1; }; }
   fi
 fi
-(cd $srcdir && test -r ./$ac_unique_file) 2>/dev/null ||
+(cd $srcdir && test -r ./$ac_unique_file) 2>/System/Devices/null ||
   { echo "$as_me: error: sources are in $srcdir, but \`cd $srcdir' does not work" >&2
    { (exit 1); exit 1; }; }
 srcdir=`echo "$srcdir" | sed 's%\([^\\/]\)[\\/]*$%\1%'`
@@ -955,22 +955,22 @@
 ## Platform. ##
 ## --------- ##
 
-hostname = `(hostname || uname -n) 2>/dev/null | sed 1q`
-uname -m = `(uname -m) 2>/dev/null || echo unknown`
-uname -r = `(uname -r) 2>/dev/null || echo unknown`
-uname -s = `(uname -s) 2>/dev/null || echo unknown`
-uname -v = `(uname -v) 2>/dev/null || echo unknown`
-
-/usr/bin/uname -p = `(/usr/bin/uname -p) 2>/dev/null || echo unknown`
-/bin/uname -X     = `(/bin/uname -X) 2>/dev/null     || echo unknown`
-
-/bin/arch              = `(/bin/arch) 2>/dev/null              || echo unknown`
-/usr/bin/arch -k       = `(/usr/bin/arch -k) 2>/dev/null       || echo unknown`
-/usr/convex/getsysinfo = `(/usr/convex/getsysinfo) 2>/dev/null || echo unknown`
-hostinfo               = `(hostinfo) 2>/dev/null               || echo unknown`
-/bin/machine           = `(/bin/machine) 2>/dev/null           || echo unknown`
-/usr/bin/oslevel       = `(/usr/bin/oslevel) 2>/dev/null       || echo unknown`
-/bin/universe          = `(/bin/universe) 2>/dev/null          || echo unknown`
+hostname = `(hostname || uname -n) 2>/System/Devices/null | sed 1q`
+uname -m = `(uname -m) 2>/System/Devices/null || echo unknown`
+uname -r = `(uname -r) 2>/System/Devices/null || echo unknown`
+uname -s = `(uname -s) 2>/System/Devices/null || echo unknown`
+uname -v = `(uname -v) 2>/System/Devices/null || echo unknown`
+
+/System/Tools/uname -p = `(/System/Tools/uname -p) 2>/System/Devices/null || echo unknown`
+/System/Tools/uname -X     = `(/System/Tools/uname -X) 2>/System/Devices/null     || echo unknown`
+
+/System/Tools/arch              = `(/System/Tools/arch) 2>/System/Devices/null              || echo unknown`
+/System/Tools/arch -k       = `(/System/Tools/arch -k) 2>/System/Devices/null       || echo unknown`
+/usr/convex/getsysinfo = `(/usr/convex/getsysinfo) 2>/System/Devices/null || echo unknown`
+hostinfo               = `(hostinfo) 2>/System/Devices/null               || echo unknown`
+/System/Tools/machine           = `(/System/Tools/machine) 2>/System/Devices/null           || echo unknown`
+/System/Tools/oslevel       = `(/System/Tools/oslevel) 2>/System/Devices/null       || echo unknown`
+/System/Tools/universe          = `(/System/Tools/universe) 2>/System/Devices/null          || echo unknown`
 
 _ASUNAME
 
@@ -1165,9 +1165,9 @@
 # Prefer explicitly selected file to automatically selected ones.
 if test -z "$CONFIG_SITE"; then
   if test "x$prefix" != xNONE; then
-    CONFIG_SITE="$prefix/share/config.site $prefix/etc/config.site"
+    CONFIG_SITE="$prefix/share/config.site $prefix/System/Settings/config.site"
   else
-    CONFIG_SITE="$ac_default_prefix/share/config.site $ac_default_prefix/etc/config.site"
+    CONFIG_SITE="$ac_default_prefix/share/config.site $ac_default_prefix/System/Settings/config.site"
   fi
 fi
 for ac_site_file in $CONFIG_SITE; do
@@ -1180,7 +1180,7 @@
 done
 
 if test -r "$cache_file"; then
-  # Some versions of bash will fail to source /dev/null (special
+  # Some versions of bash will fail to source /System/Devices/null (special
   # files actually), so we avoid doing that.
   if test -f "$cache_file"; then
     { echo "$as_me:$LINENO: loading cache $cache_file" >&5
@@ -1478,7 +1478,7 @@
 
 
 # Make sure we can run config.sub.
-$ac_config_sub sun4 >/dev/null 2>&1 ||
+$ac_config_sub sun4 >/System/Devices/null 2>&1 ||
   { { echo "$as_me:$LINENO: error: cannot run $ac_config_sub" >&5
 echo "$as_me: error: cannot run $ac_config_sub" >&2;}
    { (exit 1); exit 1; }; }
@@ -2013,18 +2013,18 @@
 echo "$as_me:$LINENO:" \
      "checking for C compiler version" >&5
 ac_compiler=`set X $ac_compile; echo $2`
-{ (eval echo "$as_me:$LINENO: \"$ac_compiler --version </dev/null >&5\"") >&5
-  (eval $ac_compiler --version </dev/null >&5) 2>&5
+{ (eval echo "$as_me:$LINENO: \"$ac_compiler --version </System/Devices/null >&5\"") >&5
+  (eval $ac_compiler --version </System/Devices/null >&5) 2>&5
   ac_status=$?
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); }
-{ (eval echo "$as_me:$LINENO: \"$ac_compiler -v </dev/null >&5\"") >&5
-  (eval $ac_compiler -v </dev/null >&5) 2>&5
+{ (eval echo "$as_me:$LINENO: \"$ac_compiler -v </System/Devices/null >&5\"") >&5
+  (eval $ac_compiler -v </System/Devices/null >&5) 2>&5
   ac_status=$?
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); }
-{ (eval echo "$as_me:$LINENO: \"$ac_compiler -V </dev/null >&5\"") >&5
-  (eval $ac_compiler -V </dev/null >&5) 2>&5
+{ (eval echo "$as_me:$LINENO: \"$ac_compiler -V </System/Devices/null >&5\"") >&5
+  (eval $ac_compiler -V </System/Devices/null >&5) 2>&5
   ac_status=$?
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); }
@@ -2243,7 +2243,7 @@
   ac_status=$?
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); }; then
-  for ac_file in `(ls conftest.o conftest.obj; ls conftest.*) 2>/dev/null`; do
+  for ac_file in `(ls conftest.o conftest.obj; ls conftest.*) 2>/System/Devices/null`; do
   case $ac_file in
     *.$ac_ext | *.xcoff | *.tds | *.d | *.pdb | *.xSYM | *.bb | *.bbg ) ;;
     *) ac_cv_objext=`expr "$ac_file" : '.*\.\(.*\)'`
@@ -2645,7 +2645,7 @@
   rm -f conftest.er1
   cat conftest.err >&5
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
-  (exit $ac_status); } >/dev/null; then
+  (exit $ac_status); } >/System/Devices/null; then
   if test -s conftest.err; then
     ac_cpp_err=$ac_c_preproc_warn_flag
   else
@@ -2683,7 +2683,7 @@
   rm -f conftest.er1
   cat conftest.err >&5
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
-  (exit $ac_status); } >/dev/null; then
+  (exit $ac_status); } >/System/Devices/null; then
   if test -s conftest.err; then
     ac_cpp_err=$ac_c_preproc_warn_flag
   else
@@ -2752,7 +2752,7 @@
   rm -f conftest.er1
   cat conftest.err >&5
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
-  (exit $ac_status); } >/dev/null; then
+  (exit $ac_status); } >/System/Devices/null; then
   if test -s conftest.err; then
     ac_cpp_err=$ac_c_preproc_warn_flag
   else
@@ -2790,7 +2790,7 @@
   rm -f conftest.er1
   cat conftest.err >&5
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
-  (exit $ac_status); } >/dev/null; then
+  (exit $ac_status); } >/System/Devices/null; then
   if test -s conftest.err; then
     ac_cpp_err=$ac_c_preproc_warn_flag
   else
@@ -3299,12 +3299,12 @@
 # Find a good install program.  We prefer a C program (faster),
 # so one script is as good as another.  But avoid the broken or
 # incompatible versions:
-# SysV /etc/install, /usr/sbin/install
-# SunOS /usr/etc/install
+# SysV /System/Settings/install, /usr/sbin/install
+# SunOS /usr/System/Settings/install
 # IRIX /sbin/install
 # AIX /bin/install
 # AmigaOS /C/install, which installs bootblocks on floppy discs
-# AIX 4 /usr/bin/installbsd, which doesn't work without a -g flag
+# AIX 4 /System/Tools/installbsd, which doesn't work without a -g flag
 # AFS /usr/afsws/bin/install, which mishandles nonexistent args
 # SVR4 /usr/ucb/install, which tries to use the nonexistent group "staff"
 # ./install, which can be erroneously created by make from ./install.sh.
@@ -3322,7 +3322,7 @@
   # Account for people who put trailing slashes in PATH elements.
 case $as_dir/ in
   ./ | .// | /cC/* | \
-  /etc/* | /usr/sbin/* | /usr/etc/* | /sbin/* | /usr/afsws/bin/* | \
+  /System/Settings/* | /usr/sbin/* | /usr/System/Settings/* | /sbin/* | /usr/afsws/bin/* | \
   /usr/ucb/* ) ;;
   *)
     # OSF1 and SCO ODT 3.0 have their own names for install.
@@ -3332,11 +3332,11 @@
       for ac_exec_ext in '' $ac_executable_extensions; do
         if $as_executable_p "$as_dir/$ac_prog$ac_exec_ext"; then
           if test $ac_prog = install &&
-            grep dspmsg "$as_dir/$ac_prog$ac_exec_ext" >/dev/null 2>&1; then
+            grep dspmsg "$as_dir/$ac_prog$ac_exec_ext" >/System/Devices/null 2>&1; then
             # AIX install.  It has an incompatible calling convention.
             :
           elif test $ac_prog = install &&
-            grep pwplus "$as_dir/$ac_prog$ac_exec_ext" >/dev/null 2>&1; then
+            grep pwplus "$as_dir/$ac_prog$ac_exec_ext" >/System/Devices/null 2>&1; then
             # program-specific install script used by HP pwplus--don't use.
             :
           else
@@ -3428,7 +3428,7 @@
   rm -f conftest.er1
   cat conftest.err >&5
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
-  (exit $ac_status); } >/dev/null; then
+  (exit $ac_status); } >/System/Devices/null; then
   if test -s conftest.err; then
     ac_cpp_err=$ac_c_preproc_warn_flag
   else
@@ -3634,7 +3634,7 @@
 if test "${ac_cv_prog_egrep+set}" = set; then
   echo $ECHO_N "(cached) $ECHO_C" >&6
 else
-  if echo a | (grep -E '(a|b)') >/dev/null 2>&1
+  if echo a | (grep -E '(a|b)') >/System/Devices/null 2>&1
     then ac_cv_prog_egrep='grep -E'
     else ac_cv_prog_egrep='egrep'
     fi
@@ -3703,7 +3703,7 @@
 
 _ACEOF
 if (eval "$ac_cpp conftest.$ac_ext") 2>&5 |
-  $EGREP "memchr" >/dev/null 2>&1; then
+  $EGREP "memchr" >/System/Devices/null 2>&1; then
   :
 else
   ac_cv_header_stdc=no
@@ -3725,7 +3725,7 @@
 
 _ACEOF
 if (eval "$ac_cpp conftest.$ac_ext") 2>&5 |
-  $EGREP "free" >/dev/null 2>&1; then
+  $EGREP "free" >/System/Devices/null 2>&1; then
   :
 else
   ac_cv_header_stdc=no
@@ -3839,7 +3839,7 @@
   rm -f conftest.er1
   cat conftest.err >&5
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
-  (exit $ac_status); } >/dev/null; then
+  (exit $ac_status); } >/System/Devices/null; then
   if test -s conftest.err; then
     ac_cpp_err=$ac_c_preproc_warn_flag
   else
@@ -4665,7 +4665,7 @@
 
 _ACEOF
 if (eval "$ac_cpp conftest.$ac_ext") 2>&5 |
-  $EGREP "webecray" >/dev/null 2>&1; then
+  $EGREP "webecray" >/System/Devices/null 2>&1; then
   ac_cv_os_cray=yes
 else
   ac_cv_os_cray=no
@@ -4857,7 +4857,7 @@
   rm -f conftest.er1
   cat conftest.err >&5
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
-  (exit $ac_status); } >/dev/null; then
+  (exit $ac_status); } >/System/Devices/null; then
   if test -s conftest.err; then
     ac_cpp_err=$ac_c_preproc_warn_flag
   else
@@ -5719,7 +5719,7 @@
   rm -f conftest.er1
   cat conftest.err >&5
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
-  (exit $ac_status); } >/dev/null; then
+  (exit $ac_status); } >/System/Devices/null; then
   if test -s conftest.err; then
     ac_cpp_err=$ac_c_preproc_warn_flag
   else
@@ -6068,7 +6068,7 @@
   char *p;
   int dev_zero;
 
-  dev_zero = open ("/dev/zero", O_RDONLY);
+  dev_zero = open ("/System/Devices/zero", O_RDONLY);
   if (dev_zero < 0)
     exit (1);
 
@@ -6182,9 +6182,9 @@
      t end
      /^ac_cv_env/!s/^\([^=]*\)=\(.*\)$/\1=${\1=\2}/
      : end' >>confcache
-if diff $cache_file confcache >/dev/null 2>&1; then :; else
+if diff $cache_file confcache >/System/Devices/null 2>&1; then :; else
   if test -w $cache_file; then
-    test "x$cache_file" != "x/dev/null" && echo "updating cache $cache_file"
+    test "x$cache_file" != "x/System/Devices/null" && echo "updating cache $cache_file"
     cat confcache >$cache_file
   else
     echo "not updating unwritable cache $cache_file"
@@ -6253,18 +6253,18 @@
 ## --------------------- ##
 
 # Be Bourne compatible
-if test -n "${ZSH_VERSION+set}" && (emulate sh) >/dev/null 2>&1; then
+if test -n "${ZSH_VERSION+set}" && (emulate sh) >/System/Devices/null 2>&1; then
   emulate sh
   NULLCMD=:
   # Zsh 3.x and 4.x performs word splitting on ${1+"$@"}, which
   # is contrary to our usage.  Disable this feature.
   alias -g '${1+"$@"}'='"$@"'
-elif test -n "${BASH_VERSION+set}" && (set -o posix) >/dev/null 2>&1; then
+elif test -n "${BASH_VERSION+set}" && (set -o posix) >/System/Devices/null 2>&1; then
   set -o posix
 fi
 
 # Support unset when possible.
-if (FOO=FOO; unset FOO) >/dev/null 2>&1; then
+if (FOO=FOO; unset FOO) >/System/Devices/null 2>&1; then
   as_unset=unset
 else
   as_unset=false
@@ -6291,13 +6291,13 @@
 done
 
 # Required to use basename.
-if expr a : '\(a\)' >/dev/null 2>&1; then
+if expr a : '\(a\)' >/System/Devices/null 2>&1; then
   as_expr=expr
 else
   as_expr=false
 fi
 
-if (basename /) >/dev/null 2>&1 && test "X`basename / 2>&1`" = "X/"; then
+if (basename /) >/System/Devices/null 2>&1 && test "X`basename / 2>&1`" = "X/"; then
   as_basename=basename
 else
   as_basename=false
@@ -6309,7 +6309,7 @@
 $as_expr X/"$0" : '.*/\([^/][^/]*\)/*$' \| \
 	 X"$0" : 'X\(//\)$' \| \
 	 X"$0" : 'X\(/\)$' \| \
-	 .     : '\(.\)' 2>/dev/null ||
+	 .     : '\(.\)' 2>/System/Devices/null ||
 echo X/"$0" |
     sed '/^.*\/\([^/][^/]*\)\/*$/{ s//\1/; q; }
   	  /^X\/\(\/\/\)$/{ s//\1/; q; }
@@ -6327,10 +6327,10 @@
 
 # The user is always right.
 if test "${PATH_SEPARATOR+set}" != set; then
-  echo "#! /bin/sh" >conf$$.sh
+  echo "#! /System/Tools/sh" >conf$$.sh
   echo  "exit 0"   >>conf$$.sh
   chmod +x conf$$.sh
-  if (PATH="/nonexistent;."; conf$$.sh) >/dev/null 2>&1; then
+  if (PATH="/nonexistent;."; conf$$.sh) >/System/Devices/null 2>&1; then
     PATH_SEPARATOR=';'
   else
     PATH_SEPARATOR=:
@@ -6341,7 +6341,7 @@
 
   as_lineno_1=$LINENO
   as_lineno_2=$LINENO
-  as_lineno_3=`(expr $as_lineno_1 + 1) 2>/dev/null`
+  as_lineno_3=`(expr $as_lineno_1 + 1) 2>/System/Devices/null`
   test "x$as_lineno_1" != "x$as_lineno_2" &&
   test "x$as_lineno_3"  = "x$as_lineno_2"  || {
   # Find who we are.  Look in the path if we contain no path at all
@@ -6381,9 +6381,9 @@
 	   if ("$as_dir/$as_base" -c '
   as_lineno_1=$LINENO
   as_lineno_2=$LINENO
-  as_lineno_3=`(expr $as_lineno_1 + 1) 2>/dev/null`
+  as_lineno_3=`(expr $as_lineno_1 + 1) 2>/System/Devices/null`
   test "x$as_lineno_1" != "x$as_lineno_2" &&
-  test "x$as_lineno_3"  = "x$as_lineno_2" ') 2>/dev/null; then
+  test "x$as_lineno_3"  = "x$as_lineno_2" ') 2>/System/Devices/null; then
 	     $as_unset BASH_ENV || test "${BASH_ENV+set}" != set || { BASH_ENV=; export BASH_ENV; }
 	     $as_unset ENV || test "${ENV+set}" != set || { ENV=; export ENV; }
 	     CONFIG_SHELL=$as_dir/$as_base
@@ -6435,7 +6435,7 @@
   *)       ECHO_N= ECHO_C='\c' ECHO_T= ;;
 esac
 
-if expr a : '\(a\)' >/dev/null 2>&1; then
+if expr a : '\(a\)' >/System/Devices/null 2>&1; then
   as_expr=expr
 else
   as_expr=false
@@ -6443,7 +6443,7 @@
 
 rm -f conf$$ conf$$.exe conf$$.file
 echo >conf$$.file
-if ln -s conf$$.file conf$$ 2>/dev/null; then
+if ln -s conf$$.file conf$$ 2>/System/Devices/null; then
   # We could just check for DJGPP; but this test a) works b) is more generic
   # and c) will remain valid once DJGPP supports symlinks (DJGPP 2.04).
   if test -f conf$$.exe; then
@@ -6452,14 +6452,14 @@
   else
     as_ln_s='ln -s'
   fi
-elif ln conf$$.file conf$$ 2>/dev/null; then
+elif ln conf$$.file conf$$ 2>/System/Devices/null; then
   as_ln_s=ln
 else
   as_ln_s='cp -p'
 fi
 rm -f conf$$ conf$$.exe conf$$.file
 
-if mkdir -p . 2>/dev/null; then
+if mkdir -p . 2>/System/Devices/null; then
   as_mkdir_p=:
 else
   as_mkdir_p=false
@@ -6507,7 +6507,7 @@
   $ $0 $@
 
 _CSEOF
-echo "on `(hostname || uname -n) 2>/dev/null | sed 1q`" >&5
+echo "on `(hostname || uname -n) 2>/System/Devices/null | sed 1q`" >&5
 echo >&5
 _ACEOF
 
@@ -6642,7 +6642,7 @@
 ac_configure_extra_args=
 
 if $ac_cs_silent; then
-  exec 6>/dev/null
+  exec 6>/System/Devices/null
   ac_configure_extra_args="$ac_configure_extra_args --silent"
 fi
 
@@ -6667,7 +6667,7 @@
 with_build_subdir=${with_build_subdir}
 with_multisubdir=${with_multisubdir}
 ac_configure_args="--enable-multilib ${ac_configure_args}"
-CONFIG_SHELL=${CONFIG_SHELL-/bin/sh}
+CONFIG_SHELL=${CONFIG_SHELL-/System/Tools/sh}
 ORIGINAL_LD_FOR_MULTILIBS="${ORIGINAL_LD_FOR_MULTILIBS}"
 libiberty_topdir=${libiberty_topdir}
 
@@ -6714,7 +6714,7 @@
 # Create a (secure) tmp directory for tmp files.
 
 {
-  tmp=`(umask 077 && mktemp -d -q "./confstatXXXXXX") 2>/dev/null` &&
+  tmp=`(umask 077 && mktemp -d -q "./confstatXXXXXX") 2>/System/Devices/null` &&
   test -n "$tmp" && test -d "$tmp"
 }  ||
 {
@@ -6870,12 +6870,12 @@
   esac
 
   # Compute @srcdir@, @top_srcdir@, and @INSTALL@ for subdirectories.
-  ac_dir=`(dirname "$ac_file") 2>/dev/null ||
+  ac_dir=`(dirname "$ac_file") 2>/System/Devices/null ||
 $as_expr X"$ac_file" : 'X\(.*[^/]\)//*[^/][^/]*/*$' \| \
          X"$ac_file" : 'X\(//\)[^/]' \| \
          X"$ac_file" : 'X\(//\)$' \| \
          X"$ac_file" : 'X\(/\)' \| \
-         .     : '\(.\)' 2>/dev/null ||
+         .     : '\(.\)' 2>/System/Devices/null ||
 echo X"$ac_file" |
     sed '/^X\(.*[^/]\)\/\/*[^/][^/]*\/*$/{ s//\1/; q; }
   	  /^X\(\/\/\)[^/].*/{ s//\1/; q; }
@@ -6889,12 +6889,12 @@
     as_dirs=
     while test ! -d "$as_dir"; do
       as_dirs="$as_dir $as_dirs"
-      as_dir=`(dirname "$as_dir") 2>/dev/null ||
+      as_dir=`(dirname "$as_dir") 2>/System/Devices/null ||
 $as_expr X"$as_dir" : 'X\(.*[^/]\)//*[^/][^/]*/*$' \| \
          X"$as_dir" : 'X\(//\)[^/]' \| \
          X"$as_dir" : 'X\(//\)$' \| \
          X"$as_dir" : 'X\(/\)' \| \
-         .     : '\(.\)' 2>/dev/null ||
+         .     : '\(.\)' 2>/System/Devices/null ||
 echo X"$as_dir" |
     sed '/^X\(.*[^/]\)\/\/*[^/][^/]*\/*$/{ s//\1/; q; }
   	  /^X\(\/\/\)[^/].*/{ s//\1/; q; }
@@ -6981,7 +6981,7 @@
            # Source tree
            echo $srcdir/$f
          else
-           # /dev/null tree
+           # /System/Devices/null tree
            { { echo "$as_me:$LINENO: error: cannot find input file: $f" >&5
 echo "$as_me: error: cannot find input file: $f" >&2;}
    { (exit 1); exit 1; }; }
@@ -7072,7 +7072,7 @@
            # Source tree
            echo $srcdir/$f
          else
-           # /dev/null tree
+           # /System/Devices/null tree
            { { echo "$as_me:$LINENO: error: cannot find input file: $f" >&5
 echo "$as_me: error: cannot find input file: $f" >&2;}
    { (exit 1); exit 1; }; }
@@ -7125,11 +7125,11 @@
 # Break up conftest.defines because some shells have a limit on the size
 # of here documents, and old seds have small limits too (100 cmds).
 echo '  # Handle all the #define templates only if necessary.' >>$CONFIG_STATUS
-echo '  if grep "^[ 	]*#[ 	]*define" $tmp/in >/dev/null; then' >>$CONFIG_STATUS
+echo '  if grep "^[ 	]*#[ 	]*define" $tmp/in >/System/Devices/null; then' >>$CONFIG_STATUS
 echo '  # If there are no defines, we may have an empty if/fi' >>$CONFIG_STATUS
 echo '  :' >>$CONFIG_STATUS
 rm -f conftest.tail
-while grep . conftest.defines >/dev/null
+while grep . conftest.defines >/System/Devices/null
 do
   # Write a limited-size here document to $tmp/defines.sed.
   echo '  cat >$tmp/defines.sed <<CEOF' >>$CONFIG_STATUS
@@ -7156,7 +7156,7 @@
 # of here documents, and old seds have small limits too (100 cmds).
 echo '  # Handle all the #undef templates' >>$CONFIG_STATUS
 rm -f conftest.tail
-while grep . conftest.undefs >/dev/null
+while grep . conftest.undefs >/System/Devices/null
 do
   # Write a limited-size here document to $tmp/undefs.sed.
   echo '  cat >$tmp/undefs.sed <<CEOF' >>$CONFIG_STATUS
@@ -7189,16 +7189,16 @@
   cat $tmp/in >>$tmp/config.h
   rm -f $tmp/in
   if test x"$ac_file" != x-; then
-    if diff $ac_file $tmp/config.h >/dev/null 2>&1; then
+    if diff $ac_file $tmp/config.h >/System/Devices/null 2>&1; then
       { echo "$as_me:$LINENO: $ac_file is unchanged" >&5
 echo "$as_me: $ac_file is unchanged" >&6;}
     else
-      ac_dir=`(dirname "$ac_file") 2>/dev/null ||
+      ac_dir=`(dirname "$ac_file") 2>/System/Devices/null ||
 $as_expr X"$ac_file" : 'X\(.*[^/]\)//*[^/][^/]*/*$' \| \
          X"$ac_file" : 'X\(//\)[^/]' \| \
          X"$ac_file" : 'X\(//\)$' \| \
          X"$ac_file" : 'X\(/\)' \| \
-         .     : '\(.\)' 2>/dev/null ||
+         .     : '\(.\)' 2>/System/Devices/null ||
 echo X"$ac_file" |
     sed '/^X\(.*[^/]\)\/\/*[^/][^/]*\/*$/{ s//\1/; q; }
   	  /^X\(\/\/\)[^/].*/{ s//\1/; q; }
@@ -7212,12 +7212,12 @@
     as_dirs=
     while test ! -d "$as_dir"; do
       as_dirs="$as_dir $as_dirs"
-      as_dir=`(dirname "$as_dir") 2>/dev/null ||
+      as_dir=`(dirname "$as_dir") 2>/System/Devices/null ||
 $as_expr X"$as_dir" : 'X\(.*[^/]\)//*[^/][^/]*/*$' \| \
          X"$as_dir" : 'X\(//\)[^/]' \| \
          X"$as_dir" : 'X\(//\)$' \| \
          X"$as_dir" : 'X\(/\)' \| \
-         .     : '\(.\)' 2>/dev/null ||
+         .     : '\(.\)' 2>/System/Devices/null ||
 echo X"$as_dir" |
     sed '/^X\(.*[^/]\)\/\/*[^/][^/]*\/*$/{ s//\1/; q; }
   	  /^X\(\/\/\)[^/].*/{ s//\1/; q; }
@@ -7247,12 +7247,12 @@
 for ac_file in : $CONFIG_COMMANDS; do test "x$ac_file" = x: && continue
   ac_dest=`echo "$ac_file" | sed 's,:.*,,'`
   ac_source=`echo "$ac_file" | sed 's,[^:]*:,,'`
-  ac_dir=`(dirname "$ac_dest") 2>/dev/null ||
+  ac_dir=`(dirname "$ac_dest") 2>/System/Devices/null ||
 $as_expr X"$ac_dest" : 'X\(.*[^/]\)//*[^/][^/]*/*$' \| \
          X"$ac_dest" : 'X\(//\)[^/]' \| \
          X"$ac_dest" : 'X\(//\)$' \| \
          X"$ac_dest" : 'X\(/\)' \| \
-         .     : '\(.\)' 2>/dev/null ||
+         .     : '\(.\)' 2>/System/Devices/null ||
 echo X"$ac_dest" |
     sed '/^X\(.*[^/]\)\/\/*[^/][^/]*\/*$/{ s//\1/; q; }
   	  /^X\(\/\/\)[^/].*/{ s//\1/; q; }
@@ -7320,7 +7320,7 @@
 # config.status does its own redirection, appending to config.log.
 # Unfortunately, on DOS this fails, as config.log is still kept open
 # by configure, so config.status won't be able to write to it; its
-# output is simply discarded.  So we exec the FD to /dev/null,
+# output is simply discarded.  So we exec the FD to /System/Devices/null,
 # effectively closing config.log, so it can be properly (re)opened and
 # appended to by config.status.  When coming back to configure, we
 # need to make the FD available again.
@@ -7329,7 +7329,7 @@
   ac_config_status_args=
   test "$silent" = yes &&
     ac_config_status_args="$ac_config_status_args --quiet"
-  exec 5>/dev/null
+  exec 5>/System/Devices/null
   $SHELL $CONFIG_STATUS $ac_config_status_args || ac_cs_success=false
   exec 5>>config.log
   # Use ||, not &&, to avoid exiting from the if with $? = 1, which
diff -urN gcc-3.4.4/libiberty/configure.ac gcc-3.4.4-STEP/libiberty/configure.ac
--- gcc-3.4.4/libiberty/configure.ac	2004-01-10 15:17:41.000000000 +1300
+++ gcc-3.4.4-STEP/libiberty/configure.ac	2005-09-04 10:06:23.813664144 +1200
@@ -514,7 +514,7 @@
 with_build_subdir=${with_build_subdir}
 with_multisubdir=${with_multisubdir}
 ac_configure_args="--enable-multilib ${ac_configure_args}"
-CONFIG_SHELL=${CONFIG_SHELL-/bin/sh}
+CONFIG_SHELL=${CONFIG_SHELL-/System/Tools/sh}
 ORIGINAL_LD_FOR_MULTILIBS="${ORIGINAL_LD_FOR_MULTILIBS}"
 libiberty_topdir=${libiberty_topdir}
 )
diff -urN gcc-3.4.4/libiberty/mpw.c gcc-3.4.4-STEP/libiberty/mpw.c
--- gcc-3.4.4/libiberty/mpw.c	1998-11-20 10:17:54.000000000 +1300
+++ gcc-3.4.4-STEP/libiberty/mpw.c	2005-09-04 10:06:23.814663992 +1200
@@ -65,7 +65,7 @@
     {
       if (i == 0 && unixname[i] == '/')
 	{
-	  if (strncmp (unixname, "/tmp/", 5) == 0)
+	  if (strncmp (unixname, "/System/TemporaryFiles/", 5) == 0)
 	    {
 	      /* A temporary name, make a more Mac-flavored tmpname. */
 	      /* A better choice would be {Boot}Trash:foo, but
diff -urN gcc-3.4.4/libstdc++-v3/acinclude.m4 gcc-3.4.4-STEP/libstdc++-v3/acinclude.m4
--- gcc-3.4.4/libstdc++-v3/acinclude.m4	2004-10-29 10:52:33.000000000 +1300
+++ gcc-3.4.4-STEP/libstdc++-v3/acinclude.m4	2005-09-04 10:06:23.816663688 +1200
@@ -273,7 +273,7 @@
   # Start by getting the version number.  I think the libtool test already
   # does some of this, but throws away the result.
   changequote(,)
-  ldver=`$LD --version 2>/dev/null | head -1 | \
+  ldver=`$LD --version 2>/System/Devices/null | head -1 | \
          sed -e 's/GNU ld version \([0-9.][0-9.]*\).*/\1/'`
   changequote([,])
   glibcxx_gnu_ld_version=`echo $ldver | \
@@ -1015,7 +1015,7 @@
   AC_MSG_CHECKING([for C locale to use])
   GLIBCXX_ENABLE(clocale,auto,[@<:@=MODEL@:>@],
     [use MODEL for target locale package],
-    [permit generic|gnu|ieee_1003.1-2001|yes|no|auto])
+    [permit generic|gnu|ieee_1003.1-2001|uclibc|yes|no|auto])
   
   # If they didn't use this option switch, or if they specified --enable
   # with no specific model, we'll have to look for one.  If they
@@ -1031,6 +1031,9 @@
   # Default to "generic".
   if test $enable_clocale_flag = auto; then
     case x${target_os} in
+      x*-uclibc*)
+        enable_clocale_flag=uclibc
+        ;;
       xlinux* | xgnu* | xkfreebsd*-gnu | xknetbsd*-gnu)
         AC_EGREP_CPP([_GLIBCXX_ok], [
         #include <features.h>
@@ -1157,6 +1160,41 @@
       CTIME_CC=config/locale/generic/time_members.cc
       CLOCALE_INTERNAL_H=config/locale/generic/c++locale_internal.h
       ;;
+    uclibc)
+      AC_MSG_RESULT(uclibc)
+
+      # Declare intention to use gettext, and add support for specific
+      # languages.
+      # For some reason, ALL_LINGUAS has to be before AM-GNU-GETTEXT
+      ALL_LINGUAS="de fr"
+
+      # Don't call AM-GNU-GETTEXT here. Instead, assume glibc.
+      AC_CHECK_PROG(check_msgfmt, msgfmt, yes, no)
+      if test x"$check_msgfmt" = x"yes" && test x"$enable_nls" = x"yes"; then
+        USE_NLS=yes
+      fi
+      # Export the build objects.
+      for ling in $ALL_LINGUAS; do \
+        glibcxx_MOFILES="$glibcxx_MOFILES $ling.mo"; \
+        glibcxx_POFILES="$glibcxx_POFILES $ling.po"; \
+      done
+      AC_SUBST(glibcxx_MOFILES)
+      AC_SUBST(glibcxx_POFILES)
+
+      CLOCALE_H=config/locale/uclibc/c_locale.h
+      CLOCALE_CC=config/locale/uclibc/c_locale.cc
+      CCODECVT_H=config/locale/ieee_1003.1-2001/codecvt_specializations.h
+      CCODECVT_CC=config/locale/uclibc/codecvt_members.cc
+      CCOLLATE_CC=config/locale/uclibc/collate_members.cc
+      CCTYPE_CC=config/locale/uclibc/ctype_members.cc
+      CMESSAGES_H=config/locale/uclibc/messages_members.h
+      CMESSAGES_CC=config/locale/uclibc/messages_members.cc
+      CMONEY_CC=config/locale/uclibc/monetary_members.cc
+      CNUMERIC_CC=config/locale/uclibc/numeric_members.cc
+      CTIME_H=config/locale/uclibc/time_members.h
+      CTIME_CC=config/locale/uclibc/time_members.cc
+      CLOCALE_INTERNAL_H=config/locale/uclibc/c++locale_internal.h
+      ;;
   esac
 
   # This is where the testsuite looks for locale catalogs, using the
@@ -1552,9 +1590,9 @@
     old_CXXFLAGS="$CXXFLAGS"
     CXXFLAGS=-S
     if AC_TRY_EVAL(ac_compile); then
-      if grep _Unwind_SjLj_Resume conftest.s >/dev/null 2>&1 ; then
+      if grep _Unwind_SjLj_Resume conftest.s >/System/Devices/null 2>&1 ; then
         enable_sjlj_exceptions=yes
-      elif grep _Unwind_Resume conftest.s >/dev/null 2>&1 ; then
+      elif grep _Unwind_Resume conftest.s >/System/Devices/null 2>&1 ; then
         enable_sjlj_exceptions=no
       fi
     fi
@@ -1625,7 +1663,7 @@
 changequote(,)dnl
     glibcxx_libgcc_s_suffix=`${CC-cc} $CFLAGS $CPPFLAGS $LDFLAGS \
 			     -shared -shared-libgcc -o conftest.so \
-			     conftest.c -v 2>&1 >/dev/null \
+			     conftest.c -v 2>&1 >/System/Devices/null \
 			     | sed -n 's/^.* -lgcc_s\([^ ]*\) .*$/\1/p'`
 changequote([,])dnl
     rm -f conftest.c conftest.so
diff -urN gcc-3.4.4/libstdc++-v3/aclocal.m4 gcc-3.4.4-STEP/libstdc++-v3/aclocal.m4
--- gcc-3.4.4/libstdc++-v3/aclocal.m4	2004-10-29 10:52:37.000000000 +1300
+++ gcc-3.4.4-STEP/libstdc++-v3/aclocal.m4	2005-09-04 10:06:23.819663232 +1200
@@ -286,7 +286,7 @@
   # Start by getting the version number.  I think the libtool test already
   # does some of this, but throws away the result.
   changequote(,)
-  ldver=`$LD --version 2>/dev/null | head -1 | \
+  ldver=`$LD --version 2>/System/Devices/null | head -1 | \
          sed -e 's/GNU ld version \([0-9.][0-9.]*\).*/\1/'`
   changequote([,])
   glibcxx_gnu_ld_version=`echo $ldver | \
@@ -1044,6 +1044,9 @@
   # Default to "generic".
   if test $enable_clocale_flag = auto; then
     case x${target_os} in
+      x*-uclibc*)
+	enable_clocale_flag=uclibc
+	;;
       xlinux* | xgnu* | xkfreebsd*-gnu | xknetbsd*-gnu)
         AC_EGREP_CPP([_GLIBCXX_ok], [
         #include <features.h>
@@ -1170,6 +1173,41 @@
       CTIME_CC=config/locale/generic/time_members.cc
       CLOCALE_INTERNAL_H=config/locale/generic/c++locale_internal.h
       ;;
+    uclibc)
+      AC_MSG_RESULT(uclibc)
+
+      # Declare intention to use gettext, and add support for specific
+      # languages.
+      # For some reason, ALL_LINGUAS has to be before AM-GNU-GETTEXT
+      ALL_LINGUAS="de fr"
+
+      # Don't call AM-GNU-GETTEXT here. Instead, assume glibc.
+      AC_CHECK_PROG(check_msgfmt, msgfmt, yes, no)
+      if test x"$check_msgfmt" = x"yes" && test x"$enable_nls" = x"yes"; then
+        USE_NLS=yes
+      fi
+      # Export the build objects.
+      for ling in $ALL_LINGUAS; do \
+        glibcxx_MOFILES="$glibcxx_MOFILES $ling.mo"; \
+        glibcxx_POFILES="$glibcxx_POFILES $ling.po"; \
+      done
+      AC_SUBST(glibcxx_MOFILES)
+      AC_SUBST(glibcxx_POFILES)
+
+      CLOCALE_H=config/locale/uclibc/c_locale.h
+      CLOCALE_CC=config/locale/uclibc/c_locale.cc
+      CCODECVT_H=config/locale/ieee_1003.1-2001/codecvt_specializations.h
+      CCODECVT_CC=config/locale/uclibc/codecvt_members.cc
+      CCOLLATE_CC=config/locale/uclibc/collate_members.cc
+      CCTYPE_CC=config/locale/uclibc/ctype_members.cc
+      CMESSAGES_H=config/locale/uclibc/messages_members.h
+      CMESSAGES_CC=config/locale/uclibc/messages_members.cc
+      CMONEY_CC=config/locale/uclibc/monetary_members.cc
+      CNUMERIC_CC=config/locale/uclibc/numeric_members.cc
+      CTIME_H=config/locale/uclibc/time_members.h
+      CTIME_CC=config/locale/uclibc/time_members.cc
+      CLOCALE_INTERNAL_H=config/locale/uclibc/c++locale_internal.h
+      ;;
   esac
 
   # This is where the testsuite looks for locale catalogs, using the
@@ -1565,9 +1603,9 @@
     old_CXXFLAGS="$CXXFLAGS"
     CXXFLAGS=-S
     if AC_TRY_EVAL(ac_compile); then
-      if grep _Unwind_SjLj_Resume conftest.s >/dev/null 2>&1 ; then
+      if grep _Unwind_SjLj_Resume conftest.s >/System/Devices/null 2>&1 ; then
         enable_sjlj_exceptions=yes
-      elif grep _Unwind_Resume conftest.s >/dev/null 2>&1 ; then
+      elif grep _Unwind_Resume conftest.s >/System/Devices/null 2>&1 ; then
         enable_sjlj_exceptions=no
       fi
     fi
@@ -1638,7 +1676,7 @@
 changequote(,)dnl
     glibcxx_libgcc_s_suffix=`${CC-cc} $CFLAGS $CPPFLAGS $LDFLAGS \
 			     -shared -shared-libgcc -o conftest.so \
-			     conftest.c -v 2>&1 >/dev/null \
+			     conftest.c -v 2>&1 >/System/Devices/null \
 			     | sed -n 's/^.* -lgcc_s\([^ ]*\) .*$/\1/p'`
 changequote([,])dnl
     rm -f conftest.c conftest.so
@@ -1884,7 +1922,7 @@
 with_target_subdir="$with_target_subdir"
 ac_configure_args="${multilib_arg} ${ac_configure_args}"
 multi_basedir="$multi_basedir"
-CONFIG_SHELL=${CONFIG_SHELL-/bin/sh}
+CONFIG_SHELL=${CONFIG_SHELL-/System/Tools/sh}
 CC="$CC"])])dnl
 
 # Add --enable-maintainer-mode option to configure.
@@ -1979,7 +2017,7 @@
 
 # test whether we have cygpath
 if test -z "$CYGPATH_W"; then
-  if (cygpath --version) >/dev/null 2>/dev/null; then
+  if (cygpath --version) >/System/Devices/null 2>/System/Devices/null; then
     CYGPATH_W='cygpath -w'
   else
     CYGPATH_W=echo
@@ -2160,7 +2198,7 @@
 # (eg FreeBSD returns the mod time of the symlink's containing
 # directory).
 if (
-   set X `ls -Lt $srcdir/configure conftest.file 2> /dev/null`
+   set X `ls -Lt $srcdir/configure conftest.file 2> /System/Devices/null`
    if test "$[*]" = "X"; then
       # -L didn't work.
       set X `ls -t $srcdir/configure conftest.file`
@@ -2387,14 +2425,14 @@
 # Check whether the underlying file-system supports filenames
 # with a leading dot.  For instance MS-DOS doesn't.
 AC_DEFUN([AM_SET_LEADING_DOT],
-[rm -rf .tst 2>/dev/null
-mkdir .tst 2>/dev/null
+[rm -rf .tst 2>/System/Devices/null
+mkdir .tst 2>/System/Devices/null
 if test -d .tst; then
   am__leading_dot=.
 else
   am__leading_dot=_
 fi
-rmdir .tst 2>/dev/null
+rmdir .tst 2>/System/Devices/null
 AC_SUBST([am__leading_dot])])
 
 # serial 5						-*- Autoconf -*-
@@ -2506,14 +2544,14 @@
        source=sub/conftest.c object=sub/conftest.${OBJEXT-o} \
        depfile=sub/conftest.Po tmpdepfile=sub/conftest.TPo \
        $SHELL ./depcomp $depcc -c -o sub/conftest.${OBJEXT-o} sub/conftest.c \
-         >/dev/null 2>conftest.err &&
-       grep sub/conftst6.h sub/conftest.Po > /dev/null 2>&1 &&
-       grep sub/conftest.${OBJEXT-o} sub/conftest.Po > /dev/null 2>&1 &&
-       ${MAKE-make} -s -f confmf > /dev/null 2>&1; then
+         >/System/Devices/null 2>conftest.err &&
+       grep sub/conftst6.h sub/conftest.Po > /System/Devices/null 2>&1 &&
+       grep sub/conftest.${OBJEXT-o} sub/conftest.Po > /System/Devices/null 2>&1 &&
+       ${MAKE-make} -s -f confmf > /System/Devices/null 2>&1; then
       # icc doesn't choke on unknown options, it will just issue warnings
       # (even with -Werror).  So we grep stderr for any message
       # that says an option was ignored.
-      if grep 'ignoring option' conftest.err >/dev/null 2>&1; then :; else
+      if grep 'ignoring option' conftest.err >/System/Devices/null 2>&1; then :; else
         am_cv_$1_dependencies_compiler_type=$depmode
         break
       fi
@@ -2590,12 +2628,12 @@
   # Grep'ing the first line is not enough: some people post-process
   # each Makefile.in and add a new line on top of each file to say so.
   # So let's grep whole file.
-  if grep '^#.*generated by automake' $mf > /dev/null 2>&1; then
+  if grep '^#.*generated by automake' $mf > /System/Devices/null 2>&1; then
     dirpart=`AS_DIRNAME("$mf")`
   else
     continue
   fi
-  grep '^DEP_FILES *= *[[^ @%:@]]' < "$mf" > /dev/null || continue
+  grep '^DEP_FILES *= *[[^ @%:@]]' < "$mf" > /System/Devices/null || continue
   # Extract the definition of DEP_FILES from the Makefile without
   # running `make'.
   DEPDIR=`sed -n -e '/^DEPDIR = / s///p' < "$mf"`
@@ -2684,7 +2722,7 @@
 # In particular we don't look at `^make:' because GNU make might
 # be invoked under some other name (usually "gmake"), in which
 # case it prints its new name instead of `make'.
-if test "`$am_make -s -f confmf 2> /dev/null | grep -v 'ing directory'`" = "done"; then
+if test "`$am_make -s -f confmf 2> /System/Devices/null | grep -v 'ing directory'`" = "done"; then
    am__include=include
    am__quote=
    _am_result=GNU
@@ -2692,7 +2730,7 @@
 # Now try BSD make style include.
 if test "$am__include" = "#"; then
    echo '.include "confinc"' > confmf
-   if test "`$am_make -s -f confmf 2> /dev/null`" = "done"; then
+   if test "`$am_make -s -f confmf 2> /System/Devices/null`" = "done"; then
       am__include=.include
       am__quote="\""
       _am_result=BSD
diff -urN gcc-3.4.4/libstdc++-v3/config/locale/uclibc/c++locale_internal.h gcc-3.4.4-STEP/libstdc++-v3/config/locale/uclibc/c++locale_internal.h
--- gcc-3.4.4/libstdc++-v3/config/locale/uclibc/c++locale_internal.h	1970-01-01 12:00:00.000000000 +1200
+++ gcc-3.4.4-STEP/libstdc++-v3/config/locale/uclibc/c++locale_internal.h	2005-09-04 10:06:23.820663080 +1200
@@ -0,0 +1,59 @@
+// Prototypes for GLIBC thread locale __-prefixed functions -*- C++ -*-
+
+// Copyright (C) 2002, 2004 Free Software Foundation, Inc.
+//
+// This file is part of the GNU ISO C++ Library.  This library is free
+// software; you can redistribute it and/or modify it under the
+// terms of the GNU General Public License as published by the
+// Free Software Foundation; either version 2, or (at your option)
+// any later version.
+
+// This library is distributed in the hope that it will be useful,
+// but WITHOUT ANY WARRANTY; without even the implied warranty of
+// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
+// GNU General Public License for more details.
+
+// You should have received a copy of the GNU General Public License along
+// with this library; see the file COPYING.  If not, write to the Free
+// Software Foundation, 59 Temple Place - Suite 330, Boston, MA 02111-1307,
+// USA.
+
+// As a special exception, you may use this file as part of a free software
+// library without restriction.  Specifically, if other files instantiate
+// templates or use macros or inline functions from this file, or you compile
+// this file and link it with other files to produce an executable, this
+// file does not by itself cause the resulting executable to be covered by
+// the GNU General Public License.  This exception does not however
+// invalidate any other reasons why the executable file might be covered by
+// the GNU General Public License.
+
+// Written by Jakub Jelinek <jakub@redhat.com>
+
+#include <clocale>
+
+#ifdef __UCLIBC_MJN3_ONLY__
+#warning clean this up
+#endif
+
+#ifdef __UCLIBC_HAS_XLOCALE__
+                                                  
+extern "C" __typeof(iswctype_l) __iswctype_l;
+extern "C" __typeof(nl_langinfo_l) __nl_langinfo_l;
+extern "C" __typeof(strcoll_l) __strcoll_l;
+extern "C" __typeof(strftime_l) __strftime_l;
+extern "C" __typeof(strtod_l) __strtod_l;
+extern "C" __typeof(strtof_l) __strtof_l;
+extern "C" __typeof(strtold_l) __strtold_l;
+extern "C" __typeof(strxfrm_l) __strxfrm_l;
+extern "C" __typeof(towlower_l) __towlower_l;
+extern "C" __typeof(towupper_l) __towupper_l;
+extern "C" __typeof(wcscoll_l) __wcscoll_l;
+extern "C" __typeof(wcsftime_l) __wcsftime_l;
+extern "C" __typeof(wcsxfrm_l) __wcsxfrm_l;
+extern "C" __typeof(wctype_l) __wctype_l;
+extern "C" __typeof(newlocale) __newlocale;
+extern "C" __typeof(freelocale) __freelocale;
+extern "C" __typeof(duplocale) __duplocale;
+extern "C" __typeof(uselocale) __uselocale;
+
+#endif // GLIBC 2.3 and later
diff -urN gcc-3.4.4/libstdc++-v3/config/locale/uclibc/c_locale.cc gcc-3.4.4-STEP/libstdc++-v3/config/locale/uclibc/c_locale.cc
--- gcc-3.4.4/libstdc++-v3/config/locale/uclibc/c_locale.cc	1970-01-01 12:00:00.000000000 +1200
+++ gcc-3.4.4-STEP/libstdc++-v3/config/locale/uclibc/c_locale.cc	2005-09-04 10:06:23.822662776 +1200
@@ -0,0 +1,160 @@
+// Wrapper for underlying C-language localization -*- C++ -*-
+
+// Copyright (C) 2001, 2002, 2003 Free Software Foundation, Inc.
+//
+// This file is part of the GNU ISO C++ Library.  This library is free
+// software; you can redistribute it and/or modify it under the
+// terms of the GNU General Public License as published by the
+// Free Software Foundation; either version 2, or (at your option)
+// any later version.
+
+// This library is distributed in the hope that it will be useful,
+// but WITHOUT ANY WARRANTY; without even the implied warranty of
+// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
+// GNU General Public License for more details.
+
+// You should have received a copy of the GNU General Public License along
+// with this library; see the file COPYING.  If not, write to the Free
+// Software Foundation, 59 Temple Place - Suite 330, Boston, MA 02111-1307,
+// USA.
+
+// As a special exception, you may use this file as part of a free software
+// library without restriction.  Specifically, if other files instantiate
+// templates or use macros or inline functions from this file, or you compile
+// this file and link it with other files to produce an executable, this
+// file does not by itself cause the resulting executable to be covered by
+// the GNU General Public License.  This exception does not however
+// invalidate any other reasons why the executable file might be covered by
+// the GNU General Public License.
+
+//
+// ISO C++ 14882: 22.8  Standard locale categories.
+//
+
+// Written by Benjamin Kosnik <bkoz@redhat.com>
+
+#include <cerrno>  // For errno
+#include <locale>
+#include <stdexcept>
+#include <langinfo.h>
+#include <bits/c++locale_internal.h>
+
+#ifndef __UCLIBC_HAS_XLOCALE__
+#define __strtol_l(S, E, B, L)      strtol((S), (E), (B))
+#define __strtoul_l(S, E, B, L)     strtoul((S), (E), (B))
+#define __strtoll_l(S, E, B, L)     strtoll((S), (E), (B))
+#define __strtoull_l(S, E, B, L)    strtoull((S), (E), (B))
+#define __strtof_l(S, E, L)         strtof((S), (E))
+#define __strtod_l(S, E, L)         strtod((S), (E))
+#define __strtold_l(S, E, L)        strtold((S), (E))
+#warning should dummy __newlocale check for C|POSIX ?
+#define __newlocale(a, b, c)        NULL
+#define __freelocale(a)             ((void)0)
+#define __duplocale(a)              __c_locale()
+#endif
+
+namespace std 
+{
+  template<>
+    void
+    __convert_to_v(const char* __s, float& __v, ios_base::iostate& __err, 
+		   const __c_locale& __cloc)
+    {
+      if (!(__err & ios_base::failbit))
+	{
+	  char* __sanity;
+	  errno = 0;
+	  float __f = __strtof_l(__s, &__sanity, __cloc);
+          if (__sanity != __s && errno != ERANGE)
+	    __v = __f;
+	  else
+	    __err |= ios_base::failbit;
+	}
+    }
+
+  template<>
+    void
+    __convert_to_v(const char* __s, double& __v, ios_base::iostate& __err, 
+		   const __c_locale& __cloc)
+    {
+      if (!(__err & ios_base::failbit))
+	{
+	  char* __sanity;
+	  errno = 0;
+	  double __d = __strtod_l(__s, &__sanity, __cloc);
+          if (__sanity != __s && errno != ERANGE)
+	    __v = __d;
+	  else
+	    __err |= ios_base::failbit;
+	}
+    }
+
+  template<>
+    void
+    __convert_to_v(const char* __s, long double& __v, ios_base::iostate& __err,
+		   const __c_locale& __cloc)
+    {
+      if (!(__err & ios_base::failbit))
+	{
+	  char* __sanity;
+	  errno = 0;
+	  long double __ld = __strtold_l(__s, &__sanity, __cloc);
+          if (__sanity != __s && errno != ERANGE)
+	    __v = __ld;
+	  else
+	    __err |= ios_base::failbit;
+	}
+    }
+
+  void
+  locale::facet::_S_create_c_locale(__c_locale& __cloc, const char* __s, 
+				    __c_locale __old)
+  {
+    __cloc = __newlocale(1 << LC_ALL, __s, __old);
+#ifdef __UCLIBC_HAS_XLOCALE__
+    if (!__cloc)
+      {
+	// This named locale is not supported by the underlying OS.
+	__throw_runtime_error(__N("locale::facet::_S_create_c_locale "
+			      "name not valid"));
+      }
+#endif
+  }
+  
+  void
+  locale::facet::_S_destroy_c_locale(__c_locale& __cloc)
+  {
+    if (_S_get_c_locale() != __cloc)
+      __freelocale(__cloc); 
+  }
+
+  __c_locale
+  locale::facet::_S_clone_c_locale(__c_locale& __cloc)
+  { return __duplocale(__cloc); }
+} // namespace std
+
+namespace __gnu_cxx
+{
+  const char* const category_names[6 + _GLIBCXX_NUM_CATEGORIES] =
+    {
+      "LC_CTYPE", 
+      "LC_NUMERIC",
+      "LC_TIME", 
+      "LC_COLLATE", 
+      "LC_MONETARY",
+      "LC_MESSAGES", 
+#if _GLIBCXX_NUM_CATEGORIES != 0
+      "LC_PAPER", 
+      "LC_NAME", 
+      "LC_ADDRESS",
+      "LC_TELEPHONE", 
+      "LC_MEASUREMENT", 
+      "LC_IDENTIFICATION" 
+#endif
+    };
+}
+
+namespace std
+{
+  const char* const* const locale::_S_categories = __gnu_cxx::category_names;
+}  // namespace std
diff -urN gcc-3.4.4/libstdc++-v3/config/locale/uclibc/c_locale.h gcc-3.4.4-STEP/libstdc++-v3/config/locale/uclibc/c_locale.h
--- gcc-3.4.4/libstdc++-v3/config/locale/uclibc/c_locale.h	1970-01-01 12:00:00.000000000 +1200
+++ gcc-3.4.4-STEP/libstdc++-v3/config/locale/uclibc/c_locale.h	2005-09-04 10:06:23.823662624 +1200
@@ -0,0 +1,115 @@
+// Wrapper for underlying C-language localization -*- C++ -*-
+
+// Copyright (C) 2001, 2002, 2003, 2004 Free Software Foundation, Inc.
+//
+// This file is part of the GNU ISO C++ Library.  This library is free
+// software; you can redistribute it and/or modify it under the
+// terms of the GNU General Public License as published by the
+// Free Software Foundation; either version 2, or (at your option)
+// any later version.
+
+// This library is distributed in the hope that it will be useful,
+// but WITHOUT ANY WARRANTY; without even the implied warranty of
+// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
+// GNU General Public License for more details.
+
+// You should have received a copy of the GNU General Public License along
+// with this library; see the file COPYING.  If not, write to the Free
+// Software Foundation, 59 Temple Place - Suite 330, Boston, MA 02111-1307,
+// USA.
+
+// As a special exception, you may use this file as part of a free software
+// library without restriction.  Specifically, if other files instantiate
+// templates or use macros or inline functions from this file, or you compile
+// this file and link it with other files to produce an executable, this
+// file does not by itself cause the resulting executable to be covered by
+// the GNU General Public License.  This exception does not however
+// invalidate any other reasons why the executable file might be covered by
+// the GNU General Public License.
+
+//
+// ISO C++ 14882: 22.8  Standard locale categories.
+//
+
+// Written by Benjamin Kosnik <bkoz@redhat.com>
+
+#ifndef _C_LOCALE_H
+#define _C_LOCALE_H 1
+
+#pragma GCC system_header
+
+#include <cstring>              // get std::strlen
+#include <cstdio>               // get std::snprintf or std::sprintf
+#include <clocale>
+#include <langinfo.h>		// For codecvt
+#ifdef __UCLIBC_MJN3_ONLY__
+#warning fix this
+#endif
+#ifdef __UCLIBC_HAS_LOCALE__
+#include <iconv.h>		// For codecvt using iconv, iconv_t
+#endif
+#ifdef __UCLIBC_HAS_GETTEXT_AWARENESS__
+#include <libintl.h> 		// For messages
+#endif
+
+#ifdef __UCLIBC_MJN3_ONLY__
+#warning what is _GLIBCXX_C_LOCALE_GNU for
+#endif
+#define _GLIBCXX_C_LOCALE_GNU 1
+
+#ifdef __UCLIBC_MJN3_ONLY__
+#warning fix categories
+#endif
+// #define _GLIBCXX_NUM_CATEGORIES 6
+#define _GLIBCXX_NUM_CATEGORIES 0
+ 
+#ifdef __UCLIBC_HAS_XLOCALE__
+namespace __gnu_cxx
+{
+  extern "C" __typeof(uselocale) __uselocale;
+}
+#endif
+
+namespace std
+{
+#ifdef __UCLIBC_HAS_XLOCALE__
+  typedef __locale_t		__c_locale;
+#else
+  typedef int*			__c_locale;
+#endif
+
+  // Convert numeric value of type _Tv to string and return length of
+  // string.  If snprintf is available use it, otherwise fall back to
+  // the unsafe sprintf which, in general, can be dangerous and should
+  // be avoided.
+  template<typename _Tv>
+    int
+    __convert_from_v(char* __out, const int __size, const char* __fmt,
+#ifdef __UCLIBC_HAS_XLOCALE__
+		     _Tv __v, const __c_locale& __cloc, int __prec)
+    {
+      __c_locale __old = __gnu_cxx::__uselocale(__cloc);
+#else
+		     _Tv __v, const __c_locale&, int __prec)
+    {
+# ifdef __UCLIBC_HAS_LOCALE__
+      char* __old = std::setlocale(LC_ALL, NULL);
+      char* __sav = new char[std::strlen(__old) + 1];
+      std::strcpy(__sav, __old);
+      std::setlocale(LC_ALL, "C");
+# endif
+#endif
+
+      const int __ret = std::snprintf(__out, __size, __fmt, __prec, __v);
+
+#ifdef __UCLIBC_HAS_XLOCALE__
+      __gnu_cxx::__uselocale(__old);
+#elif defined __UCLIBC_HAS_LOCALE__
+      std::setlocale(LC_ALL, __sav);
+      delete [] __sav;
+#endif
+      return __ret;
+    }
+}
+
+#endif
diff -urN gcc-3.4.4/libstdc++-v3/config/locale/uclibc/codecvt_members.cc gcc-3.4.4-STEP/libstdc++-v3/config/locale/uclibc/codecvt_members.cc
--- gcc-3.4.4/libstdc++-v3/config/locale/uclibc/codecvt_members.cc	1970-01-01 12:00:00.000000000 +1200
+++ gcc-3.4.4-STEP/libstdc++-v3/config/locale/uclibc/codecvt_members.cc	2005-09-04 10:06:23.824662472 +1200
@@ -0,0 +1,306 @@
+// std::codecvt implementation details, GNU version -*- C++ -*-
+
+// Copyright (C) 2002, 2003 Free Software Foundation, Inc.
+//
+// This file is part of the GNU ISO C++ Library.  This library is free
+// software; you can redistribute it and/or modify it under the
+// terms of the GNU General Public License as published by the
+// Free Software Foundation; either version 2, or (at your option)
+// any later version.
+
+// This library is distributed in the hope that it will be useful,
+// but WITHOUT ANY WARRANTY; without even the implied warranty of
+// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
+// GNU General Public License for more details.
+
+// You should have received a copy of the GNU General Public License along
+// with this library; see the file COPYING.  If not, write to the Free
+// Software Foundation, 59 Temple Place - Suite 330, Boston, MA 02111-1307,
+// USA.
+
+// As a special exception, you may use this file as part of a free software
+// library without restriction.  Specifically, if other files instantiate
+// templates or use macros or inline functions from this file, or you compile
+// this file and link it with other files to produce an executable, this
+// file does not by itself cause the resulting executable to be covered by
+// the GNU General Public License.  This exception does not however
+// invalidate any other reasons why the executable file might be covered by
+// the GNU General Public License.
+
+//
+// ISO C++ 14882: 22.2.1.5 - Template class codecvt
+//
+
+// Written by Benjamin Kosnik <bkoz@redhat.com>
+
+#include <locale>
+#include <bits/c++locale_internal.h>
+
+namespace std
+{
+  // Specializations.
+#ifdef _GLIBCXX_USE_WCHAR_T
+  codecvt_base::result
+  codecvt<wchar_t, char, mbstate_t>::
+  do_out(state_type& __state, const intern_type* __from, 
+	 const intern_type* __from_end, const intern_type*& __from_next,
+	 extern_type* __to, extern_type* __to_end,
+	 extern_type*& __to_next) const
+  {
+    result __ret = ok;
+    state_type __tmp_state(__state);
+
+#ifdef __UCLIBC_HAS_XLOCALE__
+    __c_locale __old = __uselocale(_M_c_locale_codecvt);
+#endif
+
+    // wcsnrtombs is *very* fast but stops if encounters NUL characters:
+    // in case we fall back to wcrtomb and then continue, in a loop.
+    // NB: wcsnrtombs is a GNU extension
+    for (__from_next = __from, __to_next = __to;
+	 __from_next < __from_end && __to_next < __to_end
+	 && __ret == ok;)
+      {
+	const intern_type* __from_chunk_end = wmemchr(__from_next, L'\0',
+						      __from_end - __from_next);
+	if (!__from_chunk_end)
+	  __from_chunk_end = __from_end;
+
+	__from = __from_next;
+	const size_t __conv = wcsnrtombs(__to_next, &__from_next,
+					 __from_chunk_end - __from_next,
+					 __to_end - __to_next, &__state);
+	if (__conv == static_cast<size_t>(-1))
+	  {
+	    // In case of error, in order to stop at the exact place we
+	    // have to start again from the beginning with a series of
+	    // wcrtomb.
+	    for (; __from < __from_next; ++__from)
+	      __to_next += wcrtomb(__to_next, *__from, &__tmp_state);
+	    __state = __tmp_state;
+	    __ret = error;
+	  }
+	else if (__from_next && __from_next < __from_chunk_end)
+	  {
+	    __to_next += __conv;
+	    __ret = partial;
+	  }
+	else
+	  {
+	    __from_next = __from_chunk_end;
+	    __to_next += __conv;
+	  }
+
+	if (__from_next < __from_end && __ret == ok)
+	  {
+	    extern_type __buf[MB_LEN_MAX];
+	    __tmp_state = __state;
+	    const size_t __conv = wcrtomb(__buf, *__from_next, &__tmp_state);
+	    if (__conv > static_cast<size_t>(__to_end - __to_next))
+	      __ret = partial;
+	    else
+	      {
+		memcpy(__to_next, __buf, __conv);
+		__state = __tmp_state;
+		__to_next += __conv;
+		++__from_next;
+	      }
+	  }
+      }
+
+#ifdef __UCLIBC_HAS_XLOCALE__
+    __uselocale(__old);
+#endif
+
+    return __ret; 
+  }
+  
+  codecvt_base::result
+  codecvt<wchar_t, char, mbstate_t>::
+  do_in(state_type& __state, const extern_type* __from, 
+	const extern_type* __from_end, const extern_type*& __from_next,
+	intern_type* __to, intern_type* __to_end,
+	intern_type*& __to_next) const
+  {
+    result __ret = ok;
+    state_type __tmp_state(__state);
+
+#ifdef __UCLIBC_HAS_XLOCALE__
+    __c_locale __old = __uselocale(_M_c_locale_codecvt);
+#endif
+
+    // mbsnrtowcs is *very* fast but stops if encounters NUL characters:
+    // in case we store a L'\0' and then continue, in a loop.
+    // NB: mbsnrtowcs is a GNU extension
+    for (__from_next = __from, __to_next = __to;
+	 __from_next < __from_end && __to_next < __to_end
+	 && __ret == ok;)
+      {
+	const extern_type* __from_chunk_end;
+	__from_chunk_end = static_cast<const extern_type*>(memchr(__from_next, '\0',
+								  __from_end
+								  - __from_next));
+	if (!__from_chunk_end)
+	  __from_chunk_end = __from_end;
+
+	__from = __from_next;
+	size_t __conv = mbsnrtowcs(__to_next, &__from_next,
+				   __from_chunk_end - __from_next,
+				   __to_end - __to_next, &__state);
+	if (__conv == static_cast<size_t>(-1))
+	  {
+	    // In case of error, in order to stop at the exact place we
+	    // have to start again from the beginning with a series of
+	    // mbrtowc.
+	    for (;; ++__to_next, __from += __conv)
+	      {
+		__conv = mbrtowc(__to_next, __from, __from_end - __from,
+				 &__tmp_state);
+		if (__conv == static_cast<size_t>(-1)
+		    || __conv == static_cast<size_t>(-2))
+		  break;
+	      }
+	    __from_next = __from;
+	    __state = __tmp_state;	    
+	    __ret = error;
+	  }
+	else if (__from_next && __from_next < __from_chunk_end)
+	  {
+	    // It is unclear what to return in this case (see DR 382). 
+	    __to_next += __conv;
+	    __ret = partial;
+	  }
+	else
+	  {
+	    __from_next = __from_chunk_end;
+	    __to_next += __conv;
+	  }
+
+	if (__from_next < __from_end && __ret == ok)
+	  {
+	    if (__to_next < __to_end)
+	      {
+		// XXX Probably wrong for stateful encodings
+		__tmp_state = __state;		
+		++__from_next;
+		*__to_next++ = L'\0';
+	      }
+	    else
+	      __ret = partial;
+	  }
+      }
+
+#ifdef __UCLIBC_HAS_XLOCALE__
+    __uselocale(__old);
+#endif
+
+    return __ret; 
+  }
+
+  int 
+  codecvt<wchar_t, char, mbstate_t>::
+  do_encoding() const throw()
+  {
+    // XXX This implementation assumes that the encoding is
+    // stateless and is either single-byte or variable-width.
+    int __ret = 0;
+#ifdef __UCLIBC_HAS_XLOCALE__
+    __c_locale __old = __uselocale(_M_c_locale_codecvt);
+#endif
+    if (MB_CUR_MAX == 1)
+      __ret = 1;
+#ifdef __UCLIBC_HAS_XLOCALE__
+    __uselocale(__old);
+#endif
+    return __ret;
+  }  
+
+  int 
+  codecvt<wchar_t, char, mbstate_t>::
+  do_max_length() const throw()
+  {
+#ifdef __UCLIBC_HAS_XLOCALE__
+    __c_locale __old = __uselocale(_M_c_locale_codecvt);
+#endif
+    // XXX Probably wrong for stateful encodings.
+    int __ret = MB_CUR_MAX;
+#ifdef __UCLIBC_HAS_XLOCALE__
+    __uselocale(__old);
+#endif
+    return __ret;
+  }
+  
+  int 
+  codecvt<wchar_t, char, mbstate_t>::
+  do_length(state_type& __state, const extern_type* __from,
+	    const extern_type* __end, size_t __max) const
+  {
+    int __ret = 0;
+    state_type __tmp_state(__state);
+
+#ifdef __UCLIBC_HAS_XLOCALE__
+    __c_locale __old = __uselocale(_M_c_locale_codecvt);
+#endif
+
+    // mbsnrtowcs is *very* fast but stops if encounters NUL characters:
+    // in case we advance past it and then continue, in a loop.
+    // NB: mbsnrtowcs is a GNU extension
+  
+    // A dummy internal buffer is needed in order for mbsnrtocws to consider
+    // its fourth parameter (it wouldn't with NULL as first parameter).
+    wchar_t* __to = static_cast<wchar_t*>(__builtin_alloca(sizeof(wchar_t) 
+							   * __max));
+    while (__from < __end && __max)
+      {
+	const extern_type* __from_chunk_end;
+	__from_chunk_end = static_cast<const extern_type*>(memchr(__from, '\0',
+								  __end
+								  - __from));
+	if (!__from_chunk_end)
+	  __from_chunk_end = __end;
+
+	const extern_type* __tmp_from = __from;
+	size_t __conv = mbsnrtowcs(__to, &__from,
+				   __from_chunk_end - __from,
+				   __max, &__state);
+	if (__conv == static_cast<size_t>(-1))
+	  {
+	    // In case of error, in order to stop at the exact place we
+	    // have to start again from the beginning with a series of
+	    // mbrtowc.
+	    for (__from = __tmp_from;; __from += __conv)
+	      {
+		__conv = mbrtowc(NULL, __from, __end - __from,
+				 &__tmp_state);
+		if (__conv == static_cast<size_t>(-1)
+		    || __conv == static_cast<size_t>(-2))
+		  break;
+	      }
+	    __state = __tmp_state;
+	    __ret += __from - __tmp_from;
+	    break;
+	  }
+	if (!__from)
+	  __from = __from_chunk_end;
+	
+	__ret += __from - __tmp_from;
+	__max -= __conv;
+
+	if (__from < __end && __max)
+	  {
+	    // XXX Probably wrong for stateful encodings
+	    __tmp_state = __state;
+	    ++__from;
+	    ++__ret;
+	    --__max;
+	  }
+      }
+
+#ifdef __UCLIBC_HAS_XLOCALE__
+    __uselocale(__old);
+#endif
+
+    return __ret; 
+  }
+#endif
+}
diff -urN gcc-3.4.4/libstdc++-v3/config/locale/uclibc/collate_members.cc gcc-3.4.4-STEP/libstdc++-v3/config/locale/uclibc/collate_members.cc
--- gcc-3.4.4/libstdc++-v3/config/locale/uclibc/collate_members.cc	1970-01-01 12:00:00.000000000 +1200
+++ gcc-3.4.4-STEP/libstdc++-v3/config/locale/uclibc/collate_members.cc	2005-09-04 10:06:23.825662320 +1200
@@ -0,0 +1,80 @@
+// std::collate implementation details, GNU version -*- C++ -*-
+
+// Copyright (C) 2001, 2002 Free Software Foundation, Inc.
+//
+// This file is part of the GNU ISO C++ Library.  This library is free
+// software; you can redistribute it and/or modify it under the
+// terms of the GNU General Public License as published by the
+// Free Software Foundation; either version 2, or (at your option)
+// any later version.
+
+// This library is distributed in the hope that it will be useful,
+// but WITHOUT ANY WARRANTY; without even the implied warranty of
+// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
+// GNU General Public License for more details.
+
+// You should have received a copy of the GNU General Public License along
+// with this library; see the file COPYING.  If not, write to the Free
+// Software Foundation, 59 Temple Place - Suite 330, Boston, MA 02111-1307,
+// USA.
+
+// As a special exception, you may use this file as part of a free software
+// library without restriction.  Specifically, if other files instantiate
+// templates or use macros or inline functions from this file, or you compile
+// this file and link it with other files to produce an executable, this
+// file does not by itself cause the resulting executable to be covered by
+// the GNU General Public License.  This exception does not however
+// invalidate any other reasons why the executable file might be covered by
+// the GNU General Public License.
+
+//
+// ISO C++ 14882: 22.2.4.1.2  collate virtual functions
+//
+
+// Written by Benjamin Kosnik <bkoz@redhat.com>
+
+#include <locale>
+#include <bits/c++locale_internal.h>
+
+#ifndef __UCLIBC_HAS_XLOCALE__
+#define __strcoll_l(S1, S2, L)      strcoll((S1), (S2))
+#define __strxfrm_l(S1, S2, N, L)   strxfrm((S1), (S2), (N))
+#define __wcscoll_l(S1, S2, L)      wcscoll((S1), (S2))
+#define __wcsxfrm_l(S1, S2, N, L)   wcsxfrm((S1), (S2), (N))
+#endif
+
+namespace std
+{
+  // These are basically extensions to char_traits, and perhaps should
+  // be put there instead of here.
+  template<>
+    int 
+    collate<char>::_M_compare(const char* __one, const char* __two) const
+    { 
+      int __cmp = __strcoll_l(__one, __two, _M_c_locale_collate);
+      return (__cmp >> (8 * sizeof (int) - 2)) | (__cmp != 0);
+    }
+  
+  template<>
+    size_t
+    collate<char>::_M_transform(char* __to, const char* __from, 
+				size_t __n) const 
+    { return __strxfrm_l(__to, __from, __n, _M_c_locale_collate); }
+
+#ifdef _GLIBCXX_USE_WCHAR_T
+  template<>
+    int 
+    collate<wchar_t>::_M_compare(const wchar_t* __one, 
+				 const wchar_t* __two) const
+    {
+      int __cmp = __wcscoll_l(__one, __two, _M_c_locale_collate);
+      return (__cmp >> (8 * sizeof (int) - 2)) | (__cmp != 0);
+    }
+  
+  template<>
+    size_t
+    collate<wchar_t>::_M_transform(wchar_t* __to, const wchar_t* __from,
+				   size_t __n) const
+    { return __wcsxfrm_l(__to, __from, __n, _M_c_locale_collate); }
+#endif
+}
diff -urN gcc-3.4.4/libstdc++-v3/config/locale/uclibc/ctype_members.cc gcc-3.4.4-STEP/libstdc++-v3/config/locale/uclibc/ctype_members.cc
--- gcc-3.4.4/libstdc++-v3/config/locale/uclibc/ctype_members.cc	1970-01-01 12:00:00.000000000 +1200
+++ gcc-3.4.4-STEP/libstdc++-v3/config/locale/uclibc/ctype_members.cc	2005-09-04 10:06:23.826662168 +1200
@@ -0,0 +1,300 @@
+// std::ctype implementation details, GNU version -*- C++ -*-
+
+// Copyright (C) 2001, 2002, 2003, 2004 Free Software Foundation, Inc.
+//
+// This file is part of the GNU ISO C++ Library.  This library is free
+// software; you can redistribute it and/or modify it under the
+// terms of the GNU General Public License as published by the
+// Free Software Foundation; either version 2, or (at your option)
+// any later version.
+
+// This library is distributed in the hope that it will be useful,
+// but WITHOUT ANY WARRANTY; without even the implied warranty of
+// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
+// GNU General Public License for more details.
+
+// You should have received a copy of the GNU General Public License along
+// with this library; see the file COPYING.  If not, write to the Free
+// Software Foundation, 59 Temple Place - Suite 330, Boston, MA 02111-1307,
+// USA.
+
+// As a special exception, you may use this file as part of a free software
+// library without restriction.  Specifically, if other files instantiate
+// templates or use macros or inline functions from this file, or you compile
+// this file and link it with other files to produce an executable, this
+// file does not by itself cause the resulting executable to be covered by
+// the GNU General Public License.  This exception does not however
+// invalidate any other reasons why the executable file might be covered by
+// the GNU General Public License.
+
+//
+// ISO C++ 14882: 22.2.1.1.2  ctype virtual functions.
+//
+
+// Written by Benjamin Kosnik <bkoz@redhat.com>
+
+#define _LIBC
+#include <locale>
+#undef _LIBC
+#include <bits/c++locale_internal.h>
+
+#ifndef __UCLIBC_HAS_XLOCALE__
+#define __wctype_l(S, L)           wctype((S))
+#define __towupper_l(C, L)         towupper((C))
+#define __towlower_l(C, L)         towlower((C))
+#define __iswctype_l(C, M, L)      iswctype((C), (M))
+#endif
+
+namespace std
+{
+  // NB: The other ctype<char> specializations are in src/locale.cc and
+  // various /config/os/* files.
+  template<>
+    ctype_byname<char>::ctype_byname(const char* __s, size_t __refs)
+    : ctype<char>(0, false, __refs) 
+    { 		
+      if (std::strcmp(__s, "C") != 0 && std::strcmp(__s, "POSIX") != 0)
+	{
+	  this->_S_destroy_c_locale(this->_M_c_locale_ctype);
+	  this->_S_create_c_locale(this->_M_c_locale_ctype, __s); 
+#ifdef __UCLIBC_HAS_XLOCALE__
+	  this->_M_toupper = this->_M_c_locale_ctype->__ctype_toupper;
+	  this->_M_tolower = this->_M_c_locale_ctype->__ctype_tolower;
+	  this->_M_table = this->_M_c_locale_ctype->__ctype_b;
+#endif
+	}
+    }
+
+#ifdef _GLIBCXX_USE_WCHAR_T  
+  ctype<wchar_t>::__wmask_type
+  ctype<wchar_t>::_M_convert_to_wmask(const mask __m) const
+  {
+    __wmask_type __ret;
+    switch (__m)
+      {
+      case space:
+	__ret = __wctype_l("space", _M_c_locale_ctype);
+	break;
+      case print:
+	__ret = __wctype_l("print", _M_c_locale_ctype);
+	break;
+      case cntrl:
+	__ret = __wctype_l("cntrl", _M_c_locale_ctype);
+	break;
+      case upper:
+	__ret = __wctype_l("upper", _M_c_locale_ctype);
+	break;
+      case lower:
+	__ret = __wctype_l("lower", _M_c_locale_ctype);
+	break;
+      case alpha:
+	__ret = __wctype_l("alpha", _M_c_locale_ctype);
+	break;
+      case digit:
+	__ret = __wctype_l("digit", _M_c_locale_ctype);
+	break;
+      case punct:
+	__ret = __wctype_l("punct", _M_c_locale_ctype);
+	break;
+      case xdigit:
+	__ret = __wctype_l("xdigit", _M_c_locale_ctype);
+	break;
+      case alnum:
+	__ret = __wctype_l("alnum", _M_c_locale_ctype);
+	break;
+      case graph:
+	__ret = __wctype_l("graph", _M_c_locale_ctype);
+	break;
+      default:
+	__ret = 0;
+      }
+    return __ret;
+  }
+  
+  wchar_t
+  ctype<wchar_t>::do_toupper(wchar_t __c) const
+  { return __towupper_l(__c, _M_c_locale_ctype); }
+
+  const wchar_t*
+  ctype<wchar_t>::do_toupper(wchar_t* __lo, const wchar_t* __hi) const
+  {
+    while (__lo < __hi)
+      {
+        *__lo = __towupper_l(*__lo, _M_c_locale_ctype);
+        ++__lo;
+      }
+    return __hi;
+  }
+  
+  wchar_t
+  ctype<wchar_t>::do_tolower(wchar_t __c) const
+  { return __towlower_l(__c, _M_c_locale_ctype); }
+  
+  const wchar_t*
+  ctype<wchar_t>::do_tolower(wchar_t* __lo, const wchar_t* __hi) const
+  {
+    while (__lo < __hi)
+      {
+        *__lo = __towlower_l(*__lo, _M_c_locale_ctype);
+        ++__lo;
+      }
+    return __hi;
+  }
+
+  bool
+  ctype<wchar_t>::
+  do_is(mask __m, wchar_t __c) const
+  { 
+    // Highest bitmask in ctype_base == 10, but extra in "C"
+    // library for blank.
+    bool __ret = false;
+    const size_t __bitmasksize = 11; 
+    for (size_t __bitcur = 0; __bitcur <= __bitmasksize; ++__bitcur)
+      if (__m & _M_bit[__bitcur]
+	  && __iswctype_l(__c, _M_wmask[__bitcur], _M_c_locale_ctype))
+	{
+	  __ret = true;
+	  break;
+	}
+    return __ret;    
+  }
+  
+  const wchar_t* 
+  ctype<wchar_t>::
+  do_is(const wchar_t* __lo, const wchar_t* __hi, mask* __vec) const
+  {
+    for (; __lo < __hi; ++__vec, ++__lo)
+      {
+	// Highest bitmask in ctype_base == 10, but extra in "C"
+	// library for blank.
+	const size_t __bitmasksize = 11; 
+	mask __m = 0;
+	for (size_t __bitcur = 0; __bitcur <= __bitmasksize; ++__bitcur)
+	  if (__iswctype_l(*__lo, _M_wmask[__bitcur], _M_c_locale_ctype))
+	    __m |= _M_bit[__bitcur];
+	*__vec = __m;
+      }
+    return __hi;
+  }
+  
+  const wchar_t* 
+  ctype<wchar_t>::
+  do_scan_is(mask __m, const wchar_t* __lo, const wchar_t* __hi) const
+  {
+    while (__lo < __hi && !this->do_is(__m, *__lo))
+      ++__lo;
+    return __lo;
+  }
+
+  const wchar_t*
+  ctype<wchar_t>::
+  do_scan_not(mask __m, const char_type* __lo, const char_type* __hi) const
+  {
+    while (__lo < __hi && this->do_is(__m, *__lo) != 0)
+      ++__lo;
+    return __lo;
+  }
+
+  wchar_t
+  ctype<wchar_t>::
+  do_widen(char __c) const
+  { return _M_widen[static_cast<unsigned char>(__c)]; }
+
+  const char* 
+  ctype<wchar_t>::
+  do_widen(const char* __lo, const char* __hi, wchar_t* __dest) const
+  {
+    while (__lo < __hi)
+      {
+	*__dest = _M_widen[static_cast<unsigned char>(*__lo)];
+	++__lo;
+	++__dest;
+      }
+    return __hi;
+  }
+
+  char
+  ctype<wchar_t>::
+  do_narrow(wchar_t __wc, char __dfault) const
+  {
+    if (__wc >= 0 && __wc < 128 && _M_narrow_ok)
+      return _M_narrow[__wc];
+#ifdef __UCLIBC_HAS_XLOCALE__
+    __c_locale __old = __uselocale(_M_c_locale_ctype);
+#endif
+    const int __c = wctob(__wc);
+#ifdef __UCLIBC_HAS_XLOCALE__
+    __uselocale(__old);
+#endif
+    return (__c == EOF ? __dfault : static_cast<char>(__c)); 
+  }
+
+  const wchar_t*
+  ctype<wchar_t>::
+  do_narrow(const wchar_t* __lo, const wchar_t* __hi, char __dfault, 
+	    char* __dest) const
+  {
+#ifdef __UCLIBC_HAS_XLOCALE__
+    __c_locale __old = __uselocale(_M_c_locale_ctype);
+#endif
+    if (_M_narrow_ok)
+      while (__lo < __hi)
+	{
+	  if (*__lo >= 0 && *__lo < 128)
+	    *__dest = _M_narrow[*__lo];
+	  else
+	    {
+	      const int __c = wctob(*__lo);
+	      *__dest = (__c == EOF ? __dfault : static_cast<char>(__c));
+	    }
+	  ++__lo;
+	  ++__dest;
+	}
+    else
+      while (__lo < __hi)
+	{
+	  const int __c = wctob(*__lo);
+	  *__dest = (__c == EOF ? __dfault : static_cast<char>(__c));
+	  ++__lo;
+	  ++__dest;
+	}
+#ifdef __UCLIBC_HAS_XLOCALE__
+    __uselocale(__old);
+#endif
+    return __hi;
+  }
+
+  void
+  ctype<wchar_t>::_M_initialize_ctype()
+  {
+#ifdef __UCLIBC_HAS_XLOCALE__
+    __c_locale __old = __uselocale(_M_c_locale_ctype);
+#endif
+    wint_t __i;
+    for (__i = 0; __i < 128; ++__i)
+      {
+	const int __c = wctob(__i);
+	if (__c == EOF)
+	  break;
+	else
+	  _M_narrow[__i] = static_cast<char>(__c);
+      }
+    if (__i == 128)
+      _M_narrow_ok = true;
+    else
+      _M_narrow_ok = false;
+    for (size_t __j = 0;
+	 __j < sizeof(_M_widen) / sizeof(wint_t); ++__j)
+      _M_widen[__j] = btowc(__j);
+
+    for (size_t __k = 0; __k <= 11; ++__k)
+      { 
+	_M_bit[__k] = static_cast<mask>(_ISbit(__k));
+	_M_wmask[__k] = _M_convert_to_wmask(_M_bit[__k]);
+      }
+#ifdef __UCLIBC_HAS_XLOCALE__
+    __uselocale(__old);
+#endif
+  }
+#endif //  _GLIBCXX_USE_WCHAR_T
+}
diff -urN gcc-3.4.4/libstdc++-v3/config/locale/uclibc/messages_members.cc gcc-3.4.4-STEP/libstdc++-v3/config/locale/uclibc/messages_members.cc
--- gcc-3.4.4/libstdc++-v3/config/locale/uclibc/messages_members.cc	1970-01-01 12:00:00.000000000 +1200
+++ gcc-3.4.4-STEP/libstdc++-v3/config/locale/uclibc/messages_members.cc	2005-09-04 10:06:23.827662016 +1200
@@ -0,0 +1,100 @@
+// std::messages implementation details, GNU version -*- C++ -*-
+
+// Copyright (C) 2001, 2002 Free Software Foundation, Inc.
+//
+// This file is part of the GNU ISO C++ Library.  This library is free
+// software; you can redistribute it and/or modify it under the
+// terms of the GNU General Public License as published by the
+// Free Software Foundation; either version 2, or (at your option)
+// any later version.
+
+// This library is distributed in the hope that it will be useful,
+// but WITHOUT ANY WARRANTY; without even the implied warranty of
+// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
+// GNU General Public License for more details.
+
+// You should have received a copy of the GNU General Public License along
+// with this library; see the file COPYING.  If not, write to the Free
+// Software Foundation, 59 Temple Place - Suite 330, Boston, MA 02111-1307,
+// USA.
+
+// As a special exception, you may use this file as part of a free software
+// library without restriction.  Specifically, if other files instantiate
+// templates or use macros or inline functions from this file, or you compile
+// this file and link it with other files to produce an executable, this
+// file does not by itself cause the resulting executable to be covered by
+// the GNU General Public License.  This exception does not however
+// invalidate any other reasons why the executable file might be covered by
+// the GNU General Public License.
+
+//
+// ISO C++ 14882: 22.2.7.1.2  messages virtual functions
+//
+
+// Written by Benjamin Kosnik <bkoz@redhat.com>
+
+#include <locale>
+#include <bits/c++locale_internal.h>
+
+#ifdef __UCLIBC_MJN3_ONLY__
+#warning fix gettext stuff
+#endif
+#ifdef __UCLIBC_HAS_GETTEXT_AWARENESS__
+extern "C" char *__dcgettext(const char *domainname,
+			     const char *msgid, int category);
+#undef gettext
+#define gettext(msgid) __dcgettext(NULL, msgid, LC_MESSAGES)
+#else
+#undef gettext
+#define gettext(msgid) (msgid)
+#endif
+
+namespace std
+{
+  // Specializations.
+  template<>
+    string
+    messages<char>::do_get(catalog, int, int, const string& __dfault) const
+    {
+#ifdef __UCLIBC_HAS_XLOCALE__
+      __c_locale __old = __uselocale(_M_c_locale_messages);
+      const char* __msg = const_cast<const char*>(gettext(__dfault.c_str()));
+      __uselocale(__old);
+      return string(__msg);
+#elif defined __UCLIBC_HAS_LOCALE__
+      char* __old = strdup(setlocale(LC_ALL, NULL));
+      setlocale(LC_ALL, _M_name_messages);
+      const char* __msg = gettext(__dfault.c_str());
+      setlocale(LC_ALL, __old);
+      free(__old);
+      return string(__msg);
+#else
+      const char* __msg = gettext(__dfault.c_str());
+      return string(__msg);
+#endif
+    }
+
+#ifdef _GLIBCXX_USE_WCHAR_T
+  template<>
+    wstring
+    messages<wchar_t>::do_get(catalog, int, int, const wstring& __dfault) const
+    {
+# ifdef __UCLIBC_HAS_XLOCALE__
+      __c_locale __old = __uselocale(_M_c_locale_messages);
+      char* __msg = gettext(_M_convert_to_char(__dfault));
+      __uselocale(__old);
+      return _M_convert_from_char(__msg);
+# elif defined __UCLIBC_HAS_LOCALE__
+      char* __old = strdup(setlocale(LC_ALL, NULL));
+      setlocale(LC_ALL, _M_name_messages);
+      char* __msg = gettext(_M_convert_to_char(__dfault));
+      setlocale(LC_ALL, __old);
+      free(__old);
+      return _M_convert_from_char(__msg);
+# else
+      char* __msg = gettext(_M_convert_to_char(__dfault));
+      return _M_convert_from_char(__msg);
+# endif
+    }
+#endif
+}
diff -urN gcc-3.4.4/libstdc++-v3/config/locale/uclibc/messages_members.h gcc-3.4.4-STEP/libstdc++-v3/config/locale/uclibc/messages_members.h
--- gcc-3.4.4/libstdc++-v3/config/locale/uclibc/messages_members.h	1970-01-01 12:00:00.000000000 +1200
+++ gcc-3.4.4-STEP/libstdc++-v3/config/locale/uclibc/messages_members.h	2005-09-04 10:06:23.828661864 +1200
@@ -0,0 +1,118 @@
+// std::messages implementation details, GNU version -*- C++ -*-
+
+// Copyright (C) 2001, 2002, 2003, 2004 Free Software Foundation, Inc.
+//
+// This file is part of the GNU ISO C++ Library.  This library is free
+// software; you can redistribute it and/or modify it under the
+// terms of the GNU General Public License as published by the
+// Free Software Foundation; either version 2, or (at your option)
+// any later version.
+
+// This library is distributed in the hope that it will be useful,
+// but WITHOUT ANY WARRANTY; without even the implied warranty of
+// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
+// GNU General Public License for more details.
+
+// You should have received a copy of the GNU General Public License along
+// with this library; see the file COPYING.  If not, write to the Free
+// Software Foundation, 59 Temple Place - Suite 330, Boston, MA 02111-1307,
+// USA.
+
+// As a special exception, you may use this file as part of a free software
+// library without restriction.  Specifically, if other files instantiate
+// templates or use macros or inline functions from this file, or you compile
+// this file and link it with other files to produce an executable, this
+// file does not by itself cause the resulting executable to be covered by
+// the GNU General Public License.  This exception does not however
+// invalidate any other reasons why the executable file might be covered by
+// the GNU General Public License.
+
+//
+// ISO C++ 14882: 22.2.7.1.2  messages functions
+//
+
+// Written by Benjamin Kosnik <bkoz@redhat.com>
+
+#ifdef __UCLIBC_MJN3_ONLY__
+#warning fix prototypes for *textdomain funcs
+#endif
+#ifdef __UCLIBC_HAS_GETTEXT_AWARENESS__
+extern "C" char *__textdomain(const char *domainname);
+extern "C" char *__bindtextdomain(const char *domainname,
+				  const char *dirname);
+#else
+#undef __textdomain
+#undef __bindtextdomain
+#define __textdomain(D)           ((void)0)
+#define __bindtextdomain(D,P)     ((void)0)
+#endif
+
+  // Non-virtual member functions.
+  template<typename _CharT>
+     messages<_CharT>::messages(size_t __refs)
+     : facet(__refs), _M_c_locale_messages(_S_get_c_locale()), 
+     _M_name_messages(_S_get_c_name())
+     { }
+
+  template<typename _CharT>
+     messages<_CharT>::messages(__c_locale __cloc, const char* __s, 
+				size_t __refs) 
+     : facet(__refs), _M_c_locale_messages(_S_clone_c_locale(__cloc)),
+     _M_name_messages(__s)
+     {
+       char* __tmp = new char[std::strlen(__s) + 1];
+       std::strcpy(__tmp, __s);
+       _M_name_messages = __tmp;
+     }
+
+  template<typename _CharT>
+    typename messages<_CharT>::catalog 
+    messages<_CharT>::open(const basic_string<char>& __s, const locale& __loc, 
+			   const char* __dir) const
+    { 
+      __bindtextdomain(__s.c_str(), __dir);
+      return this->do_open(__s, __loc); 
+    }
+
+  // Virtual member functions.
+  template<typename _CharT>
+    messages<_CharT>::~messages()
+    { 
+      if (_M_name_messages != _S_get_c_name())
+	delete [] _M_name_messages;
+      _S_destroy_c_locale(_M_c_locale_messages); 
+    }
+
+  template<typename _CharT>
+    typename messages<_CharT>::catalog 
+    messages<_CharT>::do_open(const basic_string<char>& __s, 
+			      const locale&) const
+    { 
+      // No error checking is done, assume the catalog exists and can
+      // be used.
+      __textdomain(__s.c_str());
+      return 0;
+    }
+
+  template<typename _CharT>
+    void    
+    messages<_CharT>::do_close(catalog) const 
+    { }
+
+   // messages_byname
+   template<typename _CharT>
+     messages_byname<_CharT>::messages_byname(const char* __s, size_t __refs)
+     : messages<_CharT>(__refs) 
+     { 
+       if (this->_M_name_messages != locale::facet::_S_get_c_name())
+	 delete [] this->_M_name_messages;
+       char* __tmp = new char[std::strlen(__s) + 1];
+       std::strcpy(__tmp, __s);
+       this->_M_name_messages = __tmp;
+
+       if (std::strcmp(__s, "C") != 0 && std::strcmp(__s, "POSIX") != 0)
+	 {
+	   this->_S_destroy_c_locale(this->_M_c_locale_messages);
+	   this->_S_create_c_locale(this->_M_c_locale_messages, __s); 
+	 }
+     }
diff -urN gcc-3.4.4/libstdc++-v3/config/locale/uclibc/monetary_members.cc gcc-3.4.4-STEP/libstdc++-v3/config/locale/uclibc/monetary_members.cc
--- gcc-3.4.4/libstdc++-v3/config/locale/uclibc/monetary_members.cc	1970-01-01 12:00:00.000000000 +1200
+++ gcc-3.4.4-STEP/libstdc++-v3/config/locale/uclibc/monetary_members.cc	2005-09-04 10:06:23.830661560 +1200
@@ -0,0 +1,698 @@
+// std::moneypunct implementation details, GNU version -*- C++ -*-
+
+// Copyright (C) 2001, 2002, 2003, 2004 Free Software Foundation, Inc.
+//
+// This file is part of the GNU ISO C++ Library.  This library is free
+// software; you can redistribute it and/or modify it under the
+// terms of the GNU General Public License as published by the
+// Free Software Foundation; either version 2, or (at your option)
+// any later version.
+
+// This library is distributed in the hope that it will be useful,
+// but WITHOUT ANY WARRANTY; without even the implied warranty of
+// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
+// GNU General Public License for more details.
+
+// You should have received a copy of the GNU General Public License along
+// with this library; see the file COPYING.  If not, write to the Free
+// Software Foundation, 59 Temple Place - Suite 330, Boston, MA 02111-1307,
+// USA.
+
+// As a special exception, you may use this file as part of a free software
+// library without restriction.  Specifically, if other files instantiate
+// templates or use macros or inline functions from this file, or you compile
+// this file and link it with other files to produce an executable, this
+// file does not by itself cause the resulting executable to be covered by
+// the GNU General Public License.  This exception does not however
+// invalidate any other reasons why the executable file might be covered by
+// the GNU General Public License.
+
+//
+// ISO C++ 14882: 22.2.6.3.2  moneypunct virtual functions
+//
+
+// Written by Benjamin Kosnik <bkoz@redhat.com>
+
+#define _LIBC
+#include <locale>
+#undef _LIBC
+#include <bits/c++locale_internal.h>
+
+#ifdef __UCLIBC_MJN3_ONLY__
+#warning optimize this for uclibc
+#warning tailor for stub locale support
+#endif
+
+#ifndef __UCLIBC_HAS_XLOCALE__
+#define __nl_langinfo_l(N, L)         nl_langinfo((N))
+#endif
+
+namespace std
+{
+  // Construct and return valid pattern consisting of some combination of:
+  // space none symbol sign value
+  money_base::pattern
+  money_base::_S_construct_pattern(char __precedes, char __space, char __posn)
+  { 
+    pattern __ret;
+
+    // This insanely complicated routine attempts to construct a valid
+    // pattern for use with monyepunct. A couple of invariants:
+
+    // if (__precedes) symbol -> value
+    // else value -> symbol
+    
+    // if (__space) space
+    // else none
+
+    // none == never first
+    // space never first or last
+
+    // Any elegant implementations of this are welcome.
+    switch (__posn)
+      {
+      case 0:
+      case 1:
+	// 1 The sign precedes the value and symbol.
+	__ret.field[0] = sign;
+	if (__space)
+	  {
+	    // Pattern starts with sign.
+	    if (__precedes)
+	      {
+		__ret.field[1] = symbol;
+		__ret.field[3] = value;
+	      }
+	    else
+	      {
+		__ret.field[1] = value;
+		__ret.field[3] = symbol;
+	      }
+	    __ret.field[2] = space;
+	  }
+	else
+	  {
+	    // Pattern starts with sign and ends with none.
+	    if (__precedes)
+	      {
+		__ret.field[1] = symbol;
+		__ret.field[2] = value;
+	      }
+	    else
+	      {
+		__ret.field[1] = value;
+		__ret.field[2] = symbol;
+	      }
+	    __ret.field[3] = none;
+	  }
+	break;
+      case 2:
+	// 2 The sign follows the value and symbol.
+	if (__space)
+	  {
+	    // Pattern either ends with sign.
+	    if (__precedes)
+	      {
+		__ret.field[0] = symbol;
+		__ret.field[2] = value;
+	      }
+	    else
+	      {
+		__ret.field[0] = value;
+		__ret.field[2] = symbol;
+	      }
+	    __ret.field[1] = space;
+	    __ret.field[3] = sign;
+	  }
+	else
+	  {
+	    // Pattern ends with sign then none.
+	    if (__precedes)
+	      {
+		__ret.field[0] = symbol;
+		__ret.field[1] = value;
+	      }
+	    else
+	      {
+		__ret.field[0] = value;
+		__ret.field[1] = symbol;
+	      }
+	    __ret.field[2] = sign;
+	    __ret.field[3] = none;
+	  }
+	break;
+      case 3:
+	// 3 The sign immediately precedes the symbol.
+	if (__precedes)
+	  {
+	    __ret.field[0] = sign;
+	    __ret.field[1] = symbol;	    
+	    if (__space)
+	      {
+		__ret.field[2] = space;
+		__ret.field[3] = value;
+	      }
+	    else
+	      {
+		__ret.field[2] = value;		
+		__ret.field[3] = none;
+	      }
+	  }
+	else
+	  {
+	    __ret.field[0] = value;
+	    if (__space)
+	      {
+		__ret.field[1] = space;
+		__ret.field[2] = sign;
+		__ret.field[3] = symbol;
+	      }
+	    else
+	      {
+		__ret.field[1] = sign;
+		__ret.field[2] = symbol;
+		__ret.field[3] = none;
+	      }
+	  }
+	break;
+      case 4:
+	// 4 The sign immediately follows the symbol.
+	if (__precedes)
+	  {
+	    __ret.field[0] = symbol;
+	    __ret.field[1] = sign;
+	    if (__space)
+	      {
+		__ret.field[2] = space;
+		__ret.field[3] = value;
+	      }
+	    else
+	      {
+		__ret.field[2] = value;
+		__ret.field[3] = none;
+	      }
+	  }
+	else
+	  {
+	    __ret.field[0] = value;
+	    if (__space)
+	      {
+		__ret.field[1] = space;
+		__ret.field[2] = symbol;
+		__ret.field[3] = sign;
+	      }
+	    else
+	      {
+		__ret.field[1] = symbol;
+		__ret.field[2] = sign;
+		__ret.field[3] = none;
+	      }
+	  }
+	break;
+      default:
+	;
+      }
+    return __ret;
+  }
+
+  template<> 
+    void
+    moneypunct<char, true>::_M_initialize_moneypunct(__c_locale __cloc, 
+						     const char*)
+    {
+      if (!_M_data)
+	_M_data = new __moneypunct_cache<char, true>;
+
+      if (!__cloc)
+	{
+	  // "C" locale
+	  _M_data->_M_decimal_point = '.';
+	  _M_data->_M_thousands_sep = ',';
+	  _M_data->_M_grouping = "";
+	  _M_data->_M_grouping_size = 0;
+	  _M_data->_M_curr_symbol = "";
+	  _M_data->_M_curr_symbol_size = 0;
+	  _M_data->_M_positive_sign = "";
+	  _M_data->_M_positive_sign_size = 0;
+	  _M_data->_M_negative_sign = "";
+	  _M_data->_M_negative_sign_size = 0;
+	  _M_data->_M_frac_digits = 0;
+	  _M_data->_M_pos_format = money_base::_S_default_pattern;
+	  _M_data->_M_neg_format = money_base::_S_default_pattern;
+
+	  for (size_t __i = 0; __i < money_base::_S_end; ++__i)
+	    _M_data->_M_atoms[__i] = money_base::_S_atoms[__i];
+	}
+      else
+	{
+	  // Named locale.
+	  _M_data->_M_decimal_point = *(__nl_langinfo_l(__MON_DECIMAL_POINT, 
+							__cloc));
+	  _M_data->_M_thousands_sep = *(__nl_langinfo_l(__MON_THOUSANDS_SEP, 
+							__cloc));
+	  _M_data->_M_grouping = __nl_langinfo_l(__MON_GROUPING, __cloc);
+	  _M_data->_M_grouping_size = strlen(_M_data->_M_grouping);
+	  _M_data->_M_positive_sign = __nl_langinfo_l(__POSITIVE_SIGN, __cloc);
+	  _M_data->_M_positive_sign_size = strlen(_M_data->_M_positive_sign);
+
+	  char __nposn = *(__nl_langinfo_l(__INT_N_SIGN_POSN, __cloc));
+	  if (!__nposn)
+	    _M_data->_M_negative_sign = "()";
+	  else
+	    _M_data->_M_negative_sign = __nl_langinfo_l(__NEGATIVE_SIGN, 
+							__cloc);
+	  _M_data->_M_negative_sign_size = strlen(_M_data->_M_negative_sign);
+
+	  // _Intl == true
+	  _M_data->_M_curr_symbol = __nl_langinfo_l(__INT_CURR_SYMBOL, __cloc);
+	  _M_data->_M_curr_symbol_size = strlen(_M_data->_M_curr_symbol);
+	  _M_data->_M_frac_digits = *(__nl_langinfo_l(__INT_FRAC_DIGITS, 
+						      __cloc));
+	  char __pprecedes = *(__nl_langinfo_l(__INT_P_CS_PRECEDES, __cloc));
+	  char __pspace = *(__nl_langinfo_l(__INT_P_SEP_BY_SPACE, __cloc));
+	  char __pposn = *(__nl_langinfo_l(__INT_P_SIGN_POSN, __cloc));
+	  _M_data->_M_pos_format = _S_construct_pattern(__pprecedes, __pspace, 
+							__pposn);
+	  char __nprecedes = *(__nl_langinfo_l(__INT_N_CS_PRECEDES, __cloc));
+	  char __nspace = *(__nl_langinfo_l(__INT_N_SEP_BY_SPACE, __cloc));
+	  _M_data->_M_neg_format = _S_construct_pattern(__nprecedes, __nspace, 
+							__nposn);
+	}
+    }
+
+  template<> 
+    void
+    moneypunct<char, false>::_M_initialize_moneypunct(__c_locale __cloc, 
+						      const char*)
+    {
+      if (!_M_data)
+	_M_data = new __moneypunct_cache<char, false>;
+
+      if (!__cloc)
+	{
+	  // "C" locale
+	  _M_data->_M_decimal_point = '.';
+	  _M_data->_M_thousands_sep = ',';
+	  _M_data->_M_grouping = "";
+	  _M_data->_M_grouping_size = 0;
+	  _M_data->_M_curr_symbol = "";
+	  _M_data->_M_curr_symbol_size = 0;
+	  _M_data->_M_positive_sign = "";
+	  _M_data->_M_positive_sign_size = 0;
+	  _M_data->_M_negative_sign = "";
+	  _M_data->_M_negative_sign_size = 0;
+	  _M_data->_M_frac_digits = 0;
+	  _M_data->_M_pos_format = money_base::_S_default_pattern;
+	  _M_data->_M_neg_format = money_base::_S_default_pattern;
+
+	  for (size_t __i = 0; __i < money_base::_S_end; ++__i)
+	    _M_data->_M_atoms[__i] = money_base::_S_atoms[__i];
+	}
+      else
+	{
+	  // Named locale.
+	  _M_data->_M_decimal_point = *(__nl_langinfo_l(__MON_DECIMAL_POINT, 
+							__cloc));
+	  _M_data->_M_thousands_sep = *(__nl_langinfo_l(__MON_THOUSANDS_SEP, 
+							__cloc));
+	  _M_data->_M_grouping = __nl_langinfo_l(__MON_GROUPING, __cloc);
+	  _M_data->_M_grouping_size = strlen(_M_data->_M_grouping);
+	  _M_data->_M_positive_sign = __nl_langinfo_l(__POSITIVE_SIGN, __cloc);
+	  _M_data->_M_positive_sign_size = strlen(_M_data->_M_positive_sign);
+
+	  char __nposn = *(__nl_langinfo_l(__N_SIGN_POSN, __cloc));
+	  if (!__nposn)
+	    _M_data->_M_negative_sign = "()";
+	  else
+	    _M_data->_M_negative_sign = __nl_langinfo_l(__NEGATIVE_SIGN,
+							__cloc);
+	  _M_data->_M_negative_sign_size = strlen(_M_data->_M_negative_sign);
+
+	  // _Intl == false
+	  _M_data->_M_curr_symbol = __nl_langinfo_l(__CURRENCY_SYMBOL, __cloc);
+	  _M_data->_M_curr_symbol_size = strlen(_M_data->_M_curr_symbol);
+	  _M_data->_M_frac_digits = *(__nl_langinfo_l(__FRAC_DIGITS, __cloc));
+	  char __pprecedes = *(__nl_langinfo_l(__P_CS_PRECEDES, __cloc));
+	  char __pspace = *(__nl_langinfo_l(__P_SEP_BY_SPACE, __cloc));
+	  char __pposn = *(__nl_langinfo_l(__P_SIGN_POSN, __cloc));
+	  _M_data->_M_pos_format = _S_construct_pattern(__pprecedes, __pspace, 
+							__pposn);
+	  char __nprecedes = *(__nl_langinfo_l(__N_CS_PRECEDES, __cloc));
+	  char __nspace = *(__nl_langinfo_l(__N_SEP_BY_SPACE, __cloc));
+	  _M_data->_M_neg_format = _S_construct_pattern(__nprecedes, __nspace, 
+							__nposn);
+	}
+    }
+
+  template<> 
+    moneypunct<char, true>::~moneypunct()
+    { delete _M_data; }
+
+  template<> 
+    moneypunct<char, false>::~moneypunct()
+    { delete _M_data; }
+
+#ifdef _GLIBCXX_USE_WCHAR_T
+  template<> 
+    void
+    moneypunct<wchar_t, true>::_M_initialize_moneypunct(__c_locale __cloc, 
+#ifdef __UCLIBC_HAS_XLOCALE__
+							const char*)
+#else
+							const char* __name)
+#endif
+    {
+      if (!_M_data)
+	_M_data = new __moneypunct_cache<wchar_t, true>;
+
+      if (!__cloc)
+	{
+	  // "C" locale
+	  _M_data->_M_decimal_point = L'.';
+	  _M_data->_M_thousands_sep = L',';
+	  _M_data->_M_grouping = "";
+	  _M_data->_M_grouping_size = 0;
+	  _M_data->_M_curr_symbol = L"";
+	  _M_data->_M_curr_symbol_size = 0;
+	  _M_data->_M_positive_sign = L"";
+	  _M_data->_M_positive_sign_size = 0;
+	  _M_data->_M_negative_sign = L"";
+	  _M_data->_M_negative_sign_size = 0;
+	  _M_data->_M_frac_digits = 0;
+	  _M_data->_M_pos_format = money_base::_S_default_pattern;
+	  _M_data->_M_neg_format = money_base::_S_default_pattern;
+
+	  // Use ctype::widen code without the facet...
+	  unsigned char uc;
+	  for (size_t __i = 0; __i < money_base::_S_end; ++__i)
+	    {
+	      uc = static_cast<unsigned char>(money_base::_S_atoms[__i]);
+	      _M_data->_M_atoms[__i] = btowc(uc);
+	    }
+	}
+      else
+	{
+	  // Named locale.
+#ifdef __UCLIBC_HAS_XLOCALE__
+	  __c_locale __old = __uselocale(__cloc);
+#else
+	  // Switch to named locale so that mbsrtowcs will work.
+	  char* __old = strdup(setlocale(LC_ALL, NULL));
+	  setlocale(LC_ALL, __name);
+#endif
+
+#ifdef __UCLIBC_MJN3_ONLY__
+#warning fix this... should be monetary
+#endif
+#ifdef __UCLIBC__
+# ifdef __UCLIBC_HAS_XLOCALE__
+	  _M_data->_M_decimal_point = __cloc->decimal_point_wc;
+	  _M_data->_M_thousands_sep = __cloc->thousands_sep_wc;
+# else
+	  _M_data->_M_decimal_point = __global_locale->decimal_point_wc;
+	  _M_data->_M_thousands_sep = __global_locale->thousands_sep_wc;
+# endif
+#else
+	  union __s_and_w { const char *__s; unsigned int __w; } __u;
+	  __u.__s = __nl_langinfo_l(_NL_MONETARY_DECIMAL_POINT_WC, __cloc);
+	  _M_data->_M_decimal_point = static_cast<wchar_t>(__u.__w);
+
+	  __u.__s = __nl_langinfo_l(_NL_MONETARY_THOUSANDS_SEP_WC, __cloc);
+	  _M_data->_M_thousands_sep = static_cast<wchar_t>(__u.__w);
+#endif
+	  _M_data->_M_grouping = __nl_langinfo_l(__MON_GROUPING, __cloc);
+	  _M_data->_M_grouping_size = strlen(_M_data->_M_grouping);
+
+	  const char* __cpossign = __nl_langinfo_l(__POSITIVE_SIGN, __cloc);
+	  const char* __cnegsign = __nl_langinfo_l(__NEGATIVE_SIGN, __cloc);
+	  const char* __ccurr = __nl_langinfo_l(__INT_CURR_SYMBOL, __cloc);
+
+	  wchar_t* __wcs_ps = 0;
+	  wchar_t* __wcs_ns = 0;
+	  const char __nposn = *(__nl_langinfo_l(__INT_N_SIGN_POSN, __cloc));
+	  try
+	    {
+	      mbstate_t __state;
+	      size_t __len = strlen(__cpossign);
+	      if (__len)
+		{
+		  ++__len;
+		  memset(&__state, 0, sizeof(mbstate_t));
+		  __wcs_ps = new wchar_t[__len];
+		  mbsrtowcs(__wcs_ps, &__cpossign, __len, &__state);
+		  _M_data->_M_positive_sign = __wcs_ps;
+		}
+	      else
+		_M_data->_M_positive_sign = L"";
+	      _M_data->_M_positive_sign_size = wcslen(_M_data->_M_positive_sign);
+	      
+	      __len = strlen(__cnegsign);
+	      if (!__nposn)
+		_M_data->_M_negative_sign = L"()";
+	      else if (__len)
+		{ 
+		  ++__len;
+		  memset(&__state, 0, sizeof(mbstate_t));
+		  __wcs_ns = new wchar_t[__len];
+		  mbsrtowcs(__wcs_ns, &__cnegsign, __len, &__state);
+		  _M_data->_M_negative_sign = __wcs_ns;
+		}
+	      else
+		_M_data->_M_negative_sign = L"";
+	      _M_data->_M_negative_sign_size = wcslen(_M_data->_M_negative_sign);
+	      
+	      // _Intl == true.
+	      __len = strlen(__ccurr);
+	      if (__len)
+		{
+		  ++__len;
+		  memset(&__state, 0, sizeof(mbstate_t));
+		  wchar_t* __wcs = new wchar_t[__len];
+		  mbsrtowcs(__wcs, &__ccurr, __len, &__state);
+		  _M_data->_M_curr_symbol = __wcs;
+		}
+	      else
+		_M_data->_M_curr_symbol = L"";
+	      _M_data->_M_curr_symbol_size = wcslen(_M_data->_M_curr_symbol);
+	    }
+	  catch (...)
+	    {
+	      delete _M_data;
+	      _M_data = 0;
+	      delete __wcs_ps;
+	      delete __wcs_ns;	      
+#ifdef __UCLIBC_HAS_XLOCALE__
+	      __uselocale(__old);
+#else
+	      setlocale(LC_ALL, __old);
+	      free(__old);
+#endif
+	      __throw_exception_again;
+	    } 
+	  
+	  _M_data->_M_frac_digits = *(__nl_langinfo_l(__INT_FRAC_DIGITS, 
+						      __cloc));
+	  char __pprecedes = *(__nl_langinfo_l(__INT_P_CS_PRECEDES, __cloc));
+	  char __pspace = *(__nl_langinfo_l(__INT_P_SEP_BY_SPACE, __cloc));
+	  char __pposn = *(__nl_langinfo_l(__INT_P_SIGN_POSN, __cloc));
+	  _M_data->_M_pos_format = _S_construct_pattern(__pprecedes, __pspace, 
+							__pposn);
+	  char __nprecedes = *(__nl_langinfo_l(__INT_N_CS_PRECEDES, __cloc));
+	  char __nspace = *(__nl_langinfo_l(__INT_N_SEP_BY_SPACE, __cloc));
+	  _M_data->_M_neg_format = _S_construct_pattern(__nprecedes, __nspace, 
+							__nposn);
+
+#ifdef __UCLIBC_HAS_XLOCALE__
+	  __uselocale(__old);
+#else
+	  setlocale(LC_ALL, __old);
+	  free(__old);
+#endif
+	}
+    }
+
+  template<> 
+  void
+  moneypunct<wchar_t, false>::_M_initialize_moneypunct(__c_locale __cloc,
+#ifdef __UCLIBC_HAS_XLOCALE__
+						       const char*)
+#else
+                                                       const char* __name)
+#endif
+  {
+    if (!_M_data)
+      _M_data = new __moneypunct_cache<wchar_t, false>;
+
+    if (!__cloc)
+	{
+	  // "C" locale
+	  _M_data->_M_decimal_point = L'.';
+	  _M_data->_M_thousands_sep = L',';
+	  _M_data->_M_grouping = "";
+          _M_data->_M_grouping_size = 0;
+	  _M_data->_M_curr_symbol = L"";
+	  _M_data->_M_curr_symbol_size = 0;
+	  _M_data->_M_positive_sign = L"";
+	  _M_data->_M_positive_sign_size = 0;
+	  _M_data->_M_negative_sign = L"";
+	  _M_data->_M_negative_sign_size = 0;
+	  _M_data->_M_frac_digits = 0;
+	  _M_data->_M_pos_format = money_base::_S_default_pattern;
+	  _M_data->_M_neg_format = money_base::_S_default_pattern;
+
+	  // Use ctype::widen code without the facet...
+	  unsigned char uc;
+	  for (size_t __i = 0; __i < money_base::_S_end; ++__i)
+	    {
+	      uc = static_cast<unsigned char>(money_base::_S_atoms[__i]);
+	      _M_data->_M_atoms[__i] = btowc(uc);
+	    }
+	}
+      else
+	{
+	  // Named locale.
+#ifdef __UCLIBC_HAS_XLOCALE__
+	  __c_locale __old = __uselocale(__cloc);
+#else
+	  // Switch to named locale so that mbsrtowcs will work.
+	  char* __old = strdup(setlocale(LC_ALL, NULL));
+	  setlocale(LC_ALL, __name);
+#endif
+
+#ifdef __UCLIBC_MJN3_ONLY__
+#warning fix this... should be monetary
+#endif
+#ifdef __UCLIBC__
+# ifdef __UCLIBC_HAS_XLOCALE__
+	  _M_data->_M_decimal_point = __cloc->decimal_point_wc;
+	  _M_data->_M_thousands_sep = __cloc->thousands_sep_wc;
+# else
+	  _M_data->_M_decimal_point = __global_locale->decimal_point_wc;
+	  _M_data->_M_thousands_sep = __global_locale->thousands_sep_wc;
+# endif
+#else
+	  union __s_and_w { const char *__s; unsigned int __w; } __u;
+	  __u.__s = __nl_langinfo_l(_NL_MONETARY_DECIMAL_POINT_WC, __cloc);
+	  _M_data->_M_decimal_point = static_cast<wchar_t>(__u.__w);
+
+	  __u.__s = __nl_langinfo_l(_NL_MONETARY_THOUSANDS_SEP_WC, __cloc);
+	  _M_data->_M_thousands_sep = static_cast<wchar_t>(__u.__w);
+#endif
+	  _M_data->_M_grouping = __nl_langinfo_l(__MON_GROUPING, __cloc);
+          _M_data->_M_grouping_size = strlen(_M_data->_M_grouping);
+
+	  const char* __cpossign = __nl_langinfo_l(__POSITIVE_SIGN, __cloc);
+	  const char* __cnegsign = __nl_langinfo_l(__NEGATIVE_SIGN, __cloc);
+	  const char* __ccurr = __nl_langinfo_l(__CURRENCY_SYMBOL, __cloc);
+
+	  wchar_t* __wcs_ps = 0;
+	  wchar_t* __wcs_ns = 0;
+	  const char __nposn = *(__nl_langinfo_l(__N_SIGN_POSN, __cloc));
+	  try
+            {
+              mbstate_t __state;
+              size_t __len;
+              __len = strlen(__cpossign);
+              if (__len)
+                {
+		  ++__len;
+		  memset(&__state, 0, sizeof(mbstate_t));
+		  __wcs_ps = new wchar_t[__len];
+		  mbsrtowcs(__wcs_ps, &__cpossign, __len, &__state);
+		  _M_data->_M_positive_sign = __wcs_ps;
+		}
+	      else
+		_M_data->_M_positive_sign = L"";
+              _M_data->_M_positive_sign_size = wcslen(_M_data->_M_positive_sign);
+	      
+	      __len = strlen(__cnegsign);
+	      if (!__nposn)
+		_M_data->_M_negative_sign = L"()";
+	      else if (__len)
+		{ 
+		  ++__len;
+		  memset(&__state, 0, sizeof(mbstate_t));
+		  __wcs_ns = new wchar_t[__len];
+		  mbsrtowcs(__wcs_ns, &__cnegsign, __len, &__state);
+		  _M_data->_M_negative_sign = __wcs_ns;
+		}
+	      else
+		_M_data->_M_negative_sign = L"";
+              _M_data->_M_negative_sign_size = wcslen(_M_data->_M_negative_sign);
+
+	      // _Intl == true.
+	      __len = strlen(__ccurr);
+	      if (__len)
+		{
+		  ++__len;
+		  memset(&__state, 0, sizeof(mbstate_t));
+		  wchar_t* __wcs = new wchar_t[__len];
+		  mbsrtowcs(__wcs, &__ccurr, __len, &__state);
+		  _M_data->_M_curr_symbol = __wcs;
+		}
+	      else
+		_M_data->_M_curr_symbol = L"";
+              _M_data->_M_curr_symbol_size = wcslen(_M_data->_M_curr_symbol);
+	    }
+          catch (...)
+	    {
+	      delete _M_data;
+              _M_data = 0;
+	      delete __wcs_ps;
+	      delete __wcs_ns;	      
+#ifdef __UCLIBC_HAS_XLOCALE__
+	      __uselocale(__old);
+#else
+	      setlocale(LC_ALL, __old);
+	      free(__old);
+#endif
+              __throw_exception_again;
+	    }
+
+	  _M_data->_M_frac_digits = *(__nl_langinfo_l(__FRAC_DIGITS, __cloc));
+	  char __pprecedes = *(__nl_langinfo_l(__P_CS_PRECEDES, __cloc));
+	  char __pspace = *(__nl_langinfo_l(__P_SEP_BY_SPACE, __cloc));
+	  char __pposn = *(__nl_langinfo_l(__P_SIGN_POSN, __cloc));
+	  _M_data->_M_pos_format = _S_construct_pattern(__pprecedes, __pspace, 
+	                                                __pposn);
+	  char __nprecedes = *(__nl_langinfo_l(__N_CS_PRECEDES, __cloc));
+	  char __nspace = *(__nl_langinfo_l(__N_SEP_BY_SPACE, __cloc));
+	  _M_data->_M_neg_format = _S_construct_pattern(__nprecedes, __nspace, 
+	                                                __nposn);
+
+#ifdef __UCLIBC_HAS_XLOCALE__
+	  __uselocale(__old);
+#else
+	  setlocale(LC_ALL, __old);
+	  free(__old);
+#endif
+	}
+    }
+
+  template<> 
+    moneypunct<wchar_t, true>::~moneypunct()
+    {
+      if (_M_data->_M_positive_sign_size)
+	delete [] _M_data->_M_positive_sign;
+      if (_M_data->_M_negative_sign_size
+          && wcscmp(_M_data->_M_negative_sign, L"()") != 0)
+	delete [] _M_data->_M_negative_sign;
+      if (_M_data->_M_curr_symbol_size)
+	delete [] _M_data->_M_curr_symbol;
+      delete _M_data;
+    }
+
+  template<> 
+    moneypunct<wchar_t, false>::~moneypunct()
+    {
+      if (_M_data->_M_positive_sign_size)
+	delete [] _M_data->_M_positive_sign;
+      if (_M_data->_M_negative_sign_size
+          && wcscmp(_M_data->_M_negative_sign, L"()") != 0)
+	delete [] _M_data->_M_negative_sign;
+      if (_M_data->_M_curr_symbol_size)
+	delete [] _M_data->_M_curr_symbol;
+      delete _M_data;
+    }
+#endif
+}
diff -urN gcc-3.4.4/libstdc++-v3/config/locale/uclibc/numeric_members.cc gcc-3.4.4-STEP/libstdc++-v3/config/locale/uclibc/numeric_members.cc
--- gcc-3.4.4/libstdc++-v3/config/locale/uclibc/numeric_members.cc	1970-01-01 12:00:00.000000000 +1200
+++ gcc-3.4.4-STEP/libstdc++-v3/config/locale/uclibc/numeric_members.cc	2005-09-04 10:06:23.831661408 +1200
@@ -0,0 +1,183 @@
+// std::numpunct implementation details, GNU version -*- C++ -*-
+
+// Copyright (C) 2001, 2002, 2003, 2004 Free Software Foundation, Inc.
+//
+// This file is part of the GNU ISO C++ Library.  This library is free
+// software; you can redistribute it and/or modify it under the
+// terms of the GNU General Public License as published by the
+// Free Software Foundation; either version 2, or (at your option)
+// any later version.
+
+// This library is distributed in the hope that it will be useful,
+// but WITHOUT ANY WARRANTY; without even the implied warranty of
+// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
+// GNU General Public License for more details.
+
+// You should have received a copy of the GNU General Public License along
+// with this library; see the file COPYING.  If not, write to the Free
+// Software Foundation, 59 Temple Place - Suite 330, Boston, MA 02111-1307,
+// USA.
+
+// As a special exception, you may use this file as part of a free software
+// library without restriction.  Specifically, if other files instantiate
+// templates or use macros or inline functions from this file, or you compile
+// this file and link it with other files to produce an executable, this
+// file does not by itself cause the resulting executable to be covered by
+// the GNU General Public License.  This exception does not however
+// invalidate any other reasons why the executable file might be covered by
+// the GNU General Public License.
+
+//
+// ISO C++ 14882: 22.2.3.1.2  numpunct virtual functions
+//
+
+// Written by Benjamin Kosnik <bkoz@redhat.com>
+
+#define _LIBC
+#include <locale>
+#undef _LIBC
+#include <bits/c++locale_internal.h>
+
+#ifdef __UCLIBC_MJN3_ONLY__
+#warning tailor for stub locale support
+#endif
+#ifndef __UCLIBC_HAS_XLOCALE__
+#define __nl_langinfo_l(N, L)         nl_langinfo((N))
+#endif
+
+namespace std
+{
+  template<> 
+    void
+    numpunct<char>::_M_initialize_numpunct(__c_locale __cloc)
+    {
+      if (!_M_data)
+	_M_data = new __numpunct_cache<char>;
+
+      if (!__cloc)
+	{
+	  // "C" locale
+	  _M_data->_M_grouping = "";
+	  _M_data->_M_grouping_size = 0;
+	  _M_data->_M_use_grouping = false;
+
+	  _M_data->_M_decimal_point = '.';
+	  _M_data->_M_thousands_sep = ',';
+
+	  for (size_t __i = 0; __i < __num_base::_S_oend; ++__i)
+	    _M_data->_M_atoms_out[__i] = __num_base::_S_atoms_out[__i];
+
+	  for (size_t __j = 0; __j < __num_base::_S_iend; ++__j)
+	    _M_data->_M_atoms_in[__j] = __num_base::_S_atoms_in[__j];
+	}
+      else
+	{
+	  // Named locale.
+	  _M_data->_M_decimal_point = *(__nl_langinfo_l(DECIMAL_POINT, 
+							__cloc));
+	  _M_data->_M_thousands_sep = *(__nl_langinfo_l(THOUSANDS_SEP, 
+							__cloc));
+
+	  // Check for NULL, which implies no grouping.
+	  if (_M_data->_M_thousands_sep == '\0')
+	    _M_data->_M_grouping = "";
+	  else
+	    _M_data->_M_grouping = __nl_langinfo_l(GROUPING, __cloc);
+	  _M_data->_M_grouping_size = strlen(_M_data->_M_grouping);
+	}
+
+      // NB: There is no way to extact this info from posix locales.
+      // _M_truename = __nl_langinfo_l(YESSTR, __cloc);
+      _M_data->_M_truename = "true";
+      _M_data->_M_truename_size = strlen(_M_data->_M_truename);
+      // _M_falsename = __nl_langinfo_l(NOSTR, __cloc);
+      _M_data->_M_falsename = "false";
+      _M_data->_M_falsename_size = strlen(_M_data->_M_falsename);
+    }
+ 
+  template<> 
+    numpunct<char>::~numpunct()
+    { delete _M_data; }
+   
+#ifdef _GLIBCXX_USE_WCHAR_T
+  template<> 
+    void
+    numpunct<wchar_t>::_M_initialize_numpunct(__c_locale __cloc)
+    {
+      if (!_M_data)
+	_M_data = new __numpunct_cache<wchar_t>;
+
+      if (!__cloc)
+	{
+	  // "C" locale
+	  _M_data->_M_grouping = "";
+	  _M_data->_M_grouping_size = 0;
+	  _M_data->_M_use_grouping = false;
+
+	  _M_data->_M_decimal_point = L'.';
+	  _M_data->_M_thousands_sep = L',';
+
+#ifdef __UCLIBC_HAS_XLOCALE__
+	  __c_locale __old = __uselocale(_S_get_c_locale());
+#endif
+	  // Use ctype::widen code without the facet...
+	  unsigned char uc;
+	  for (size_t __i = 0; __i < __num_base::_S_oend; ++__i)
+	    {
+	      uc = static_cast<unsigned char>(__num_base::_S_atoms_out[__i]);
+	      _M_data->_M_atoms_out[__i] = btowc(uc);
+	    }
+
+	  for (size_t __j = 0; __j < __num_base::_S_iend; ++__j)
+	    {
+	      uc = static_cast<unsigned char>(__num_base::_S_atoms_in[__j]);
+	      _M_data->_M_atoms_in[__j] = btowc(uc);
+	    }
+#ifdef __UCLIBC_HAS_XLOCALE__
+	  __uselocale(__old);
+#endif
+	}
+      else
+	{
+	  // Named locale.
+#ifdef __UCLIBC_MJN3_ONLY__
+#warning fix this
+#endif
+#ifdef __UCLIBC__
+# ifdef __UCLIBC_HAS_XLOCALE__
+	  _M_data->_M_decimal_point = __cloc->decimal_point_wc;
+	  _M_data->_M_thousands_sep = __cloc->thousands_sep_wc;
+# else
+	  _M_data->_M_decimal_point = __global_locale->decimal_point_wc;
+	  _M_data->_M_thousands_sep = __global_locale->thousands_sep_wc;
+# endif
+#else
+	  union __s_and_w { const char *__s; unsigned int __w; } __u;
+	  __u.__s = __nl_langinfo_l(_NL_NUMERIC_DECIMAL_POINT_WC, __cloc);
+	  _M_data->_M_decimal_point = static_cast<wchar_t>(__u.__w);
+
+	  __u.__s = __nl_langinfo_l(_NL_NUMERIC_THOUSANDS_SEP_WC, __cloc);
+	  _M_data->_M_thousands_sep = static_cast<wchar_t>(__u.__w);
+#endif
+
+	  if (_M_data->_M_thousands_sep == L'\0')
+	    _M_data->_M_grouping = "";
+	  else
+	    _M_data->_M_grouping = __nl_langinfo_l(GROUPING, __cloc);
+	  _M_data->_M_grouping_size = strlen(_M_data->_M_grouping);
+	}
+
+      // NB: There is no way to extact this info from posix locales.
+      // _M_truename = __nl_langinfo_l(YESSTR, __cloc);
+      _M_data->_M_truename = L"true";
+      _M_data->_M_truename_size = wcslen(_M_data->_M_truename);
+      // _M_falsename = __nl_langinfo_l(NOSTR, __cloc);
+      _M_data->_M_falsename = L"false";
+      _M_data->_M_falsename_size = wcslen(_M_data->_M_falsename);
+    }
+
+  template<> 
+    numpunct<wchar_t>::~numpunct()
+    { delete _M_data; }
+ #endif
+}
diff -urN gcc-3.4.4/libstdc++-v3/config/locale/uclibc/time_members.cc gcc-3.4.4-STEP/libstdc++-v3/config/locale/uclibc/time_members.cc
--- gcc-3.4.4/libstdc++-v3/config/locale/uclibc/time_members.cc	1970-01-01 12:00:00.000000000 +1200
+++ gcc-3.4.4-STEP/libstdc++-v3/config/locale/uclibc/time_members.cc	2005-09-04 10:06:23.833661104 +1200
@@ -0,0 +1,356 @@
+// std::time_get, std::time_put implementation, GNU version -*- C++ -*-
+
+// Copyright (C) 2001, 2002, 2003, 2004 Free Software Foundation, Inc.
+//
+// This file is part of the GNU ISO C++ Library.  This library is free
+// software; you can redistribute it and/or modify it under the
+// terms of the GNU General Public License as published by the
+// Free Software Foundation; either version 2, or (at your option)
+// any later version.
+
+// This library is distributed in the hope that it will be useful,
+// but WITHOUT ANY WARRANTY; without even the implied warranty of
+// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
+// GNU General Public License for more details.
+
+// You should have received a copy of the GNU General Public License along
+// with this library; see the file COPYING.  If not, write to the Free
+// Software Foundation, 59 Temple Place - Suite 330, Boston, MA 02111-1307,
+// USA.
+
+// As a special exception, you may use this file as part of a free software
+// library without restriction.  Specifically, if other files instantiate
+// templates or use macros or inline functions from this file, or you compile
+// this file and link it with other files to produce an executable, this
+// file does not by itself cause the resulting executable to be covered by
+// the GNU General Public License.  This exception does not however
+// invalidate any other reasons why the executable file might be covered by
+// the GNU General Public License.
+
+//
+// ISO C++ 14882: 22.2.5.1.2 - time_get virtual functions
+// ISO C++ 14882: 22.2.5.3.2 - time_put virtual functions
+//
+
+// Written by Benjamin Kosnik <bkoz@redhat.com>
+
+#include <locale>
+#include <bits/c++locale_internal.h>
+
+#ifdef __UCLIBC_MJN3_ONLY__
+#warning tailor for stub locale support
+#endif
+#ifndef __UCLIBC_HAS_XLOCALE__
+#define __nl_langinfo_l(N, L)         nl_langinfo((N))
+#endif
+
+namespace std
+{
+  template<>
+    void
+    __timepunct<char>::
+    _M_put(char* __s, size_t __maxlen, const char* __format, 
+	   const tm* __tm) const
+    {
+#ifdef __UCLIBC_HAS_XLOCALE__
+      const size_t __len = __strftime_l(__s, __maxlen, __format, __tm,
+					_M_c_locale_timepunct);
+#else
+      char* __old = strdup(setlocale(LC_ALL, NULL));
+      setlocale(LC_ALL, _M_name_timepunct);
+      const size_t __len = strftime(__s, __maxlen, __format, __tm);
+      setlocale(LC_ALL, __old);
+      free(__old);
+#endif
+      // Make sure __s is null terminated.
+      if (__len == 0)
+	__s[0] = '\0';
+    }
+
+  template<> 
+    void
+    __timepunct<char>::_M_initialize_timepunct(__c_locale __cloc)
+    {
+      if (!_M_data)
+	_M_data = new __timepunct_cache<char>;
+
+      if (!__cloc)
+	{
+	  // "C" locale
+	  _M_c_locale_timepunct = _S_get_c_locale();
+
+	  _M_data->_M_date_format = "%m/%d/%y";
+	  _M_data->_M_date_era_format = "%m/%d/%y";
+	  _M_data->_M_time_format = "%H:%M:%S";
+	  _M_data->_M_time_era_format = "%H:%M:%S";
+	  _M_data->_M_date_time_format = "";
+	  _M_data->_M_date_time_era_format = "";
+	  _M_data->_M_am = "AM";
+	  _M_data->_M_pm = "PM";
+	  _M_data->_M_am_pm_format = "";
+
+	  // Day names, starting with "C"'s Sunday.
+	  _M_data->_M_day1 = "Sunday";
+	  _M_data->_M_day2 = "Monday";
+	  _M_data->_M_day3 = "Tuesday";
+	  _M_data->_M_day4 = "Wednesday";
+	  _M_data->_M_day5 = "Thursday";
+	  _M_data->_M_day6 = "Friday";
+	  _M_data->_M_day7 = "Saturday";
+
+	  // Abbreviated day names, starting with "C"'s Sun.
+	  _M_data->_M_aday1 = "Sun";
+	  _M_data->_M_aday2 = "Mon";
+	  _M_data->_M_aday3 = "Tue";
+	  _M_data->_M_aday4 = "Wed";
+	  _M_data->_M_aday5 = "Thu";
+	  _M_data->_M_aday6 = "Fri";
+	  _M_data->_M_aday7 = "Sat";
+
+	  // Month names, starting with "C"'s January.
+	  _M_data->_M_month01 = "January";
+	  _M_data->_M_month02 = "February";
+	  _M_data->_M_month03 = "March";
+	  _M_data->_M_month04 = "April";
+	  _M_data->_M_month05 = "May";
+	  _M_data->_M_month06 = "June";
+	  _M_data->_M_month07 = "July";
+	  _M_data->_M_month08 = "August";
+	  _M_data->_M_month09 = "September";
+	  _M_data->_M_month10 = "October";
+	  _M_data->_M_month11 = "November";
+	  _M_data->_M_month12 = "December";
+
+	  // Abbreviated month names, starting with "C"'s Jan.
+	  _M_data->_M_amonth01 = "Jan";
+	  _M_data->_M_amonth02 = "Feb";
+	  _M_data->_M_amonth03 = "Mar";
+	  _M_data->_M_amonth04 = "Apr";
+	  _M_data->_M_amonth05 = "May";
+	  _M_data->_M_amonth06 = "Jun";
+	  _M_data->_M_amonth07 = "Jul";
+	  _M_data->_M_amonth08 = "Aug";
+	  _M_data->_M_amonth09 = "Sep";
+	  _M_data->_M_amonth10 = "Oct";
+	  _M_data->_M_amonth11 = "Nov";
+	  _M_data->_M_amonth12 = "Dec";
+	}
+      else
+	{
+	  _M_c_locale_timepunct = _S_clone_c_locale(__cloc); 
+
+	  _M_data->_M_date_format = __nl_langinfo_l(D_FMT, __cloc);
+	  _M_data->_M_date_era_format = __nl_langinfo_l(ERA_D_FMT, __cloc);
+	  _M_data->_M_time_format = __nl_langinfo_l(T_FMT, __cloc);
+	  _M_data->_M_time_era_format = __nl_langinfo_l(ERA_T_FMT, __cloc);
+	  _M_data->_M_date_time_format = __nl_langinfo_l(D_T_FMT, __cloc);
+	  _M_data->_M_date_time_era_format = __nl_langinfo_l(ERA_D_T_FMT, __cloc);
+	  _M_data->_M_am = __nl_langinfo_l(AM_STR, __cloc);
+	  _M_data->_M_pm = __nl_langinfo_l(PM_STR, __cloc);
+	  _M_data->_M_am_pm_format = __nl_langinfo_l(T_FMT_AMPM, __cloc);
+
+	  // Day names, starting with "C"'s Sunday.
+	  _M_data->_M_day1 = __nl_langinfo_l(DAY_1, __cloc);
+	  _M_data->_M_day2 = __nl_langinfo_l(DAY_2, __cloc);
+	  _M_data->_M_day3 = __nl_langinfo_l(DAY_3, __cloc);
+	  _M_data->_M_day4 = __nl_langinfo_l(DAY_4, __cloc);
+	  _M_data->_M_day5 = __nl_langinfo_l(DAY_5, __cloc);
+	  _M_data->_M_day6 = __nl_langinfo_l(DAY_6, __cloc);
+	  _M_data->_M_day7 = __nl_langinfo_l(DAY_7, __cloc);
+
+	  // Abbreviated day names, starting with "C"'s Sun.
+	  _M_data->_M_aday1 = __nl_langinfo_l(ABDAY_1, __cloc);
+	  _M_data->_M_aday2 = __nl_langinfo_l(ABDAY_2, __cloc);
+	  _M_data->_M_aday3 = __nl_langinfo_l(ABDAY_3, __cloc);
+	  _M_data->_M_aday4 = __nl_langinfo_l(ABDAY_4, __cloc);
+	  _M_data->_M_aday5 = __nl_langinfo_l(ABDAY_5, __cloc);
+	  _M_data->_M_aday6 = __nl_langinfo_l(ABDAY_6, __cloc);
+	  _M_data->_M_aday7 = __nl_langinfo_l(ABDAY_7, __cloc);
+
+	  // Month names, starting with "C"'s January.
+	  _M_data->_M_month01 = __nl_langinfo_l(MON_1, __cloc);
+	  _M_data->_M_month02 = __nl_langinfo_l(MON_2, __cloc);
+	  _M_data->_M_month03 = __nl_langinfo_l(MON_3, __cloc);
+	  _M_data->_M_month04 = __nl_langinfo_l(MON_4, __cloc);
+	  _M_data->_M_month05 = __nl_langinfo_l(MON_5, __cloc);
+	  _M_data->_M_month06 = __nl_langinfo_l(MON_6, __cloc);
+	  _M_data->_M_month07 = __nl_langinfo_l(MON_7, __cloc);
+	  _M_data->_M_month08 = __nl_langinfo_l(MON_8, __cloc);
+	  _M_data->_M_month09 = __nl_langinfo_l(MON_9, __cloc);
+	  _M_data->_M_month10 = __nl_langinfo_l(MON_10, __cloc);
+	  _M_data->_M_month11 = __nl_langinfo_l(MON_11, __cloc);
+	  _M_data->_M_month12 = __nl_langinfo_l(MON_12, __cloc);
+
+	  // Abbreviated month names, starting with "C"'s Jan.
+	  _M_data->_M_amonth01 = __nl_langinfo_l(ABMON_1, __cloc);
+	  _M_data->_M_amonth02 = __nl_langinfo_l(ABMON_2, __cloc);
+	  _M_data->_M_amonth03 = __nl_langinfo_l(ABMON_3, __cloc);
+	  _M_data->_M_amonth04 = __nl_langinfo_l(ABMON_4, __cloc);
+	  _M_data->_M_amonth05 = __nl_langinfo_l(ABMON_5, __cloc);
+	  _M_data->_M_amonth06 = __nl_langinfo_l(ABMON_6, __cloc);
+	  _M_data->_M_amonth07 = __nl_langinfo_l(ABMON_7, __cloc);
+	  _M_data->_M_amonth08 = __nl_langinfo_l(ABMON_8, __cloc);
+	  _M_data->_M_amonth09 = __nl_langinfo_l(ABMON_9, __cloc);
+	  _M_data->_M_amonth10 = __nl_langinfo_l(ABMON_10, __cloc);
+	  _M_data->_M_amonth11 = __nl_langinfo_l(ABMON_11, __cloc);
+	  _M_data->_M_amonth12 = __nl_langinfo_l(ABMON_12, __cloc);
+	}
+    }
+
+#ifdef _GLIBCXX_USE_WCHAR_T
+  template<>
+    void
+    __timepunct<wchar_t>::
+    _M_put(wchar_t* __s, size_t __maxlen, const wchar_t* __format, 
+	   const tm* __tm) const
+    {
+#ifdef __UCLIBC_HAS_XLOCALE__
+      __wcsftime_l(__s, __maxlen, __format, __tm, _M_c_locale_timepunct);
+      const size_t __len = __wcsftime_l(__s, __maxlen, __format, __tm,
+					_M_c_locale_timepunct);
+#else
+      char* __old = strdup(setlocale(LC_ALL, NULL));
+      setlocale(LC_ALL, _M_name_timepunct);
+      const size_t __len = wcsftime(__s, __maxlen, __format, __tm);
+      setlocale(LC_ALL, __old);
+      free(__old);
+#endif
+      // Make sure __s is null terminated.
+      if (__len == 0)
+	__s[0] = L'\0';
+    }
+
+  template<> 
+    void
+    __timepunct<wchar_t>::_M_initialize_timepunct(__c_locale __cloc)
+    {
+      if (!_M_data)
+	_M_data = new __timepunct_cache<wchar_t>;
+
+#warning wide time stuff
+//       if (!__cloc)
+	{
+	  // "C" locale
+	  _M_c_locale_timepunct = _S_get_c_locale();
+
+	  _M_data->_M_date_format = L"%m/%d/%y";
+	  _M_data->_M_date_era_format = L"%m/%d/%y";
+	  _M_data->_M_time_format = L"%H:%M:%S";
+	  _M_data->_M_time_era_format = L"%H:%M:%S";
+	  _M_data->_M_date_time_format = L"";
+	  _M_data->_M_date_time_era_format = L"";
+	  _M_data->_M_am = L"AM";
+	  _M_data->_M_pm = L"PM";
+	  _M_data->_M_am_pm_format = L"";
+
+	  // Day names, starting with "C"'s Sunday.
+	  _M_data->_M_day1 = L"Sunday";
+	  _M_data->_M_day2 = L"Monday";
+	  _M_data->_M_day3 = L"Tuesday";
+	  _M_data->_M_day4 = L"Wednesday";
+	  _M_data->_M_day5 = L"Thursday";
+	  _M_data->_M_day6 = L"Friday";
+	  _M_data->_M_day7 = L"Saturday";
+
+	  // Abbreviated day names, starting with "C"'s Sun.
+	  _M_data->_M_aday1 = L"Sun";
+	  _M_data->_M_aday2 = L"Mon";
+	  _M_data->_M_aday3 = L"Tue";
+	  _M_data->_M_aday4 = L"Wed";
+	  _M_data->_M_aday5 = L"Thu";
+	  _M_data->_M_aday6 = L"Fri";
+	  _M_data->_M_aday7 = L"Sat";
+
+	  // Month names, starting with "C"'s January.
+	  _M_data->_M_month01 = L"January";
+	  _M_data->_M_month02 = L"February";
+	  _M_data->_M_month03 = L"March";
+	  _M_data->_M_month04 = L"April";
+	  _M_data->_M_month05 = L"May";
+	  _M_data->_M_month06 = L"June";
+	  _M_data->_M_month07 = L"July";
+	  _M_data->_M_month08 = L"August";
+	  _M_data->_M_month09 = L"September";
+	  _M_data->_M_month10 = L"October";
+	  _M_data->_M_month11 = L"November";
+	  _M_data->_M_month12 = L"December";
+
+	  // Abbreviated month names, starting with "C"'s Jan.
+	  _M_data->_M_amonth01 = L"Jan";
+	  _M_data->_M_amonth02 = L"Feb";
+	  _M_data->_M_amonth03 = L"Mar";
+	  _M_data->_M_amonth04 = L"Apr";
+	  _M_data->_M_amonth05 = L"May";
+	  _M_data->_M_amonth06 = L"Jun";
+	  _M_data->_M_amonth07 = L"Jul";
+	  _M_data->_M_amonth08 = L"Aug";
+	  _M_data->_M_amonth09 = L"Sep";
+	  _M_data->_M_amonth10 = L"Oct";
+	  _M_data->_M_amonth11 = L"Nov";
+	  _M_data->_M_amonth12 = L"Dec";
+	}
+#if 0
+      else
+	{
+	  _M_c_locale_timepunct = _S_clone_c_locale(__cloc); 
+
+	  _M_data->_M_date_format = reinterpret_cast<wchar_t*>(__nl_langinfo_l(_NL_WD_FMT, __cloc));
+	  _M_data->_M_date_era_format = reinterpret_cast<wchar_t*>(__nl_langinfo_l(_NL_WERA_D_FMT, __cloc));
+	  _M_data->_M_time_format = reinterpret_cast<wchar_t*>(__nl_langinfo_l(_NL_WT_FMT, __cloc));
+	  _M_data->_M_time_era_format = reinterpret_cast<wchar_t*>(__nl_langinfo_l(_NL_WERA_T_FMT, __cloc));
+	  _M_data->_M_date_time_format = reinterpret_cast<wchar_t*>(__nl_langinfo_l(_NL_WD_T_FMT, __cloc));
+	  _M_data->_M_date_time_era_format = reinterpret_cast<wchar_t*>(__nl_langinfo_l(_NL_WERA_D_T_FMT, __cloc));
+	  _M_data->_M_am = reinterpret_cast<wchar_t*>(__nl_langinfo_l(_NL_WAM_STR, __cloc));
+	  _M_data->_M_pm = reinterpret_cast<wchar_t*>(__nl_langinfo_l(_NL_WPM_STR, __cloc));
+	  _M_data->_M_am_pm_format = reinterpret_cast<wchar_t*>(__nl_langinfo_l(_NL_WT_FMT_AMPM, __cloc));
+
+	  // Day names, starting with "C"'s Sunday.
+	  _M_data->_M_day1 = reinterpret_cast<wchar_t*>(__nl_langinfo_l(_NL_WDAY_1, __cloc));
+	  _M_data->_M_day2 = reinterpret_cast<wchar_t*>(__nl_langinfo_l(_NL_WDAY_2, __cloc));
+	  _M_data->_M_day3 = reinterpret_cast<wchar_t*>(__nl_langinfo_l(_NL_WDAY_3, __cloc));
+	  _M_data->_M_day4 = reinterpret_cast<wchar_t*>(__nl_langinfo_l(_NL_WDAY_4, __cloc));
+	  _M_data->_M_day5 = reinterpret_cast<wchar_t*>(__nl_langinfo_l(_NL_WDAY_5, __cloc));
+	  _M_data->_M_day6 = reinterpret_cast<wchar_t*>(__nl_langinfo_l(_NL_WDAY_6, __cloc));
+	  _M_data->_M_day7 = reinterpret_cast<wchar_t*>(__nl_langinfo_l(_NL_WDAY_7, __cloc));
+
+	  // Abbreviated day names, starting with "C"'s Sun.
+	  _M_data->_M_aday1 = reinterpret_cast<wchar_t*>(__nl_langinfo_l(_NL_WABDAY_1, __cloc));
+	  _M_data->_M_aday2 = reinterpret_cast<wchar_t*>(__nl_langinfo_l(_NL_WABDAY_2, __cloc));
+	  _M_data->_M_aday3 = reinterpret_cast<wchar_t*>(__nl_langinfo_l(_NL_WABDAY_3, __cloc));
+	  _M_data->_M_aday4 = reinterpret_cast<wchar_t*>(__nl_langinfo_l(_NL_WABDAY_4, __cloc));
+	  _M_data->_M_aday5 = reinterpret_cast<wchar_t*>(__nl_langinfo_l(_NL_WABDAY_5, __cloc));
+	  _M_data->_M_aday6 = reinterpret_cast<wchar_t*>(__nl_langinfo_l(_NL_WABDAY_6, __cloc));
+	  _M_data->_M_aday7 = reinterpret_cast<wchar_t*>(__nl_langinfo_l(_NL_WABDAY_7, __cloc));
+
+	  // Month names, starting with "C"'s January.
+	  _M_data->_M_month01 = reinterpret_cast<wchar_t*>(__nl_langinfo_l(_NL_WMON_1, __cloc));
+	  _M_data->_M_month02 = reinterpret_cast<wchar_t*>(__nl_langinfo_l(_NL_WMON_2, __cloc));
+	  _M_data->_M_month03 = reinterpret_cast<wchar_t*>(__nl_langinfo_l(_NL_WMON_3, __cloc));
+	  _M_data->_M_month04 = reinterpret_cast<wchar_t*>(__nl_langinfo_l(_NL_WMON_4, __cloc));
+	  _M_data->_M_month05 = reinterpret_cast<wchar_t*>(__nl_langinfo_l(_NL_WMON_5, __cloc));
+	  _M_data->_M_month06 = reinterpret_cast<wchar_t*>(__nl_langinfo_l(_NL_WMON_6, __cloc));
+	  _M_data->_M_month07 = reinterpret_cast<wchar_t*>(__nl_langinfo_l(_NL_WMON_7, __cloc));
+	  _M_data->_M_month08 = reinterpret_cast<wchar_t*>(__nl_langinfo_l(_NL_WMON_8, __cloc));
+	  _M_data->_M_month09 = reinterpret_cast<wchar_t*>(__nl_langinfo_l(_NL_WMON_9, __cloc));
+	  _M_data->_M_month10 = reinterpret_cast<wchar_t*>(__nl_langinfo_l(_NL_WMON_10, __cloc));
+	  _M_data->_M_month11 = reinterpret_cast<wchar_t*>(__nl_langinfo_l(_NL_WMON_11, __cloc));
+	  _M_data->_M_month12 = reinterpret_cast<wchar_t*>(__nl_langinfo_l(_NL_WMON_12, __cloc));
+
+	  // Abbreviated month names, starting with "C"'s Jan.
+	  _M_data->_M_amonth01 = reinterpret_cast<wchar_t*>(__nl_langinfo_l(_NL_WABMON_1, __cloc));
+	  _M_data->_M_amonth02 = reinterpret_cast<wchar_t*>(__nl_langinfo_l(_NL_WABMON_2, __cloc));
+	  _M_data->_M_amonth03 = reinterpret_cast<wchar_t*>(__nl_langinfo_l(_NL_WABMON_3, __cloc));
+	  _M_data->_M_amonth04 = reinterpret_cast<wchar_t*>(__nl_langinfo_l(_NL_WABMON_4, __cloc));
+	  _M_data->_M_amonth05 = reinterpret_cast<wchar_t*>(__nl_langinfo_l(_NL_WABMON_5, __cloc));
+	  _M_data->_M_amonth06 = reinterpret_cast<wchar_t*>(__nl_langinfo_l(_NL_WABMON_6, __cloc));
+	  _M_data->_M_amonth07 = reinterpret_cast<wchar_t*>(__nl_langinfo_l(_NL_WABMON_7, __cloc));
+	  _M_data->_M_amonth08 = reinterpret_cast<wchar_t*>(__nl_langinfo_l(_NL_WABMON_8, __cloc));
+	  _M_data->_M_amonth09 = reinterpret_cast<wchar_t*>(__nl_langinfo_l(_NL_WABMON_9, __cloc));
+	  _M_data->_M_amonth10 = reinterpret_cast<wchar_t*>(__nl_langinfo_l(_NL_WABMON_10, __cloc));
+	  _M_data->_M_amonth11 = reinterpret_cast<wchar_t*>(__nl_langinfo_l(_NL_WABMON_11, __cloc));
+	  _M_data->_M_amonth12 = reinterpret_cast<wchar_t*>(__nl_langinfo_l(_NL_WABMON_12, __cloc));
+	}
+#endif // 0
+    }
+#endif
+}
diff -urN gcc-3.4.4/libstdc++-v3/config/locale/uclibc/time_members.h gcc-3.4.4-STEP/libstdc++-v3/config/locale/uclibc/time_members.h
--- gcc-3.4.4/libstdc++-v3/config/locale/uclibc/time_members.h	1970-01-01 12:00:00.000000000 +1200
+++ gcc-3.4.4-STEP/libstdc++-v3/config/locale/uclibc/time_members.h	2005-09-04 10:06:23.834660952 +1200
@@ -0,0 +1,68 @@
+// std::time_get, std::time_put implementation, GNU version -*- C++ -*-
+
+// Copyright (C) 2001, 2002, 2003, 2004 Free Software Foundation, Inc.
+//
+// This file is part of the GNU ISO C++ Library.  This library is free
+// software; you can redistribute it and/or modify it under the
+// terms of the GNU General Public License as published by the
+// Free Software Foundation; either version 2, or (at your option)
+// any later version.
+
+// This library is distributed in the hope that it will be useful,
+// but WITHOUT ANY WARRANTY; without even the implied warranty of
+// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
+// GNU General Public License for more details.
+
+// You should have received a copy of the GNU General Public License along
+// with this library; see the file COPYING.  If not, write to the Free
+// Software Foundation, 59 Temple Place - Suite 330, Boston, MA 02111-1307,
+// USA.
+
+// As a special exception, you may use this file as part of a free software
+// library without restriction.  Specifically, if other files instantiate
+// templates or use macros or inline functions from this file, or you compile
+// this file and link it with other files to produce an executable, this
+// file does not by itself cause the resulting executable to be covered by
+// the GNU General Public License.  This exception does not however
+// invalidate any other reasons why the executable file might be covered by
+// the GNU General Public License.
+
+//
+// ISO C++ 14882: 22.2.5.1.2 - time_get functions
+// ISO C++ 14882: 22.2.5.3.2 - time_put functions
+//
+
+// Written by Benjamin Kosnik <bkoz@redhat.com>
+
+  template<typename _CharT>
+    __timepunct<_CharT>::__timepunct(size_t __refs) 
+    : facet(__refs), _M_data(NULL), _M_c_locale_timepunct(NULL), 
+    _M_name_timepunct(_S_get_c_name())
+    { _M_initialize_timepunct(); }
+
+  template<typename _CharT>
+    __timepunct<_CharT>::__timepunct(__cache_type* __cache, size_t __refs) 
+    : facet(__refs), _M_data(__cache), _M_c_locale_timepunct(NULL), 
+    _M_name_timepunct(_S_get_c_name())
+    { _M_initialize_timepunct(); }
+
+  template<typename _CharT>
+    __timepunct<_CharT>::__timepunct(__c_locale __cloc, const char* __s,
+				     size_t __refs) 
+    : facet(__refs), _M_data(NULL), _M_c_locale_timepunct(NULL), 
+    _M_name_timepunct(__s)
+    { 
+      char* __tmp = new char[std::strlen(__s) + 1];
+      std::strcpy(__tmp, __s);
+      _M_name_timepunct = __tmp;
+      _M_initialize_timepunct(__cloc); 
+    }
+
+  template<typename _CharT>
+    __timepunct<_CharT>::~__timepunct()
+    { 
+      if (_M_name_timepunct != _S_get_c_name())
+	delete [] _M_name_timepunct;
+      delete _M_data; 
+      _S_destroy_c_locale(_M_c_locale_timepunct); 
+    }
diff -urN gcc-3.4.4/libstdc++-v3/config/os/uclibc/ctype_base.h gcc-3.4.4-STEP/libstdc++-v3/config/os/uclibc/ctype_base.h
--- gcc-3.4.4/libstdc++-v3/config/os/uclibc/ctype_base.h	1970-01-01 12:00:00.000000000 +1200
+++ gcc-3.4.4-STEP/libstdc++-v3/config/os/uclibc/ctype_base.h	2005-09-04 10:06:23.834660952 +1200
@@ -0,0 +1,58 @@
+// Locale support -*- C++ -*-
+
+// Copyright (C) 1997, 1998, 1999, 2000, 2002, 2003
+// Free Software Foundation, Inc.
+//
+// This file is part of the GNU ISO C++ Library.  This library is free
+// software; you can redistribute it and/or modify it under the
+// terms of the GNU General Public License as published by the
+// Free Software Foundation; either version 2, or (at your option)
+// any later version.
+
+// This library is distributed in the hope that it will be useful,
+// but WITHOUT ANY WARRANTY; without even the implied warranty of
+// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
+// GNU General Public License for more details.
+
+// You should have received a copy of the GNU General Public License along
+// with this library; see the file COPYING.  If not, write to the Free
+// Software Foundation, 59 Temple Place - Suite 330, Boston, MA 02111-1307,
+// USA.
+
+// As a special exception, you may use this file as part of a free software
+// library without restriction.  Specifically, if other files instantiate
+// templates or use macros or inline functions from this file, or you compile
+// this file and link it with other files to produce an executable, this
+// file does not by itself cause the resulting executable to be covered by
+// the GNU General Public License.  This exception does not however
+// invalidate any other reasons why the executable file might be covered by
+// the GNU General Public License.
+
+//
+// ISO C++ 14882: 22.1  Locales
+//
+  
+// Information as gleaned from /usr/include/ctype.h
+  
+  struct ctype_base
+  {
+    // Note: In uClibc, the following two types depend on configuration.
+ 
+    // Non-standard typedefs.
+    typedef const __ctype_touplow_t* __to_type;
+
+    // NB: Offsets into ctype<char>::_M_table force a particular size
+    // on the mask type. Because of this, we don't use an enum.
+    typedef __ctype_mask_t	mask;   
+    static const mask upper    	= _ISupper;
+    static const mask lower 	= _ISlower;
+    static const mask alpha 	= _ISalpha;
+    static const mask digit 	= _ISdigit;
+    static const mask xdigit 	= _ISxdigit;
+    static const mask space 	= _ISspace;
+    static const mask print 	= _ISprint;
+    static const mask graph 	= _ISalpha | _ISdigit | _ISpunct;
+    static const mask cntrl 	= _IScntrl;
+    static const mask punct 	= _ISpunct;
+    static const mask alnum 	= _ISalpha | _ISdigit;
+  };
diff -urN gcc-3.4.4/libstdc++-v3/config/os/uclibc/ctype_inline.h gcc-3.4.4-STEP/libstdc++-v3/config/os/uclibc/ctype_inline.h
--- gcc-3.4.4/libstdc++-v3/config/os/uclibc/ctype_inline.h	1970-01-01 12:00:00.000000000 +1200
+++ gcc-3.4.4-STEP/libstdc++-v3/config/os/uclibc/ctype_inline.h	2005-09-04 10:06:23.835660800 +1200
@@ -0,0 +1,69 @@
+// Locale support -*- C++ -*-
+
+// Copyright (C) 2000, 2002 Free Software Foundation, Inc.
+//
+// This file is part of the GNU ISO C++ Library.  This library is free
+// software; you can redistribute it and/or modify it under the
+// terms of the GNU General Public License as published by the
+// Free Software Foundation; either version 2, or (at your option)
+// any later version.
+
+// This library is distributed in the hope that it will be useful,
+// but WITHOUT ANY WARRANTY; without even the implied warranty of
+// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
+// GNU General Public License for more details.
+
+// You should have received a copy of the GNU General Public License along
+// with this library; see the file COPYING.  If not, write to the Free
+// Software Foundation, 59 Temple Place - Suite 330, Boston, MA 02111-1307,
+// USA.
+
+// As a special exception, you may use this file as part of a free software
+// library without restriction.  Specifically, if other files instantiate
+// templates or use macros or inline functions from this file, or you compile
+// this file and link it with other files to produce an executable, this
+// file does not by itself cause the resulting executable to be covered by
+// the GNU General Public License.  This exception does not however
+// invalidate any other reasons why the executable file might be covered by
+// the GNU General Public License.
+
+//
+// ISO C++ 14882: 22.1  Locales
+//
+  
+// ctype bits to be inlined go here. Non-inlinable (ie virtual do_*)
+// functions go in ctype.cc
+  
+  bool
+  ctype<char>::
+  is(mask __m, char __c) const
+  { return _M_table[static_cast<unsigned char>(__c)] & __m; }
+
+  const char*
+  ctype<char>::
+  is(const char* __low, const char* __high, mask* __vec) const
+  {
+    while (__low < __high)
+      *__vec++ = _M_table[static_cast<unsigned char>(*__low++)];
+    return __high;
+  }
+
+  const char*
+  ctype<char>::
+  scan_is(mask __m, const char* __low, const char* __high) const
+  {
+    while (__low < __high 
+	   && !(_M_table[static_cast<unsigned char>(*__low)] & __m))
+      ++__low;
+    return __low;
+  }
+
+  const char*
+  ctype<char>::
+  scan_not(mask __m, const char* __low, const char* __high) const
+  {
+    while (__low < __high 
+	   && (_M_table[static_cast<unsigned char>(*__low)] & __m) != 0)
+      ++__low;
+    return __low;
+  }
diff -urN gcc-3.4.4/libstdc++-v3/config/os/uclibc/ctype_noninline.h gcc-3.4.4-STEP/libstdc++-v3/config/os/uclibc/ctype_noninline.h
--- gcc-3.4.4/libstdc++-v3/config/os/uclibc/ctype_noninline.h	1970-01-01 12:00:00.000000000 +1200
+++ gcc-3.4.4-STEP/libstdc++-v3/config/os/uclibc/ctype_noninline.h	2005-09-04 10:06:23.836660648 +1200
@@ -0,0 +1,92 @@
+// Locale support -*- C++ -*-
+
+// Copyright (C) 1997, 1998, 1999, 2000, 2001, 2002, 2004
+// Free Software Foundation, Inc.
+//
+// This file is part of the GNU ISO C++ Library.  This library is free
+// software; you can redistribute it and/or modify it under the
+// terms of the GNU General Public License as published by the
+// Free Software Foundation; either version 2, or (at your option)
+// any later version.
+
+// This library is distributed in the hope that it will be useful,
+// but WITHOUT ANY WARRANTY; without even the implied warranty of
+// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
+// GNU General Public License for more details.
+
+// You should have received a copy of the GNU General Public License along
+// with this library; see the file COPYING.  If not, write to the Free
+// Software Foundation, 59 Temple Place - Suite 330, Boston, MA 02111-1307,
+// USA.
+
+// As a special exception, you may use this file as part of a free software
+// library without restriction.  Specifically, if other files instantiate
+// templates or use macros or inline functions from this file, or you compile
+// this file and link it with other files to produce an executable, this
+// file does not by itself cause the resulting executable to be covered by
+// the GNU General Public License.  This exception does not however
+// invalidate any other reasons why the executable file might be covered by
+// the GNU General Public License.
+
+//
+// ISO C++ 14882: 22.1  Locales
+//
+  
+// Information as gleaned from /usr/include/ctype.h
+
+  const ctype_base::mask*
+  ctype<char>::classic_table() throw()
+  { return __C_ctype_b; }
+
+  ctype<char>::ctype(__c_locale, const mask* __table, bool __del, 
+		     size_t __refs) 
+  : facet(__refs), _M_c_locale_ctype(_S_get_c_locale()), 
+  _M_del(__table != 0 && __del), _M_widen_ok(0), _M_narrow_ok(0)
+  {
+    _M_toupper = __C_ctype_toupper;
+    _M_tolower = __C_ctype_tolower;
+    _M_table = __table ? __table : __C_ctype_b;
+    memset(_M_widen, 0, sizeof(_M_widen));
+    memset(_M_narrow, 0, sizeof(_M_narrow));
+  }
+
+  ctype<char>::ctype(const mask* __table, bool __del, size_t __refs)
+  : facet(__refs), _M_c_locale_ctype(_S_get_c_locale()), 
+  _M_del(__table != 0 && __del), _M_widen_ok(0), _M_narrow_ok(0)
+  {
+    _M_toupper = __C_ctype_toupper;
+    _M_tolower = __C_ctype_tolower;
+    _M_table = __table ? __table : __C_ctype_b;
+    memset(_M_widen, 0, sizeof(_M_widen));
+    memset(_M_narrow, 0, sizeof(_M_narrow));
+  }
+
+  char
+  ctype<char>::do_toupper(char __c) const
+  { return _M_toupper[static_cast<unsigned char>(__c)]; }
+
+  const char*
+  ctype<char>::do_toupper(char* __low, const char* __high) const
+  {
+    while (__low < __high)
+      {
+	*__low = _M_toupper[static_cast<unsigned char>(*__low)];
+	++__low;
+      }
+    return __high;
+  }
+
+  char
+  ctype<char>::do_tolower(char __c) const
+  { return _M_tolower[static_cast<unsigned char>(__c)]; }
+
+  const char* 
+  ctype<char>::do_tolower(char* __low, const char* __high) const
+  {
+    while (__low < __high)
+      {
+	*__low = _M_tolower[static_cast<unsigned char>(*__low)];
+	++__low;
+      }
+    return __high;
+  }
diff -urN gcc-3.4.4/libstdc++-v3/config/os/uclibc/os_defines.h gcc-3.4.4-STEP/libstdc++-v3/config/os/uclibc/os_defines.h
--- gcc-3.4.4/libstdc++-v3/config/os/uclibc/os_defines.h	1970-01-01 12:00:00.000000000 +1200
+++ gcc-3.4.4-STEP/libstdc++-v3/config/os/uclibc/os_defines.h	2005-09-04 10:06:23.837660496 +1200
@@ -0,0 +1,44 @@
+// Specific definitions for GNU/Linux  -*- C++ -*-
+
+// Copyright (C) 2000, 2001, 2002, 2003 Free Software Foundation, Inc.
+//
+// This file is part of the GNU ISO C++ Library.  This library is free
+// software; you can redistribute it and/or modify it under the
+// terms of the GNU General Public License as published by the
+// Free Software Foundation; either version 2, or (at your option)
+// any later version.
+
+// This library is distributed in the hope that it will be useful,
+// but WITHOUT ANY WARRANTY; without even the implied warranty of
+// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
+// GNU General Public License for more details.
+
+// You should have received a copy of the GNU General Public License along
+// with this library; see the file COPYING.  If not, write to the Free
+// Software Foundation, 59 Temple Place - Suite 330, Boston, MA 02111-1307,
+// USA.
+
+// As a special exception, you may use this file as part of a free software
+// library without restriction.  Specifically, if other files instantiate
+// templates or use macros or inline functions from this file, or you compile
+// this file and link it with other files to produce an executable, this
+// file does not by itself cause the resulting executable to be covered by
+// the GNU General Public License.  This exception does not however
+// invalidate any other reasons why the executable file might be covered by
+// the GNU General Public License.
+
+#ifndef _GLIBCXX_OS_DEFINES
+#define _GLIBCXX_OS_DEFINES 1
+
+// System-specific #define, typedefs, corrections, etc, go here.  This
+// file will come before all others.
+
+// This keeps isanum, et al from being propagated as macros.
+#define __NO_CTYPE 1
+
+#include <features.h>
+
+// We must not see the optimized string functions GNU libc defines.
+#define __NO_STRING_INLINES
+
+#endif
diff -urN gcc-3.4.4/libstdc++-v3/configure gcc-3.4.4-STEP/libstdc++-v3/configure
--- gcc-3.4.4/libstdc++-v3/configure	2005-02-01 19:29:28.000000000 +1300
+++ gcc-3.4.4-STEP/libstdc++-v3/configure	2005-09-04 10:06:23.904650312 +1200
@@ -1,4 +1,4 @@
-#! /bin/sh
+#! /System/Tools/sh
 # Guess values for system-dependent variables and create Makefiles.
 # Generated by GNU Autoconf 2.59 for package-unused version-unused.
 #
@@ -10,19 +10,19 @@
 ## --------------------- ##
 
 # Be Bourne compatible
-if test -n "${ZSH_VERSION+set}" && (emulate sh) >/dev/null 2>&1; then
+if test -n "${ZSH_VERSION+set}" && (emulate sh) >/System/Devices/null 2>&1; then
   emulate sh
   NULLCMD=:
   # Zsh 3.x and 4.x performs word splitting on ${1+"$@"}, which
   # is contrary to our usage.  Disable this feature.
   alias -g '${1+"$@"}'='"$@"'
-elif test -n "${BASH_VERSION+set}" && (set -o posix) >/dev/null 2>&1; then
+elif test -n "${BASH_VERSION+set}" && (set -o posix) >/System/Devices/null 2>&1; then
   set -o posix
 fi
 DUALCASE=1; export DUALCASE # for MKS sh
 
 # Support unset when possible.
-if ( (MAIL=60; unset MAIL) || exit) >/dev/null 2>&1; then
+if ( (MAIL=60; unset MAIL) || exit) >/System/Devices/null 2>&1; then
   as_unset=unset
 else
   as_unset=false
@@ -49,13 +49,13 @@
 done
 
 # Required to use basename.
-if expr a : '\(a\)' >/dev/null 2>&1; then
+if expr a : '\(a\)' >/System/Devices/null 2>&1; then
   as_expr=expr
 else
   as_expr=false
 fi
 
-if (basename /) >/dev/null 2>&1 && test "X`basename / 2>&1`" = "X/"; then
+if (basename /) >/System/Devices/null 2>&1 && test "X`basename / 2>&1`" = "X/"; then
   as_basename=basename
 else
   as_basename=false
@@ -67,7 +67,7 @@
 $as_expr X/"$0" : '.*/\([^/][^/]*\)/*$' \| \
 	 X"$0" : 'X\(//\)$' \| \
 	 X"$0" : 'X\(/\)$' \| \
-	 .     : '\(.\)' 2>/dev/null ||
+	 .     : '\(.\)' 2>/System/Devices/null ||
 echo X/"$0" |
     sed '/^.*\/\([^/][^/]*\)\/*$/{ s//\1/; q; }
   	  /^X\/\(\/\/\)$/{ s//\1/; q; }
@@ -85,10 +85,10 @@
 
 # The user is always right.
 if test "${PATH_SEPARATOR+set}" != set; then
-  echo "#! /bin/sh" >conf$$.sh
+  echo "#! /System/Tools/sh" >conf$$.sh
   echo  "exit 0"   >>conf$$.sh
   chmod +x conf$$.sh
-  if (PATH="/nonexistent;."; conf$$.sh) >/dev/null 2>&1; then
+  if (PATH="/nonexistent;."; conf$$.sh) >/System/Devices/null 2>&1; then
     PATH_SEPARATOR=';'
   else
     PATH_SEPARATOR=:
@@ -99,7 +99,7 @@
 
   as_lineno_1=$LINENO
   as_lineno_2=$LINENO
-  as_lineno_3=`(expr $as_lineno_1 + 1) 2>/dev/null`
+  as_lineno_3=`(expr $as_lineno_1 + 1) 2>/System/Devices/null`
   test "x$as_lineno_1" != "x$as_lineno_2" &&
   test "x$as_lineno_3"  = "x$as_lineno_2"  || {
   # Find who we are.  Look in the path if we contain no path at all
@@ -138,9 +138,9 @@
 	   if ("$as_dir/$as_base" -c '
   as_lineno_1=$LINENO
   as_lineno_2=$LINENO
-  as_lineno_3=`(expr $as_lineno_1 + 1) 2>/dev/null`
+  as_lineno_3=`(expr $as_lineno_1 + 1) 2>/System/Devices/null`
   test "x$as_lineno_1" != "x$as_lineno_2" &&
-  test "x$as_lineno_3"  = "x$as_lineno_2" ') 2>/dev/null; then
+  test "x$as_lineno_3"  = "x$as_lineno_2" ') 2>/System/Devices/null; then
 	     $as_unset BASH_ENV || test "${BASH_ENV+set}" != set || { BASH_ENV=; export BASH_ENV; }
 	     $as_unset ENV || test "${ENV+set}" != set || { ENV=; export ENV; }
 	     CONFIG_SHELL=$as_dir/$as_base
@@ -191,7 +191,7 @@
   *)       ECHO_N= ECHO_C='\c' ECHO_T= ;;
 esac
 
-if expr a : '\(a\)' >/dev/null 2>&1; then
+if expr a : '\(a\)' >/System/Devices/null 2>&1; then
   as_expr=expr
 else
   as_expr=false
@@ -199,7 +199,7 @@
 
 rm -f conf$$ conf$$.exe conf$$.file
 echo >conf$$.file
-if ln -s conf$$.file conf$$ 2>/dev/null; then
+if ln -s conf$$.file conf$$ 2>/System/Devices/null; then
   # We could just check for DJGPP; but this test a) works b) is more generic
   # and c) will remain valid once DJGPP supports symlinks (DJGPP 2.04).
   if test -f conf$$.exe; then
@@ -208,14 +208,14 @@
   else
     as_ln_s='ln -s'
   fi
-elif ln conf$$.file conf$$ 2>/dev/null; then
+elif ln conf$$.file conf$$ 2>/System/Devices/null; then
   as_ln_s=ln
 else
   as_ln_s='cp -p'
 fi
 rm -f conf$$ conf$$.exe conf$$.file
 
-if mkdir -p . 2>/dev/null; then
+if mkdir -p . 2>/System/Devices/null; then
   as_mkdir_p=:
 else
   test -d ./-p && rmdir ./-p
@@ -244,7 +244,7 @@
 # Name of the host.
 # hostname on some systems (SVR3.2, Linux) returns a bogus exit status,
 # so uname gets run too.
-ac_hostname=`(hostname || uname -n) 2>/dev/null | sed 1q`
+ac_hostname=`(hostname || uname -n) 2>/System/Devices/null | sed 1q`
 
 exec 6>&1
 
@@ -257,7 +257,7 @@
 subdirs=
 MFLAGS=
 MAKEFLAGS=
-SHELL=${CONFIG_SHELL-/bin/sh}
+SHELL=${CONFIG_SHELL-/System/Tools/sh}
 
 # Maximum number of lines to put in a shell here document.
 # This variable seems obsolete.  It should probably be removed, and
@@ -317,7 +317,7 @@
 ac_init_version=false
 # The variables have the same names as the options, with
 # dashes changed to underlines.
-cache_file=/dev/null
+cache_file=/System/Devices/null
 exec_prefix=NONE
 no_create=
 no_recursion=
@@ -395,7 +395,7 @@
   -disable-* | --disable-*)
     ac_feature=`expr "x$ac_option" : 'x-*disable-\(.*\)'`
     # Reject names that are not valid shell variable names.
-    expr "x$ac_feature" : ".*[^-_$as_cr_alnum]" >/dev/null &&
+    expr "x$ac_feature" : ".*[^-_$as_cr_alnum]" >/System/Devices/null &&
       { echo "$as_me: error: invalid feature name: $ac_feature" >&2
    { (exit 1); exit 1; }; }
     ac_feature=`echo $ac_feature | sed 's/-/_/g'`
@@ -404,7 +404,7 @@
   -enable-* | --enable-*)
     ac_feature=`expr "x$ac_option" : 'x-*enable-\([^=]*\)'`
     # Reject names that are not valid shell variable names.
-    expr "x$ac_feature" : ".*[^-_$as_cr_alnum]" >/dev/null &&
+    expr "x$ac_feature" : ".*[^-_$as_cr_alnum]" >/System/Devices/null &&
       { echo "$as_me: error: invalid feature name: $ac_feature" >&2
    { (exit 1); exit 1; }; }
     ac_feature=`echo $ac_feature | sed 's/-/_/g'`
@@ -586,7 +586,7 @@
   -with-* | --with-*)
     ac_package=`expr "x$ac_option" : 'x-*with-\([^=]*\)'`
     # Reject names that are not valid shell variable names.
-    expr "x$ac_package" : ".*[^-_$as_cr_alnum]" >/dev/null &&
+    expr "x$ac_package" : ".*[^-_$as_cr_alnum]" >/System/Devices/null &&
       { echo "$as_me: error: invalid package name: $ac_package" >&2
    { (exit 1); exit 1; }; }
     ac_package=`echo $ac_package| sed 's/-/_/g'`
@@ -599,7 +599,7 @@
   -without-* | --without-*)
     ac_package=`expr "x$ac_option" : 'x-*without-\(.*\)'`
     # Reject names that are not valid shell variable names.
-    expr "x$ac_package" : ".*[^-_$as_cr_alnum]" >/dev/null &&
+    expr "x$ac_package" : ".*[^-_$as_cr_alnum]" >/System/Devices/null &&
       { echo "$as_me: error: invalid package name: $ac_package" >&2
    { (exit 1); exit 1; }; }
     ac_package=`echo $ac_package | sed 's/-/_/g'`
@@ -631,7 +631,7 @@
   *=*)
     ac_envvar=`expr "x$ac_option" : 'x\([^=]*\)='`
     # Reject names that are not valid shell variable names.
-    expr "x$ac_envvar" : ".*[^_$as_cr_alnum]" >/dev/null &&
+    expr "x$ac_envvar" : ".*[^_$as_cr_alnum]" >/System/Devices/null &&
       { echo "$as_me: error: invalid variable name: $ac_envvar" >&2
    { (exit 1); exit 1; }; }
     ac_optarg=`echo "$ac_optarg" | sed "s/'/'\\\\\\\\''/g"`
@@ -641,7 +641,7 @@
   *)
     # FIXME: should be removed in autoconf 3.0.
     echo "$as_me: WARNING: you should use --build, --host, --target" >&2
-    expr "x$ac_option" : ".*[^-._$as_cr_alnum]" >/dev/null &&
+    expr "x$ac_option" : ".*[^-._$as_cr_alnum]" >/System/Devices/null &&
       echo "$as_me: WARNING: invalid host type: $ac_option" >&2
     : ${build_alias=$ac_option} ${host_alias=$ac_option} ${target_alias=$ac_option}
     ;;
@@ -699,19 +699,19 @@
 ac_tool_prefix=
 test -n "$host_alias" && ac_tool_prefix=$host_alias-
 
-test "$silent" = yes && exec 6>/dev/null
+test "$silent" = yes && exec 6>/System/Devices/null
 
 
 # Find the source files, if location was not specified.
 if test -z "$srcdir"; then
   ac_srcdir_defaulted=yes
   # Try the directory containing this script, then its parent.
-  ac_confdir=`(dirname "$0") 2>/dev/null ||
+  ac_confdir=`(dirname "$0") 2>/System/Devices/null ||
 $as_expr X"$0" : 'X\(.*[^/]\)//*[^/][^/]*/*$' \| \
 	 X"$0" : 'X\(//\)[^/]' \| \
 	 X"$0" : 'X\(//\)$' \| \
 	 X"$0" : 'X\(/\)' \| \
-	 .     : '\(.\)' 2>/dev/null ||
+	 .     : '\(.\)' 2>/System/Devices/null ||
 echo X"$0" |
     sed '/^X\(.*[^/]\)\/\/*[^/][^/]*\/*$/{ s//\1/; q; }
   	  /^X\(\/\/\)[^/].*/{ s//\1/; q; }
@@ -734,7 +734,7 @@
    { (exit 1); exit 1; }; }
   fi
 fi
-(cd $srcdir && test -r ./$ac_unique_file) 2>/dev/null ||
+(cd $srcdir && test -r ./$ac_unique_file) 2>/System/Devices/null ||
   { echo "$as_me: error: sources are in $srcdir, but \`cd $srcdir' does not work" >&2
    { (exit 1); exit 1; }; }
 srcdir=`echo "$srcdir" | sed 's%\([^\\/]\)[\\/]*$%\1%'`
@@ -1041,22 +1041,22 @@
 ## Platform. ##
 ## --------- ##
 
-hostname = `(hostname || uname -n) 2>/dev/null | sed 1q`
-uname -m = `(uname -m) 2>/dev/null || echo unknown`
-uname -r = `(uname -r) 2>/dev/null || echo unknown`
-uname -s = `(uname -s) 2>/dev/null || echo unknown`
-uname -v = `(uname -v) 2>/dev/null || echo unknown`
-
-/usr/bin/uname -p = `(/usr/bin/uname -p) 2>/dev/null || echo unknown`
-/bin/uname -X     = `(/bin/uname -X) 2>/dev/null     || echo unknown`
-
-/bin/arch              = `(/bin/arch) 2>/dev/null              || echo unknown`
-/usr/bin/arch -k       = `(/usr/bin/arch -k) 2>/dev/null       || echo unknown`
-/usr/convex/getsysinfo = `(/usr/convex/getsysinfo) 2>/dev/null || echo unknown`
-hostinfo               = `(hostinfo) 2>/dev/null               || echo unknown`
-/bin/machine           = `(/bin/machine) 2>/dev/null           || echo unknown`
-/usr/bin/oslevel       = `(/usr/bin/oslevel) 2>/dev/null       || echo unknown`
-/bin/universe          = `(/bin/universe) 2>/dev/null          || echo unknown`
+hostname = `(hostname || uname -n) 2>/System/Devices/null | sed 1q`
+uname -m = `(uname -m) 2>/System/Devices/null || echo unknown`
+uname -r = `(uname -r) 2>/System/Devices/null || echo unknown`
+uname -s = `(uname -s) 2>/System/Devices/null || echo unknown`
+uname -v = `(uname -v) 2>/System/Devices/null || echo unknown`
+
+/System/Tools/uname -p = `(/System/Tools/uname -p) 2>/System/Devices/null || echo unknown`
+/System/Tools/uname -X     = `(/System/Tools/uname -X) 2>/System/Devices/null     || echo unknown`
+
+/System/Tools/arch              = `(/System/Tools/arch) 2>/System/Devices/null              || echo unknown`
+/System/Tools/arch -k       = `(/System/Tools/arch -k) 2>/System/Devices/null       || echo unknown`
+/usr/convex/getsysinfo = `(/usr/convex/getsysinfo) 2>/System/Devices/null || echo unknown`
+hostinfo               = `(hostinfo) 2>/System/Devices/null               || echo unknown`
+/System/Tools/machine           = `(/System/Tools/machine) 2>/System/Devices/null           || echo unknown`
+/System/Tools/oslevel       = `(/System/Tools/oslevel) 2>/System/Devices/null       || echo unknown`
+/System/Tools/universe          = `(/System/Tools/universe) 2>/System/Devices/null          || echo unknown`
 
 _ASUNAME
 
@@ -1251,9 +1251,9 @@
 # Prefer explicitly selected file to automatically selected ones.
 if test -z "$CONFIG_SITE"; then
   if test "x$prefix" != xNONE; then
-    CONFIG_SITE="$prefix/share/config.site $prefix/etc/config.site"
+    CONFIG_SITE="$prefix/share/config.site $prefix/System/Settings/config.site"
   else
-    CONFIG_SITE="$ac_default_prefix/share/config.site $ac_default_prefix/etc/config.site"
+    CONFIG_SITE="$ac_default_prefix/share/config.site $ac_default_prefix/System/Settings/config.site"
   fi
 fi
 for ac_site_file in $CONFIG_SITE; do
@@ -1266,7 +1266,7 @@
 done
 
 if test -r "$cache_file"; then
-  # Some versions of bash will fail to source /dev/null (special
+  # Some versions of bash will fail to source /System/Devices/null (special
   # files actually), so we avoid doing that.
   if test -f "$cache_file"; then
     { echo "$as_me:$LINENO: loading cache $cache_file" >&5
@@ -1496,7 +1496,7 @@
 # Do not delete or change the following two lines.  For why, see
 # http://gcc.gnu.org/ml/libstdc++/2003-07/msg00451.html
 # Make sure we can run config.sub.
-$ac_config_sub sun4 >/dev/null 2>&1 ||
+$ac_config_sub sun4 >/System/Devices/null 2>&1 ||
   { { echo "$as_me:$LINENO: error: cannot run $ac_config_sub" >&5
 echo "$as_me: error: cannot run $ac_config_sub" >&2;}
    { (exit 1); exit 1; }; }
@@ -1605,12 +1605,12 @@
 # Find a good install program.  We prefer a C program (faster),
 # so one script is as good as another.  But avoid the broken or
 # incompatible versions:
-# SysV /etc/install, /usr/sbin/install
-# SunOS /usr/etc/install
+# SysV /System/Settings/install, /usr/sbin/install
+# SunOS /usr/System/Settings/install
 # IRIX /sbin/install
 # AIX /bin/install
 # AmigaOS /C/install, which installs bootblocks on floppy discs
-# AIX 4 /usr/bin/installbsd, which doesn't work without a -g flag
+# AIX 4 /System/Tools/installbsd, which doesn't work without a -g flag
 # AFS /usr/afsws/bin/install, which mishandles nonexistent args
 # SVR4 /usr/ucb/install, which tries to use the nonexistent group "staff"
 # OS/2's system install, which has a completely different semantic
@@ -1629,7 +1629,7 @@
   # Account for people who put trailing slashes in PATH elements.
 case $as_dir/ in
   ./ | .// | /cC/* | \
-  /etc/* | /usr/sbin/* | /usr/etc/* | /sbin/* | /usr/afsws/bin/* | \
+  /System/Settings/* | /usr/sbin/* | /usr/System/Settings/* | /sbin/* | /usr/afsws/bin/* | \
   ?:\\/os2\\/install\\/* | ?:\\/OS2\\/INSTALL\\/* | \
   /usr/ucb/* ) ;;
   *)
@@ -1640,11 +1640,11 @@
       for ac_exec_ext in '' $ac_executable_extensions; do
 	if $as_executable_p "$as_dir/$ac_prog$ac_exec_ext"; then
 	  if test $ac_prog = install &&
-	    grep dspmsg "$as_dir/$ac_prog$ac_exec_ext" >/dev/null 2>&1; then
+	    grep dspmsg "$as_dir/$ac_prog$ac_exec_ext" >/System/Devices/null 2>&1; then
 	    # AIX install.  It has an incompatible calling convention.
 	    :
 	  elif test $ac_prog = install &&
-	    grep pwplus "$as_dir/$ac_prog$ac_exec_ext" >/dev/null 2>&1; then
+	    grep pwplus "$as_dir/$ac_prog$ac_exec_ext" >/System/Devices/null 2>&1; then
 	    # program-specific install script used by HP pwplus--don't use.
 	    :
 	  else
@@ -1692,7 +1692,7 @@
 # (eg FreeBSD returns the mod time of the symlink's containing
 # directory).
 if (
-   set X `ls -Lt $srcdir/configure conftest.file 2> /dev/null`
+   set X `ls -Lt $srcdir/configure conftest.file 2> /System/Devices/null`
    if test "$*" = "X"; then
       # -L didn't work.
       set X `ls -t $srcdir/configure conftest.file`
@@ -1804,7 +1804,7 @@
 	@echo 'ac_maketemp="$(MAKE)"'
 _ACEOF
 # GNU make sometimes prints "make[1]: Entering...", which would confuse us.
-eval `${MAKE-make} -f conftest.make 2>/dev/null | grep temp=`
+eval `${MAKE-make} -f conftest.make 2>/System/Devices/null | grep temp=`
 if test -n "$ac_maketemp"; then
   eval ac_cv_prog_make_${ac_make}_set=yes
 else
@@ -1822,14 +1822,14 @@
   SET_MAKE="MAKE=${MAKE-make}"
 fi
 
-rm -rf .tst 2>/dev/null
-mkdir .tst 2>/dev/null
+rm -rf .tst 2>/System/Devices/null
+mkdir .tst 2>/System/Devices/null
 if test -d .tst; then
   am__leading_dot=.
 else
   am__leading_dot=_
 fi
-rmdir .tst 2>/dev/null
+rmdir .tst 2>/System/Devices/null
 
  # test to see if srcdir already configured
 if test "`cd $srcdir && pwd`" != "`pwd`" &&
@@ -1841,7 +1841,7 @@
 
 # test whether we have cygpath
 if test -z "$CYGPATH_W"; then
-  if (cygpath --version) >/dev/null 2>/dev/null; then
+  if (cygpath --version) >/System/Devices/null 2>/System/Devices/null; then
     CYGPATH_W='cygpath -w'
   else
     CYGPATH_W=echo
@@ -2355,18 +2355,18 @@
 echo "$as_me:$LINENO:" \
      "checking for C compiler version" >&5
 ac_compiler=`set X $ac_compile; echo $2`
-{ (eval echo "$as_me:$LINENO: \"$ac_compiler --version </dev/null >&5\"") >&5
-  (eval $ac_compiler --version </dev/null >&5) 2>&5
+{ (eval echo "$as_me:$LINENO: \"$ac_compiler --version </System/Devices/null >&5\"") >&5
+  (eval $ac_compiler --version </System/Devices/null >&5) 2>&5
   ac_status=$?
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); }
-{ (eval echo "$as_me:$LINENO: \"$ac_compiler -v </dev/null >&5\"") >&5
-  (eval $ac_compiler -v </dev/null >&5) 2>&5
+{ (eval echo "$as_me:$LINENO: \"$ac_compiler -v </System/Devices/null >&5\"") >&5
+  (eval $ac_compiler -v </System/Devices/null >&5) 2>&5
   ac_status=$?
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); }
-{ (eval echo "$as_me:$LINENO: \"$ac_compiler -V </dev/null >&5\"") >&5
-  (eval $ac_compiler -V </dev/null >&5) 2>&5
+{ (eval echo "$as_me:$LINENO: \"$ac_compiler -V </System/Devices/null >&5\"") >&5
+  (eval $ac_compiler -V </System/Devices/null >&5) 2>&5
   ac_status=$?
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); }
@@ -2582,7 +2582,7 @@
   ac_status=$?
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); }; then
-  for ac_file in `(ls conftest.o conftest.obj; ls conftest.*) 2>/dev/null`; do
+  for ac_file in `(ls conftest.o conftest.obj; ls conftest.*) 2>/System/Devices/null`; do
   case $ac_file in
     *.$ac_ext | *.xcoff | *.tds | *.d | *.pdb | *.xSYM | *.bb | *.bbg ) ;;
     *) ac_cv_objext=`expr "$ac_file" : '.*\.\(.*\)'`
@@ -3097,18 +3097,18 @@
 echo "$as_me:$LINENO:" \
      "checking for C++ compiler version" >&5
 ac_compiler=`set X $ac_compile; echo $2`
-{ (eval echo "$as_me:$LINENO: \"$ac_compiler --version </dev/null >&5\"") >&5
-  (eval $ac_compiler --version </dev/null >&5) 2>&5
+{ (eval echo "$as_me:$LINENO: \"$ac_compiler --version </System/Devices/null >&5\"") >&5
+  (eval $ac_compiler --version </System/Devices/null >&5) 2>&5
   ac_status=$?
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); }
-{ (eval echo "$as_me:$LINENO: \"$ac_compiler -v </dev/null >&5\"") >&5
-  (eval $ac_compiler -v </dev/null >&5) 2>&5
+{ (eval echo "$as_me:$LINENO: \"$ac_compiler -v </System/Devices/null >&5\"") >&5
+  (eval $ac_compiler -v </System/Devices/null >&5) 2>&5
   ac_status=$?
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); }
-{ (eval echo "$as_me:$LINENO: \"$ac_compiler -V </dev/null >&5\"") >&5
-  (eval $ac_compiler -V </dev/null >&5) 2>&5
+{ (eval echo "$as_me:$LINENO: \"$ac_compiler -V </System/Devices/null >&5\"") >&5
+  (eval $ac_compiler -V </System/Devices/null >&5) 2>&5
   ac_status=$?
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); }
@@ -3765,7 +3765,7 @@
       re_direlt='/[^/][^/]*/\.\./'
       # Canonicalize the path of ld
       ac_prog=`echo $ac_prog| sed 's%\\\\%/%g'`
-      while echo $ac_prog | grep "$re_direlt" > /dev/null 2>&1; do
+      while echo $ac_prog | grep "$re_direlt" > /System/Devices/null 2>&1; do
 	ac_prog=`echo $ac_prog| sed "s%$re_direlt%/%"`
       done
       test -z "$LD" && LD="$ac_prog"
@@ -3798,7 +3798,7 @@
       # Check to see if the program is GNU ld.  I'd rather use --version,
       # but apparently some GNU ld's only accept -v.
       # Break only if it was the GNU/non-GNU ld that we prefer.
-      if "$lt_cv_path_LD" -v 2>&1 < /dev/null | egrep '(GNU|with BFD)' > /dev/null; then
+      if "$lt_cv_path_LD" -v 2>&1 < /System/Devices/null | egrep '(GNU|with BFD)' > /System/Devices/null; then
 	test "$with_gnu_ld" != no && break
       else
 	test "$with_gnu_ld" != yes && break
@@ -3828,7 +3828,7 @@
   echo $ECHO_N "(cached) $ECHO_C" >&6
 else
   # I'd rather use --version here, but apparently some GNU ld's only accept -v.
-if $LD -v 2>&1 </dev/null | egrep '(GNU|with BFD)' 1>&5; then
+if $LD -v 2>&1 </System/Devices/null | egrep '(GNU|with BFD)' 1>&5; then
   lt_cv_prog_gnu_ld=yes
 else
   lt_cv_prog_gnu_ld=no
@@ -3868,11 +3868,11 @@
       # Check to see if the nm accepts a BSD-compat flag.
       # Adding the `sed 1q' prevents false positives on HP-UX, which says:
       #   nm: unknown option "B" ignored
-      # Tru64's nm complains that /dev/null is an invalid object file
-      if ($tmp_nm -B /dev/null 2>&1 | sed '1q'; exit 0) | egrep '(/dev/null|Invalid file or object type)' >/dev/null; then
+      # Tru64's nm complains that /System/Devices/null is an invalid object file
+      if ($tmp_nm -B /System/Devices/null 2>&1 | sed '1q'; exit 0) | egrep '(/System/Devices/null|Invalid file or object type)' >/System/Devices/null; then
 	lt_cv_path_NM="$tmp_nm -B"
 	break
-      elif ($tmp_nm -p /dev/null 2>&1 | sed '1q'; exit 0) | egrep /dev/null >/dev/null; then
+      elif ($tmp_nm -p /System/Devices/null 2>&1 | sed '1q'; exit 0) | egrep /System/Devices/null >/System/Devices/null; then
 	lt_cv_path_NM="$tmp_nm -p"
 	break
       else
@@ -3920,7 +3920,7 @@
 
 bsdi4*)
   lt_cv_deplibs_check_method='file_magic ELF [0-9][0-9]*-bit [ML]SB (shared object|dynamic lib)'
-  lt_cv_file_magic_cmd='/usr/bin/file -L'
+  lt_cv_file_magic_cmd='/System/Tools/file -L'
   lt_cv_file_magic_test_file=/shlib/libc.so
   ;;
 
@@ -3932,7 +3932,7 @@
 darwin* | rhapsody*)
   # this will be overwritten by pass_all, but leave it in just in case
   lt_cv_deplibs_check_method='file_magic Mach-O dynamically linked shared library'
-  lt_cv_file_magic_cmd='/usr/bin/file -L'
+  lt_cv_file_magic_cmd='/System/Tools/file -L'
   case "$host_os" in
   rhapsody* | darwin1.012)
     lt_cv_file_magic_test_file='/System/Library/Frameworks/System.framework/System'
@@ -3945,13 +3945,13 @@
   ;;
 
 freebsd* )
-  if echo __ELF__ | $CC -E - | grep __ELF__ > /dev/null; then
+  if echo __ELF__ | $CC -E - | grep __ELF__ > /System/Devices/null; then
     case $host_cpu in
     i*86 )
       # Not sure whether the presence of OpenBSD here was a mistake.
       # Let's accept both of them until this is cleared up.
       lt_cv_deplibs_check_method='file_magic (FreeBSD|OpenBSD)/i[3-9]86 (compact )?demand paged shared library'
-      lt_cv_file_magic_cmd=/usr/bin/file
+      lt_cv_file_magic_cmd=/System/Tools/file
       lt_cv_file_magic_test_file=`echo /usr/lib/libc.so.*`
       ;;
     esac
@@ -3968,12 +3968,12 @@
   case $host_cpu in
   hppa*)
     lt_cv_deplibs_check_method='file_magic (s[0-9][0-9][0-9]|PA-RISC[0-9].[0-9]) shared library'
-    lt_cv_file_magic_cmd=/usr/bin/file
+    lt_cv_file_magic_cmd=/System/Tools/file
     lt_cv_file_magic_test_file=/usr/lib/libc.sl
     ;;
   ia64*)
     lt_cv_deplibs_check_method='file_magic (s[0-9][0-9][0-9]|ELF-[0-9][0-9]) shared object file - IA64'
-    lt_cv_file_magic_cmd=/usr/bin/file
+    lt_cv_file_magic_cmd=/System/Tools/file
     lt_cv_file_magic_test_file=/usr/lib/hpux32/libc.so
     ;;
   esac
@@ -4012,8 +4012,13 @@
   lt_cv_file_magic_test_file=`echo /lib/libc.so* /lib/libc-*.so`
   ;;
 
+linux-uclibc*)
+  lt_cv_deplibs_check_method=pass_all
+  lt_cv_file_magic_test_file=`echo /lib/libuClibc-*.so`
+  ;;
+
 netbsd*)
-  if echo __ELF__ | $CC -E - | grep __ELF__ > /dev/null; then
+  if echo __ELF__ | $CC -E - | grep __ELF__ > /System/Devices/null; then
     lt_cv_deplibs_check_method='match_pattern /lib[^/\.]+\.so\.[0-9]+\.[0-9]+$'
   else
     lt_cv_deplibs_check_method='match_pattern /lib[^/\.]+\.so$'
@@ -4022,7 +4027,7 @@
 
 newsos6)
   lt_cv_deplibs_check_method='file_magic ELF [0-9][0-9]*-bit [ML]SB (executable|dynamic lib)'
-  lt_cv_file_magic_cmd=/usr/bin/file
+  lt_cv_file_magic_cmd=/System/Tools/file
   lt_cv_file_magic_test_file=/usr/lib/libnls.so
   ;;
 
@@ -4100,8 +4105,8 @@
 	"file_magic "*)
 	  file_magic_regex="`expr \"$deplibs_check_method\" : \"file_magic \(.*\)\"`"
 	  MAGIC_CMD="$lt_cv_path_MAGIC_CMD"
-	  if eval $file_magic_cmd \$file_magic_test_file 2> /dev/null |
-	    egrep "$file_magic_regex" > /dev/null; then
+	  if eval $file_magic_cmd \$file_magic_test_file 2> /System/Devices/null |
+	    egrep "$file_magic_regex" > /System/Devices/null; then
 	    :
 	  else
 	    cat <<EOF 1>&2
@@ -4164,8 +4169,8 @@
 	"file_magic "*)
 	  file_magic_regex="`expr \"$deplibs_check_method\" : \"file_magic \(.*\)\"`"
 	  MAGIC_CMD="$lt_cv_path_MAGIC_CMD"
-	  if eval $file_magic_cmd \$file_magic_test_file 2> /dev/null |
-	    egrep "$file_magic_regex" > /dev/null; then
+	  if eval $file_magic_cmd \$file_magic_test_file 2> /System/Devices/null |
+	    egrep "$file_magic_regex" > /System/Devices/null; then
 	    :
 	  else
 	    cat <<EOF 1>&2
@@ -4411,7 +4416,7 @@
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); }; then
    if test "$lt_cv_prog_gnu_ld" = yes; then
-    case `/usr/bin/file conftest.$ac_objext` in
+    case `/System/Tools/file conftest.$ac_objext` in
     *32-bit*)
       LD="${LD-ld} -melf32bsmip"
       ;;
@@ -4423,7 +4428,7 @@
       ;;
     esac
    else
-    case `/usr/bin/file conftest.$ac_objext` in
+    case `/System/Tools/file conftest.$ac_objext` in
     *32-bit*)
       LD="${LD-ld} -32"
       ;;
@@ -4447,7 +4452,7 @@
   ac_status=$?
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); }; then
-    case "`/usr/bin/file conftest.o`" in
+    case "`/System/Tools/file conftest.o`" in
     *ELF-32*)
       HPUX_IA64_MODE="32"
       ;;
@@ -4467,7 +4472,7 @@
   ac_status=$?
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); }; then
-    case "`/usr/bin/file conftest.o`" in
+    case "`/System/Tools/file conftest.o`" in
     *32-bit*)
       case $host in
         x86_64-*linux*)
@@ -4638,9 +4643,9 @@
      t end
      /^ac_cv_env/!s/^\([^=]*\)=\(.*\)$/\1=${\1=\2}/
      : end' >>confcache
-if diff $cache_file confcache >/dev/null 2>&1; then :; else
+if diff $cache_file confcache >/System/Devices/null 2>&1; then :; else
   if test -w $cache_file; then
-    test "x$cache_file" != "x/dev/null" && echo "updating cache $cache_file"
+    test "x$cache_file" != "x/System/Devices/null" && echo "updating cache $cache_file"
     cat confcache >$cache_file
   else
     echo "not updating unwritable cache $cache_file"
@@ -4655,7 +4660,7 @@
 AS="$AS" DLLTOOL="$DLLTOOL" OBJDUMP="$OBJDUMP" \
 objext="$OBJEXT" exeext="$EXEEXT" reload_flag="$reload_flag" \
 deplibs_check_method="$deplibs_check_method" file_magic_cmd="$file_magic_cmd" \
-${CONFIG_SHELL-/bin/sh} $ac_aux_dir/ltconfig --no-reexec \
+${CONFIG_SHELL-/System/Tools/sh} $ac_aux_dir/ltconfig --no-reexec \
 $libtool_flags --no-verify --build="$build" $ac_aux_dir/ltmain.sh $host \
 || { { echo "$as_me:$LINENO: error: libtool configure failed" >&5
 echo "$as_me: error: libtool configure failed" >&2;}
@@ -4663,7 +4668,7 @@
 
 # Reload cache, that may have been modified by ltconfig
 if test -r "$cache_file"; then
-  # Some versions of bash will fail to source /dev/null (special
+  # Some versions of bash will fail to source /System/Devices/null (special
   # files actually), so we avoid doing that.
   if test -f "$cache_file"; then
     { echo "$as_me:$LINENO: loading cache $cache_file" >&5
@@ -4733,7 +4738,7 @@
   rm -f conftest.er1
   cat conftest.err >&5
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
-  (exit $ac_status); } >/dev/null; then
+  (exit $ac_status); } >/System/Devices/null; then
   if test -s conftest.err; then
     ac_cpp_err=$ac_cxx_preproc_warn_flag
     ac_cpp_err=$ac_cpp_err$ac_cxx_werror_flag
@@ -4771,7 +4776,7 @@
   rm -f conftest.er1
   cat conftest.err >&5
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
-  (exit $ac_status); } >/dev/null; then
+  (exit $ac_status); } >/System/Devices/null; then
   if test -s conftest.err; then
     ac_cpp_err=$ac_cxx_preproc_warn_flag
     ac_cpp_err=$ac_cpp_err$ac_cxx_werror_flag
@@ -4840,7 +4845,7 @@
   rm -f conftest.er1
   cat conftest.err >&5
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
-  (exit $ac_status); } >/dev/null; then
+  (exit $ac_status); } >/System/Devices/null; then
   if test -s conftest.err; then
     ac_cpp_err=$ac_cxx_preproc_warn_flag
     ac_cpp_err=$ac_cpp_err$ac_cxx_werror_flag
@@ -4878,7 +4883,7 @@
   rm -f conftest.er1
   cat conftest.err >&5
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
-  (exit $ac_status); } >/dev/null; then
+  (exit $ac_status); } >/System/Devices/null; then
   if test -s conftest.err; then
     ac_cpp_err=$ac_cxx_preproc_warn_flag
     ac_cpp_err=$ac_cpp_err$ac_cxx_werror_flag
@@ -4932,7 +4937,7 @@
 objext="$OBJEXT" exeext="$EXEEXT" reload_flag="$reload_flag" \
 deplibs_check_method="$deplibs_check_method" \
 file_magic_cmd="$file_magic_cmd" \
-${CONFIG_SHELL-/bin/sh} $ac_aux_dir/ltconfig -o libtool $libtool_flags \
+${CONFIG_SHELL-/System/Tools/sh} $ac_aux_dir/ltconfig -o libtool $libtool_flags \
 --build="$build" --add-tag=CXX $ac_aux_dir/ltcf-cxx.sh $host \
 || { { echo "$as_me:$LINENO: error: libtool tag configuration failed" >&5
 echo "$as_me: error: libtool tag configuration failed" >&2;}
@@ -5034,9 +5039,9 @@
   ac_status=$?
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); }; then
-      if grep _Unwind_SjLj_Resume conftest.s >/dev/null 2>&1 ; then
+      if grep _Unwind_SjLj_Resume conftest.s >/System/Devices/null 2>&1 ; then
         enable_sjlj_exceptions=yes
-      elif grep _Unwind_Resume conftest.s >/dev/null 2>&1 ; then
+      elif grep _Unwind_Resume conftest.s >/System/Devices/null 2>&1 ; then
         enable_sjlj_exceptions=no
       fi
     fi
@@ -5230,7 +5235,7 @@
   rm -f conftest.er1
   cat conftest.err >&5
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
-  (exit $ac_status); } >/dev/null; then
+  (exit $ac_status); } >/System/Devices/null; then
   if test -s conftest.err; then
     ac_cpp_err=$ac_c_preproc_warn_flag
     ac_cpp_err=$ac_cpp_err$ac_c_werror_flag
@@ -5268,7 +5273,7 @@
   rm -f conftest.er1
   cat conftest.err >&5
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
-  (exit $ac_status); } >/dev/null; then
+  (exit $ac_status); } >/System/Devices/null; then
   if test -s conftest.err; then
     ac_cpp_err=$ac_c_preproc_warn_flag
     ac_cpp_err=$ac_cpp_err$ac_c_werror_flag
@@ -5337,7 +5342,7 @@
   rm -f conftest.er1
   cat conftest.err >&5
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
-  (exit $ac_status); } >/dev/null; then
+  (exit $ac_status); } >/System/Devices/null; then
   if test -s conftest.err; then
     ac_cpp_err=$ac_c_preproc_warn_flag
     ac_cpp_err=$ac_cpp_err$ac_c_werror_flag
@@ -5375,7 +5380,7 @@
   rm -f conftest.er1
   cat conftest.err >&5
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
-  (exit $ac_status); } >/dev/null; then
+  (exit $ac_status); } >/System/Devices/null; then
   if test -s conftest.err; then
     ac_cpp_err=$ac_c_preproc_warn_flag
     ac_cpp_err=$ac_cpp_err$ac_c_werror_flag
@@ -5423,7 +5428,7 @@
 if test "${ac_cv_prog_egrep+set}" = set; then
   echo $ECHO_N "(cached) $ECHO_C" >&6
 else
-  if echo a | (grep -E '(a|b)') >/dev/null 2>&1
+  if echo a | (grep -E '(a|b)') >/System/Devices/null 2>&1
     then ac_cv_prog_egrep='grep -E'
     else ac_cv_prog_egrep='egrep'
     fi
@@ -5500,7 +5505,7 @@
 
 _ACEOF
 if (eval "$ac_cpp conftest.$ac_ext") 2>&5 |
-  $EGREP "memchr" >/dev/null 2>&1; then
+  $EGREP "memchr" >/System/Devices/null 2>&1; then
   :
 else
   ac_cv_header_stdc=no
@@ -5521,7 +5526,7 @@
 
 _ACEOF
 if (eval "$ac_cpp conftest.$ac_ext") 2>&5 |
-  $EGREP "free" >/dev/null 2>&1; then
+  $EGREP "free" >/System/Devices/null 2>&1; then
   :
 else
   ac_cv_header_stdc=no
@@ -5704,6 +5709,9 @@
   # Default to "generic".
   if test $enable_clocale_flag = auto; then
     case x${target_os} in
+      xlinux-uclibc*)
+	enable_clocale_flag=uclibc
+	;;
       xlinux* | xgnu* | xkfreebsd*-gnu | xknetbsd*-gnu)
         cat >conftest.$ac_ext <<_ACEOF
 /* confdefs.h.  */
@@ -5719,7 +5727,7 @@
 
 _ACEOF
 if (eval "$ac_cpp conftest.$ac_ext") 2>&5 |
-  $EGREP "_GLIBCXX_ok" >/dev/null 2>&1; then
+  $EGREP "_GLIBCXX_ok" >/System/Devices/null 2>&1; then
   enable_clocale_flag=gnu
 else
   enable_clocale_flag=generic
@@ -5916,6 +5924,77 @@
       CTIME_CC=config/locale/generic/time_members.cc
       CLOCALE_INTERNAL_H=config/locale/generic/c++locale_internal.h
       ;;
+    uclibc)
+      echo "$as_me:$LINENO: result: uclibc" >&5
+echo "${ECHO_T}uclibc" >&6
+
+      # Declare intention to use gettext, and add support for specific
+      # languages.
+      # For some reason, ALL_LINGUAS has to be before AM-GNU-GETTEXT
+      ALL_LINGUAS="de fr"
+
+      # Don't call AM-GNU-GETTEXT here. Instead, assume glibc.
+      # Extract the first word of "msgfmt", so it can be a program name with args.
+set dummy msgfmt; ac_word=$2
+echo "$as_me:$LINENO: checking for $ac_word" >&5
+echo $ECHO_N "checking for $ac_word... $ECHO_C" >&6
+if test "${ac_cv_prog_check_msgfmt+set}" = set; then
+  echo $ECHO_N "(cached) $ECHO_C" >&6
+else
+  if test -n "$check_msgfmt"; then
+  ac_cv_prog_check_msgfmt="$check_msgfmt" # Let the user override the test.
+else
+as_save_IFS=$IFS; IFS=$PATH_SEPARATOR
+for as_dir in $PATH
+do
+  IFS=$as_save_IFS
+  test -z "$as_dir" && as_dir=.
+  for ac_exec_ext in '' $ac_executable_extensions; do
+  if $as_executable_p "$as_dir/$ac_word$ac_exec_ext"; then
+    ac_cv_prog_check_msgfmt="yes"
+    echo "$as_me:$LINENO: found $as_dir/$ac_word$ac_exec_ext" >&5
+    break 2
+  fi
+done
+done
+
+  test -z "$ac_cv_prog_check_msgfmt" && ac_cv_prog_check_msgfmt="no"
+fi
+fi
+check_msgfmt=$ac_cv_prog_check_msgfmt
+if test -n "$check_msgfmt"; then
+  echo "$as_me:$LINENO: result: $check_msgfmt" >&5
+echo "${ECHO_T}$check_msgfmt" >&6
+else
+  echo "$as_me:$LINENO: result: no" >&5
+echo "${ECHO_T}no" >&6
+fi
+
+      if test x"$check_msgfmt" = x"yes" && test x"$enable_nls" = x"yes"; then
+        USE_NLS=yes
+      fi
+      # Export the build objects.
+      for ling in $ALL_LINGUAS; do \
+        glibcxx_MOFILES="$glibcxx_MOFILES $ling.mo"; \
+        glibcxx_POFILES="$glibcxx_POFILES $ling.po"; \
+      done
+
+
+
+      CLOCALE_H=config/locale/uclibc/c_locale.h
+      CLOCALE_CC=config/locale/uclibc/c_locale.cc
+      CCODECVT_H=config/locale/ieee_1003.1-2001/codecvt_specializations.h
+      CCODECVT_CC=config/locale/uclibc/codecvt_members.cc
+      CCOLLATE_CC=config/locale/uclibc/collate_members.cc
+      CCTYPE_CC=config/locale/uclibc/ctype_members.cc
+      CMESSAGES_H=config/locale/uclibc/messages_members.h
+      CMESSAGES_CC=config/locale/uclibc/messages_members.cc
+      CMONEY_CC=config/locale/uclibc/monetary_members.cc
+      CNUMERIC_CC=config/locale/uclibc/numeric_members.cc
+      CTIME_H=config/locale/uclibc/time_members.h
+      CTIME_CC=config/locale/uclibc/time_members.cc
+      CLOCALE_INTERNAL_H=config/locale/uclibc/c++locale_internal.h
+      ;;
   esac
 
   # This is where the testsuite looks for locale catalogs, using the
@@ -6001,7 +6080,7 @@
   rm -f conftest.er1
   cat conftest.err >&5
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
-  (exit $ac_status); } >/dev/null; then
+  (exit $ac_status); } >/System/Devices/null; then
   if test -s conftest.err; then
     ac_cpp_err=$ac_c_preproc_warn_flag
     ac_cpp_err=$ac_cpp_err$ac_c_werror_flag
@@ -7974,7 +8053,7 @@
   rm -f conftest.er1
   cat conftest.err >&5
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
-  (exit $ac_status); } >/dev/null; then
+  (exit $ac_status); } >/System/Devices/null; then
   if test -s conftest.err; then
     ac_cpp_err=$ac_c_preproc_warn_flag
     ac_cpp_err=$ac_cpp_err$ac_c_werror_flag
@@ -8168,7 +8247,7 @@
   # Start by getting the version number.  I think the libtool test already
   # does some of this, but throws away the result.
 
-  ldver=`$LD --version 2>/dev/null | head -1 | \
+  ldver=`$LD --version 2>/System/Devices/null | head -1 | \
          sed -e 's/GNU ld version \([0-9.][0-9.]*\).*/\1/'`
 
   glibcxx_gnu_ld_version=`echo $ldver | \
@@ -27868,7 +27947,7 @@
   rm -f conftest.er1
   cat conftest.err >&5
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
-  (exit $ac_status); } >/dev/null; then
+  (exit $ac_status); } >/System/Devices/null; then
   if test -s conftest.err; then
     ac_cpp_err=$ac_c_preproc_warn_flag
     ac_cpp_err=$ac_cpp_err$ac_c_werror_flag
@@ -28020,7 +28099,7 @@
   rm -f conftest.er1
   cat conftest.err >&5
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
-  (exit $ac_status); } >/dev/null; then
+  (exit $ac_status); } >/System/Devices/null; then
   if test -s conftest.err; then
     ac_cpp_err=$ac_c_preproc_warn_flag
     ac_cpp_err=$ac_cpp_err$ac_c_werror_flag
@@ -28688,7 +28767,7 @@
   rm -f conftest.er1
   cat conftest.err >&5
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
-  (exit $ac_status); } >/dev/null; then
+  (exit $ac_status); } >/System/Devices/null; then
   if test -s conftest.err; then
     ac_cpp_err=$ac_c_preproc_warn_flag
     ac_cpp_err=$ac_cpp_err$ac_c_werror_flag
@@ -28832,7 +28911,7 @@
   rm -f conftest.er1
   cat conftest.err >&5
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
-  (exit $ac_status); } >/dev/null; then
+  (exit $ac_status); } >/System/Devices/null; then
   if test -s conftest.err; then
     ac_cpp_err=$ac_c_preproc_warn_flag
     ac_cpp_err=$ac_cpp_err$ac_c_werror_flag
@@ -29580,7 +29659,7 @@
   rm -f conftest.er1
   cat conftest.err >&5
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
-  (exit $ac_status); } >/dev/null; then
+  (exit $ac_status); } >/System/Devices/null; then
   if test -s conftest.err; then
     ac_cpp_err=$ac_c_preproc_warn_flag
     ac_cpp_err=$ac_cpp_err$ac_c_werror_flag
@@ -29933,7 +30012,7 @@
   rm -f conftest.er1
   cat conftest.err >&5
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
-  (exit $ac_status); } >/dev/null; then
+  (exit $ac_status); } >/System/Devices/null; then
   if test -s conftest.err; then
     ac_cpp_err=$ac_c_preproc_warn_flag
     ac_cpp_err=$ac_cpp_err$ac_c_werror_flag
@@ -30301,7 +30380,7 @@
   rm -f conftest.er1
   cat conftest.err >&5
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
-  (exit $ac_status); } >/dev/null; then
+  (exit $ac_status); } >/System/Devices/null; then
   if test -s conftest.err; then
     ac_cpp_err=$ac_c_preproc_warn_flag
     ac_cpp_err=$ac_cpp_err$ac_c_werror_flag
@@ -30574,7 +30653,7 @@
   rm -f conftest.er1
   cat conftest.err >&5
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
-  (exit $ac_status); } >/dev/null; then
+  (exit $ac_status); } >/System/Devices/null; then
   if test -s conftest.err; then
     ac_cpp_err=$ac_c_preproc_warn_flag
     ac_cpp_err=$ac_cpp_err$ac_c_werror_flag
@@ -31187,7 +31266,7 @@
   rm -f conftest.er1
   cat conftest.err >&5
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
-  (exit $ac_status); } >/dev/null; then
+  (exit $ac_status); } >/System/Devices/null; then
   if test -s conftest.err; then
     ac_cpp_err=$ac_c_preproc_warn_flag
     ac_cpp_err=$ac_cpp_err$ac_c_werror_flag
@@ -50969,7 +51048,7 @@
   rm -f conftest.er1
   cat conftest.err >&5
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
-  (exit $ac_status); } >/dev/null; then
+  (exit $ac_status); } >/System/Devices/null; then
   if test -s conftest.err; then
     ac_cpp_err=$ac_c_preproc_warn_flag
     ac_cpp_err=$ac_cpp_err$ac_c_werror_flag
@@ -51121,7 +51200,7 @@
   rm -f conftest.er1
   cat conftest.err >&5
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
-  (exit $ac_status); } >/dev/null; then
+  (exit $ac_status); } >/System/Devices/null; then
   if test -s conftest.err; then
     ac_cpp_err=$ac_c_preproc_warn_flag
     ac_cpp_err=$ac_cpp_err$ac_c_werror_flag
@@ -51789,7 +51868,7 @@
   rm -f conftest.er1
   cat conftest.err >&5
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
-  (exit $ac_status); } >/dev/null; then
+  (exit $ac_status); } >/System/Devices/null; then
   if test -s conftest.err; then
     ac_cpp_err=$ac_c_preproc_warn_flag
     ac_cpp_err=$ac_cpp_err$ac_c_werror_flag
@@ -51933,7 +52012,7 @@
   rm -f conftest.er1
   cat conftest.err >&5
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
-  (exit $ac_status); } >/dev/null; then
+  (exit $ac_status); } >/System/Devices/null; then
   if test -s conftest.err; then
     ac_cpp_err=$ac_c_preproc_warn_flag
     ac_cpp_err=$ac_cpp_err$ac_c_werror_flag
@@ -52681,7 +52760,7 @@
   rm -f conftest.er1
   cat conftest.err >&5
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
-  (exit $ac_status); } >/dev/null; then
+  (exit $ac_status); } >/System/Devices/null; then
   if test -s conftest.err; then
     ac_cpp_err=$ac_c_preproc_warn_flag
     ac_cpp_err=$ac_cpp_err$ac_c_werror_flag
@@ -53034,7 +53113,7 @@
   rm -f conftest.er1
   cat conftest.err >&5
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
-  (exit $ac_status); } >/dev/null; then
+  (exit $ac_status); } >/System/Devices/null; then
   if test -s conftest.err; then
     ac_cpp_err=$ac_c_preproc_warn_flag
     ac_cpp_err=$ac_cpp_err$ac_c_werror_flag
@@ -53338,7 +53417,7 @@
   rm -f conftest.er1
   cat conftest.err >&5
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
-  (exit $ac_status); } >/dev/null; then
+  (exit $ac_status); } >/System/Devices/null; then
   if test -s conftest.err; then
     ac_cpp_err=$ac_c_preproc_warn_flag
     ac_cpp_err=$ac_cpp_err$ac_c_werror_flag
@@ -53531,7 +53610,7 @@
   # Start by getting the version number.  I think the libtool test already
   # does some of this, but throws away the result.
 
-  ldver=`$LD --version 2>/dev/null | head -1 | \
+  ldver=`$LD --version 2>/System/Devices/null | head -1 | \
          sed -e 's/GNU ld version \([0-9.][0-9.]*\).*/\1/'`
 
   glibcxx_gnu_ld_version=`echo $ldver | \
@@ -73231,7 +73310,7 @@
   rm -f conftest.er1
   cat conftest.err >&5
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
-  (exit $ac_status); } >/dev/null; then
+  (exit $ac_status); } >/System/Devices/null; then
   if test -s conftest.err; then
     ac_cpp_err=$ac_c_preproc_warn_flag
     ac_cpp_err=$ac_cpp_err$ac_c_werror_flag
@@ -73383,7 +73462,7 @@
   rm -f conftest.er1
   cat conftest.err >&5
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
-  (exit $ac_status); } >/dev/null; then
+  (exit $ac_status); } >/System/Devices/null; then
   if test -s conftest.err; then
     ac_cpp_err=$ac_c_preproc_warn_flag
     ac_cpp_err=$ac_cpp_err$ac_c_werror_flag
@@ -74051,7 +74130,7 @@
   rm -f conftest.er1
   cat conftest.err >&5
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
-  (exit $ac_status); } >/dev/null; then
+  (exit $ac_status); } >/System/Devices/null; then
   if test -s conftest.err; then
     ac_cpp_err=$ac_c_preproc_warn_flag
     ac_cpp_err=$ac_cpp_err$ac_c_werror_flag
@@ -74195,7 +74274,7 @@
   rm -f conftest.er1
   cat conftest.err >&5
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
-  (exit $ac_status); } >/dev/null; then
+  (exit $ac_status); } >/System/Devices/null; then
   if test -s conftest.err; then
     ac_cpp_err=$ac_c_preproc_warn_flag
     ac_cpp_err=$ac_cpp_err$ac_c_werror_flag
@@ -75098,7 +75177,7 @@
   rm -f conftest.er1
   cat conftest.err >&5
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
-  (exit $ac_status); } >/dev/null; then
+  (exit $ac_status); } >/System/Devices/null; then
   if test -s conftest.err; then
     ac_cpp_err=$ac_c_preproc_warn_flag
     ac_cpp_err=$ac_cpp_err$ac_c_werror_flag
@@ -75201,7 +75280,7 @@
   # Start by getting the version number.  I think the libtool test already
   # does some of this, but throws away the result.
 
-  ldver=`$LD --version 2>/dev/null | head -1 | \
+  ldver=`$LD --version 2>/System/Devices/null | head -1 | \
          sed -e 's/GNU ld version \([0-9.][0-9.]*\).*/\1/'`
 
   glibcxx_gnu_ld_version=`echo $ldver | \
@@ -75945,7 +76024,7 @@
   rm -f conftest.er1
   cat conftest.err >&5
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
-  (exit $ac_status); } >/dev/null; then
+  (exit $ac_status); } >/System/Devices/null; then
   if test -s conftest.err; then
     ac_cpp_err=$ac_c_preproc_warn_flag
     ac_cpp_err=$ac_cpp_err$ac_c_werror_flag
@@ -76097,7 +76176,7 @@
   rm -f conftest.er1
   cat conftest.err >&5
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
-  (exit $ac_status); } >/dev/null; then
+  (exit $ac_status); } >/System/Devices/null; then
   if test -s conftest.err; then
     ac_cpp_err=$ac_c_preproc_warn_flag
     ac_cpp_err=$ac_cpp_err$ac_c_werror_flag
@@ -76765,7 +76844,7 @@
   rm -f conftest.er1
   cat conftest.err >&5
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
-  (exit $ac_status); } >/dev/null; then
+  (exit $ac_status); } >/System/Devices/null; then
   if test -s conftest.err; then
     ac_cpp_err=$ac_c_preproc_warn_flag
     ac_cpp_err=$ac_cpp_err$ac_c_werror_flag
@@ -76909,7 +76988,7 @@
   rm -f conftest.er1
   cat conftest.err >&5
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
-  (exit $ac_status); } >/dev/null; then
+  (exit $ac_status); } >/System/Devices/null; then
   if test -s conftest.err; then
     ac_cpp_err=$ac_c_preproc_warn_flag
     ac_cpp_err=$ac_cpp_err$ac_c_werror_flag
@@ -77466,7 +77545,7 @@
   rm -f conftest.er1
   cat conftest.err >&5
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
-  (exit $ac_status); } >/dev/null; then
+  (exit $ac_status); } >/System/Devices/null; then
   if test -s conftest.err; then
     ac_cpp_err=$ac_c_preproc_warn_flag
     ac_cpp_err=$ac_cpp_err$ac_c_werror_flag
@@ -77569,7 +77648,7 @@
   # Start by getting the version number.  I think the libtool test already
   # does some of this, but throws away the result.
 
-  ldver=`$LD --version 2>/dev/null | head -1 | \
+  ldver=`$LD --version 2>/System/Devices/null | head -1 | \
          sed -e 's/GNU ld version \([0-9.][0-9.]*\).*/\1/'`
 
   glibcxx_gnu_ld_version=`echo $ldver | \
@@ -78313,7 +78392,7 @@
   rm -f conftest.er1
   cat conftest.err >&5
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
-  (exit $ac_status); } >/dev/null; then
+  (exit $ac_status); } >/System/Devices/null; then
   if test -s conftest.err; then
     ac_cpp_err=$ac_c_preproc_warn_flag
     ac_cpp_err=$ac_cpp_err$ac_c_werror_flag
@@ -78465,7 +78544,7 @@
   rm -f conftest.er1
   cat conftest.err >&5
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
-  (exit $ac_status); } >/dev/null; then
+  (exit $ac_status); } >/System/Devices/null; then
   if test -s conftest.err; then
     ac_cpp_err=$ac_c_preproc_warn_flag
     ac_cpp_err=$ac_cpp_err$ac_c_werror_flag
@@ -79133,7 +79212,7 @@
   rm -f conftest.er1
   cat conftest.err >&5
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
-  (exit $ac_status); } >/dev/null; then
+  (exit $ac_status); } >/System/Devices/null; then
   if test -s conftest.err; then
     ac_cpp_err=$ac_c_preproc_warn_flag
     ac_cpp_err=$ac_cpp_err$ac_c_werror_flag
@@ -79277,7 +79356,7 @@
   rm -f conftest.er1
   cat conftest.err >&5
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
-  (exit $ac_status); } >/dev/null; then
+  (exit $ac_status); } >/System/Devices/null; then
   if test -s conftest.err; then
     ac_cpp_err=$ac_c_preproc_warn_flag
     ac_cpp_err=$ac_cpp_err$ac_c_werror_flag
@@ -79710,7 +79789,7 @@
   rm -f conftest.er1
   cat conftest.err >&5
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
-  (exit $ac_status); } >/dev/null; then
+  (exit $ac_status); } >/System/Devices/null; then
   if test -s conftest.err; then
     ac_cpp_err=$ac_c_preproc_warn_flag
     ac_cpp_err=$ac_cpp_err$ac_c_werror_flag
@@ -79813,7 +79892,7 @@
   # Start by getting the version number.  I think the libtool test already
   # does some of this, but throws away the result.
 
-  ldver=`$LD --version 2>/dev/null | head -1 | \
+  ldver=`$LD --version 2>/System/Devices/null | head -1 | \
          sed -e 's/GNU ld version \([0-9.][0-9.]*\).*/\1/'`
 
   glibcxx_gnu_ld_version=`echo $ldver | \
@@ -80557,7 +80636,7 @@
   rm -f conftest.er1
   cat conftest.err >&5
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
-  (exit $ac_status); } >/dev/null; then
+  (exit $ac_status); } >/System/Devices/null; then
   if test -s conftest.err; then
     ac_cpp_err=$ac_c_preproc_warn_flag
     ac_cpp_err=$ac_cpp_err$ac_c_werror_flag
@@ -80709,7 +80788,7 @@
   rm -f conftest.er1
   cat conftest.err >&5
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
-  (exit $ac_status); } >/dev/null; then
+  (exit $ac_status); } >/System/Devices/null; then
   if test -s conftest.err; then
     ac_cpp_err=$ac_c_preproc_warn_flag
     ac_cpp_err=$ac_cpp_err$ac_c_werror_flag
@@ -81377,7 +81456,7 @@
   rm -f conftest.er1
   cat conftest.err >&5
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
-  (exit $ac_status); } >/dev/null; then
+  (exit $ac_status); } >/System/Devices/null; then
   if test -s conftest.err; then
     ac_cpp_err=$ac_c_preproc_warn_flag
     ac_cpp_err=$ac_cpp_err$ac_c_werror_flag
@@ -81521,7 +81600,7 @@
   rm -f conftest.er1
   cat conftest.err >&5
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
-  (exit $ac_status); } >/dev/null; then
+  (exit $ac_status); } >/System/Devices/null; then
   if test -s conftest.err; then
     ac_cpp_err=$ac_c_preproc_warn_flag
     ac_cpp_err=$ac_cpp_err$ac_c_werror_flag
@@ -81911,7 +81990,7 @@
   rm -f conftest.er1
   cat conftest.err >&5
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
-  (exit $ac_status); } >/dev/null; then
+  (exit $ac_status); } >/System/Devices/null; then
   if test -s conftest.err; then
     ac_cpp_err=$ac_c_preproc_warn_flag
     ac_cpp_err=$ac_cpp_err$ac_c_werror_flag
@@ -82264,7 +82343,7 @@
   rm -f conftest.er1
   cat conftest.err >&5
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
-  (exit $ac_status); } >/dev/null; then
+  (exit $ac_status); } >/System/Devices/null; then
   if test -s conftest.err; then
     ac_cpp_err=$ac_c_preproc_warn_flag
     ac_cpp_err=$ac_cpp_err$ac_c_werror_flag
@@ -82724,7 +82803,7 @@
   rm -f conftest.er1
   cat conftest.err >&5
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
-  (exit $ac_status); } >/dev/null; then
+  (exit $ac_status); } >/System/Devices/null; then
   if test -s conftest.err; then
     ac_cpp_err=$ac_c_preproc_warn_flag
     ac_cpp_err=$ac_cpp_err$ac_c_werror_flag
@@ -82825,7 +82904,7 @@
   # Start by getting the version number.  I think the libtool test already
   # does some of this, but throws away the result.
 
-  ldver=`$LD --version 2>/dev/null | head -1 | \
+  ldver=`$LD --version 2>/System/Devices/null | head -1 | \
          sed -e 's/GNU ld version \([0-9.][0-9.]*\).*/\1/'`
 
   glibcxx_gnu_ld_version=`echo $ldver | \
@@ -83569,7 +83648,7 @@
   rm -f conftest.er1
   cat conftest.err >&5
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
-  (exit $ac_status); } >/dev/null; then
+  (exit $ac_status); } >/System/Devices/null; then
   if test -s conftest.err; then
     ac_cpp_err=$ac_c_preproc_warn_flag
     ac_cpp_err=$ac_cpp_err$ac_c_werror_flag
@@ -83721,7 +83800,7 @@
   rm -f conftest.er1
   cat conftest.err >&5
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
-  (exit $ac_status); } >/dev/null; then
+  (exit $ac_status); } >/System/Devices/null; then
   if test -s conftest.err; then
     ac_cpp_err=$ac_c_preproc_warn_flag
     ac_cpp_err=$ac_cpp_err$ac_c_werror_flag
@@ -84389,7 +84468,7 @@
   rm -f conftest.er1
   cat conftest.err >&5
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
-  (exit $ac_status); } >/dev/null; then
+  (exit $ac_status); } >/System/Devices/null; then
   if test -s conftest.err; then
     ac_cpp_err=$ac_c_preproc_warn_flag
     ac_cpp_err=$ac_cpp_err$ac_c_werror_flag
@@ -84533,7 +84612,7 @@
   rm -f conftest.er1
   cat conftest.err >&5
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
-  (exit $ac_status); } >/dev/null; then
+  (exit $ac_status); } >/System/Devices/null; then
   if test -s conftest.err; then
     ac_cpp_err=$ac_c_preproc_warn_flag
     ac_cpp_err=$ac_cpp_err$ac_c_werror_flag
@@ -84919,7 +84998,7 @@
   rm -f conftest.er1
   cat conftest.err >&5
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
-  (exit $ac_status); } >/dev/null; then
+  (exit $ac_status); } >/System/Devices/null; then
   if test -s conftest.err; then
     ac_cpp_err=$ac_c_preproc_warn_flag
     ac_cpp_err=$ac_cpp_err$ac_c_werror_flag
@@ -85022,7 +85101,7 @@
   # Start by getting the version number.  I think the libtool test already
   # does some of this, but throws away the result.
 
-  ldver=`$LD --version 2>/dev/null | head -1 | \
+  ldver=`$LD --version 2>/System/Devices/null | head -1 | \
          sed -e 's/GNU ld version \([0-9.][0-9.]*\).*/\1/'`
 
   glibcxx_gnu_ld_version=`echo $ldver | \
@@ -85766,7 +85845,7 @@
   rm -f conftest.er1
   cat conftest.err >&5
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
-  (exit $ac_status); } >/dev/null; then
+  (exit $ac_status); } >/System/Devices/null; then
   if test -s conftest.err; then
     ac_cpp_err=$ac_c_preproc_warn_flag
     ac_cpp_err=$ac_cpp_err$ac_c_werror_flag
@@ -85918,7 +85997,7 @@
   rm -f conftest.er1
   cat conftest.err >&5
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
-  (exit $ac_status); } >/dev/null; then
+  (exit $ac_status); } >/System/Devices/null; then
   if test -s conftest.err; then
     ac_cpp_err=$ac_c_preproc_warn_flag
     ac_cpp_err=$ac_cpp_err$ac_c_werror_flag
@@ -86586,7 +86665,7 @@
   rm -f conftest.er1
   cat conftest.err >&5
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
-  (exit $ac_status); } >/dev/null; then
+  (exit $ac_status); } >/System/Devices/null; then
   if test -s conftest.err; then
     ac_cpp_err=$ac_c_preproc_warn_flag
     ac_cpp_err=$ac_cpp_err$ac_c_werror_flag
@@ -86730,7 +86809,7 @@
   rm -f conftest.er1
   cat conftest.err >&5
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
-  (exit $ac_status); } >/dev/null; then
+  (exit $ac_status); } >/System/Devices/null; then
   if test -s conftest.err; then
     ac_cpp_err=$ac_c_preproc_warn_flag
     ac_cpp_err=$ac_cpp_err$ac_c_werror_flag
@@ -87110,7 +87189,7 @@
   # Start by getting the version number.  I think the libtool test already
   # does some of this, but throws away the result.
 
-  ldver=`$LD --version 2>/dev/null | head -1 | \
+  ldver=`$LD --version 2>/System/Devices/null | head -1 | \
          sed -e 's/GNU ld version \([0-9.][0-9.]*\).*/\1/'`
 
   glibcxx_gnu_ld_version=`echo $ldver | \
@@ -87854,7 +87933,7 @@
   rm -f conftest.er1
   cat conftest.err >&5
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
-  (exit $ac_status); } >/dev/null; then
+  (exit $ac_status); } >/System/Devices/null; then
   if test -s conftest.err; then
     ac_cpp_err=$ac_c_preproc_warn_flag
     ac_cpp_err=$ac_cpp_err$ac_c_werror_flag
@@ -88006,7 +88085,7 @@
   rm -f conftest.er1
   cat conftest.err >&5
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
-  (exit $ac_status); } >/dev/null; then
+  (exit $ac_status); } >/System/Devices/null; then
   if test -s conftest.err; then
     ac_cpp_err=$ac_c_preproc_warn_flag
     ac_cpp_err=$ac_cpp_err$ac_c_werror_flag
@@ -88674,7 +88753,7 @@
   rm -f conftest.er1
   cat conftest.err >&5
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
-  (exit $ac_status); } >/dev/null; then
+  (exit $ac_status); } >/System/Devices/null; then
   if test -s conftest.err; then
     ac_cpp_err=$ac_c_preproc_warn_flag
     ac_cpp_err=$ac_cpp_err$ac_c_werror_flag
@@ -88818,7 +88897,7 @@
   rm -f conftest.er1
   cat conftest.err >&5
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
-  (exit $ac_status); } >/dev/null; then
+  (exit $ac_status); } >/System/Devices/null; then
   if test -s conftest.err; then
     ac_cpp_err=$ac_c_preproc_warn_flag
     ac_cpp_err=$ac_cpp_err$ac_c_werror_flag
@@ -89569,7 +89648,7 @@
   rm -f conftest.er1
   cat conftest.err >&5
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
-  (exit $ac_status); } >/dev/null; then
+  (exit $ac_status); } >/System/Devices/null; then
   if test -s conftest.err; then
     ac_cpp_err=$ac_c_preproc_warn_flag
     ac_cpp_err=$ac_cpp_err$ac_c_werror_flag
@@ -89721,7 +89800,7 @@
   rm -f conftest.er1
   cat conftest.err >&5
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
-  (exit $ac_status); } >/dev/null; then
+  (exit $ac_status); } >/System/Devices/null; then
   if test -s conftest.err; then
     ac_cpp_err=$ac_c_preproc_warn_flag
     ac_cpp_err=$ac_cpp_err$ac_c_werror_flag
@@ -90389,7 +90468,7 @@
   rm -f conftest.er1
   cat conftest.err >&5
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
-  (exit $ac_status); } >/dev/null; then
+  (exit $ac_status); } >/System/Devices/null; then
   if test -s conftest.err; then
     ac_cpp_err=$ac_c_preproc_warn_flag
     ac_cpp_err=$ac_cpp_err$ac_c_werror_flag
@@ -90533,7 +90612,7 @@
   rm -f conftest.er1
   cat conftest.err >&5
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
-  (exit $ac_status); } >/dev/null; then
+  (exit $ac_status); } >/System/Devices/null; then
   if test -s conftest.err; then
     ac_cpp_err=$ac_c_preproc_warn_flag
     ac_cpp_err=$ac_cpp_err$ac_c_werror_flag
@@ -91062,7 +91141,7 @@
   rm -f conftest.er1
   cat conftest.err >&5
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
-  (exit $ac_status); } >/dev/null; then
+  (exit $ac_status); } >/System/Devices/null; then
   if test -s conftest.err; then
     ac_cpp_err=$ac_c_preproc_warn_flag
     ac_cpp_err=$ac_cpp_err$ac_c_werror_flag
@@ -91165,7 +91244,7 @@
   # Start by getting the version number.  I think the libtool test already
   # does some of this, but throws away the result.
 
-  ldver=`$LD --version 2>/dev/null | head -1 | \
+  ldver=`$LD --version 2>/System/Devices/null | head -1 | \
          sed -e 's/GNU ld version \([0-9.][0-9.]*\).*/\1/'`
 
   glibcxx_gnu_ld_version=`echo $ldver | \
@@ -91909,7 +91988,7 @@
   rm -f conftest.er1
   cat conftest.err >&5
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
-  (exit $ac_status); } >/dev/null; then
+  (exit $ac_status); } >/System/Devices/null; then
   if test -s conftest.err; then
     ac_cpp_err=$ac_c_preproc_warn_flag
     ac_cpp_err=$ac_cpp_err$ac_c_werror_flag
@@ -92061,7 +92140,7 @@
   rm -f conftest.er1
   cat conftest.err >&5
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
-  (exit $ac_status); } >/dev/null; then
+  (exit $ac_status); } >/System/Devices/null; then
   if test -s conftest.err; then
     ac_cpp_err=$ac_c_preproc_warn_flag
     ac_cpp_err=$ac_cpp_err$ac_c_werror_flag
@@ -92729,7 +92808,7 @@
   rm -f conftest.er1
   cat conftest.err >&5
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
-  (exit $ac_status); } >/dev/null; then
+  (exit $ac_status); } >/System/Devices/null; then
   if test -s conftest.err; then
     ac_cpp_err=$ac_c_preproc_warn_flag
     ac_cpp_err=$ac_cpp_err$ac_c_werror_flag
@@ -92873,7 +92952,7 @@
   rm -f conftest.er1
   cat conftest.err >&5
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
-  (exit $ac_status); } >/dev/null; then
+  (exit $ac_status); } >/System/Devices/null; then
   if test -s conftest.err; then
     ac_cpp_err=$ac_c_preproc_warn_flag
     ac_cpp_err=$ac_cpp_err$ac_c_werror_flag
@@ -93710,7 +93789,7 @@
 EOF
     glibcxx_libgcc_s_suffix=`${CC-cc} $CFLAGS $CPPFLAGS $LDFLAGS \
 			     -shared -shared-libgcc -o conftest.so \
-			     conftest.c -v 2>&1 >/dev/null \
+			     conftest.c -v 2>&1 >/System/Devices/null \
 			     | sed -n 's/^.* -lgcc_s\([^ ]*\) .*$/\1/p'`
     rm -f conftest.c conftest.so
     if test x${glibcxx_libgcc_s_suffix+set} = xset; then
@@ -93926,7 +94005,7 @@
   rm -f conftest.er1
   cat conftest.err >&5
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
-  (exit $ac_status); } >/dev/null; then
+  (exit $ac_status); } >/System/Devices/null; then
   if test -s conftest.err; then
     ac_cpp_err=$ac_c_preproc_warn_flag
     ac_cpp_err=$ac_cpp_err$ac_c_werror_flag
@@ -94726,9 +94805,9 @@
      t end
      /^ac_cv_env/!s/^\([^=]*\)=\(.*\)$/\1=${\1=\2}/
      : end' >>confcache
-if diff $cache_file confcache >/dev/null 2>&1; then :; else
+if diff $cache_file confcache >/System/Devices/null 2>&1; then :; else
   if test -w $cache_file; then
-    test "x$cache_file" != "x/dev/null" && echo "updating cache $cache_file"
+    test "x$cache_file" != "x/System/Devices/null" && echo "updating cache $cache_file"
     cat confcache >$cache_file
   else
     echo "not updating unwritable cache $cache_file"
@@ -94865,8 +94944,8 @@
 
 
 
-if ${CONFIG_SHELL-/bin/sh} ./libtool --tag CXX --features |
-   grep "enable shared" > /dev/null;
+if ${CONFIG_SHELL-/System/Tools/sh} ./libtool --tag CXX --features |
+   grep "enable shared" > /System/Devices/null;
 then
   LIBSUPCXX_PICFLAGS=-prefer-pic
 else
@@ -94929,9 +95008,9 @@
      t end
      /^ac_cv_env/!s/^\([^=]*\)=\(.*\)$/\1=${\1=\2}/
      : end' >>confcache
-if diff $cache_file confcache >/dev/null 2>&1; then :; else
+if diff $cache_file confcache >/System/Devices/null 2>&1; then :; else
   if test -w $cache_file; then
-    test "x$cache_file" != "x/dev/null" && echo "updating cache $cache_file"
+    test "x$cache_file" != "x/System/Devices/null" && echo "updating cache $cache_file"
     cat confcache >$cache_file
   else
     echo "not updating unwritable cache $cache_file"
@@ -95070,19 +95149,19 @@
 ## --------------------- ##
 
 # Be Bourne compatible
-if test -n "${ZSH_VERSION+set}" && (emulate sh) >/dev/null 2>&1; then
+if test -n "${ZSH_VERSION+set}" && (emulate sh) >/System/Devices/null 2>&1; then
   emulate sh
   NULLCMD=:
   # Zsh 3.x and 4.x performs word splitting on ${1+"$@"}, which
   # is contrary to our usage.  Disable this feature.
   alias -g '${1+"$@"}'='"$@"'
-elif test -n "${BASH_VERSION+set}" && (set -o posix) >/dev/null 2>&1; then
+elif test -n "${BASH_VERSION+set}" && (set -o posix) >/System/Devices/null 2>&1; then
   set -o posix
 fi
 DUALCASE=1; export DUALCASE # for MKS sh
 
 # Support unset when possible.
-if ( (MAIL=60; unset MAIL) || exit) >/dev/null 2>&1; then
+if ( (MAIL=60; unset MAIL) || exit) >/System/Devices/null 2>&1; then
   as_unset=unset
 else
   as_unset=false
@@ -95109,13 +95188,13 @@
 done
 
 # Required to use basename.
-if expr a : '\(a\)' >/dev/null 2>&1; then
+if expr a : '\(a\)' >/System/Devices/null 2>&1; then
   as_expr=expr
 else
   as_expr=false
 fi
 
-if (basename /) >/dev/null 2>&1 && test "X`basename / 2>&1`" = "X/"; then
+if (basename /) >/System/Devices/null 2>&1 && test "X`basename / 2>&1`" = "X/"; then
   as_basename=basename
 else
   as_basename=false
@@ -95127,7 +95206,7 @@
 $as_expr X/"$0" : '.*/\([^/][^/]*\)/*$' \| \
 	 X"$0" : 'X\(//\)$' \| \
 	 X"$0" : 'X\(/\)$' \| \
-	 .     : '\(.\)' 2>/dev/null ||
+	 .     : '\(.\)' 2>/System/Devices/null ||
 echo X/"$0" |
     sed '/^.*\/\([^/][^/]*\)\/*$/{ s//\1/; q; }
   	  /^X\/\(\/\/\)$/{ s//\1/; q; }
@@ -95145,10 +95224,10 @@
 
 # The user is always right.
 if test "${PATH_SEPARATOR+set}" != set; then
-  echo "#! /bin/sh" >conf$$.sh
+  echo "#! /System/Tools/sh" >conf$$.sh
   echo  "exit 0"   >>conf$$.sh
   chmod +x conf$$.sh
-  if (PATH="/nonexistent;."; conf$$.sh) >/dev/null 2>&1; then
+  if (PATH="/nonexistent;."; conf$$.sh) >/System/Devices/null 2>&1; then
     PATH_SEPARATOR=';'
   else
     PATH_SEPARATOR=:
@@ -95159,7 +95238,7 @@
 
   as_lineno_1=$LINENO
   as_lineno_2=$LINENO
-  as_lineno_3=`(expr $as_lineno_1 + 1) 2>/dev/null`
+  as_lineno_3=`(expr $as_lineno_1 + 1) 2>/System/Devices/null`
   test "x$as_lineno_1" != "x$as_lineno_2" &&
   test "x$as_lineno_3"  = "x$as_lineno_2"  || {
   # Find who we are.  Look in the path if we contain no path at all
@@ -95199,9 +95278,9 @@
 	   if ("$as_dir/$as_base" -c '
   as_lineno_1=$LINENO
   as_lineno_2=$LINENO
-  as_lineno_3=`(expr $as_lineno_1 + 1) 2>/dev/null`
+  as_lineno_3=`(expr $as_lineno_1 + 1) 2>/System/Devices/null`
   test "x$as_lineno_1" != "x$as_lineno_2" &&
-  test "x$as_lineno_3"  = "x$as_lineno_2" ') 2>/dev/null; then
+  test "x$as_lineno_3"  = "x$as_lineno_2" ') 2>/System/Devices/null; then
 	     $as_unset BASH_ENV || test "${BASH_ENV+set}" != set || { BASH_ENV=; export BASH_ENV; }
 	     $as_unset ENV || test "${ENV+set}" != set || { ENV=; export ENV; }
 	     CONFIG_SHELL=$as_dir/$as_base
@@ -95253,7 +95332,7 @@
   *)       ECHO_N= ECHO_C='\c' ECHO_T= ;;
 esac
 
-if expr a : '\(a\)' >/dev/null 2>&1; then
+if expr a : '\(a\)' >/System/Devices/null 2>&1; then
   as_expr=expr
 else
   as_expr=false
@@ -95261,7 +95340,7 @@
 
 rm -f conf$$ conf$$.exe conf$$.file
 echo >conf$$.file
-if ln -s conf$$.file conf$$ 2>/dev/null; then
+if ln -s conf$$.file conf$$ 2>/System/Devices/null; then
   # We could just check for DJGPP; but this test a) works b) is more generic
   # and c) will remain valid once DJGPP supports symlinks (DJGPP 2.04).
   if test -f conf$$.exe; then
@@ -95270,14 +95349,14 @@
   else
     as_ln_s='ln -s'
   fi
-elif ln conf$$.file conf$$ 2>/dev/null; then
+elif ln conf$$.file conf$$ 2>/System/Devices/null; then
   as_ln_s=ln
 else
   as_ln_s='cp -p'
 fi
 rm -f conf$$ conf$$.exe conf$$.file
 
-if mkdir -p . 2>/dev/null; then
+if mkdir -p . 2>/System/Devices/null; then
   as_mkdir_p=:
 else
   test -d ./-p && rmdir ./-p
@@ -95326,7 +95405,7 @@
   $ $0 $@
 
 _CSEOF
-echo "on `(hostname || uname -n) 2>/dev/null | sed 1q`" >&5
+echo "on `(hostname || uname -n) 2>/System/Devices/null | sed 1q`" >&5
 echo >&5
 _ACEOF
 
@@ -95460,7 +95539,7 @@
 ac_configure_extra_args=
 
 if $ac_cs_silent; then
-  exec 6>/dev/null
+  exec 6>/System/Devices/null
   ac_configure_extra_args="$ac_configure_extra_args --silent"
 fi
 
@@ -95487,7 +95566,7 @@
 with_target_subdir="$with_target_subdir"
 ac_configure_args="${multilib_arg} ${ac_configure_args}"
 multi_basedir="$multi_basedir"
-CONFIG_SHELL=${CONFIG_SHELL-/bin/sh}
+CONFIG_SHELL=${CONFIG_SHELL-/System/Tools/sh}
 CC="$CC"
 
 # Variables needed in config.status (file generation) which aren't already
@@ -95545,7 +95624,7 @@
 # Create a (secure) tmp directory for tmp files.
 
 {
-  tmp=`(umask 077 && mktemp -d -q "./confstatXXXXXX") 2>/dev/null` &&
+  tmp=`(umask 077 && mktemp -d -q "./confstatXXXXXX") 2>/System/Devices/null` &&
   test -n "$tmp" && test -d "$tmp"
 }  ||
 {
@@ -95788,12 +95867,12 @@
   esac
 
   # Compute @srcdir@, @top_srcdir@, and @INSTALL@ for subdirectories.
-  ac_dir=`(dirname "$ac_file") 2>/dev/null ||
+  ac_dir=`(dirname "$ac_file") 2>/System/Devices/null ||
 $as_expr X"$ac_file" : 'X\(.*[^/]\)//*[^/][^/]*/*$' \| \
 	 X"$ac_file" : 'X\(//\)[^/]' \| \
 	 X"$ac_file" : 'X\(//\)$' \| \
 	 X"$ac_file" : 'X\(/\)' \| \
-	 .     : '\(.\)' 2>/dev/null ||
+	 .     : '\(.\)' 2>/System/Devices/null ||
 echo X"$ac_file" |
     sed '/^X\(.*[^/]\)\/\/*[^/][^/]*\/*$/{ s//\1/; q; }
   	  /^X\(\/\/\)[^/].*/{ s//\1/; q; }
@@ -95807,12 +95886,12 @@
     as_dirs=
     while test ! -d "$as_dir"; do
       as_dirs="$as_dir $as_dirs"
-      as_dir=`(dirname "$as_dir") 2>/dev/null ||
+      as_dir=`(dirname "$as_dir") 2>/System/Devices/null ||
 $as_expr X"$as_dir" : 'X\(.*[^/]\)//*[^/][^/]*/*$' \| \
 	 X"$as_dir" : 'X\(//\)[^/]' \| \
 	 X"$as_dir" : 'X\(//\)$' \| \
 	 X"$as_dir" : 'X\(/\)' \| \
-	 .     : '\(.\)' 2>/dev/null ||
+	 .     : '\(.\)' 2>/System/Devices/null ||
 echo X"$as_dir" |
     sed '/^X\(.*[^/]\)\/\/*[^/][^/]*\/*$/{ s//\1/; q; }
   	  /^X\(\/\/\)[^/].*/{ s//\1/; q; }
@@ -95932,7 +96011,7 @@
 	   # Source tree
 	   echo "$srcdir/$f"
 	 else
-	   # /dev/null tree
+	   # /System/Devices/null tree
 	   { { echo "$as_me:$LINENO: error: cannot find input file: $f" >&5
 echo "$as_me: error: cannot find input file: $f" >&2;}
    { (exit 1); exit 1; }; }
@@ -96029,7 +96108,7 @@
 	   # Source tree
 	   echo "$srcdir/$f"
 	 else
-	   # /dev/null tree
+	   # /System/Devices/null tree
 	   { { echo "$as_me:$LINENO: error: cannot find input file: $f" >&5
 echo "$as_me: error: cannot find input file: $f" >&2;}
    { (exit 1); exit 1; }; }
@@ -96082,11 +96161,11 @@
 # Break up conftest.defines because some shells have a limit on the size
 # of here documents, and old seds have small limits too (100 cmds).
 echo '  # Handle all the #define templates only if necessary.' >>$CONFIG_STATUS
-echo '  if grep "^[	 ]*#[	 ]*define" $tmp/in >/dev/null; then' >>$CONFIG_STATUS
+echo '  if grep "^[	 ]*#[	 ]*define" $tmp/in >/System/Devices/null; then' >>$CONFIG_STATUS
 echo '  # If there are no defines, we may have an empty if/fi' >>$CONFIG_STATUS
 echo '  :' >>$CONFIG_STATUS
 rm -f conftest.tail
-while grep . conftest.defines >/dev/null
+while grep . conftest.defines >/System/Devices/null
 do
   # Write a limited-size here document to $tmp/defines.sed.
   echo '  cat >$tmp/defines.sed <<CEOF' >>$CONFIG_STATUS
@@ -96113,7 +96192,7 @@
 # of here documents, and old seds have small limits too (100 cmds).
 echo '  # Handle all the #undef templates' >>$CONFIG_STATUS
 rm -f conftest.tail
-while grep . conftest.undefs >/dev/null
+while grep . conftest.undefs >/System/Devices/null
 do
   # Write a limited-size here document to $tmp/undefs.sed.
   echo '  cat >$tmp/undefs.sed <<CEOF' >>$CONFIG_STATUS
@@ -96146,16 +96225,16 @@
   cat $tmp/in >>$tmp/config.h
   rm -f $tmp/in
   if test x"$ac_file" != x-; then
-    if diff $ac_file $tmp/config.h >/dev/null 2>&1; then
+    if diff $ac_file $tmp/config.h >/System/Devices/null 2>&1; then
       { echo "$as_me:$LINENO: $ac_file is unchanged" >&5
 echo "$as_me: $ac_file is unchanged" >&6;}
     else
-      ac_dir=`(dirname "$ac_file") 2>/dev/null ||
+      ac_dir=`(dirname "$ac_file") 2>/System/Devices/null ||
 $as_expr X"$ac_file" : 'X\(.*[^/]\)//*[^/][^/]*/*$' \| \
 	 X"$ac_file" : 'X\(//\)[^/]' \| \
 	 X"$ac_file" : 'X\(//\)$' \| \
 	 X"$ac_file" : 'X\(/\)' \| \
-	 .     : '\(.\)' 2>/dev/null ||
+	 .     : '\(.\)' 2>/System/Devices/null ||
 echo X"$ac_file" |
     sed '/^X\(.*[^/]\)\/\/*[^/][^/]*\/*$/{ s//\1/; q; }
   	  /^X\(\/\/\)[^/].*/{ s//\1/; q; }
@@ -96169,12 +96248,12 @@
     as_dirs=
     while test ! -d "$as_dir"; do
       as_dirs="$as_dir $as_dirs"
-      as_dir=`(dirname "$as_dir") 2>/dev/null ||
+      as_dir=`(dirname "$as_dir") 2>/System/Devices/null ||
 $as_expr X"$as_dir" : 'X\(.*[^/]\)//*[^/][^/]*/*$' \| \
 	 X"$as_dir" : 'X\(//\)[^/]' \| \
 	 X"$as_dir" : 'X\(//\)$' \| \
 	 X"$as_dir" : 'X\(/\)' \| \
-	 .     : '\(.\)' 2>/dev/null ||
+	 .     : '\(.\)' 2>/System/Devices/null ||
 echo X"$as_dir" |
     sed '/^X\(.*[^/]\)\/\/*[^/][^/]*\/*$/{ s//\1/; q; }
   	  /^X\(\/\/\)[^/].*/{ s//\1/; q; }
@@ -96204,12 +96283,12 @@
       _am_stamp_count=`expr $_am_stamp_count + 1` ;;
   esac
 done
-echo "timestamp for $ac_file" >`(dirname $ac_file) 2>/dev/null ||
+echo "timestamp for $ac_file" >`(dirname $ac_file) 2>/System/Devices/null ||
 $as_expr X$ac_file : 'X\(.*[^/]\)//*[^/][^/]*/*$' \| \
 	 X$ac_file : 'X\(//\)[^/]' \| \
 	 X$ac_file : 'X\(//\)$' \| \
 	 X$ac_file : 'X\(/\)' \| \
-	 .     : '\(.\)' 2>/dev/null ||
+	 .     : '\(.\)' 2>/System/Devices/null ||
 echo X$ac_file |
     sed '/^X\(.*[^/]\)\/\/*[^/][^/]*\/*$/{ s//\1/; q; }
   	  /^X\(\/\/\)[^/].*/{ s//\1/; q; }
@@ -96226,12 +96305,12 @@
 for ac_file in : $CONFIG_COMMANDS; do test "x$ac_file" = x: && continue
   ac_dest=`echo "$ac_file" | sed 's,:.*,,'`
   ac_source=`echo "$ac_file" | sed 's,[^:]*:,,'`
-  ac_dir=`(dirname "$ac_dest") 2>/dev/null ||
+  ac_dir=`(dirname "$ac_dest") 2>/System/Devices/null ||
 $as_expr X"$ac_dest" : 'X\(.*[^/]\)//*[^/][^/]*/*$' \| \
 	 X"$ac_dest" : 'X\(//\)[^/]' \| \
 	 X"$ac_dest" : 'X\(//\)$' \| \
 	 X"$ac_dest" : 'X\(/\)' \| \
-	 .     : '\(.\)' 2>/dev/null ||
+	 .     : '\(.\)' 2>/System/Devices/null ||
 echo X"$ac_dest" |
     sed '/^X\(.*[^/]\)\/\/*[^/][^/]*\/*$/{ s//\1/; q; }
   	  /^X\(\/\/\)[^/].*/{ s//\1/; q; }
@@ -96245,12 +96324,12 @@
     as_dirs=
     while test ! -d "$as_dir"; do
       as_dirs="$as_dir $as_dirs"
-      as_dir=`(dirname "$as_dir") 2>/dev/null ||
+      as_dir=`(dirname "$as_dir") 2>/System/Devices/null ||
 $as_expr X"$as_dir" : 'X\(.*[^/]\)//*[^/][^/]*/*$' \| \
 	 X"$as_dir" : 'X\(//\)[^/]' \| \
 	 X"$as_dir" : 'X\(//\)$' \| \
 	 X"$as_dir" : 'X\(/\)' \| \
-	 .     : '\(.\)' 2>/dev/null ||
+	 .     : '\(.\)' 2>/System/Devices/null ||
 echo X"$as_dir" |
     sed '/^X\(.*[^/]\)\/\/*[^/][^/]*\/*$/{ s//\1/; q; }
   	  /^X\(\/\/\)[^/].*/{ s//\1/; q; }
@@ -96382,7 +96461,7 @@
 # config.status does its own redirection, appending to config.log.
 # Unfortunately, on DOS this fails, as config.log is still kept open
 # by configure, so config.status won't be able to write to it; its
-# output is simply discarded.  So we exec the FD to /dev/null,
+# output is simply discarded.  So we exec the FD to /System/Devices/null,
 # effectively closing config.log, so it can be properly (re)opened and
 # appended to by config.status.  When coming back to configure, we
 # need to make the FD available again.
@@ -96391,7 +96470,7 @@
   ac_config_status_args=
   test "$silent" = yes &&
     ac_config_status_args="$ac_config_status_args --quiet"
-  exec 5>/dev/null
+  exec 5>/System/Devices/null
   $SHELL $CONFIG_STATUS $ac_config_status_args || ac_cs_success=false
   exec 5>>config.log
   # Use ||, not &&, to avoid exiting from the if with $? = 1, which
diff -urN gcc-3.4.4/libstdc++-v3/configure.ac gcc-3.4.4-STEP/libstdc++-v3/configure.ac
--- gcc-3.4.4/libstdc++-v3/configure.ac	2004-10-29 10:52:29.000000000 +1300
+++ gcc-3.4.4-STEP/libstdc++-v3/configure.ac	2005-09-04 10:06:23.907649856 +1200
@@ -298,8 +298,8 @@
 GLIBCXX_EXPORT_INCLUDES
 GLIBCXX_EXPORT_FLAGS
 
-if ${CONFIG_SHELL-/bin/sh} ./libtool --tag CXX --features |
-   grep "enable shared" > /dev/null;
+if ${CONFIG_SHELL-/System/Tools/sh} ./libtool --tag CXX --features |
+   grep "enable shared" > /System/Devices/null;
 then
   LIBSUPCXX_PICFLAGS=-prefer-pic
 else
diff -urN gcc-3.4.4/libstdc++-v3/configure.host gcc-3.4.4-STEP/libstdc++-v3/configure.host
--- gcc-3.4.4/libstdc++-v3/configure.host	2004-10-06 05:32:49.000000000 +1300
+++ gcc-3.4.4-STEP/libstdc++-v3/configure.host	2005-09-04 10:06:23.908649704 +1200
@@ -217,6 +217,12 @@
     ;;
 esac
 
+# Override for uClibc since linux-uclibc gets mishandled above.
+case "${host_os}" in
+  *-uclibc*)
+    os_include_dir="os/uclibc"
+    ;;
+esac
 
 # Set any OS-dependent and CPU-dependent bits.
 # THIS TABLE IS SORTED.  KEEP IT THAT WAY.
diff -urN gcc-3.4.4/libstdc++-v3/crossconfig.m4 gcc-3.4.4-STEP/libstdc++-v3/crossconfig.m4
--- gcc-3.4.4/libstdc++-v3/crossconfig.m4	2005-02-01 19:31:23.000000000 +1300
+++ gcc-3.4.4-STEP/libstdc++-v3/crossconfig.m4	2005-09-04 10:06:23.909649552 +1200
@@ -138,6 +138,99 @@
 	;;
     esac
     ;;
+  *-uclibc*)
+# Temporary hack until we implement the float versions of the libm funcs
+    AC_CHECK_HEADERS([nan.h ieeefp.h endian.h sys/isa_defs.h \
+      machine/endian.h machine/param.h sys/machine.h sys/types.h \
+      fp.h float.h endian.h inttypes.h locale.h float.h stdint.h])
+    SECTION_FLAGS='-ffunction-sections -fdata-sections'
+    AC_SUBST(SECTION_FLAGS)
+    GLIBCXX_CHECK_LINKER_FEATURES
+    GLIBCXX_CHECK_COMPLEX_MATH_SUPPORT
+    GLIBCXX_CHECK_WCHAR_T_SUPPORT
+
+    # For LFS.
+    AC_DEFINE(HAVE_INT64_T)
+    case "$target" in
+      *-uclinux*)
+        # Don't enable LFS with uClinux
+        ;;
+      *)
+        AC_DEFINE(_GLIBCXX_USE_LFS)
+    esac
+
+    # For showmanyc_helper().
+    AC_CHECK_HEADERS(sys/ioctl.h sys/filio.h)
+    GLIBCXX_CHECK_POLL
+    GLIBCXX_CHECK_S_ISREG_OR_S_IFREG
+
+    # For xsputn_2().
+    AC_CHECK_HEADERS(sys/uio.h)
+    GLIBCXX_CHECK_WRITEV
+
+#     AC_DEFINE(HAVE_ACOSF)
+#     AC_DEFINE(HAVE_ASINF)
+#     AC_DEFINE(HAVE_ATANF)
+#     AC_DEFINE(HAVE_ATAN2F)
+    AC_DEFINE(HAVE_CEILF)
+    AC_DEFINE(HAVE_COPYSIGN)
+#     AC_DEFINE(HAVE_COPYSIGNF)
+#     AC_DEFINE(HAVE_COSF)
+#     AC_DEFINE(HAVE_COSHF)
+#     AC_DEFINE(HAVE_EXPF)
+#     AC_DEFINE(HAVE_FABSF)
+    AC_DEFINE(HAVE_FINITE)
+    AC_DEFINE(HAVE_FINITEF)
+    AC_DEFINE(HAVE_FLOORF)
+#     AC_DEFINE(HAVE_FMODF)
+#     AC_DEFINE(HAVE_FREXPF)
+    AC_DEFINE(HAVE_HYPOT)
+#     AC_DEFINE(HAVE_HYPOTF)
+    AC_DEFINE(HAVE_ISINF)
+    AC_DEFINE(HAVE_ISINFF)
+    AC_DEFINE(HAVE_ISNAN)
+    AC_DEFINE(HAVE_ISNANF)
+#     AC_DEFINE(HAVE_LOGF)
+#     AC_DEFINE(HAVE_LOG10F)
+#     AC_DEFINE(HAVE_MODFF)
+#     AC_DEFINE(HAVE_SINF)
+#     AC_DEFINE(HAVE_SINHF)
+#     AC_DEFINE(HAVE_SINCOS)
+#     AC_DEFINE(HAVE_SINCOSF)
+    AC_DEFINE(HAVE_SQRTF)
+#     AC_DEFINE(HAVE_TANF)
+#     AC_DEFINE(HAVE_TANHF)
+    if test x"long_double_math_on_this_cpu" = x"yes"; then
+      AC_MSG_ERROR([long_double_math_on_this_cpu is yes!])
+#       AC_DEFINE(HAVE_ACOSL)
+#       AC_DEFINE(HAVE_ASINL)
+#       AC_DEFINE(HAVE_ATANL)
+#       AC_DEFINE(HAVE_ATAN2L)
+#       AC_DEFINE(HAVE_CEILL)
+#       AC_DEFINE(HAVE_COPYSIGNL)
+#       AC_DEFINE(HAVE_COSL)
+#       AC_DEFINE(HAVE_COSHL)
+#       AC_DEFINE(HAVE_EXPL)
+#       AC_DEFINE(HAVE_FABSL)
+#       AC_DEFINE(HAVE_FINITEL)
+#       AC_DEFINE(HAVE_FLOORL)
+#       AC_DEFINE(HAVE_FMODL)
+#       AC_DEFINE(HAVE_FREXPL)
+#       AC_DEFINE(HAVE_HYPOTL)
+#       AC_DEFINE(HAVE_ISINFL)
+#       AC_DEFINE(HAVE_ISNANL)
+#       AC_DEFINE(HAVE_LOGL)
+#       AC_DEFINE(HAVE_LOG10L)
+#       AC_DEFINE(HAVE_MODFL)
+#       AC_DEFINE(HAVE_POWL)
+#       AC_DEFINE(HAVE_SINL)
+#       AC_DEFINE(HAVE_SINHL)
+#       AC_DEFINE(HAVE_SINCOSL)
+#       AC_DEFINE(HAVE_SQRTL)
+#       AC_DEFINE(HAVE_TANL)
+#       AC_DEFINE(HAVE_TANHL)
+    fi
+    ;;
   *-linux* | *-uclinux* | *-gnu* | *-kfreebsd*-gnu | *-knetbsd*-gnu)
     AC_CHECK_HEADERS([nan.h ieeefp.h endian.h sys/isa_defs.h \
       machine/endian.h machine/param.h sys/machine.h sys/types.h \
@@ -152,7 +245,7 @@
     AC_DEFINE(HAVE_INT64_T)
     case "$target" in
       *-uclinux*)
-        # Don't enable LFS with uClibc
+        # Don't enable LFS with uClinux
         ;;
       *)
         AC_DEFINE(_GLIBCXX_USE_LFS)
diff -urN gcc-3.4.4/libstdc++-v3/docs/doxygen/filter gcc-3.4.4-STEP/libstdc++-v3/docs/doxygen/filter
--- gcc-3.4.4/libstdc++-v3/docs/doxygen/filter	2003-05-31 07:12:55.000000000 +1200
+++ gcc-3.4.4-STEP/libstdc++-v3/docs/doxygen/filter	2005-09-04 10:06:23.910649400 +1200
@@ -1,4 +1,4 @@
-#!/bin/sh
+#!/System/Tools/sh
 
 script=$1
 file=$2
diff -urN gcc-3.4.4/libstdc++-v3/docs/doxygen/run_doxygen gcc-3.4.4-STEP/libstdc++-v3/docs/doxygen/run_doxygen
--- gcc-3.4.4/libstdc++-v3/docs/doxygen/run_doxygen	2004-05-22 19:13:13.000000000 +1200
+++ gcc-3.4.4-STEP/libstdc++-v3/docs/doxygen/run_doxygen	2005-09-04 10:06:23.911649248 +1200
@@ -162,7 +162,7 @@
 if $do_html; then
   cd ${outdir}/html_${mode}
 
-  #doxytag -t libstdc++.tag . > /dev/null 2>&1
+  #doxytag -t libstdc++.tag . > /System/Devices/null 2>&1
   sed -e '/<path>/d' libstdc++.tag > TEMP
   mv TEMP libstdc++.tag
 
diff -urN gcc-3.4.4/libstdc++-v3/docs/html/faq/index.html gcc-3.4.4-STEP/libstdc++-v3/docs/html/faq/index.html
--- gcc-3.4.4/libstdc++-v3/docs/html/faq/index.html	2004-07-07 08:18:03.000000000 +1200
+++ gcc-3.4.4-STEP/libstdc++-v3/docs/html/faq/index.html	2005-09-04 10:06:23.913648944 +1200
@@ -532,7 +532,7 @@
       <p>To see which symbols are defined, look for CPLUSPLUS_CPP_SPEC in
          the gcc config headers for your target (and try changing them to
          see what happens when building complicated code).  You can also run
-         <code>&quot;g++ -E -dM - &lt; /dev/null&quot;</code> to display
+         <code>&quot;g++ -E -dM - &lt; /System/Devices/null&quot;</code> to display
          a list of predefined macros for any particular installation.
       </p>
       <p>This has been discussed on the mailing lists
diff -urN gcc-3.4.4/libstdc++-v3/docs/html/faq/index.txt gcc-3.4.4-STEP/libstdc++-v3/docs/html/faq/index.txt
--- gcc-3.4.4/libstdc++-v3/docs/html/faq/index.txt	2004-03-19 06:36:41.000000000 +1300
+++ gcc-3.4.4-STEP/libstdc++-v3/docs/html/faq/index.txt	2005-09-04 10:06:23.914648792 +1200
@@ -424,7 +424,7 @@
    To see which symbols are defined, look for CPLUSPLUS_CPP_SPEC in the
    gcc config headers for your target (and try changing them to see what
    happens when building complicated code). You can also run "g++ -E -dM
-   - < /dev/null" to display a list of predefined macros for any
+   - < /System/Devices/null" to display a list of predefined macros for any
    particular installation.
    
    This has been discussed on the mailing lists [80]quite a bit.
diff -urN gcc-3.4.4/libstdc++-v3/docs/html/install.html gcc-3.4.4-STEP/libstdc++-v3/docs/html/install.html
--- gcc-3.4.4/libstdc++-v3/docs/html/install.html	2004-07-07 08:18:00.000000000 +1200
+++ gcc-3.4.4-STEP/libstdc++-v3/docs/html/install.html	2005-09-04 10:06:23.916648488 +1200
@@ -158,7 +158,7 @@
           <ul>
             <li>with Debian Linux:
         <p> Add the above list, as shown, to the file
-            <code>/etc/locale.gen</code> </p>
+            <code>/System/Settings/locale.gen</code> </p>
         <p> run <code>/usr/sbin/locale-gen</code> </p>
             </li>
             <li> on most Unix-like operating systems:
diff -urN gcc-3.4.4/libstdc++-v3/include/bits/basic_ios.h gcc-3.4.4-STEP/libstdc++-v3/include/bits/basic_ios.h
--- gcc-3.4.4/libstdc++-v3/include/bits/basic_ios.h	2004-05-25 08:49:48.000000000 +1200
+++ gcc-3.4.4-STEP/libstdc++-v3/include/bits/basic_ios.h	2005-09-04 10:06:23.917648336 +1200
@@ -229,7 +229,7 @@
        *  {
        *      std::set_terminate (__gnu_cxx::__verbose_terminate_handler);
        *
-       *      std::ifstream f ("/etc/motd");
+       *      std::ifstream f ("/System/Settings/motd");
        *
        *      std::cerr << "Setting badbit\n";
        *      f.setstate (std::ios_base::badbit);
diff -urN gcc-3.4.4/libstdc++-v3/include/c_compatibility/wchar.h gcc-3.4.4-STEP/libstdc++-v3/include/c_compatibility/wchar.h
--- gcc-3.4.4/libstdc++-v3/include/c_compatibility/wchar.h	2003-12-09 16:51:45.000000000 +1300
+++ gcc-3.4.4-STEP/libstdc++-v3/include/c_compatibility/wchar.h	2005-09-04 10:06:23.918648184 +1200
@@ -101,7 +101,9 @@
 using std::wmemcpy;
 using std::wmemmove;
 using std::wmemset;
+#if _GLIBCXX_HAVE_WCSFTIME
 using std::wcsftime;
+#endif
 
 #if _GLIBCXX_USE_C99
 using std::wcstold;
diff -urN gcc-3.4.4/libstdc++-v3/include/c_std/std_cwchar.h gcc-3.4.4-STEP/libstdc++-v3/include/c_std/std_cwchar.h
--- gcc-3.4.4/libstdc++-v3/include/c_std/std_cwchar.h	2004-07-20 20:52:12.000000000 +1200
+++ gcc-3.4.4-STEP/libstdc++-v3/include/c_std/std_cwchar.h	2005-09-04 10:06:23.919648032 +1200
@@ -179,7 +179,9 @@
   using ::wcscoll;
   using ::wcscpy;
   using ::wcscspn;
+#if _GLIBCXX_HAVE_WCSFTIME
   using ::wcsftime;
+#endif
   using ::wcslen;
   using ::wcsncat;
   using ::wcsncmp;
diff -urN gcc-3.4.4/libstdc++-v3/include/ext/mt_allocator.h gcc-3.4.4-STEP/libstdc++-v3/include/ext/mt_allocator.h
--- gcc-3.4.4/libstdc++-v3/include/ext/mt_allocator.h	2004-07-13 13:21:48.000000000 +1200
+++ gcc-3.4.4-STEP/libstdc++-v3/include/ext/mt_allocator.h	2005-09-04 10:06:23.920647880 +1200
@@ -140,7 +140,7 @@
 	size_t 	_M_chunk_size;
 
 	// The maximum number of supported threads. Our Linux 2.4.18
-	// reports 4070 in /proc/sys/kernel/threads-max
+	// reports 4070 in /System/Processes/sys/kernel/threads-max
 	size_t 	_M_max_threads;
 
 	// Each time a deallocation occurs in a threaded application
diff -urN gcc-3.4.4/libstdc++-v3/scripts/check_survey.in gcc-3.4.4-STEP/libstdc++-v3/scripts/check_survey.in
--- gcc-3.4.4/libstdc++-v3/scripts/check_survey.in	2003-07-05 18:00:05.000000000 +1200
+++ gcc-3.4.4-STEP/libstdc++-v3/scripts/check_survey.in	2005-09-04 10:06:23.921647728 +1200
@@ -176,7 +176,7 @@
 # and suddenly we go to 2-space indentations...
 setup_size_command()
 {
-  if size --version 2> /dev/null | grep -c GNU > /dev/null;
+  if size --version 2> /System/Devices/null | grep -c GNU > /System/Devices/null;
   then    # Then we're using a GNU size(1) built for this platform.
     # We lose .rodata and .data1 and who knows what else... kludge.
     function size_command()
diff -urN gcc-3.4.4/libstdc++-v3/scripts/create_testsuite_files gcc-3.4.4-STEP/libstdc++-v3/scripts/create_testsuite_files
--- gcc-3.4.4/libstdc++-v3/scripts/create_testsuite_files	2004-07-18 06:13:54.000000000 +1200
+++ gcc-3.4.4-STEP/libstdc++-v3/scripts/create_testsuite_files	2005-09-04 10:08:39.137091856 +1200
@@ -1,4 +1,4 @@
-#!/bin/sh
+#!/System/Tools/sh
 
 # Constructs lists of source files (full pathnames) to test.  Two
 # files are constructed: testsuite_files, which is used to test with
@@ -23,7 +23,7 @@
 srcdir="$1"
 outdir="$2"
 
-tmp="${TMPDIR:-/tmp}/ctt$$"
+tmp="${TMPDIR:-/System/TemporaryFiles}/ctt$$"
 tests_file_normal="$outdir/testsuite_files"
 tests_file_inter="$outdir/testsuite_files_interactive"
 tests_file_perf="$outdir/testsuite_files_performance"
diff -urN gcc-3.4.4/libstdc++-v3/scripts/extract_symvers gcc-3.4.4-STEP/libstdc++-v3/scripts/extract_symvers
--- gcc-3.4.4/libstdc++-v3/scripts/extract_symvers	2003-07-11 16:04:49.000000000 +1200
+++ gcc-3.4.4-STEP/libstdc++-v3/scripts/extract_symvers	2005-09-04 10:06:23.923647424 +1200
@@ -1,4 +1,4 @@
-#!/bin/sh
+#!/System/Tools/sh
 
 # Copyright (C) 2002, 2003 Free Software Foundation, Inc.
 #
@@ -40,7 +40,7 @@
 # default line truncation.  -W is not supported and truncation did not occur
 # by default before that point.
 readelf="readelf --symbols"
-if readelf --help | grep -- --wide > /dev/null; then
+if readelf --help | grep -- --wide > /System/Devices/null; then
     readelf="$readelf --wide"
 fi
 
diff -urN gcc-3.4.4/libstdc++-v3/scripts/testsuite_flags.in gcc-3.4.4-STEP/libstdc++-v3/scripts/testsuite_flags.in
--- gcc-3.4.4/libstdc++-v3/scripts/testsuite_flags.in	2004-03-19 06:37:10.000000000 +1300
+++ gcc-3.4.4-STEP/libstdc++-v3/scripts/testsuite_flags.in	2005-09-04 10:06:23.924647272 +1200
@@ -1,4 +1,4 @@
-#!/bin/sh
+#!/System/Tools/sh
 
 #
 # This script computes the various flags needed to run GNU C++ testsuites
diff -urN gcc-3.4.4/libstdc++-v3/src/Makefile.am gcc-3.4.4-STEP/libstdc++-v3/src/Makefile.am
--- gcc-3.4.4/libstdc++-v3/src/Makefile.am	2004-04-17 07:08:35.000000000 +1200
+++ gcc-3.4.4-STEP/libstdc++-v3/src/Makefile.am	2005-09-04 10:06:23.925647120 +1200
@@ -210,6 +210,10 @@
 	  $(OPT_LDFLAGS) $(SECTION_LDFLAGS) $(AM_CXXFLAGS) $(LDFLAGS) -o $@
 
 
+install-exec-local:
+	$(AR) cru libstdc++_pic.a .libs/*.o $(top_builddir)/libsupc++/*.o
+	$(INSTALL_DATA) libstdc++_pic.a $(DESTDIR)$(toolexeclibdir)
+
 # Added bits to build debug library.
 if GLIBCXX_BUILD_DEBUG
 all-local: build_debug
diff -urN gcc-3.4.4/libstdc++-v3/src/Makefile.in gcc-3.4.4-STEP/libstdc++-v3/src/Makefile.in
--- gcc-3.4.4/libstdc++-v3/src/Makefile.in	2004-04-17 07:08:35.000000000 +1200
+++ gcc-3.4.4-STEP/libstdc++-v3/src/Makefile.in	2005-09-04 10:06:23.926646968 +1200
@@ -592,7 +592,7 @@
 
 install-data-am: install-data-local
 
-install-exec-am: install-toolexeclibLTLIBRARIES
+install-exec-am: install-toolexeclibLTLIBRARIES install-exec-local
 
 install-info: install-info-am
 
@@ -625,6 +625,7 @@
 	distclean-tags distdir dvi dvi-am info info-am install \
 	install-am install-data install-data-am install-data-local \
 	install-exec install-exec-am install-info install-info-am \
+	install-exec-local \
 	install-man install-strip install-toolexeclibLTLIBRARIES \
 	installcheck installcheck-am installdirs maintainer-clean \
 	maintainer-clean-generic mostlyclean mostlyclean-compile \
@@ -709,6 +710,11 @@
 install_debug:
 	(cd ${debugdir} && $(MAKE) \
 	toolexeclibdir=$(glibcxx_toolexeclibdir)/debug install)
+
+install-exec-local:
+	$(AR) cru libstdc++_pic.a .libs/*.o $(top_builddir)/libsupc++/*.o
+	$(INSTALL_DATA) libstdc++_pic.a $(DESTDIR)$(toolexeclibdir)
+
 # Tell versions [3.59,3.63) of GNU make to not export all variables.
 # Otherwise a system limit (for SysV at least) may be exceeded.
 .NOEXPORT:
diff -urN gcc-3.4.4/libstdc++-v3/testsuite/Makefile.in gcc-3.4.4-STEP/libstdc++-v3/testsuite/Makefile.in
--- gcc-3.4.4/libstdc++-v3/testsuite/Makefile.in	2005-05-16 00:01:07.000000000 +1200
+++ gcc-3.4.4-STEP/libstdc++-v3/testsuite/Makefile.in	2005-09-04 10:06:23.927646816 +1200
@@ -421,7 +421,7 @@
 	srcdir=`$(am__cd) $(srcdir) && pwd`; export srcdir; \
 	EXPECT=$(EXPECT); export EXPECT; \
 	runtest=$(RUNTEST); \
-	if $(SHELL) -c "$$runtest --version" > /dev/null 2>&1; then \
+	if $(SHELL) -c "$$runtest --version" > /System/Devices/null 2>&1; then \
 	  l='$(DEJATOOL)'; for tool in $$l; do \
 	    $$runtest $(AM_RUNTESTFLAGS) $(RUNTESTDEFAULTFLAGS) $(RUNTESTFLAGS); \
 	  done; \
diff -urN gcc-3.4.4/libstdc++-v3/testsuite/performance/27_io/filebuf_copy.cc gcc-3.4.4-STEP/libstdc++-v3/testsuite/performance/27_io/filebuf_copy.cc
--- gcc-3.4.4/libstdc++-v3/testsuite/performance/27_io/filebuf_copy.cc	2004-03-19 06:38:17.000000000 +1300
+++ gcc-3.4.4-STEP/libstdc++-v3/testsuite/performance/27_io/filebuf_copy.cc	2005-09-04 10:06:23.928646664 +1200
@@ -39,8 +39,8 @@
   const unsigned long count = 1ul << 30;
 
   // C unlocked
-  FILE* fpi = fopen("/dev/zero", "r");
-  FILE* fpo = fopen("/dev/null", "w");
+  FILE* fpi = fopen("/System/Devices/zero", "r");
+  FILE* fpo = fopen("/System/Devices/null", "w");
   start_counters(time, resource);
   for (unsigned long i = 0; i < count; ++i)
     {
@@ -56,9 +56,9 @@
 
   // C++
   filebuf in;
-  in.open("/dev/zero", ios::in);
+  in.open("/System/Devices/zero", ios::in);
   filebuf out;
-  out.open("/dev/null", ios::out);
+  out.open("/System/Devices/null", ios::out);
   start_counters(time, resource);
   for (unsigned long i = 0; i < count; ++i)
     {
diff -urN gcc-3.4.4/libtool.m4 gcc-3.4.4-STEP/libtool.m4
--- gcc-3.4.4/libtool.m4	2004-05-18 21:08:37.000000000 +1200
+++ gcc-3.4.4-STEP/libtool.m4	2005-09-04 10:06:23.930646360 +1200
@@ -66,7 +66,7 @@
 AS="$AS" DLLTOOL="$DLLTOOL" OBJDUMP="$OBJDUMP" \
 objext="$OBJEXT" exeext="$EXEEXT" reload_flag="$reload_flag" \
 deplibs_check_method="$deplibs_check_method" file_magic_cmd="$file_magic_cmd" \
-${CONFIG_SHELL-/bin/sh} $ac_aux_dir/ltconfig --no-reexec \
+${CONFIG_SHELL-/System/Tools/sh} $ac_aux_dir/ltconfig --no-reexec \
 $libtool_flags --no-verify --build="$build" $ac_aux_dir/ltmain.sh $host \
 || AC_MSG_ERROR([libtool configure failed])
 
@@ -423,8 +423,8 @@
 	"file_magic "*)
 	  file_magic_regex="`expr \"$deplibs_check_method\" : \"file_magic \(.*\)\"`"
 	  MAGIC_CMD="$lt_cv_path_MAGIC_CMD"
-	  if eval $file_magic_cmd \$file_magic_test_file 2> /dev/null |
-	    egrep "$file_magic_regex" > /dev/null; then
+	  if eval $file_magic_cmd \$file_magic_test_file 2> /System/Devices/null |
+	    egrep "$file_magic_regex" > /System/Devices/null; then
 	    :
 	  else
 	    cat <<EOF 1>&2
@@ -497,7 +497,7 @@
       re_direlt=['/[^/][^/]*/\.\./']
       # Canonicalize the path of ld
       ac_prog=`echo $ac_prog| sed 's%\\\\%/%g'`
-      while echo $ac_prog | grep "$re_direlt" > /dev/null 2>&1; do
+      while echo $ac_prog | grep "$re_direlt" > /System/Devices/null 2>&1; do
 	ac_prog=`echo $ac_prog| sed "s%$re_direlt%/%"`
       done
       test -z "$LD" && LD="$ac_prog"
@@ -526,7 +526,7 @@
       # Check to see if the program is GNU ld.  I'd rather use --version,
       # but apparently some GNU ld's only accept -v.
       # Break only if it was the GNU/non-GNU ld that we prefer.
-      if "$lt_cv_path_LD" -v 2>&1 < /dev/null | egrep '(GNU|with BFD)' > /dev/null; then
+      if "$lt_cv_path_LD" -v 2>&1 < /System/Devices/null | egrep '(GNU|with BFD)' > /System/Devices/null; then
 	test "$with_gnu_ld" != no && break
       else
 	test "$with_gnu_ld" != yes && break
@@ -550,7 +550,7 @@
 AC_DEFUN([AC_PROG_LD_GNU],
 [AC_CACHE_CHECK([if the linker ($LD) is GNU ld], lt_cv_prog_gnu_ld,
 [# I'd rather use --version here, but apparently some GNU ld's only accept -v.
-if $LD -v 2>&1 </dev/null | egrep '(GNU|with BFD)' 1>&5; then
+if $LD -v 2>&1 </System/Devices/null | egrep '(GNU|with BFD)' 1>&5; then
   lt_cv_prog_gnu_ld=yes
 else
   lt_cv_prog_gnu_ld=no
@@ -622,7 +622,7 @@
   ;;
 
 freebsd* )
-  if echo __ELF__ | $CC -E - | grep __ELF__ > /dev/null; then
+  if echo __ELF__ | $CC -E - | grep __ELF__ > /System/Devices/null; then
     case $host_cpu in
     i*86 )
       # Not sure whether the presence of OpenBSD here was a mistake.
@@ -689,8 +689,13 @@
   lt_cv_file_magic_test_file=`echo /lib/libc.so* /lib/libc-*.so`
   ;;
 
+linux-uclibc*)
+  lt_cv_deplibs_check_method=pass_all
+  lt_cv_file_magic_test_file=`echo /lib/libuClibc-*.so`
+  ;;
+
 netbsd*)
-  if echo __ELF__ | $CC -E - | grep __ELF__ > /dev/null; then
+  if echo __ELF__ | $CC -E - | grep __ELF__ > /System/Devices/null; then
     [lt_cv_deplibs_check_method='match_pattern /lib[^/\.]+\.so\.[0-9]+\.[0-9]+$']
   else
     [lt_cv_deplibs_check_method='match_pattern /lib[^/\.]+\.so$']
@@ -757,11 +762,11 @@
       # Check to see if the nm accepts a BSD-compat flag.
       # Adding the `sed 1q' prevents false positives on HP-UX, which says:
       #   nm: unknown option "B" ignored
-      # Tru64's nm complains that /dev/null is an invalid object file
-      if ($tmp_nm -B /dev/null 2>&1 | sed '1q'; exit 0) | egrep '(/dev/null|Invalid file or object type)' >/dev/null; then
+      # Tru64's nm complains that /System/Devices/null is an invalid object file
+      if ($tmp_nm -B /System/Devices/null 2>&1 | sed '1q'; exit 0) | egrep '(/System/Devices/null|Invalid file or object type)' >/System/Devices/null; then
 	lt_cv_path_NM="$tmp_nm -B"
 	break
-      elif ($tmp_nm -p /dev/null 2>&1 | sed '1q'; exit 0) | egrep /dev/null >/dev/null; then
+      elif ($tmp_nm -p /System/Devices/null 2>&1 | sed '1q'; exit 0) | egrep /System/Devices/null >/System/Devices/null; then
 	lt_cv_path_NM="$tmp_nm -p"
 	break
       else
@@ -874,7 +879,7 @@
 objext="$OBJEXT" exeext="$EXEEXT" reload_flag="$reload_flag" \
 deplibs_check_method="$deplibs_check_method" \
 file_magic_cmd="$file_magic_cmd" \
-${CONFIG_SHELL-/bin/sh} $ac_aux_dir/ltconfig -o libtool $libtool_flags \
+${CONFIG_SHELL-/System/Tools/sh} $ac_aux_dir/ltconfig -o libtool $libtool_flags \
 --build="$build" --add-tag=CXX $ac_aux_dir/ltcf-cxx.sh $host \
 || AC_MSG_ERROR([libtool tag configuration failed])
 CC="$lt_save_CC"
@@ -908,7 +913,7 @@
 objext="$OBJEXT" exeext="$EXEEXT" reload_flag="$reload_flag" \
 deplibs_check_method="$deplibs_check_method" \
 file_magic_cmd="$file_magic_cmd" \
-${CONFIG_SHELL-/bin/sh} $ac_aux_dir/ltconfig -o libtool $libtool_flags \
+${CONFIG_SHELL-/System/Tools/sh} $ac_aux_dir/ltconfig -o libtool $libtool_flags \
 --build="$build" --add-tag=GCJ $ac_aux_dir/ltcf-gcj.sh $host \
 || AC_MSG_ERROR([libtool tag configuration failed])
 CC="$lt_save_CC"
diff -urN gcc-3.4.4/ltcf-c.sh gcc-3.4.4-STEP/ltcf-c.sh
--- gcc-3.4.4/ltcf-c.sh	2003-11-19 18:29:32.000000000 +1300
+++ gcc-3.4.4-STEP/ltcf-c.sh	2005-09-04 10:06:23.932646056 +1200
@@ -88,7 +88,7 @@
     ;;
 
   beos*)
-    if $LD --help 2>&1 | egrep ': supported targets:.* elf' > /dev/null; then
+    if $LD --help 2>&1 | egrep ': supported targets:.* elf' > /System/Devices/null; then
       allow_undefined_flag=unsupported
       # Joseph Beckenbach <jrb3@best.com> says some releases of gcc
       # support --undefined.  This deserves some investigation.  FIXME
@@ -176,7 +176,7 @@
     ;;
 
   netbsd*)
-    if echo __ELF__ | $CC -E - | grep __ELF__ >/dev/null; then
+    if echo __ELF__ | $CC -E - | grep __ELF__ >/System/Devices/null; then
       archive_cmds='$LD -Bshareable $libobjs $deplibs $linker_flags -o $lib'
       wlarc=
     else
@@ -186,7 +186,7 @@
     ;;
 
   solaris* | sysv5*)
-    if $LD -v 2>&1 | egrep 'BFD 2\.8' > /dev/null; then
+    if $LD -v 2>&1 | egrep 'BFD 2\.8' > /System/Devices/null; then
       ld_shlibs=no
       cat <<EOF 1>&2
 
@@ -198,7 +198,7 @@
 *** used, and then restart.
 
 EOF
-    elif $LD --help 2>&1 | egrep ': supported targets:.* elf' > /dev/null; then
+    elif $LD --help 2>&1 | egrep ': supported targets:.* elf' > /System/Devices/null; then
       archive_cmds='$CC -shared $libobjs $deplibs $compiler_flags ${wl}-soname $wl$soname -o $lib'
       archive_expsym_cmds='$CC -shared $libobjs $deplibs $compiler_flags ${wl}-soname $wl$soname ${wl}-retain-symbols-file $wl$export_symbols -o $lib'
     else
@@ -214,7 +214,7 @@
     ;;
 
   *)
-    if $LD --help 2>&1 | egrep ': supported targets:.* elf' > /dev/null; then
+    if $LD --help 2>&1 | egrep ': supported targets:.* elf' > /System/Devices/null; then
       archive_cmds='$CC -shared $libobjs $deplibs $compiler_flags ${wl}-soname $wl$soname -o $lib'
       archive_expsym_cmds='$CC -shared $libobjs $deplibs $compiler_flags ${wl}-soname $wl$soname ${wl}-retain-symbols-file $wl$export_symbols -o $lib'
     else
@@ -234,7 +234,7 @@
       ;;
     *)
       # ancient GNU ld didn't support --whole-archive et. al.
-      if $LD --help 2>&1 | egrep 'no-whole-archive' > /dev/null; then
+      if $LD --help 2>&1 | egrep 'no-whole-archive' > /System/Devices/null; then
 	whole_archive_flag_spec="$wlarc"'--whole-archive$convenience '"$wlarc"'--no-whole-archive'
       else
 	whole_archive_flag_spec=
@@ -274,7 +274,7 @@
       # below for broken collect2 doesn't work under 4.3+
         collect2name=`${CC} -print-prog-name=collect2`
         if test -f "$collect2name" && \
-	   strings "$collect2name" | grep resolve_lib_name >/dev/null
+	   strings "$collect2name" | grep resolve_lib_name >/System/Devices/null
         then
 	  # We have reworked collect2
 	  hardcode_direct=yes
@@ -490,7 +490,7 @@
     ;;
 
   netbsd*)
-    if echo __ELF__ | $CC -E - | grep __ELF__ >/dev/null; then
+    if echo __ELF__ | $CC -E - | grep __ELF__ >/System/Devices/null; then
       archive_cmds='$LD -Bshareable -o $lib $libobjs $deplibs $linker_flags'  # a.out
     else
       archive_cmds='$LD -shared -o $lib $libobjs $deplibs $linker_flags'      # ELF
diff -urN gcc-3.4.4/ltcf-cxx.sh gcc-3.4.4-STEP/ltcf-cxx.sh
--- gcc-3.4.4/ltcf-cxx.sh	2003-11-19 18:29:32.000000000 +1300
+++ gcc-3.4.4-STEP/ltcf-cxx.sh	2005-09-04 10:06:23.934645752 +1200
@@ -62,7 +62,7 @@
   yes;
 #endif
 EOF
-if { ac_try='${CC-c++} -E conftest.$ac_ext'; { (eval echo \"$ac_try\") 1>&5; (eval $ac_try) 2>&5; }; } | egrep yes >/dev/null 2>&1; then
+if { ac_try='${CC-c++} -E conftest.$ac_ext'; { (eval echo \"$ac_try\") 1>&5; (eval $ac_try) 2>&5; }; } | egrep yes >/System/Devices/null 2>&1; then
   with_gcc=yes
 
   # Set up default GNU C++ configuration
@@ -91,7 +91,7 @@
 
     # ancient GNU ld didn't support --whole-archive et. al.
     if eval "`$CC -print-prog-name=ld` --help 2>&1" | \
-        egrep 'no-whole-archive' > /dev/null; then
+        egrep 'no-whole-archive' > /System/Devices/null; then
       whole_archive_flag_spec="$wlarc"'--whole-archive$convenience '"$wlarc"'--no-whole-archive'
     else
       whole_archive_flag_spec=
@@ -139,7 +139,7 @@
       # below for broken collect2 doesn't work under 4.3+
         collect2name=`${CC} -print-prog-name=collect2`
         if test -f "$collect2name" && \
-	   strings "$collect2name" | grep resolve_lib_name >/dev/null
+	   strings "$collect2name" | grep resolve_lib_name >/System/Devices/null
         then
 	  # We have reworked collect2
 	  hardcode_direct=yes
@@ -657,7 +657,7 @@
         # GNU C++ compiler with Solaris linker
         if test "$with_gcc" = yes && test "$with_gnu_ld" = no; then
 	  no_undefined_flag=' ${wl}-z ${wl}defs'
-          if $CC --version | egrep -v '^2\.7' > /dev/null; then
+          if $CC --version | egrep -v '^2\.7' > /System/Devices/null; then
             archive_cmds='$CC -shared -nostdlib $LDFLAGS $predep_objects $libobjs $deplibs $postdep_objects $compiler_flags ${wl}-h $wl$soname -o $lib'
             archive_expsym_cmds='$echo "{ global:" > $lib.exp~cat $export_symbols | sed -e "s/\(.*\)/\1;/" >> $lib.exp~$echo "local: *; };" >> $lib.exp~
 		$CC -shared -nostdlib ${wl}-M $wl$lib.exp -o $lib $predep_objects $libobjs $deplibs $postdep_objects $compiler_flags~$rm $lib.exp'
diff -urN gcc-3.4.4/ltcf-gcj.sh gcc-3.4.4-STEP/ltcf-gcj.sh
--- gcc-3.4.4/ltcf-gcj.sh	2003-11-19 18:29:32.000000000 +1300
+++ gcc-3.4.4-STEP/ltcf-gcj.sh	2005-09-04 10:06:23.935645600 +1200
@@ -91,7 +91,7 @@
     ;;
 
   beos*)
-    if $LD --help 2>&1 | egrep ': supported targets:.* elf' > /dev/null; then
+    if $LD --help 2>&1 | egrep ': supported targets:.* elf' > /System/Devices/null; then
       allow_undefined_flag=unsupported
       # Joseph Beckenbach <jrb3@best.com> says some releases of gcc
       # support --undefined.  This deserves some investigation.  FIXME
@@ -179,7 +179,7 @@
     ;;
 
   netbsd*)
-    if echo __ELF__ | $CC -E - | grep __ELF__ >/dev/null; then
+    if echo __ELF__ | $CC -E - | grep __ELF__ >/System/Devices/null; then
       archive_cmds='$LD -Bshareable $libobjs $deplibs $linker_flags -o $lib'
       wlarc=
     else
@@ -189,7 +189,7 @@
     ;;
 
   solaris* | sysv5*)
-    if $LD -v 2>&1 | egrep 'BFD 2\.8' > /dev/null; then
+    if $LD -v 2>&1 | egrep 'BFD 2\.8' > /System/Devices/null; then
       ld_shlibs=no
       cat <<EOF 1>&2
 
@@ -201,7 +201,7 @@
 *** used, and then restart.
 
 EOF
-    elif $LD --help 2>&1 | egrep ': supported targets:.* elf' > /dev/null; then
+    elif $LD --help 2>&1 | egrep ': supported targets:.* elf' > /System/Devices/null; then
       archive_cmds='$CC -shared $libobjs $deplibs $compiler_flags ${wl}-soname $wl$soname -o $lib'
       archive_expsym_cmds='$CC -shared $libobjs $deplibs $compiler_flags ${wl}-soname $wl$soname ${wl}-retain-symbols-file $wl$export_symbols -o $lib'
     else
@@ -217,7 +217,7 @@
     ;;
 
   *)
-    if $LD --help 2>&1 | egrep ': supported targets:.* elf' > /dev/null; then
+    if $LD --help 2>&1 | egrep ': supported targets:.* elf' > /System/Devices/null; then
       archive_cmds='$CC -shared $libobjs $deplibs $compiler_flags ${wl}-soname $wl$soname -o $lib'
       archive_expsym_cmds='$CC -shared $libobjs $deplibs $compiler_flags ${wl}-soname $wl$soname ${wl}-retain-symbols-file $wl$export_symbols -o $lib'
     else
@@ -237,7 +237,7 @@
       ;;
     *)
       # ancient GNU ld didn't support --whole-archive et. al.
-      if $LD --help 2>&1 | egrep 'no-whole-archive' > /dev/null; then
+      if $LD --help 2>&1 | egrep 'no-whole-archive' > /System/Devices/null; then
 	whole_archive_flag_spec="$wlarc"'--whole-archive$convenience '"$wlarc"'--no-whole-archive'
       else
 	whole_archive_flag_spec=
@@ -277,7 +277,7 @@
       # below for broken collect2 doesn't work under 4.3+
         collect2name=`${CC} -print-prog-name=collect2`
         if test -f "$collect2name" && \
-	   strings "$collect2name" | grep resolve_lib_name >/dev/null
+	   strings "$collect2name" | grep resolve_lib_name >/System/Devices/null
         then
 	  # We have reworked collect2
 	  hardcode_direct=yes
@@ -477,7 +477,7 @@
     ;;
 
   netbsd*)
-    if echo __ELF__ | $CC -E - | grep __ELF__ >/dev/null; then
+    if echo __ELF__ | $CC -E - | grep __ELF__ >/System/Devices/null; then
       archive_cmds='$LD -Bshareable -o $lib $libobjs $deplibs $linker_flags'  # a.out
     else
       archive_cmds='$LD -shared -nodefaultlibs -o $lib $libobjs $deplibs $linker_flags'      # ELF
diff -urN gcc-3.4.4/ltconfig gcc-3.4.4-STEP/ltconfig
--- gcc-3.4.4/ltconfig	2004-03-06 10:05:41.000000000 +1300
+++ gcc-3.4.4-STEP/ltconfig	2005-09-04 10:06:23.939644992 +1200
@@ -1,4 +1,4 @@
-#! /bin/sh
+#! /System/Tools/sh
 
 # ltconfig - Create a system-specific libtool.
 # Copyright (C) 1996, 1997, 1998, 1999, 2000, 2001
@@ -27,7 +27,7 @@
 # A lot of this script is taken from autoconf-2.10.
 
 # Check that we are running under the correct shell.
-SHELL=${CONFIG_SHELL-/bin/sh}
+SHELL=${CONFIG_SHELL-/System/Tools/sh}
 echo=echo
 if test "X$1" = X--no-reexec; then
   # Discard the --no-reexec flag, and continue.
@@ -35,7 +35,7 @@
 elif test "X$1" = X--fallback-echo; then
   # Avoid inline document here, it may be left over
   :
-elif test "X`($echo '\t') 2>/dev/null`" = 'X\t'; then
+elif test "X`($echo '\t') 2>/System/Devices/null`" = 'X\t'; then
   # Yippee, $echo works!
   :
 else
@@ -55,7 +55,7 @@
 # Find the correct PATH separator.  Usually this is `:', but
 # DJGPP uses `;' like DOS.
 if test "X${PATH_SEPARATOR+set}" != Xset; then
-  UNAME=${UNAME-`uname 2>/dev/null`}
+  UNAME=${UNAME-`uname 2>/System/Devices/null`}
   case X$UNAME in
     *-DOS) PATH_SEPARATOR=';' ;;
     *)     PATH_SEPARATOR=':' ;;
@@ -70,16 +70,16 @@
   # find a string as large as possible, as long as the shell can cope with it
   for cmd in 'sed 50q "$0"' 'sed 20q "$0"' 'sed 10q "$0"' 'sed 2q "$0"' 'echo test'; do
     # expected sizes: less than 2Kb, 1Kb, 512 bytes, 16 bytes, ...
-    if (echo_test_string="`eval $cmd`") 2>/dev/null &&
+    if (echo_test_string="`eval $cmd`") 2>/System/Devices/null &&
        echo_test_string="`eval $cmd`" &&
-       (test "X$echo_test_string" = "X$echo_test_string") 2>/dev/null; then
+       (test "X$echo_test_string" = "X$echo_test_string") 2>/System/Devices/null; then
       break
     fi
   done
 fi
 
-if test "X`($echo '\t') 2>/dev/null`" = 'X\t' &&
-   echo_testing_string=`($echo "$echo_test_string") 2>/dev/null` &&
+if test "X`($echo '\t') 2>/System/Devices/null`" = 'X\t' &&
+   echo_testing_string=`($echo "$echo_test_string") 2>/System/Devices/null` &&
    test "X$echo_testing_string" = "X$echo_test_string"; then
   :
 else
@@ -92,8 +92,8 @@
   IFS="${IFS= 	}"; save_ifs="$IFS"; IFS="${IFS}${PATH_SEPARATOR}"
   for dir in $PATH /usr/ucb; do
     if (test -f $dir/echo || test -f $dir/echo$ac_exeext) &&
-       test "X`($dir/echo '\t') 2>/dev/null`" = 'X\t' &&
-       echo_testing_string=`($dir/echo "$echo_test_string") 2>/dev/null` &&
+       test "X`($dir/echo '\t') 2>/System/Devices/null`" = 'X\t' &&
+       echo_testing_string=`($dir/echo "$echo_test_string") 2>/System/Devices/null` &&
        test "X$echo_testing_string" = "X$echo_test_string"; then
       echo="$dir/echo"
       break
@@ -103,15 +103,15 @@
 
   if test "X$echo" = Xecho; then
     # We didn't find a better echo, so look for alternatives.
-    if test "X`(print -r '\t') 2>/dev/null`" = 'X\t' &&
-       echo_testing_string=`(print -r "$echo_test_string") 2>/dev/null` &&
+    if test "X`(print -r '\t') 2>/System/Devices/null`" = 'X\t' &&
+       echo_testing_string=`(print -r "$echo_test_string") 2>/System/Devices/null` &&
        test "X$echo_testing_string" = "X$echo_test_string"; then
       # This shell has a builtin print -r that does the trick.
       echo='print -r'
     elif (test -f /bin/ksh || test -f /bin/ksh$ac_exeext) &&
 	 test "X$CONFIG_SHELL" != X/bin/ksh; then
       # If we have ksh, try running ltconfig again with it.
-      ORIGINAL_CONFIG_SHELL="${CONFIG_SHELL-/bin/sh}"
+      ORIGINAL_CONFIG_SHELL="${CONFIG_SHELL-/System/Tools/sh}"
       export ORIGINAL_CONFIG_SHELL
       CONFIG_SHELL=/bin/ksh
       export CONFIG_SHELL
@@ -119,23 +119,23 @@
     else
       # Try using printf.
       echo='printf %s\n'
-      if test "X`($echo '\t') 2>/dev/null`" = 'X\t' &&
-	 echo_testing_string=`($echo "$echo_test_string") 2>/dev/null` &&
+      if test "X`($echo '\t') 2>/System/Devices/null`" = 'X\t' &&
+	 echo_testing_string=`($echo "$echo_test_string") 2>/System/Devices/null` &&
 	 test "X$echo_testing_string" = "X$echo_test_string"; then
 	# Cool, printf works
 	:
-      elif echo_testing_string=`("$ORIGINAL_CONFIG_SHELL" "$0" --fallback-echo '\t') 2>/dev/null` &&
+      elif echo_testing_string=`("$ORIGINAL_CONFIG_SHELL" "$0" --fallback-echo '\t') 2>/System/Devices/null` &&
 	   test "X$echo_testing_string" = 'X\t' &&
-	   echo_testing_string=`("$ORIGINAL_CONFIG_SHELL" "$0" --fallback-echo "$echo_test_string") 2>/dev/null` &&
+	   echo_testing_string=`("$ORIGINAL_CONFIG_SHELL" "$0" --fallback-echo "$echo_test_string") 2>/System/Devices/null` &&
 	   test "X$echo_testing_string" = "X$echo_test_string"; then
 	CONFIG_SHELL="$ORIGINAL_CONFIG_SHELL"
 	export CONFIG_SHELL
 	SHELL="$CONFIG_SHELL"
 	export SHELL
 	echo="$CONFIG_SHELL $0 --fallback-echo"
-      elif echo_testing_string=`("$CONFIG_SHELL" "$0" --fallback-echo '\t') 2>/dev/null` &&
+      elif echo_testing_string=`("$CONFIG_SHELL" "$0" --fallback-echo '\t') 2>/System/Devices/null` &&
 	   test "X$echo_testing_string" = 'X\t' &&
-	   echo_testing_string=`("$CONFIG_SHELL" "$0" --fallback-echo "$echo_test_string") 2>/dev/null` &&
+	   echo_testing_string=`("$CONFIG_SHELL" "$0" --fallback-echo "$echo_test_string") 2>/System/Devices/null` &&
 	   test "X$echo_testing_string" = "X$echo_test_string"; then
 	echo="$CONFIG_SHELL $0 --fallback-echo"
       else
@@ -143,7 +143,7 @@
 	prev=:
 
 	for cmd in 'echo test' 'sed 2q "$0"' 'sed 10q "$0"' 'sed 20q "$0"' 'sed 50q "$0"'; do
-	  if (test "X$echo_test_string" = "X`eval $cmd`") 2>/dev/null; then
+	  if (test "X$echo_test_string" = "X`eval $cmd`") 2>/System/Devices/null; then
 	    break
 	  fi
 	  prev="$cmd"
@@ -153,7 +153,7 @@
 	  echo_test_string=`eval $prev`
 	  
 	  export echo_test_string
-	  exec "${ORIGINAL_CONFIG_SHELL-${CONFIG_SHELL-/bin/sh}}" "$0" ${1+"$@"}
+	  exec "${ORIGINAL_CONFIG_SHELL-${CONFIG_SHELL-/System/Tools/sh}}" "$0" ${1+"$@"}
 	else
 	  # Oops.  We lost completely, so just stick with echo.
 	  echo=echo
@@ -432,7 +432,7 @@
     ;;
   esac
 
-  if grep "^### BEGIN LIBTOOL TAG CONFIG: $tagname$" < "$ofile" > /dev/null; then
+  if grep "^### BEGIN LIBTOOL TAG CONFIG: $tagname$" < "$ofile" > /System/Devices/null; then
     echo "$progname: tag name $tagname already exists" 1>&2
     exit 1
   fi
@@ -468,12 +468,12 @@
 # 0 standard input
 # 1 file creation
 # 2 errors and warnings
-# 3 some systems may open it to /dev/tty
+# 3 some systems may open it to /System/Devices/tty
 # 4 used on the Kubota Titan
 # 5 compiler messages saved in config.log
 # 6 checking for... messages and results
 if test "$silent" = yes; then
-  exec 6>/dev/null
+  exec 6>/System/Devices/null
 else
   exec 6>&1
 fi
@@ -491,9 +491,9 @@
   . $cache_file
 fi
 
-if (echo "testing\c"; echo 1,2,3) | grep c >/dev/null; then
+if (echo "testing\c"; echo 1,2,3) | grep c >/System/Devices/null; then
   # Stardent Vistra SVR4 grep lacks -e, says ghazi@caip.rutgers.edu.
-  if (echo -n testing; echo 1,2,3) | sed s/-n/xn/ | grep xn >/dev/null; then
+  if (echo -n testing; echo 1,2,3) | sed s/-n/xn/ | grep xn >/System/Devices/null; then
     ac_n= ac_c='
 ' ac_t='	'
   else
@@ -528,7 +528,7 @@
   ac_config_sub=$ac_aux_dir/config.sub
 
   # Make sure we can run config.sub.
-  if $SHELL $ac_config_sub sun4 >/dev/null 2>&1; then :
+  if $SHELL $ac_config_sub sun4 >/System/Devices/null 2>&1; then :
   else
     echo "$progname: cannot run $ac_config_sub" 1>&2
     echo "$help" 1>&2
@@ -602,6 +602,7 @@
 
 # Transform linux* to *-*-linux-gnu*, to support old configure scripts.
 case $host_os in
+linux-uclibc*) ;;
 linux-gnu*) ;;
 linux*) host=`echo $host | sed 's/^\(.*-.*-linux\)\(.*\)$/\1-gnu\2/'`
 esac
@@ -653,15 +654,15 @@
 test -z "$objext" && objext=o
 
 echo $ac_n "checking for objdir... $ac_c" 1>&6
-rm -f .libs 2>/dev/null
-mkdir .libs 2>/dev/null
+rm -f .libs 2>/System/Devices/null
+mkdir .libs 2>/System/Devices/null
 if test -d .libs; then
   objdir=.libs
 else
   # MS-DOS does not allow filenames that begin with a dot.
   objdir=_libs
 fi
-rmdir .libs 2>/dev/null
+rmdir .libs 2>/System/Devices/null
 echo "$ac_t$objdir" 1>&6
 
 # If no C compiler was specified, use CC.
@@ -738,7 +739,7 @@
 # Check for any special shared library compilation flags.
 if test -n "$ac_cv_prog_cc_shlib"; then
   echo "$progname: warning: \`$CC' requires \`$ac_cv_prog_cc_shlib' to build shared libraries" 1>&2
-  if echo "$old_CC $old_CFLAGS " | egrep -e "[ 	]$ac_cv_prog_cc_shlib[ 	]" >/dev/null; then :
+  if echo "$old_CC $old_CFLAGS " | egrep -e "[ 	]$ac_cv_prog_cc_shlib[ 	]" >/System/Devices/null; then :
   else
     echo "$progname: add \`$ac_cv_prog_cc_shlib' to the CC or CFLAGS env variable and reconfigure" 1>&2
     ac_cv_prog_cc_can_build_shared=no
@@ -787,7 +788,7 @@
   # If test is not a shell built-in, we'll probably end up computing a
   # maximum length that is only half of the actual maximum length, but
   # we can't tell.
-  while test "X"`$CONFIG_SHELL $0 --fallback-echo "X$testring" 2>/dev/null` \
+  while test "X"`$CONFIG_SHELL $0 --fallback-echo "X$testring" 2>/System/Devices/null` \
              = "XX$testring" &&
           new_result=`expr "X$testring" : ".*" 2>&1` &&
           lt_cv_sys_max_cmd_len=$new_result &&
@@ -816,7 +817,7 @@
 if test "${lt_cv_compiler_c_o+set}" = set; then
   echo $ac_n "(cached) $ac_c" 1>&6
 else
-  $rm -r conftest 2>/dev/null
+  $rm -r conftest 2>/System/Devices/null
   mkdir conftest
   cd conftest
   $rm conftest*
@@ -851,7 +852,7 @@
   rmdir out
   cd ..
   rmdir conftest
-  $rm -r conftest 2>/dev/null
+  $rm -r conftest 2>/System/Devices/null
 fi
 compiler_c_o=$lt_cv_compiler_c_o
 echo "${ac_t}$compiler_c_o" 1>&6
@@ -863,10 +864,10 @@
   echo $ac_n "checking if we can lock with hard links... $ac_c" 1>&6
   hard_links=yes
   $rm conftest*
-  ln conftest.a conftest.b 2>/dev/null && hard_links=no
+  ln conftest.a conftest.b 2>/System/Devices/null && hard_links=no
   touch conftest.a
   ln conftest.a conftest.b 2>&5 || hard_links=no
-  ln conftest.a conftest.b 2>/dev/null && hard_links=no
+  ln conftest.a conftest.b 2>/System/Devices/null && hard_links=no
   echo "$ac_t$hard_links" 1>&6
   $rm conftest*
   if test "$hard_links" = no; then
@@ -946,7 +947,7 @@
 echo "$ac_t$hardcode_action" 1>&6
 
 echo $ac_n "checking whether stripping libraries is possible... $ac_c" 1>&6
-if test -n "$STRIP" && $STRIP -V 2>&1 | grep "GNU strip" >/dev/null; then
+if test -n "$STRIP" && $STRIP -V 2>&1 | grep "GNU strip" >/System/Devices/null; then
   test -z "$old_striplib" && old_striplib="$STRIP --strip-debug"
   test -z "$striplib" && striplib="$STRIP --strip-unneeded"
   echo "${ac_t}yes" 1>&6
@@ -1012,7 +1013,7 @@
     fi
     # If we're using GNU nm, then we don't want the "-C" option.
     # -C means demangle to AIX nm, but means don't demangle with GNU nm
-    if $NM -V 2>&1 | egrep '(GNU)' > /dev/null; then
+    if $NM -V 2>&1 | egrep '(GNU)' > /System/Devices/null; then
       export_symbols_cmds='$NM -Bpg $libobjs $convenience | awk '\''{ if (((\$2 == "T") || (\$2 == "D") || (\$2 == "B")) && (substr(\$3,1,1) != ".")) { print \$3 } }'\'' | sort -u > $export_symbols'
     else
       export_symbols_cmds='$NM -BCpg $libobjs $convenience | awk '\''{ if (((\$2 == "T") || (\$2 == "D") || (\$2 == "B")) && (substr(\$3,1,1) != ".")) { print \$3 } }'\'' | sort -u > $export_symbols'
@@ -1023,7 +1024,7 @@
     aix4 | aix4.[01] | aix4.[01].*)
       if { echo '#if __GNUC__ > 2 || (__GNUC__ == 2 && __GNUC_MINOR__ >= 97)'
 	   echo ' yes '
-	   echo '#endif'; } | ${CC} -E - | grep yes > /dev/null; then
+	   echo '#endif'; } | ${CC} -E - | grep yes > /System/Devices/null; then
 	:
       else
 	# With GCC up to 2.95.x, collect2 would create an import file
@@ -1041,7 +1042,7 @@
 amigaos*)
   library_names_spec='$libname.ixlibrary $libname.a'
   # Create ${libname}_ixlibrary.a entries in /sys/libs.
-  finish_eval='for lib in `ls $libdir/*.ixlibrary 2>/dev/null`; do libname=`$echo "X$lib" | $Xsed -e '\''s%^.*/\([^/]*\)\.ixlibrary$%\1%'\''`; test $rm /sys/libs/${libname}_ixlibrary.a; $show "(cd /sys/libs && $LN_S $lib ${libname}_ixlibrary.a)"; (cd /sys/libs && $LN_S $lib ${libname}_ixlibrary.a) || exit 1; done'
+  finish_eval='for lib in `ls $libdir/*.ixlibrary 2>/System/Devices/null`; do libname=`$echo "X$lib" | $Xsed -e '\''s%^.*/\([^/]*\)\.ixlibrary$%\1%'\''`; test $rm /sys/libs/${libname}_ixlibrary.a; $show "(cd /sys/libs && $LN_S $lib ${libname}_ixlibrary.a)"; (cd /sys/libs && $LN_S $lib ${libname}_ixlibrary.a) || exit 1; done'
   ;;
 
 beos*)
@@ -1262,11 +1263,29 @@
   dynamic_linker='GNU/Linux ld.so'
   ;;
 
+linux-uclibc*)
+  version_type=linux
+  need_lib_prefix=no
+  need_version=no
+  library_names_spec='${libname}${release}.so$versuffix ${libname}${release}.so$major $libname.so'
+  soname_spec='${libname}${release}.so$major'
+  finish_cmds='PATH="\$PATH:/sbin" ldconfig -n $libdir'
+  shlibpath_var=LD_LIBRARY_PATH
+  shlibpath_overrides_runpath=no
+  # This implies no fast_install, which is unacceptable.
+  # Some rework will be needed to allow for fast_install
+  # before this can be enabled.
+  # Note: copied from linux-gnu, and may not be appropriate.
+  hardcode_into_libs=yes
+  # Assume using the uClibc dynamic linker.
+  dynamic_linker="uClibc ld.so"
+  ;;
+
 netbsd*)
   need_lib_prefix=no
   need_version=no
   version_type=sunos
-  if echo __ELF__ | $CC -E - | grep __ELF__ >/dev/null; then
+  if echo __ELF__ | $CC -E - | grep __ELF__ >/System/Devices/null; then
     library_names_spec='${libname}${release}.so$versuffix ${libname}.so$versuffix'
     finish_cmds='PATH="\$PATH:/sbin" ldconfig -m $libdir'
     dynamic_linker='NetBSD (a.out) ld.so'
@@ -1444,7 +1463,7 @@
 esac
 
 # If we're using GNU nm, then use its standard symbol codes.
-if $NM -V 2>&1 | egrep '(GNU|with BFD)' > /dev/null; then
+if $NM -V 2>&1 | egrep '(GNU|with BFD)' > /System/Devices/null; then
   symcode='[ABCDGISTW]'
 fi
 
@@ -1483,8 +1502,8 @@
       fi
 
       # Make sure that we snagged all the symbols we need.
-      if egrep ' nm_test_var$' "$nlist" >/dev/null; then
-	if egrep ' nm_test_func$' "$nlist" >/dev/null; then
+      if egrep ' nm_test_var$' "$nlist" >/System/Devices/null; then
+	if egrep ' nm_test_func$' "$nlist" >/System/Devices/null; then
 	  cat <<EOF > conftest.$ac_ext
 #ifdef __cplusplus
 extern "C" {
@@ -1919,7 +1938,7 @@
 int fnord = 0;
 int main () { return(0); }
 EOF
-ac_try="$ac_compile >/dev/null 2>conftest.out"
+ac_try="$ac_compile >/System/Devices/null 2>conftest.out"
 { (eval echo $progname:1882: \"$ac_try\") 1>&5; (eval $ac_try) 2>&5; }
 ac_err=`grep -v '^ *+' conftest.out | grep -v "^conftest.${ac_ext}\$"`
 if test -z "$ac_err"; then
@@ -2003,7 +2022,7 @@
                if(ptr1 || ptr2) { dlclose(self); exit(0); } } exit(1); }
 
 EOF
-if { (eval echo $progname:1965: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest && (./conftest; exit) 2>/dev/null
+if { (eval echo $progname:1965: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest && (./conftest; exit) 2>/System/Devices/null
 then
   lt_cv_dlopen_self=yes
 else
@@ -2077,7 +2096,7 @@
     if(ptr1 || ptr2) { dlclose(self); exit(0); } } exit(1); }
 
 EOF
-if { (eval echo $progname:2039: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest && (./conftest; exit) 2>/dev/null
+if { (eval echo $progname:2039: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest && (./conftest; exit) 2>/System/Devices/null
 then
   lt_cv_dlopen_self_static=yes
 else
@@ -2248,7 +2267,7 @@
 esac
 
 cat <<EOF >> "$cfgfile"
-# Libtool was configured as follows, on host `(hostname || uname -n) 2>/dev/null | sed 1q`:
+# Libtool was configured as follows, on host `(hostname || uname -n) 2>/System/Devices/null | sed 1q`:
 #
 # AR=$old_AR AR_FLAGS=$old_AR_FLAGS LTCC=$old_LTCC CC=$old_CC \\
 # CFLAGS=$old_CFLAGS CPPFLAGS=$old_CPPFLAGS \\
@@ -2795,7 +2814,7 @@
 # the --cache-file=FILE option to use a different cache file; that is
 # what configure does when it calls configure scripts in
 # subdirectories, so they share the cache.
-# Giving --cache-file=/dev/null disables caching, for debugging configure.
+# Giving --cache-file=/System/Devices/null disables caching, for debugging configure.
 # config.status only pays attention to the cache file if you give it the
 # --recheck option to rerun configure.
 #
diff -urN gcc-3.4.4/ltmain.sh gcc-3.4.4-STEP/ltmain.sh
--- gcc-3.4.4/ltmain.sh	2004-02-08 14:37:27.000000000 +1300
+++ gcc-3.4.4-STEP/ltmain.sh	2005-09-04 10:06:23.944644232 +1200
@@ -31,7 +31,7 @@
 elif test "X$1" = X--fallback-echo; then
   # Avoid inline document here, it may be left over
   :
-elif test "X`($echo '\t') 2>/dev/null`" = 'X\t'; then
+elif test "X`($echo '\t') 2>/System/Devices/null`" = 'X\t'; then
   # Yippee, $echo works!
   :
 else
@@ -144,7 +144,7 @@
 	taglist="$taglist $tagname"
 	;;
       *)
-        if grep "^### BEGIN LIBTOOL TAG CONFIG: $tagname$" < "$0" > /dev/null; then
+        if grep "^### BEGIN LIBTOOL TAG CONFIG: $tagname$" < "$0" > /System/Devices/null; then
           taglist="$taglist $tagname"
 	  # Evaluate the configuration.
 	  eval "`sed -n -e '/^### BEGIN LIBTOOL TAG CONFIG: '$tagname'$/,/^### END LIBTOOL TAG CONFIG: '$tagname'$/p' < $0`"
@@ -502,7 +502,7 @@
       "`$echo $CC` "*) ;;
       *)
         for z in $available_tags; do
-          if grep "^### BEGIN LIBTOOL TAG CONFIG: $z$" < "$0" > /dev/null; then
+          if grep "^### BEGIN LIBTOOL TAG CONFIG: $z$" < "$0" > /System/Devices/null; then
 	    # Evaluate the configuration.
 	    eval "`sed -n -e '/^### BEGIN LIBTOOL TAG CONFIG: '$z'$/,/^### END LIBTOOL TAG CONFIG: '$z'$/p' < $0`"
             case $base_compile in
@@ -586,7 +586,7 @@
     # Lock this critical section if it is needed
     # We use this script file to make the link, it avoids creating a new file
     if test "$need_locks" = yes; then
-      until $run ln "$0" "$lockfile" 2>/dev/null; do
+      until $run ln "$0" "$lockfile" 2>/System/Devices/null; do
 	$show "Waiting for $lockfile to be removed"
 	sleep 2
       done
@@ -594,7 +594,7 @@
       if test -f "$lockfile"; then
 	echo "\
 *** ERROR, $lockfile exists and contains:
-`cat $lockfile 2>/dev/null`
+`cat $lockfile 2>/System/Devices/null`
 
 This indicates that another process is trying to use the same
 temporary object file, and libtool could not work around it because
@@ -663,10 +663,10 @@
       fi
 
       if test "$need_locks" = warn &&
-	 test x"`cat $lockfile 2>/dev/null`" != x"$srcfile"; then
+	 test x"`cat $lockfile 2>/System/Devices/null`" != x"$srcfile"; then
 	echo "\
 *** ERROR, $lockfile contains:
-`cat $lockfile 2>/dev/null`
+`cat $lockfile 2>/System/Devices/null`
 
 but it should contain:
 $srcfile
@@ -700,7 +700,7 @@
 EOF
 
       # Allow error messages only from the first compilation.
-      suppress_output=' >/dev/null 2>&1'
+      suppress_output=' >/System/Devices/null 2>&1'
     else
       # No PIC object so indicate it doesn't exist in the libtool
       # object file.
@@ -733,10 +733,10 @@
       fi
 
       if test "$need_locks" = warn &&
-	 test x"`cat $lockfile 2>/dev/null`" != x"$srcfile"; then
+	 test x"`cat $lockfile 2>/System/Devices/null`" != x"$srcfile"; then
 	echo "\
 *** ERROR, $lockfile contains:
-`cat $lockfile 2>/dev/null`
+`cat $lockfile 2>/System/Devices/null`
 
 but it should contain:
 $srcfile
@@ -977,7 +977,7 @@
               # A libtool-controlled object.
 
 	      # Check to see that this really is a libtool object.
-	      if (sed -e '2q' $arg | egrep "^# Generated by .*$PACKAGE") >/dev/null 2>&1; then
+	      if (sed -e '2q' $arg | egrep "^# Generated by .*$PACKAGE") >/System/Devices/null 2>&1; then
                 pic_object=
                 non_pic_object=
 
@@ -1402,7 +1402,7 @@
 	# A libtool-controlled object.
 
 	# Check to see that this really is a libtool object.
-	if (sed -e '2q' $arg | egrep "^# Generated by .*$PACKAGE") >/dev/null 2>&1; then
+	if (sed -e '2q' $arg | egrep "^# Generated by .*$PACKAGE") >/System/Devices/null 2>&1; then
           pic_object=
           non_pic_object=
 
@@ -1553,7 +1553,7 @@
       "`$echo $CC` "*) ;;
       *)
         for z in $available_tags; do
-          if grep "^### BEGIN LIBTOOL TAG CONFIG: $z$" < "$0" > /dev/null; then
+          if grep "^### BEGIN LIBTOOL TAG CONFIG: $z$" < "$0" > /System/Devices/null; then
 	    # Evaluate the configuration.
 	    eval "`sed -n -e '/^### BEGIN LIBTOOL TAG CONFIG: '$z'$/,/^### END LIBTOOL TAG CONFIG: '$z'$/p' < $0`"
             case $base_compile in
@@ -1833,7 +1833,7 @@
 	fi
 
 	# Check to see that this really is a libtool archive.
-	if (sed -e '2q' $lib | egrep "^# Generated by .*$PACKAGE") >/dev/null 2>&1; then :
+	if (sed -e '2q' $lib | egrep "^# Generated by .*$PACKAGE") >/System/Devices/null 2>&1; then :
 	else
 	  $echo "$modename: \`$lib' is not a valid libtool archive" 1>&2
 	  exit 1
@@ -2340,7 +2340,7 @@
 		  fi
 		  ;;
 		esac
-		if grep "^installed=no" $deplib > /dev/null; then
+		if grep "^installed=no" $deplib > /System/Devices/null; then
 		  path="-L$absdir/$objdir"
 		else
 		  eval libdir=`sed -n -e 's/^libdir=\(.*\)$/\1/p' $deplib`
@@ -2909,11 +2909,11 @@
 	    if test -n "$name" && test "$name" != "0"; then
 	      libname=`eval \\$echo \"$libname_spec\"`
 	      for i in $lib_search_path $sys_lib_search_path $shlib_search_path; do
-		    potential_libs=`ls $i/$libname[.-]* 2>/dev/null`
+		    potential_libs=`ls $i/$libname[.-]* 2>/System/Devices/null`
 		    for potent_lib in $potential_libs; do
 		      # Follow soft links.
-		      if ls -lLd "$potent_lib" 2>/dev/null \
-			 | grep " -> " >/dev/null; then
+		      if ls -lLd "$potent_lib" 2>/System/Devices/null \
+			 | grep " -> " >/System/Devices/null; then
 			continue
 		      fi
 		      # The statement above tries to avoid entering an
@@ -2922,16 +2922,16 @@
 		      # loop can be closed while we follow links,
 		      # but so what?
 		      potlib="$potent_lib"
-		      while test -h "$potlib" 2>/dev/null; do
+		      while test -h "$potlib" 2>/System/Devices/null; do
 			potliblink=`ls -ld $potlib | sed 's/.* -> //'`
 			case $potliblink in
 			[\\/]* | [A-Za-z]:[\\/]*) potlib="$potliblink";;
 			*) potlib=`$echo "X$potlib" | $Xsed -e 's,[^/]*$,,'`"$potliblink";;
 			esac
 		      done
-		      if eval $file_magic_cmd \"\$potlib\" 2>/dev/null \
+		      if eval $file_magic_cmd \"\$potlib\" 2>/System/Devices/null \
 			 | sed 10q \
-			 | egrep "$file_magic_regex" > /dev/null; then
+			 | egrep "$file_magic_regex" > /System/Devices/null; then
 			newdeplibs="$newdeplibs $a_deplib"
 			a_deplib=""
 			break 2
@@ -2961,11 +2961,11 @@
 	    if test -n "$name" && test "$name" != "0"; then
 	      libname=`eval \\$echo \"$libname_spec\"`
 	      for i in $lib_search_path $sys_lib_search_path $shlib_search_path; do
-		potential_libs=`ls $i/$libname[.-]* 2>/dev/null`
+		potential_libs=`ls $i/$libname[.-]* 2>/System/Devices/null`
 		for potent_lib in $potential_libs; do
-		  if eval echo \"$potent_lib\" 2>/dev/null \
+		  if eval echo \"$potent_lib\" 2>/System/Devices/null \
 		      | sed 10q \
-		      | egrep "$match_pattern_regex" > /dev/null; then
+		      | egrep "$match_pattern_regex" > /System/Devices/null; then
 		    newdeplibs="$newdeplibs $a_deplib"
 		    a_deplib=""
 		    break 2
@@ -2990,7 +2990,7 @@
 	  newdeplibs=""
 	  if $echo "X $deplibs" | $Xsed -e 's/ -lc$//' \
 	       -e 's/ -[LR][^ ]*//g' -e 's/[ 	]//g' |
-	     grep . >/dev/null; then
+	     grep . >/System/Devices/null; then
 	    echo
 	    if test "X$deplibs_check_method" = "Xnone"; then
 	      echo "*** Warning: inter-library dependencies are not supported in this platform."
@@ -4068,7 +4068,7 @@
     if test \"X\$1\" = X--no-reexec; then
       # Discard the --no-reexec flag, and continue.
       shift
-    elif test \"X\`(\$echo '\t') 2>/dev/null\`\" = 'X\t'; then
+    elif test \"X\`(\$echo '\t') 2>/System/Devices/null\`\" = 'X\t'; then
       # Yippee, \$echo works!
       :
     else
@@ -4111,7 +4111,7 @@
   progdir=\"\$thisdir/$objdir\"
 
   if test ! -f \"\$progdir/\$program\" || \\
-     { file=\`ls -1dt \"\$progdir/\$program\" \"\$progdir/../\$program\" 2>/dev/null | sed 1q\`; \\
+     { file=\`ls -1dt \"\$progdir/\$program\" \"\$progdir/../\$program\" 2>/System/Devices/null | sed 1q\`; \\
        test \"X\$file\" != \"X\$progdir/\$program\"; }; then
 
     file=\"\$\$-\$program\"
@@ -4134,7 +4134,7 @@
       fi
     fi
 
-    $mv \"\$progdir/\$file\" \"\$progdir/\$program\" 2>/dev/null ||
+    $mv \"\$progdir/\$file\" \"\$progdir/\$program\" 2>/System/Devices/null ||
     { $rm \"\$progdir/\$program\";
       $mv \"\$progdir/\$file\" \"\$progdir/\$program\"; }
     $rm \"\$progdir/\$file\"
@@ -4317,7 +4317,7 @@
           if (for obj in $save_oldobjs
 	    do
 	      $echo "X$obj" | $Xsed -e 's%^.*/%%'
-	    done | sort | sort -uc >/dev/null 2>&1); then
+	    done | sort | sort -uc >/System/Devices/null 2>&1); then
 	    :
 	  else
 	    $echo "$modename: warning: object name conflicts; overriding AR_FLAGS to 'cq'" 1>&2
@@ -4494,9 +4494,9 @@
 
     # There may be an optional sh(1) argument at the beginning of
     # install_prog (especially on Windows NT).
-    if test "$nonopt" = "$SHELL" || test "$nonopt" = /bin/sh ||
+    if test "$nonopt" = "$SHELL" || test "$nonopt" = /System/Tools/sh ||
        # Allow the use of GNU shtool's install command.
-       $echo "X$nonopt" | $Xsed | grep shtool > /dev/null; then
+       $echo "X$nonopt" | $Xsed | grep shtool > /System/Devices/null; then
       # Aesthetically quote it.
       arg=`$echo "X$nonopt" | $Xsed -e "$sed_quote_subst"`
       case $arg in
@@ -4648,7 +4648,7 @@
 
       *.la)
 	# Check to see that this really is a libtool archive.
-	if (sed -e '2q' $file | egrep "^# Generated by .*$PACKAGE") >/dev/null 2>&1; then :
+	if (sed -e '2q' $file | egrep "^# Generated by .*$PACKAGE") >/System/Devices/null 2>&1; then :
 	else
 	  $echo "$modename: \`$file' is not a valid libtool archive" 1>&2
 	  $echo "$help" 1>&2
@@ -4797,7 +4797,7 @@
 	fi
 
 	# Do a test to see if this is really a libtool program.
-	if (sed -e '4q' $file | egrep "^# Generated by .*$PACKAGE") >/dev/null 2>&1; then
+	if (sed -e '4q' $file | egrep "^# Generated by .*$PACKAGE") >/System/Devices/null 2>&1; then
 	  notinst_deplibs=
 	  relink_command=
 
@@ -4999,8 +4999,8 @@
     if test -n "$admincmds"; then
       echo "   - have your system administrator run these commands:$admincmds"
     fi
-    if test -f /etc/ld.so.conf; then
-      echo "   - have your system administrator add LIBDIR to \`/etc/ld.so.conf'"
+    if test -f /System/Settings/ld.so.conf; then
+      echo "   - have your system administrator add LIBDIR to \`/System/Settings/ld.so.conf'"
     fi
     echo
     echo "See any operating system documentation about shared libraries for"
@@ -5033,7 +5033,7 @@
       case $file in
       *.la)
 	# Check to see that this really is a libtool archive.
-	if (sed -e '2q' $file | egrep "^# Generated by .*$PACKAGE") >/dev/null 2>&1; then :
+	if (sed -e '2q' $file | egrep "^# Generated by .*$PACKAGE") >/System/Devices/null 2>&1; then :
 	else
 	  $echo "$modename: \`$lib' is not a valid libtool archive" 1>&2
 	  $echo "$help" 1>&2
@@ -5104,7 +5104,7 @@
       -*) ;;
       *)
 	# Do a test to see if this is really a libtool program.
-	if (sed -e '4q' $file | egrep "^# Generated by .*$PACKAGE") >/dev/null 2>&1; then
+	if (sed -e '4q' $file | egrep "^# Generated by .*$PACKAGE") >/System/Devices/null 2>&1; then
 	  # If there is no directory component, then add one.
 	  case $file in
 	  */* | *\\*) . $file ;;
@@ -5197,8 +5197,8 @@
       fi
 
       # Don't error if the file doesn't exist and rm -f was used.
-      if (test -L "$file") >/dev/null 2>&1 \
-        || (test -h "$file") >/dev/null 2>&1 \
+      if (test -L "$file") >/System/Devices/null 2>&1 \
+        || (test -h "$file") >/System/Devices/null 2>&1 \
 	|| test -f "$file"; then
         :
       elif test -d "$file"; then
@@ -5213,7 +5213,7 @@
       case $name in
       *.la)
 	# Possibly a libtool archive, so verify it.
-	if (sed -e '2q' $file | egrep "^# Generated by .*$PACKAGE") >/dev/null 2>&1; then
+	if (sed -e '2q' $file | egrep "^# Generated by .*$PACKAGE") >/System/Devices/null 2>&1; then
 	  . $dir/$name
 
 	  # Delete the libtool libraries and symlinks.
@@ -5260,7 +5260,7 @@
 
       *.lo)
 	# Possibly a libtool object, so verify it.
-	if (sed -e '2q' $file | egrep "^# Generated by .*$PACKAGE") >/dev/null 2>&1; then
+	if (sed -e '2q' $file | egrep "^# Generated by .*$PACKAGE") >/System/Devices/null 2>&1; then
 
           # Read the .lo file
           . $dir/$name
@@ -5282,7 +5282,7 @@
       *)
 	# Do a test to see if this is a libtool program.
 	if test $mode = clean &&
-	   (sed -e '4q' $file | egrep "^# Generated by .*$PACKAGE") >/dev/null 2>&1; then
+	   (sed -e '4q' $file | egrep "^# Generated by .*$PACKAGE") >/System/Devices/null 2>&1; then
 	  relink_command=
 	  . $dir/$file
 
@@ -5301,7 +5301,7 @@
     for dir in $rmdirs; do
       if test -d "$dir"; then
 	$show "rmdir $dir"
-	$run rmdir $dir >/dev/null 2>&1
+	$run rmdir $dir >/System/Devices/null 2>&1
       fi
     done
 
diff -urN gcc-3.4.4/maintainer-scripts/gcc_release gcc-3.4.4-STEP/maintainer-scripts/gcc_release
--- gcc-3.4.4/maintainer-scripts/gcc_release	2004-11-11 09:17:33.000000000 +1300
+++ gcc-3.4.4-STEP/maintainer-scripts/gcc_release	2005-09-04 10:06:23.946643928 +1200
@@ -1,4 +1,4 @@
-#! /bin/sh
+#! /System/Tools/sh
 
 ########################################################################
 #
@@ -125,7 +125,7 @@
       # Update this ChangeLog file only if it does not yet contain the
       # entry we are going to add.  (This is a safety net for repeated
       # runs of this script for the same release.)
-      if ! grep "GCC ${RELEASE} released." ${x} > /dev/null ; then       
+      if ! grep "GCC ${RELEASE} released." ${x} > /System/Devices/null ; then       
         cat - ${x} > ${x}.new <<EOF
 ${LONG_DATE}  Release Manager
 
diff -urN gcc-3.4.4/maintainer-scripts/update_version gcc-3.4.4-STEP/maintainer-scripts/update_version
--- gcc-3.4.4/maintainer-scripts/update_version	2004-01-02 21:36:59.000000000 +1300
+++ gcc-3.4.4-STEP/maintainer-scripts/update_version	2005-09-04 10:06:23.947643776 +1200
@@ -1,4 +1,4 @@
-#!/bin/sh
+#!/System/Tools/sh
 #
 # Update the current version date in all files in the tree containing
 # it.  Consider all release branches except those matching the regular
@@ -11,9 +11,9 @@
 
 # Run this from /tmp.
 export CVSROOT
-/bin/rm -rf /tmp/$$
-/bin/mkdir /tmp/$$
-cd /tmp/$$
+/bin/rm -rf /System/TemporaryFiles/$$
+/bin/mkdir /System/TemporaryFiles/$$
+cd /System/TemporaryFiles/$$
 
 # The path to cvs.
 CVS=${CVS:-/usr/local/bin/cvs}
@@ -91,5 +91,5 @@
   rm -rf gcc
 done
 
-/bin/rm -rf /tmp/$$
+/bin/rm -rf /System/TemporaryFiles/$$
 exit $RESULT
diff -urN gcc-3.4.4/maintainer-scripts/update_web_docs gcc-3.4.4-STEP/maintainer-scripts/update_web_docs
--- gcc-3.4.4/maintainer-scripts/update_web_docs	2004-01-04 10:16:13.000000000 +1300
+++ gcc-3.4.4-STEP/maintainer-scripts/update_web_docs	2005-09-04 10:06:23.948643624 +1200
@@ -1,4 +1,4 @@
-#!/bin/sh -x
+#!/System/Tools/sh -x
 
 # Generate HTML documentation from GCC Texinfo docs.
 # This version is for GCC 3.1 and later versions.
@@ -76,7 +76,7 @@
   RELEASE=HEAD
 fi
 
-WORKDIR=/tmp/gcc-doc-update.$$
+WORKDIR=/System/TemporaryFiles/gcc-doc-update.$$
 
 /bin/rm -rf $WORKDIR
 /bin/mkdir $WORKDIR
@@ -105,7 +105,7 @@
   if [ "${filename}" ]; then
     makeinfo --html -I ${includedir} -I `dirname ${filename}` ${filename}
     tar cf ${file}-html.tar ${file}/*.html
-    texi2dvi -I ${includedir} ${filename} </dev/null && dvips -o ${file}.ps ${file}.dvi
+    texi2dvi -I ${includedir} ${filename} </System/Devices/null && dvips -o ${file}.ps ${file}.dvi
     mkdir -p $DOCSDIR/$file
   fi
 done
diff -urN gcc-3.4.4/maintainer-scripts/update_web_docs_libstdcxx gcc-3.4.4-STEP/maintainer-scripts/update_web_docs_libstdcxx
--- gcc-3.4.4/maintainer-scripts/update_web_docs_libstdcxx	2001-03-19 13:40:04.000000000 +1200
+++ gcc-3.4.4-STEP/maintainer-scripts/update_web_docs_libstdcxx	2005-09-04 10:06:23.949643472 +1200
@@ -1,4 +1,4 @@
-#!/bin/sh
+#!/System/Tools/sh
 
 
 # "sh update_web_docs_libstdcxx.sh"
@@ -13,7 +13,7 @@
 CVSROOT=/cvs/gcc
 GETTHIS='gcc/libstdc++-v3/docs/html'
 WWWDIR=/www/gcc/htdocs/onlinedocs/libstdc++
-#WWWDIR=/tmp/fake-onlinedocs-testing
+#WWWDIR=/System/TemporaryFiles/fake-onlinedocs-testing
 
 
 ## No more changes should be needed.  Ha, right, whatever.
@@ -26,7 +26,7 @@
 test -d $WWWDIR || /bin/mkdir $WWWDIR
 test -d $WWWDIR || { echo something is very wrong ; exit 1; }
 
-WORKDIR=/tmp/v3-doc-update.$$
+WORKDIR=/System/TemporaryFiles/v3-doc-update.$$
 /bin/rm -rf $WORKDIR
 /bin/mkdir $WORKDIR
 cd $WORKDIR
@@ -47,7 +47,7 @@
 
 # copy the tree to the onlinedocs area, preserve directory structure
 #find . -depth -print | cpio -pdv $WWWDIR
-find . -depth -print | cpio -pd $WWWDIR > /dev/null 2>&1
+find . -depth -print | cpio -pd $WWWDIR > /System/Devices/null 2>&1
 
 cd /
 /bin/rm -rf $WORKDIR
diff -urN gcc-3.4.4/maintainer-scripts/update_web_docs_old gcc-3.4.4-STEP/maintainer-scripts/update_web_docs_old
--- gcc-3.4.4/maintainer-scripts/update_web_docs_old	2002-08-29 09:11:19.000000000 +1200
+++ gcc-3.4.4-STEP/maintainer-scripts/update_web_docs_old	2005-09-04 10:06:23.950643320 +1200
@@ -1,4 +1,4 @@
-#!/bin/sh -x
+#!/System/Tools/sh -x
 
 # Generate HTML documentation from GCC Texinfo docs.
 # This version is for GCC 3.0.x and earlier versions.
@@ -76,7 +76,7 @@
   RELEASE=HEAD
 fi
 
-WORKDIR=/tmp/gcc-doc-update.$$
+WORKDIR=/System/TemporaryFiles/gcc-doc-update.$$
 
 /bin/rm -rf $WORKDIR
 /bin/mkdir $WORKDIR
@@ -101,7 +101,7 @@
   filename=`find . -name ${file}.texi`
   if [ "${filename}" ]; then
     /usr/local/bin/texi2html -glossary -menu -split_chapter -I ${includedir} ${filename}
-    texi2dvi -I ${includedir} ${filename} </dev/null && dvips -o ${file}.ps ${file}.dvi
+    texi2dvi -I ${includedir} ${filename} </System/Devices/null && dvips -o ${file}.ps ${file}.dvi
   fi
 done
 
diff -urN gcc-3.4.4/missing gcc-3.4.4-STEP/missing
--- gcc-3.4.4/missing	2003-07-20 21:40:28.000000000 +1200
+++ gcc-3.4.4-STEP/missing	2005-09-04 10:06:23.951643168 +1200
@@ -1,4 +1,4 @@
-#! /bin/sh
+#! /System/Tools/sh
 # Common stub for a few missing GNU programs while installing.
 # Copyright (C) 1996, 1997, 1999, 2000, 2002 Free Software Foundation, Inc.
 # Originally by Fran,cois Pinard <pinard@iro.umontreal.ca>, 1996.
@@ -88,7 +88,7 @@
     ;;
 
   aclocal*)
-    if test -z "$run" && ($1 --version) > /dev/null 2>&1; then
+    if test -z "$run" && ($1 --version) > /System/Devices/null 2>&1; then
        # We have it, but it failed.
        exit 1
     fi
@@ -102,7 +102,7 @@
     ;;
 
   autoconf)
-    if test -z "$run" && ($1 --version) > /dev/null 2>&1; then
+    if test -z "$run" && ($1 --version) > /System/Devices/null 2>&1; then
        # We have it, but it failed.
        exit 1
     fi
@@ -116,7 +116,7 @@
     ;;
 
   autoheader)
-    if test -z "$run" && ($1 --version) > /dev/null 2>&1; then
+    if test -z "$run" && ($1 --version) > /System/Devices/null 2>&1; then
        # We have it, but it failed.
        exit 1
     fi
@@ -140,7 +140,7 @@
     ;;
 
   automake*)
-    if test -z "$run" && ($1 --version) > /dev/null 2>&1; then
+    if test -z "$run" && ($1 --version) > /System/Devices/null 2>&1; then
        # We have it, but it failed.
        exit 1
     fi
@@ -156,7 +156,7 @@
     ;;
 
   autom4te)
-    if test -z "$run" && ($1 --version) > /dev/null 2>&1; then
+    if test -z "$run" && ($1 --version) > /System/Devices/null 2>&1; then
        # We have it, but it failed.
        exit 1
     fi
@@ -174,7 +174,7 @@
 	touch $file
     else
 	test -z "$file" || exec >$file
-	echo "#! /bin/sh"
+	echo "#! /System/Tools/sh"
 	echo "# Created by GNU Automake missing as a replacement of"
 	echo "#  $ $@"
 	echo "exit 0"
@@ -237,7 +237,7 @@
     ;;
 
   help2man)
-    if test -z "$run" && ($1 --version) > /dev/null 2>&1; then
+    if test -z "$run" && ($1 --version) > /System/Devices/null 2>&1; then
        # We have it, but it failed.
        exit 1
     fi
@@ -262,7 +262,7 @@
     ;;
 
   makeinfo)
-    if test -z "$run" && (makeinfo --version) > /dev/null 2>&1; then
+    if test -z "$run" && (makeinfo --version) > /System/Devices/null 2>&1; then
        # We have makeinfo, but it failed.
        exit 1
     fi
@@ -292,10 +292,10 @@
     # We have already tried tar in the generic part.
     # Look for gnutar/gtar before invocation to avoid ugly error
     # messages.
-    if (gnutar --version > /dev/null 2>&1); then
+    if (gnutar --version > /System/Devices/null 2>&1); then
        gnutar "$@" && exit 0
     fi
-    if (gtar --version > /dev/null 2>&1); then
+    if (gtar --version > /System/Devices/null 2>&1); then
        gtar "$@" && exit 0
     fi
     firstarg="$1"
diff -urN gcc-3.4.4/mkdep gcc-3.4.4-STEP/mkdep
--- gcc-3.4.4/mkdep	2000-07-22 20:08:22.000000000 +1200
+++ gcc-3.4.4-STEP/mkdep	2005-09-04 10:06:23.952643016 +1200
@@ -1,4 +1,4 @@
-#!/bin/sh -
+#!/System/Tools/sh -
 #
 # Copyright (c) 1987 Regents of the University of California.
 # All rights reserved.
@@ -47,7 +47,7 @@
 	exit 1
 fi
 
-TMP=/tmp/mkdep$$
+TMP=/System/TemporaryFiles/mkdep$$
 
 trap 'rm -f $TMP ; exit 1' 1 2 3 13 15
 
@@ -66,7 +66,7 @@
 # hack can't deal with anything that requires a search path, and doesn't
 # even try for anything using bracket (<>) syntax.
 #
-# egrep '^#include[ 	]*".*"' /dev/null $* |
+# egrep '^#include[ 	]*".*"' /System/Devices/null $* |
 # sed -e 's/:[^"]*"\([^"]*\)".*/: \1/' -e 's/\.c/.o/' |
 
 gcc -MM $* |
diff -urN gcc-3.4.4/mkinstalldirs gcc-3.4.4-STEP/mkinstalldirs
--- gcc-3.4.4/mkinstalldirs	2004-02-26 12:46:09.000000000 +1300
+++ gcc-3.4.4-STEP/mkinstalldirs	2005-09-04 10:06:23.953642864 +1200
@@ -1,4 +1,4 @@
-#! /bin/sh
+#! /System/Tools/sh
 # mkinstalldirs --- make directory hierarchy
 
 scriptversion=2004-02-15.20
@@ -74,7 +74,7 @@
 # ourselves to GNU mkdir, which is thread-safe.
 case $dirmode in
   '')
-    if mkdir -p --version . >/dev/null 2>&1 && test ! -d ./--version; then
+    if mkdir -p --version . >/System/Devices/null 2>&1 && test ! -d ./--version; then
       echo "mkdir -p -- $*"
       exec mkdir -p -- "$@"
     else
@@ -87,7 +87,7 @@
     fi
     ;;
   *)
-    if mkdir -m "$dirmode" -p --version . >/dev/null 2>&1 &&
+    if mkdir -m "$dirmode" -p --version . >/System/Devices/null 2>&1 &&
        test ! -d ./--version; then
       echo "mkdir -m $dirmode -p -- $*"
       exec mkdir -m "$dirmode" -p -- "$@"
diff -urN gcc-3.4.4/move-if-change gcc-3.4.4-STEP/move-if-change
--- gcc-3.4.4/move-if-change	1999-01-12 03:12:18.000000000 +1300
+++ gcc-3.4.4-STEP/move-if-change	2005-09-04 10:06:23.954642712 +1200
@@ -1,4 +1,4 @@
-#!/bin/sh
+#!/System/Tools/sh
 
 # Copyright (C) 1996 Free Software Foundation, Inc.
 #
@@ -20,7 +20,7 @@
 test -r $2
 then
 if
-cmp $1 $2 > /dev/null
+cmp $1 $2 > /System/Devices/null
 then
 echo $2 is unchanged
 rm -f $1
diff -urN gcc-3.4.4/symlink-tree gcc-3.4.4-STEP/symlink-tree
--- gcc-3.4.4/symlink-tree	2003-08-15 08:44:23.000000000 +1200
+++ gcc-3.4.4-STEP/symlink-tree	2005-09-04 10:06:23.955642560 +1200
@@ -1,4 +1,4 @@
-#!/bin/sh
+#!/System/Tools/sh
 # Create a symlink tree.
 #
 # Copyright (C) 1995, 2000, 2003  Free Software Foundation, Inc.
diff -urN gcc-3.4.4/ylwrap gcc-3.4.4-STEP/ylwrap
--- gcc-3.4.4/ylwrap	1998-10-09 12:26:54.000000000 +1300
+++ gcc-3.4.4-STEP/ylwrap	2005-09-04 10:06:23.956642408 +1200
@@ -1,4 +1,4 @@
-#! /bin/sh
+#! /System/Tools/sh
 # ylwrap - wrapper for lex/yacc invocations.
 # Copyright (C) 1996, 1997 Free Software Foundation, Inc.
 # Written by Tom Tromey <tromey@cygnus.com>.
@@ -53,7 +53,7 @@
 # We don't want to use the absolute path if the input in the current
 # directory like when making a tar ball.
 input_base=`echo $input | sed -e 's|.*/||'`
-if test -f $input_base && cmp $input_base $input >/dev/null 2>&1; then
+if test -f $input_base && cmp $input_base $input >/System/Devices/null 2>&1; then
   input=$input_base
 fi
 
@@ -70,7 +70,7 @@
 # FIXME: add hostname here for parallel makes that run commands on
 # other machines.  But that might take us over the 14-char limit.
 dirname=ylwrap$$
-trap "cd `pwd`; rm -rf $dirname > /dev/null 2>&1" 1 2 3 15
+trap "cd `pwd`; rm -rf $dirname > /System/Devices/null 2>&1" 1 2 3 15
 mkdir $dirname || exit 1
 
 cd $dirname
@@ -80,7 +80,7 @@
     ;;
  *)
     # Make a symbolic link, hard link or hardcopy.
-    ln -s ../"$input" . > /dev/null 2>&1 || ln ../"$input" . > /dev/null 2>&1 || cp ../"$input" .
+    ln -s ../"$input" . > /System/Devices/null 2>&1 || ln ../"$input" . > /System/Devices/null 2>&1 || cp ../"$input" .
     ;;
 esac
 $prog ${1+"$@"} "$input"
