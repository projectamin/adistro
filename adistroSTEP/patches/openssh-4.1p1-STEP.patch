diff -urN openssh-4.1p1/ChangeLog openssh-4.1p1-STEP/ChangeLog
--- openssh-4.1p1/ChangeLog	2005-05-26 00:24:56.000000000 +1200
+++ openssh-4.1p1-STEP/ChangeLog	2006-04-26 03:45:44.847377840 +1200
@@ -42,7 +42,7 @@
    ncsa.uiuc.edu; ok tim@
  - (dtucker) [regress/multiplex.sh] Remove cleanup call since test-exec.sh
    will clean up anyway.  From tim@
- - (dtucker) [regress/multiplex.sh] Put control socket in /tmp so running
+ - (dtucker) [regress/multiplex.sh] Put control socket in /System/TemporaryFiles so running
    "make tests" works even if you're building on a filesystem that doesn't
    support sockets.  From deengert at anl.gov, ok djm@
 
@@ -201,7 +201,7 @@
    - dtucker@cvs.openbsd.org 2005/02/27 11:33:30
      [multiplex.sh test-exec.sh sshd-log-wrapper.sh]
      Add optional capability to log output from regress commands; ok markus@
-     Use with: make TEST_SSH_LOGFILE=/tmp/regress.log
+     Use with: make TEST_SSH_LOGFILE=/System/TemporaryFiles/regress.log
    - djm@cvs.openbsd.org 2005/02/27 23:13:36
      [login-timeout.sh]
      avoid nameservice lookups in regress test; ok dtucker@
@@ -988,7 +988,7 @@
      [monitor.c monitor_wrap.c session.c session.h sshd.c sshlogin.c]
      Move "Last logged in at.." message generation to the monitor, right
      before recording the new login.  Fixes missing lastlog message when
-     /var/log/lastlog is not world-readable and incorrect datestamp when
+     /System/ApplicationData/log/lastlog is not world-readable and incorrect datestamp when
      multiple sessions are used (bz #463);  much assistance & ok markus@
 
 20040711
@@ -1066,7 +1066,7 @@
    - djm@cvs.openbsd.org 2004/06/25 18:43:36
      [sshd.c]
      fix broken fd handling in the re-exec fallback path, particularly when
-     /dev/crypto is in use; ok deraadt@ markus@
+     /System/Devices/crypto is in use; ok deraadt@ markus@
    - djm@cvs.openbsd.org 2004/06/25 23:21:38
      [sftp.c]
      bz #875: fix bad escape char error message; reported by f_mohr AT yahoo.de
@@ -1133,7 +1133,7 @@
    - djm@cvs.openbsd.org 2004/06/20 18:53:39
      [sftp.c]
      make "ls -l" listings print user/group names, add "ls -n" to show uid/gid
-     (like /bin/ls); idea & ok markus@
+     (like /System/Tools/ls); idea & ok markus@
    - djm@cvs.openbsd.org 2004/06/20 19:28:12
      [sftp.1]
      mention new -n flag
@@ -1153,7 +1153,7 @@
      mark fatal and cleanup exit as __dead; ok markus@
    - djm@cvs.openbsd.org 2004/06/21 22:04:50
      [sftp.c]
-     introduce sorting for ls, same options as /bin/ls; ok markus@
+     introduce sorting for ls, same options as /System/Tools/ls; ok markus@
    - djm@cvs.openbsd.org 2004/06/21 22:30:45
      [sftp.c]
      prefix ls option flags with LS_
@@ -2227,7 +2227,7 @@
    - Try to get permissions as correct as possible.
    - New command line options to allow full automated host configuration.
    - Create configs from skeletons in /etc/defaults/etc.
-   - Use /bin/bash, allows reading user input with readline support.
+   - Use /System/Tools/bash, allows reading user input with readline support.
    - Remove really old configs from /usr/local.
  - (dtucker) [auth-pam.c] Add newline to accumulated PAM_TEXT_INFO and
    PAM_ERROR_MSG messages.
diff -urN openssh-4.1p1/INSTALL openssh-4.1p1-STEP/INSTALL
--- openssh-4.1p1/INSTALL	2005-04-24 19:52:23.000000000 +1200
+++ openssh-4.1p1-STEP/INSTALL	2006-04-26 03:45:44.851377232 +1200
@@ -16,9 +16,9 @@
 supports it. PAM is standard on Redhat and Debian Linux, Solaris and
 HP-UX 11.
 
-NB. If you operating system supports /dev/random, you should configure
+NB. If you operating system supports /System/Devices/random, you should configure
 OpenSSL to use it. OpenSSH relies on OpenSSL's direct support of
-/dev/random. If you don't you will have to rely on ssh-rand-helper, which
+/System/Devices/random. If you don't you will have to rely on ssh-rand-helper, which
 is inferior to a good kernel-based solution.
 
 PAM:
@@ -45,7 +45,7 @@
 EGD:
 
 The Entropy Gathering Daemon (EGD) is supported if you have a system which
-lacks /dev/random and don't want to use OpenSSH's internal entropy collection.
+lacks /System/Devices/random and don't want to use OpenSSH's internal entropy collection.
 
 http://www.lothar.com/tech/crypto/
 
@@ -73,8 +73,8 @@
 make
 make install
 
-This will install the OpenSSH binaries in /usr/local/bin, configuration files
-in /usr/local/etc, the server in /usr/local/sbin, etc. To specify a different
+This will install the OpenSSH binaries in /usr/local/System/Tools, configuration files
+in /usr/local/etc, the server in /usr/local/System/AdminTools, etc. To specify a different
 installation prefix, use the --prefix option to configure:
 
 ./configure --prefix=/opt
@@ -99,7 +99,7 @@
 file as "/etc/pam.d/sshd" (or wherever your system prefers to keep
 them).  Note that the service name used to start PAM is __progname,
 which is the basename of the path of your sshd (e.g., the service name
-for /usr/sbin/osshd will be osshd).  If you have renamed your sshd
+for /System/AdminTools/osshd will be osshd).  If you have renamed your sshd
 executable, your PAM configuration may need to be modified.
 
 A generic PAM configuration is included as "contrib/sshd.pam.generic",
@@ -118,12 +118,12 @@
 
 --with-prngd-socket=/some/file allows you to enable EGD or PRNGD
 support and to specify a PRNGd socket. Use this if your Unix lacks
-/dev/random and you don't want to use OpenSSH's builtin entropy
+/System/Devices/random and you don't want to use OpenSSH's builtin entropy
 collection support.
 
 --with-prngd-port=portnum allows you to enable EGD or PRNGD support
 and to specify a EGD localhost TCP port. Use this if your Unix lacks
-/dev/random and you don't want to use OpenSSH's builtin entropy
+/System/Devices/random and you don't want to use OpenSSH's builtin entropy
 collection support.
 
 --with-lastlog=FILE will specify the location of the lastlog file.
diff -urN openssh-4.1p1/Makefile.in openssh-4.1p1-STEP/Makefile.in
--- openssh-4.1p1/Makefile.in	2005-02-26 12:12:38.000000000 +1300
+++ openssh-4.1p1-STEP/Makefile.in	2006-04-26 03:45:49.719637144 +1200
@@ -105,12 +105,12 @@
 	-e 's|/etc/ssh/ssh_host_key|$(sysconfdir)/ssh_host_key|g' \
 	-e 's|/etc/ssh/ssh_host_dsa_key|$(sysconfdir)/ssh_host_dsa_key|g' \
 	-e 's|/etc/ssh/ssh_host_rsa_key|$(sysconfdir)/ssh_host_rsa_key|g' \
-	-e 's|/var/run/sshd.pid|$(piddir)/sshd.pid|g' \
+	-e 's|/System/ApplicationData/RuntimeData/sshd.pid|$(piddir)/sshd.pid|g' \
 	-e 's|/etc/ssh/moduli|$(sysconfdir)/moduli|g' \
 	-e 's|/etc/sshrc|$(sysconfdir)/sshrc|g' \
-	-e 's|/usr/X11R6/bin/xauth|$(XAUTH_PATH)|g' \
-	-e 's|/var/empty|$(PRIVSEP_PATH)|g' \
-	-e 's|/usr/bin:/bin:/usr/sbin:/sbin|@user_path@|g'
+	-e 's|/usr/X11R6/System/Tools/xauth|$(XAUTH_PATH)|g' \
+	-e 's|/System/ApplicationData/empty|$(PRIVSEP_PATH)|g' \
+	-e 's|/System/Tools:/System/Tools:/System/AdminTools:/System/AdminTools|@user_path@|g'
 
 FIXPATHSCMD	= $(SED) $(PATHSUBS)
 
diff -urN openssh-4.1p1/README.privsep openssh-4.1p1-STEP/README.privsep
--- openssh-4.1p1/README.privsep	2004-10-06 23:09:32.000000000 +1300
+++ openssh-4.1p1-STEP/README.privsep	2006-04-26 03:45:49.725636232 +1200
@@ -13,7 +13,7 @@
 function.
 
 When privsep is enabled, during the pre-authentication phase sshd will
-chroot(2) to "/var/empty" and change its privileges to the "sshd" user
+chroot(2) to "/System/ApplicationData/empty" and change its privileges to the "sshd" user
 and its primary group.  sshd is a pseudo-account that should not be
 used by other daemons, and must be locked and should contain a
 "nologin" or invalid shell.
@@ -21,13 +21,13 @@
 You should do something like the following to prepare the privsep
 preauth environment:
 
-	# mkdir /var/empty
-	# chown root:sys /var/empty
-	# chmod 755 /var/empty
+	# mkdir /System/ApplicationData/empty
+	# chown root:sys /System/ApplicationData/empty
+	# chmod 755 /System/ApplicationData/empty
 	# groupadd sshd
-	# useradd -g sshd -c 'sshd privsep' -d /var/empty -s /bin/false sshd
+	# useradd -g sshd -c 'sshd privsep' -d /System/ApplicationData/empty -s /System/Tools/false sshd
 
-/var/empty should not contain any files.
+/System/ApplicationData/empty should not contain any files.
 
 configure supports the following options to change the default
 privsep user and chroot directory:
@@ -51,7 +51,7 @@
 Given the following process listing (from HP-UX):
 
      UID   PID  PPID  C    STIME TTY       TIME COMMAND
-    root  1005     1  0 10:45:17 ?         0:08 /opt/openssh/sbin/sshd -u0
+    root  1005     1  0 10:45:17 ?         0:08 /opt/openssh/System/AdminTools/sshd -u0
     root  6917  1005  0 15:19:16 ?         0:00 sshd: stevesk [priv]
  stevesk  6919  6917  0 15:19:17 ?         0:03 sshd: stevesk@2
  stevesk  6921  6919  0 15:19:17 pts/2     0:00 -bash
diff -urN openssh-4.1p1/TODO openssh-4.1p1-STEP/TODO
--- openssh-4.1p1/TODO	2004-12-07 00:40:11.000000000 +1300
+++ openssh-4.1p1-STEP/TODO	2006-04-26 03:45:54.790866200 +1200
@@ -70,9 +70,9 @@
 
 PrivSep Issues:
 - mmap() issues.
-  + /dev/zero solution (Solaris)
+  + /System/Devices/zero solution (Solaris)
   + No/broken MAP_ANON (Irix)
-  + broken /dev/zero parse (Linux)
+  + broken /System/Devices/zero parse (Linux)
 - PAM
   + See above PAM notes
 - AIX
diff -urN openssh-4.1p1/WARNING.RNG openssh-4.1p1-STEP/WARNING.RNG
--- openssh-4.1p1/WARNING.RNG	2004-12-07 00:40:11.000000000 +1300
+++ openssh-4.1p1-STEP/WARNING.RNG	2006-04-26 03:45:54.791866048 +1200
@@ -1,7 +1,7 @@
 This document contains a description of portable OpenSSH's random
 number collection code. An alternate reading of this text could
 well be titled "Why I should pressure my system vendor to supply
-/dev/random in their OS".
+/System/Devices/random in their OS".
 
 Why is this important? OpenSSH depends on good, unpredictable numbers
 for generating keys, performing digital signatures and forming
@@ -20,13 +20,13 @@
 collects random numbers and makes them available by a socket.
 
 Please also request that your OS vendor provides a kernel-based random
-number collector (/dev/random) in future versions of your operating
+number collector (/System/Devices/random) in future versions of your operating
 systems by default.
 
 On to the description...
 
 The portable OpenSSH contains random number collection support for
-systems which lack a kernel entropy pool (/dev/random).
+systems which lack a kernel entropy pool (/System/Devices/random).
 
 This collector (as of 3.1 and beyond) comes as an external application
 that allows the local admin to decide on how to implement entropy
@@ -86,7 +86,7 @@
 
 The best way is to read the OpenSSL documentation and recompile OpenSSL
 to use prngd or egd.  Some platforms (like earily solaris) have 3rd
-party /dev/random devices that can be also used for this task.
+party /System/Devices/random devices that can be also used for this task.
 
 If you are forced to use ssh-rand-helper consider still downloading
 prngd/egd and configure OpenSSH using --with-prngd-port=xx or
diff -urN openssh-4.1p1/acconfig.h openssh-4.1p1-STEP/acconfig.h
--- openssh-4.1p1/acconfig.h	2005-02-26 12:07:38.000000000 +1300
+++ openssh-4.1p1-STEP/acconfig.h	2006-04-26 03:45:54.796865288 +1200
@@ -220,10 +220,10 @@
 /* Define if you don't want to use wtmpx */
 #undef DISABLE_WTMPX
 
-/* Some systems need a utmpx entry for /bin/login to work */
+/* Some systems need a utmpx entry for /System/Tools/login to work */
 #undef LOGIN_NEEDS_UTMPX
 
-/* Some versions of /bin/login need the TERM supplied on the commandline */
+/* Some versions of /System/Tools/login need the TERM supplied on the commandline */
 #undef LOGIN_NEEDS_TERM
 
 /* Define if your login program cannot handle end of options ("--") */
@@ -335,10 +335,10 @@
 #undef HAVE_SS_FAMILY_IN_SS
 #undef HAVE___SS_FAMILY_IN_SS
 
-/* Define if you have /dev/ptmx */
+/* Define if you have /System/Devices/ptmx */
 #undef HAVE_DEV_PTMX
 
-/* Define if you have /dev/ptc */
+/* Define if you have /System/Devices/ptc */
 #undef HAVE_DEV_PTS_AND_PTC
 
 /* Define if you need to use IP address instead of hostname in $DISPLAY */
@@ -454,7 +454,7 @@
 /* Define if your resolver libs need this for getrrsetbyname */
 #undef BIND_8_COMPAT
 
-/* Define if you have /proc/$pid/fd */
+/* Define if you have /System/Processes/$pid/fd */
 #undef HAVE_PROC_PID
 
 @BOTTOM@
diff -urN openssh-4.1p1/auth-krb5.c openssh-4.1p1-STEP/auth-krb5.c
--- openssh-4.1p1/auth-krb5.c	2004-09-12 01:32:09.000000000 +1200
+++ openssh-4.1p1-STEP/auth-krb5.c	2006-04-26 03:45:59.831099968 +1200
@@ -146,7 +146,7 @@
 		goto out;
 	}
 
-	snprintf(ccname,sizeof(ccname),"FILE:/tmp/krb5cc_%d_XXXXXX",geteuid());
+	snprintf(ccname,sizeof(ccname),"FILE:/System/TemporaryFiles/krb5cc_%d_XXXXXX",geteuid());
 
 	old_umask = umask(0177);
 	tmpfd = mkstemp(ccname + strlen("FILE:"));
diff -urN openssh-4.1p1/auth.c openssh-4.1p1-STEP/auth.c
--- openssh-4.1p1/auth.c	2005-03-15 01:17:27.000000000 +1300
+++ openssh-4.1p1-STEP/auth.c	2006-04-26 03:46:05.171288136 +1200
@@ -128,7 +128,7 @@
 
 	/*
 	 * Get the shell from the password data.  An empty shell field is
-	 * legal, and means /bin/sh.
+	 * legal, and means /System/Tools/sh.
 	 */
 	shell = (pw->pw_shell[0] == '\0') ? _PATH_BSHELL : pw->pw_shell;
 
diff -urN openssh-4.1p1/buildpkg.sh.in openssh-4.1p1-STEP/buildpkg.sh.in
--- openssh-4.1p1/buildpkg.sh.in	2005-05-13 05:32:20.000000000 +1200
+++ openssh-4.1p1-STEP/buildpkg.sh.in	2006-04-26 03:46:16.584553056 +1200
@@ -1,4 +1,4 @@
-#!/bin/sh
+#!/System/Tools/sh
 #
 # Fake Root Solaris/SVR4/SVR5 Build System - Prototype
 #
@@ -14,12 +14,12 @@
 REMOVE_FAKE_ROOT_WHEN_DONE=yes
 #
 # uncommenting TEST_DIR and using
-# configure --prefix=/var/tmp --with-privsep-path=/var/tmp/empty
+# configure --prefix=/System/ApplicationData/TemporaryFiles --with-privsep-path=/System/ApplicationData/TemporaryFiles/empty
 # and
 # PKGNAME=tOpenSSH should allow testing a package without interfering
 # with a real OpenSSH package on a system. This is not needed on systems
 # that support the -R option to pkgadd.
-#TEST_DIR=/var/tmp	# leave commented out for production build
+#TEST_DIR=/System/ApplicationData/TemporaryFiles	# leave commented out for production build
 PKGNAME=OpenSSH
 # revisions within the same version (REV=a)
 #REV=
@@ -61,43 +61,43 @@
 /etc/rc2.d		\
 /etc/opt		\
 /opt			\
-/opt/bin		\
+/opt/System/Tools		\
 /usr			\
-/usr/bin		\
+/System/Tools		\
 /usr/lib		\
-/usr/sbin		\
+/System/AdminTools		\
 /usr/share		\
 /usr/share/man		\
 /usr/share/man/man1	\
 /usr/share/man/man8	\
 /usr/local		\
-/usr/local/bin		\
+/usr/local/System/Tools		\
 /usr/local/etc		\
 /usr/local/libexec	\
 /usr/local/man		\
 /usr/local/man/man1	\
 /usr/local/man/man8	\
-/usr/local/sbin		\
+/usr/local/System/AdminTools		\
 /usr/local/share	\
-/var			\
-/var/opt		\
-/var/run		\
-/var/tmp		\
-/tmp"
+/System/ApplicationData			\
+/System/ApplicationData/opt		\
+/System/ApplicationData/RuntimeData		\
+/System/ApplicationData/TemporaryFiles		\
+/System/TemporaryFiles"
 
 # We may need to build as root so we make sure PATH is set up
 # only set the path if it's not set already
-[ -d /opt/bin ]  &&  {
-	echo $PATH | grep ":/opt/bin"  > /dev/null 2>&1
-	[ $? -ne 0 ] && PATH=$PATH:/opt/bin
+[ -d /opt/System/Tools ]  &&  {
+	echo $PATH | grep ":/opt/System/Tools"  > /System/Devices/null 2>&1
+	[ $? -ne 0 ] && PATH=$PATH:/opt/System/Tools
 }
-[ -d /usr/local/bin ]  &&  {
-	echo $PATH | grep ":/usr/local/bin"  > /dev/null 2>&1
-	[ $? -ne 0 ] && PATH=$PATH:/usr/local/bin
+[ -d /usr/local/System/Tools ]  &&  {
+	echo $PATH | grep ":/usr/local/System/Tools"  > /System/Devices/null 2>&1
+	[ $? -ne 0 ] && PATH=$PATH:/usr/local/System/Tools
 }
-[ -d /usr/ccs/bin ]  &&  {
-	echo $PATH | grep ":/usr/ccs/bin"  > /dev/null 2>&1
-	[ $? -ne 0 ] && PATH=$PATH:/usr/ccs/bin
+[ -d /usr/ccs/System/Tools ]  &&  {
+	echo $PATH | grep ":/usr/ccs/System/Tools"  > /System/Devices/null 2>&1
+	[ $? -ne 0 ] && PATH=$PATH:/usr/ccs/System/Tools
 }
 export PATH
 #
@@ -138,7 +138,7 @@
 ARCH=`uname -m`
 DEF_MSG="\n"
 OS_VER=`uname -v`
-SCRIPT_SHELL=/sbin/sh
+SCRIPT_SHELL=/System/AdminTools/sh
 UNAME_S=`uname -s`
 case ${UNAME_S} in
 	SunOS)	UNAME_S=Solaris
@@ -148,7 +148,7 @@
 		;;
 	SCO_SV)	UNAME_S=OpenServer
 		OS_VER=`uname -X | grep Release | sed -e 's/^Rel.*3.2v//'`
-		SCRIPT_SHELL=/bin/sh
+		SCRIPT_SHELL=/System/Tools/sh
 		RC1_D=no
 		DEF_MSG="(default: n)"
 		;;
@@ -289,7 +289,7 @@
 	installf ${PKGNAME} \${PKG_INSTALL_ROOT}$TEST_DIR/etc/rc2.d/${SYSVINITSTART}${SYSVINIT_NAME}=\${PKG_INSTALL_ROOT}$TEST_DIR/etc/init.d/${SYSVINIT_NAME} l
 fi
 
-# If piddir doesn't exist we add it. (Ie. --with-pid-dir=/var/opt/ssh)
+# If piddir doesn't exist we add it. (Ie. --with-pid-dir=/System/ApplicationData/opt/ssh)
 [ -d $piddir ]  ||  installf ${PKGNAME} \${PKG_INSTALL_ROOT}$TEST_DIR$piddir d 0755 root sys
 
 _EOF
@@ -311,7 +311,7 @@
 	chroot=echo
 fi
 
-if egrep '^[ \t]*UsePrivilegeSeparation[ \t]+no' \${PKG_INSTALL_ROOT}/$sysconfdir/sshd_config >/dev/null
+if egrep '^[ \t]*UsePrivilegeSeparation[ \t]+no' \${PKG_INSTALL_ROOT}/$sysconfdir/sshd_config >/System/Devices/null
 then
 	echo "UsePrivilegeSeparation disabled in config, not creating PrivSep user"
 	echo "or group."
@@ -319,7 +319,7 @@
 	echo "UsePrivilegeSeparation enabled in config (or defaulting to on)."
 
 	# user required?
-	if cut -f1 -d: \${PKG_INSTALL_ROOT}/etc/passwd | egrep '^'$SSH_PRIVSEP_USER'\$' >/dev/null
+	if cut -f1 -d: \${PKG_INSTALL_ROOT}/etc/passwd | egrep '^'$SSH_PRIVSEP_USER'\$' >/System/Devices/null
 	then
 		echo "PrivSep user $SSH_PRIVSEP_USER already exists."
 		SSH_PRIVSEP_GROUP=\`grep "^$SSH_PRIVSEP_USER:" \${PKG_INSTALL_ROOT}/etc/passwd | awk -F: '{print \$4}'\`
@@ -330,7 +330,7 @@
 	[ -z "\$SSH_PRIVSEP_GROUP" ]  &&  SSH_PRIVSEP_GROUP=$SSH_PRIVSEP_USER
 
 	# group required?
-	if cut -f1 -d: \${PKG_INSTALL_ROOT}/etc/group | egrep '^'\$SSH_PRIVSEP_GROUP'\$' >/dev/null
+	if cut -f1 -d: \${PKG_INSTALL_ROOT}/etc/group | egrep '^'\$SSH_PRIVSEP_GROUP'\$' >/System/Devices/null
 	then
 		echo "PrivSep group \$SSH_PRIVSEP_GROUP already exists."
 	else
@@ -340,7 +340,7 @@
 	# create group if required
 	[ "\$DO_GROUP" = yes ]  &&  {
 		# Use gid of 67 if possible
-		if cut -f3 -d: \${PKG_INSTALL_ROOT}/etc/group | egrep '^'$SSHDGID'\$' >/dev/null
+		if cut -f3 -d: \${PKG_INSTALL_ROOT}/etc/group | egrep '^'$SSHDGID'\$' >/System/Devices/null
 		then
 			:
 		else
@@ -353,14 +353,14 @@
 	# Create user if required
 	[ "\$DO_PASSWD" = yes ]  &&  {
 		# Use uid of 67 if possible
-		if cut -f3 -d: \${PKG_INSTALL_ROOT}/etc/passwd | egrep '^'$SSHDGID'\$' >/dev/null
+		if cut -f3 -d: \${PKG_INSTALL_ROOT}/etc/passwd | egrep '^'$SSHDGID'\$' >/System/Devices/null
 		then
 			:
 		else
 			sshduid="-u $SSHDUID"
 		fi
 		echo "Creating PrivSep user $SSH_PRIVSEP_USER."
-		\$chroot ${PATH_USERADD_PROG} -c 'SSHD PrivSep User' -s /bin/false -g $SSH_PRIVSEP_USER \$sshduid $SSH_PRIVSEP_USER
+		\$chroot ${PATH_USERADD_PROG} -c 'SSHD PrivSep User' -s /System/Tools/false -g $SSH_PRIVSEP_USER \$sshduid $SSH_PRIVSEP_USER
 		\$chroot ${PATH_PASSWD_PROG} -l $SSH_PRIVSEP_USER
 	}
 fi
@@ -405,7 +405,7 @@
 
 _EOF
 
-[ -x /usr/bin/ckyorn ]  ||  cat >> request << _EOF
+[ -x /System/Tools/ckyorn ]  ||  cat >> request << _EOF
 
 ckyorn() {
 # for some strange reason OpenServer has no ckyorn
diff -urN openssh-4.1p1/clientloop.c openssh-4.1p1-STEP/clientloop.c
--- openssh-4.1p1/clientloop.c	2005-03-15 01:08:12.000000000 +1300
+++ openssh-4.1p1-STEP/clientloop.c	2006-04-26 03:46:34.640808088 +1200
@@ -88,7 +88,7 @@
 /* import options */
 extern Options options;
 
-/* Flag indicating that stdin should be redirected from /dev/null. */
+/* Flag indicating that stdin should be redirected from /System/Devices/null. */
 extern int stdin_null_flag;
 
 /* Flag indicating that no shell has been requested */
@@ -211,7 +211,7 @@
 /*
  * This is called when the interactive is entered.  This checks if there is
  * an EOF coming on stdin.  We must check this explicitly, as select() does
- * not appear to wake up when redirecting from /dev/null.
+ * not appear to wake up when redirecting from /System/Devices/null.
  */
 
 static void
@@ -221,12 +221,12 @@
 	char buf[1];
 
 	/*
-	 * If standard input is to be "redirected from /dev/null", we simply
+	 * If standard input is to be "redirected from /System/Devices/null", we simply
 	 * mark that we have seen an EOF and send an EOF message to the
 	 * server. Otherwise, we try to read a single character; it appears
-	 * that for some files, such /dev/null, select() never wakes up for
+	 * that for some files, such /System/Devices/null, select() never wakes up for
 	 * read for this descriptor, which means that we never get EOF.  This
-	 * way we will get the EOF if stdin comes from /dev/null or similar.
+	 * way we will get the EOF if stdin comes from /System/Devices/null or similar.
 	 */
 	if (stdin_null_flag) {
 		/* Fake EOF on stdin. */
diff -urN openssh-4.1p1/config.guess openssh-4.1p1-STEP/config.guess
--- openssh-4.1p1/config.guess	2005-04-24 13:17:30.000000000 +1200
+++ openssh-4.1p1-STEP/config.guess	2006-04-26 03:46:41.045834376 +1200
@@ -1,4 +1,4 @@
-#! /bin/sh
+#! /System/Tools/sh
 # Attempt to guess a canonical system name.
 #   Copyright (C) 1992, 1993, 1994, 1995, 1996, 1997, 1998, 1999,
 #   2000, 2001, 2002, 2003 Free Software Foundation, Inc.
@@ -101,10 +101,10 @@
 # Portable tmp directory creation inspired by the Autoconf team.
 
 set_cc_for_build='
-trap "exitcode=\$?; (rm -f \$tmpfiles 2>/dev/null; rmdir \$tmp 2>/dev/null) && exit \$exitcode" 0 ;
-trap "rm -f \$tmpfiles 2>/dev/null; rmdir \$tmp 2>/dev/null; exit 1" 1 2 13 15 ;
-: ${TMPDIR=/tmp} ;
- { tmp=`(umask 077 && mktemp -d -q "$TMPDIR/cgXXXXXX") 2>/dev/null` && test -n "$tmp" && test -d "$tmp" ; } ||
+trap "exitcode=\$?; (rm -f \$tmpfiles 2>/System/Devices/null; rmdir \$tmp 2>/System/Devices/null) && exit \$exitcode" 0 ;
+trap "rm -f \$tmpfiles 2>/System/Devices/null; rmdir \$tmp 2>/System/Devices/null; exit 1" 1 2 13 15 ;
+: ${TMPDIR=/System/TemporaryFiles} ;
+ { tmp=`(umask 077 && mktemp -d -q "$TMPDIR/cgXXXXXX") 2>/System/Devices/null` && test -n "$tmp" && test -d "$tmp" ; } ||
  { test -n "$RANDOM" && tmp=$TMPDIR/cg$$-$RANDOM && (umask 077 && mkdir $tmp) ; } ||
  { tmp=$TMPDIR/cg-$$ && (umask 077 && mkdir $tmp) && echo "Warning: creating insecure temp directory" >&2 ; } ||
  { echo "$me: cannot create a temporary directory in $TMPDIR" >&2 ; exit 1 ; } ;
@@ -113,7 +113,7 @@
 case $CC_FOR_BUILD,$HOST_CC,$CC in
  ,,)    echo "int x;" > $dummy.c ;
 	for c in cc gcc c89 c99 ; do
-	  if ($c -c -o $dummy.o $dummy.c) >/dev/null 2>&1 ; then
+	  if ($c -c -o $dummy.o $dummy.c) >/System/Devices/null 2>&1 ; then
 	     CC_FOR_BUILD="$c"; break ;
 	  fi ;
 	done ;
@@ -127,14 +127,14 @@
 
 # This is needed to find uname on a Pyramid OSx when run in the BSD universe.
 # (ghazi@noc.rutgers.edu 1994-08-24)
-if (test -f /.attbin/uname) >/dev/null 2>&1 ; then
+if (test -f /.attbin/uname) >/System/Devices/null 2>&1 ; then
 	PATH=$PATH:/.attbin ; export PATH
 fi
 
-UNAME_MACHINE=`(uname -m) 2>/dev/null` || UNAME_MACHINE=unknown
-UNAME_RELEASE=`(uname -r) 2>/dev/null` || UNAME_RELEASE=unknown
-UNAME_SYSTEM=`(uname -s) 2>/dev/null`  || UNAME_SYSTEM=unknown
-UNAME_VERSION=`(uname -v) 2>/dev/null` || UNAME_VERSION=unknown
+UNAME_MACHINE=`(uname -m) 2>/System/Devices/null` || UNAME_MACHINE=unknown
+UNAME_RELEASE=`(uname -r) 2>/System/Devices/null` || UNAME_RELEASE=unknown
+UNAME_SYSTEM=`(uname -s) 2>/System/Devices/null`  || UNAME_SYSTEM=unknown
+UNAME_VERSION=`(uname -v) 2>/System/Devices/null` || UNAME_VERSION=unknown
 
 # Note: order is significant - the case branches are not exclusive.
 
@@ -151,8 +151,8 @@
 	# Note: NetBSD doesn't particularly care about the vendor
 	# portion of the name.  We always set it to "unknown".
 	sysctl="sysctl -n hw.machine_arch"
-	UNAME_MACHINE_ARCH=`(/sbin/$sysctl 2>/dev/null || \
-	    /usr/sbin/$sysctl 2>/dev/null || echo unknown)`
+	UNAME_MACHINE_ARCH=`(/System/AdminTools/$sysctl 2>/System/Devices/null || \
+	    /System/AdminTools/$sysctl 2>/System/Devices/null || echo unknown)`
 	case "${UNAME_MACHINE_ARCH}" in
 	    armeb) machine=armeb-unknown ;;
 	    arm*) machine=arm-unknown ;;
@@ -165,8 +165,8 @@
 	case "${UNAME_MACHINE_ARCH}" in
 	    arm*|i386|m68k|ns32k|sh3*|sparc|vax)
 		eval $set_cc_for_build
-		if echo __ELF__ | $CC_FOR_BUILD -E - 2>/dev/null \
-			| grep __ELF__ >/dev/null
+		if echo __ELF__ | $CC_FOR_BUILD -E - 2>/System/Devices/null \
+			| grep __ELF__ >/System/Devices/null
 		then
 		    # Once all utilities can be ECOFF (netbsdecoff) or a.out (netbsdaout).
 		    # Return netbsd for either.  FIX?
@@ -238,13 +238,13 @@
 	exit 0 ;;
     alpha:OSF1:*:*)
 	if test $UNAME_RELEASE = "V4.0"; then
-		UNAME_RELEASE=`/usr/sbin/sizer -v | awk '{print $3}'`
+		UNAME_RELEASE=`/System/AdminTools/sizer -v | awk '{print $3}'`
 	fi
-	# According to Compaq, /usr/sbin/psrinfo has been available on
+	# According to Compaq, /System/AdminTools/psrinfo has been available on
 	# OSF/1 and Tru64 systems produced since 1995.  I hope that
 	# covers most systems running today.  This code pipes the CPU
 	# types through head -n 1, so we only detect the type of CPU 0.
-	ALPHA_CPU_TYPE=`/usr/sbin/psrinfo -v | sed -n -e 's/^  The alpha \(.*\) processor.*$/\1/p' | head -n 1`
+	ALPHA_CPU_TYPE=`/System/AdminTools/psrinfo -v | sed -n -e 's/^  The alpha \(.*\) processor.*$/\1/p' | head -n 1`
 	case "$ALPHA_CPU_TYPE" in
 	    "EV4 (21064)")
 		UNAME_MACHINE="alpha" ;;
@@ -315,7 +315,7 @@
 	exit 0;;
     Pyramid*:OSx*:*:* | MIS*:OSx*:*:* | MIS*:SMP_DC-OSx*:*:*)
 	# akee@wpdis03.wpafb.af.mil (Earle F. Ake) contributed MIS and NILE.
-	if test "`(/bin/universe) 2>/dev/null`" = att ; then
+	if test "`(/System/Tools/universe) 2>/System/Devices/null`" = att ; then
 		echo pyramid-pyramid-sysv3
 	else
 		echo pyramid-pyramid-bsd
@@ -328,7 +328,7 @@
 	echo sparc-icl-nx6
 	exit 0 ;;
     DRS?6000:UNIX_SV:4.2*:7*)
-	case `/usr/bin/uname -p` in
+	case `/System/Tools/uname -p` in
 	    sparc) echo sparc-icl-nx7 && exit 0 ;;
 	esac ;;
     sun4H:SunOS:5.*:*)
@@ -347,7 +347,7 @@
 	echo sparc-sun-solaris3`echo ${UNAME_RELEASE}|sed -e 's/[^.]*//'`
 	exit 0 ;;
     sun4*:SunOS:*:*)
-	case "`/usr/bin/arch -k`" in
+	case "`/System/Tools/arch -k`" in
 	    Series*|S4*)
 		UNAME_RELEASE=`uname -v`
 		;;
@@ -359,9 +359,9 @@
 	echo m68k-sun-sunos${UNAME_RELEASE}
 	exit 0 ;;
     sun*:*:4.2BSD:*)
-	UNAME_RELEASE=`(sed 1q /etc/motd | awk '{print substr($5,1,3)}') 2>/dev/null`
+	UNAME_RELEASE=`(sed 1q /etc/motd | awk '{print substr($5,1,3)}') 2>/System/Devices/null`
 	test "x${UNAME_RELEASE}" = "x" && UNAME_RELEASE=3
-	case "`/bin/arch`" in
+	case "`/System/Tools/arch`" in
 	    sun3)
 		echo m68k-sun-sunos${UNAME_RELEASE}
 		;;
@@ -465,7 +465,7 @@
 	exit 0 ;;
     AViiON:dgux:*:*)
         # DG/UX returns AViiON for all architectures
-        UNAME_PROCESSOR=`/usr/bin/uname -p`
+        UNAME_PROCESSOR=`/System/Tools/uname -p`
 	if [ $UNAME_PROCESSOR = mc88100 ] || [ $UNAME_PROCESSOR = mc88110 ]
 	then
 	    if [ ${TARGET_BINARY_INTERFACE}x = m88kdguxelfx ] || \
@@ -502,15 +502,15 @@
 	echo i386-ibm-aix
 	exit 0 ;;
     ia64:AIX:*:*)
-	if [ -x /usr/bin/oslevel ] ; then
-		IBM_REV=`/usr/bin/oslevel`
+	if [ -x /System/Tools/oslevel ] ; then
+		IBM_REV=`/System/Tools/oslevel`
 	else
 		IBM_REV=${UNAME_VERSION}.${UNAME_RELEASE}
 	fi
 	echo ${UNAME_MACHINE}-ibm-aix${IBM_REV}
 	exit 0 ;;
     *:AIX:2:3)
-	if grep bos325 /usr/include/stdio.h >/dev/null 2>&1; then
+	if grep bos325 /usr/include/stdio.h >/System/Devices/null 2>&1; then
 		eval $set_cc_for_build
 		sed 's/^		//' << EOF >$dummy.c
 		#include <sys/systemcfg.h>
@@ -525,21 +525,21 @@
 EOF
 		$CC_FOR_BUILD -o $dummy $dummy.c && $dummy && exit 0
 		echo rs6000-ibm-aix3.2.5
-	elif grep bos324 /usr/include/stdio.h >/dev/null 2>&1; then
+	elif grep bos324 /usr/include/stdio.h >/System/Devices/null 2>&1; then
 		echo rs6000-ibm-aix3.2.4
 	else
 		echo rs6000-ibm-aix3.2
 	fi
 	exit 0 ;;
     *:AIX:*:[45])
-	IBM_CPU_ID=`/usr/sbin/lsdev -C -c processor -S available | sed 1q | awk '{ print $1 }'`
-	if /usr/sbin/lsattr -El ${IBM_CPU_ID} | grep ' POWER' >/dev/null 2>&1; then
+	IBM_CPU_ID=`/System/AdminTools/lsdev -C -c processor -S available | sed 1q | awk '{ print $1 }'`
+	if /System/AdminTools/lsattr -El ${IBM_CPU_ID} | grep ' POWER' >/System/Devices/null 2>&1; then
 		IBM_ARCH=rs6000
 	else
 		IBM_ARCH=powerpc
 	fi
-	if [ -x /usr/bin/oslevel ] ; then
-		IBM_REV=`/usr/bin/oslevel`
+	if [ -x /System/Tools/oslevel ] ; then
+		IBM_REV=`/System/Tools/oslevel`
 	else
 		IBM_REV=${UNAME_VERSION}.${UNAME_RELEASE}
 	fi
@@ -572,9 +572,9 @@
 	    9000/31? )            HP_ARCH=m68000 ;;
 	    9000/[34]?? )         HP_ARCH=m68k ;;
 	    9000/[678][0-9][0-9])
-		if [ -x /usr/bin/getconf ]; then
-		    sc_cpu_version=`/usr/bin/getconf SC_CPU_VERSION 2>/dev/null`
-                    sc_kernel_bits=`/usr/bin/getconf SC_KERNEL_BITS 2>/dev/null`
+		if [ -x /System/Tools/getconf ]; then
+		    sc_cpu_version=`/System/Tools/getconf SC_CPU_VERSION 2>/System/Devices/null`
+                    sc_kernel_bits=`/System/Tools/getconf SC_KERNEL_BITS 2>/System/Devices/null`
                     case "${sc_cpu_version}" in
                       523) HP_ARCH="hppa1.0" ;; # CPU_PA_RISC1_0
                       528) HP_ARCH="hppa1.1" ;; # CPU_PA_RISC1_1
@@ -621,7 +621,7 @@
                   exit (0);
               }
 EOF
-		    (CCOPTS= $CC_FOR_BUILD -o $dummy $dummy.c 2>/dev/null) && HP_ARCH=`$dummy`
+		    (CCOPTS= $CC_FOR_BUILD -o $dummy $dummy.c 2>/System/Devices/null) && HP_ARCH=`$dummy`
 		    test -z "$HP_ARCH" && HP_ARCH=hppa
 		fi ;;
 	esac
@@ -629,7 +629,7 @@
 	then
 	    # avoid double evaluation of $set_cc_for_build
 	    test -n "$CC_FOR_BUILD" || eval $set_cc_for_build
-	    if echo __LP64__ | (CCOPTS= $CC_FOR_BUILD -E -) | grep __LP64__ >/dev/null
+	    if echo __LP64__ | (CCOPTS= $CC_FOR_BUILD -E -) | grep __LP64__ >/System/Devices/null
 	    then
 		HP_ARCH="hppa2.0w"
 	    else
@@ -688,7 +688,7 @@
 	echo hppa1.0-hp-osf
 	exit 0 ;;
     i*86:OSF1:*:*)
-	if [ -x /usr/sbin/sysversion ] ; then
+	if [ -x /System/AdminTools/sysversion ] ; then
 	    echo ${UNAME_MACHINE}-unknown-osf1mk
 	else
 	    echo ${UNAME_MACHINE}-unknown-osf1
@@ -762,7 +762,7 @@
 	LIBC=
 	#endif
 EOF
-	eval `$CC_FOR_BUILD -E $dummy.c 2>/dev/null | grep ^LIBC=`
+	eval `$CC_FOR_BUILD -E $dummy.c 2>/System/Devices/null | grep ^LIBC=`
 	# GNU/FreeBSD systems have a "k" prefix to indicate we are using
 	# FreeBSD's kernel, but not the complete OS.
 	case ${LIBC} in gnu) kernel_only='k' ;; esac
@@ -832,7 +832,7 @@
 	#endif
 	#endif
 EOF
-	eval `$CC_FOR_BUILD -E $dummy.c 2>/dev/null | grep ^CPU=`
+	eval `$CC_FOR_BUILD -E $dummy.c 2>/System/Devices/null | grep ^CPU=`
 	test x"${CPU}" != x && echo "${CPU}-unknown-linux-gnu" && exit 0
 	;;
     mips64:Linux:*:*)
@@ -851,7 +851,7 @@
 	#endif
 	#endif
 EOF
-	eval `$CC_FOR_BUILD -E $dummy.c 2>/dev/null | grep ^CPU=`
+	eval `$CC_FOR_BUILD -E $dummy.c 2>/System/Devices/null | grep ^CPU=`
 	test x"${CPU}" != x && echo "${CPU}-unknown-linux-gnu" && exit 0
 	;;
     ppc:Linux:*:*)
@@ -861,7 +861,7 @@
 	echo powerpc64-unknown-linux-gnu
 	exit 0 ;;
     alpha:Linux:*:*)
-	case `sed -n '/^cpu model/s/^.*: \(.*\)/\1/p' < /proc/cpuinfo` in
+	case `sed -n '/^cpu model/s/^.*: \(.*\)/\1/p' < /System/Processes/cpuinfo` in
 	  EV5)   UNAME_MACHINE=alphaev5 ;;
 	  EV56)  UNAME_MACHINE=alphaev56 ;;
 	  PCA56) UNAME_MACHINE=alphapca56 ;;
@@ -870,13 +870,13 @@
 	  EV67)  UNAME_MACHINE=alphaev67 ;;
 	  EV68*) UNAME_MACHINE=alphaev68 ;;
         esac
-	objdump --private-headers /bin/sh | grep ld.so.1 >/dev/null
+	objdump --private-headers /System/Tools/sh | grep ld.so.1 >/System/Devices/null
 	if test "$?" = 0 ; then LIBC="libc1" ; else LIBC="" ; fi
 	echo ${UNAME_MACHINE}-unknown-linux-gnu${LIBC}
 	exit 0 ;;
     parisc:Linux:*:* | hppa:Linux:*:*)
 	# Look for CPU level
-	case `grep '^cpu[^a-z]*:' /proc/cpuinfo 2>/dev/null | cut -d' ' -f2` in
+	case `grep '^cpu[^a-z]*:' /System/Processes/cpuinfo 2>/System/Devices/null | cut -d' ' -f2` in
 	  PA7*) echo hppa1.1-unknown-linux-gnu ;;
 	  PA8*) echo hppa2.0-unknown-linux-gnu ;;
 	  *)    echo hppa-unknown-linux-gnu ;;
@@ -952,7 +952,7 @@
 	LIBC=dietlibc
 	#endif
 EOF
-	eval `$CC_FOR_BUILD -E $dummy.c 2>/dev/null | grep ^LIBC=`
+	eval `$CC_FOR_BUILD -E $dummy.c 2>/System/Devices/null | grep ^LIBC=`
 	test x"${LIBC}" != x && echo "${UNAME_MACHINE}-pc-linux-${LIBC}" && exit 0
 	test x"${TENTATIVE}" != x && echo "${TENTATIVE}" && exit 0
 	;;
@@ -989,7 +989,7 @@
 	exit 0 ;;
     i*86:*:4.*:* | i*86:SYSTEM_V:4.*:*)
 	UNAME_REL=`echo ${UNAME_RELEASE} | sed 's/\/MP$//'`
-	if grep Novell /usr/include/link.h >/dev/null 2>/dev/null; then
+	if grep Novell /usr/include/link.h >/System/Devices/null 2>/System/Devices/null; then
 		echo ${UNAME_MACHINE}-univel-sysv${UNAME_REL}
 	else
 		echo ${UNAME_MACHINE}-pc-sysv${UNAME_REL}
@@ -997,7 +997,7 @@
 	exit 0 ;;
     i*86:*:5:[678]*)
 	# Unixware 7.x, OpenUNIX 8, & OpenServer 6
-	case `/bin/uname -X | grep "^Machine"` in
+	case `/System/Tools/uname -X | grep "^Machine"` in
 	    *486*)	     UNAME_MACHINE=i486 ;;
 	    *Pentium)	     UNAME_MACHINE=i586 ;;
 	    *Pent*|*Celeron) UNAME_MACHINE=i686 ;;
@@ -1008,14 +1008,14 @@
 	if test -f /usr/options/cb.name; then
 		UNAME_REL=`sed -n 's/.*Version //p' </usr/options/cb.name`
 		echo ${UNAME_MACHINE}-pc-isc$UNAME_REL
-	elif /bin/uname -X 2>/dev/null >/dev/null ; then
-		UNAME_REL=`(/bin/uname -X|grep Release|sed -e 's/.*= //')`
-		(/bin/uname -X|grep i80486 >/dev/null) && UNAME_MACHINE=i486
-		(/bin/uname -X|grep '^Machine.*Pentium' >/dev/null) \
+	elif /System/Tools/uname -X 2>/System/Devices/null >/System/Devices/null ; then
+		UNAME_REL=`(/System/Tools/uname -X|grep Release|sed -e 's/.*= //')`
+		(/System/Tools/uname -X|grep i80486 >/System/Devices/null) && UNAME_MACHINE=i486
+		(/System/Tools/uname -X|grep '^Machine.*Pentium' >/System/Devices/null) \
 			&& UNAME_MACHINE=i586
-		(/bin/uname -X|grep '^Machine.*Pent *II' >/dev/null) \
+		(/System/Tools/uname -X|grep '^Machine.*Pent *II' >/System/Devices/null) \
 			&& UNAME_MACHINE=i686
-		(/bin/uname -X|grep '^Machine.*Pentium Pro' >/dev/null) \
+		(/System/Tools/uname -X|grep '^Machine.*Pentium Pro' >/System/Devices/null) \
 			&& UNAME_MACHINE=i686
 		echo ${UNAME_MACHINE}-pc-sco$UNAME_REL
 	else
@@ -1035,7 +1035,7 @@
 	echo i860-intel-osf1
 	exit 0 ;;
     i860:*:4.*:*) # i860-SVR4
-	if grep Stardent /usr/include/sys/uadmin.h >/dev/null 2>&1 ; then
+	if grep Stardent /usr/include/sys/uadmin.h >/System/Devices/null 2>&1 ; then
 	  echo i860-stardent-sysv${UNAME_RELEASE} # Stardent Vistra i860-SVR4
 	else # Add other i860-SVR4 vendors below as they are discovered.
 	  echo i860-unknown-sysv${UNAME_RELEASE}  # Unknown i860-SVR4
@@ -1057,12 +1057,12 @@
 	OS_REL=''
 	test -r /etc/.relid \
 	&& OS_REL=.`sed -n 's/[^ ]* [^ ]* \([0-9][0-9]\).*/\1/p' < /etc/.relid`
-	/bin/uname -p 2>/dev/null | grep 86 >/dev/null \
+	/System/Tools/uname -p 2>/System/Devices/null | grep 86 >/System/Devices/null \
 	  && echo i486-ncr-sysv4.3${OS_REL} && exit 0
-	/bin/uname -p 2>/dev/null | /bin/grep entium >/dev/null \
+	/System/Tools/uname -p 2>/System/Devices/null | /System/Tools/grep entium >/System/Devices/null \
 	  && echo i586-ncr-sysv4.3${OS_REL} && exit 0 ;;
     3[34]??:*:4.0:* | 3[34]??,*:*:4.0:*)
-        /bin/uname -p 2>/dev/null | grep 86 >/dev/null \
+        /System/Tools/uname -p 2>/System/Devices/null | grep 86 >/System/Devices/null \
           && echo i486-ncr-sysv4 && exit 0 ;;
     m68*:LynxOS:2.*:* | m68*:LynxOS:3.0*:*)
 	echo m68k-unknown-lynxos${UNAME_RELEASE}
@@ -1089,8 +1089,8 @@
 	echo mips-sni-sysv4
 	exit 0 ;;
     *:SINIX-*:*:*)
-	if uname -p 2>/dev/null >/dev/null ; then
-		UNAME_MACHINE=`(uname -p) 2>/dev/null`
+	if uname -p 2>/System/Devices/null >/System/Devices/null ; then
+		UNAME_MACHINE=`(uname -p) 2>/System/Devices/null`
 		echo ${UNAME_MACHINE}-sni-sysv4
 	else
 		echo ns32k-sni-sysv
@@ -1255,7 +1255,7 @@
 #define __ARCHITECTURE__ "m68k"
 #endif
   int version;
-  version=`(hostinfo | sed -n 's/.*NeXT Mach \([0-9]*\).*/\1/p') 2>/dev/null`;
+  version=`(hostinfo | sed -n 's/.*NeXT Mach \([0-9]*\).*/\1/p') 2>/System/Devices/null`;
   if (version < 4)
     printf ("%s-next-nextstep%d\n", __ARCHITECTURE__, version);
   else
@@ -1332,7 +1332,7 @@
 }
 EOF
 
-$CC_FOR_BUILD -o $dummy $dummy.c 2>/dev/null && $dummy && exit 0
+$CC_FOR_BUILD -o $dummy $dummy.c 2>/System/Devices/null && $dummy && exit 0
 
 # Apollos put the system type in the environment.
 
@@ -1380,20 +1380,20 @@
 
 config.guess timestamp = $timestamp
 
-uname -m = `(uname -m) 2>/dev/null || echo unknown`
-uname -r = `(uname -r) 2>/dev/null || echo unknown`
-uname -s = `(uname -s) 2>/dev/null || echo unknown`
-uname -v = `(uname -v) 2>/dev/null || echo unknown`
-
-/usr/bin/uname -p = `(/usr/bin/uname -p) 2>/dev/null`
-/bin/uname -X     = `(/bin/uname -X) 2>/dev/null`
-
-hostinfo               = `(hostinfo) 2>/dev/null`
-/bin/universe          = `(/bin/universe) 2>/dev/null`
-/usr/bin/arch -k       = `(/usr/bin/arch -k) 2>/dev/null`
-/bin/arch              = `(/bin/arch) 2>/dev/null`
-/usr/bin/oslevel       = `(/usr/bin/oslevel) 2>/dev/null`
-/usr/convex/getsysinfo = `(/usr/convex/getsysinfo) 2>/dev/null`
+uname -m = `(uname -m) 2>/System/Devices/null || echo unknown`
+uname -r = `(uname -r) 2>/System/Devices/null || echo unknown`
+uname -s = `(uname -s) 2>/System/Devices/null || echo unknown`
+uname -v = `(uname -v) 2>/System/Devices/null || echo unknown`
+
+/System/Tools/uname -p = `(/System/Tools/uname -p) 2>/System/Devices/null`
+/System/Tools/uname -X     = `(/System/Tools/uname -X) 2>/System/Devices/null`
+
+hostinfo               = `(hostinfo) 2>/System/Devices/null`
+/System/Tools/universe          = `(/System/Tools/universe) 2>/System/Devices/null`
+/System/Tools/arch -k       = `(/System/Tools/arch -k) 2>/System/Devices/null`
+/System/Tools/arch              = `(/System/Tools/arch) 2>/System/Devices/null`
+/System/Tools/oslevel       = `(/System/Tools/oslevel) 2>/System/Devices/null`
+/usr/convex/getsysinfo = `(/usr/convex/getsysinfo) 2>/System/Devices/null`
 
 UNAME_MACHINE = ${UNAME_MACHINE}
 UNAME_RELEASE = ${UNAME_RELEASE}
diff -urN openssh-4.1p1/config.h.in openssh-4.1p1-STEP/config.h.in
--- openssh-4.1p1/config.h.in	2005-05-26 00:26:09.000000000 +1200
+++ openssh-4.1p1-STEP/config.h.in	2006-04-26 03:49:33.663592488 +1200
@@ -220,10 +220,10 @@
 /* Define if you don't want to use wtmpx */
 #undef DISABLE_WTMPX
 
-/* Some systems need a utmpx entry for /bin/login to work */
+/* Some systems need a utmpx entry for /System/Tools/login to work */
 #undef LOGIN_NEEDS_UTMPX
 
-/* Some versions of /bin/login need the TERM supplied on the commandline */
+/* Some versions of /System/Tools/login need the TERM supplied on the commandline */
 #undef LOGIN_NEEDS_TERM
 
 /* Define if your login program cannot handle end of options ("--") */
@@ -335,10 +335,10 @@
 #undef HAVE_SS_FAMILY_IN_SS
 #undef HAVE___SS_FAMILY_IN_SS
 
-/* Define if you have /dev/ptmx */
+/* Define if you have /System/Devices/ptmx */
 #undef HAVE_DEV_PTMX
 
-/* Define if you have /dev/ptc */
+/* Define if you have /System/Devices/ptc */
 #undef HAVE_DEV_PTS_AND_PTC
 
 /* Define if you need to use IP address instead of hostname in $DISPLAY */
@@ -454,7 +454,7 @@
 /* Define if your resolver libs need this for getrrsetbyname */
 #undef BIND_8_COMPAT
 
-/* Define if you have /proc/$pid/fd */
+/* Define if you have /System/Processes/$pid/fd */
 #undef HAVE_PROC_PID
 
 
diff -urN openssh-4.1p1/config.sub openssh-4.1p1-STEP/config.sub
--- openssh-4.1p1/config.sub	2004-04-21 14:29:14.000000000 +1200
+++ openssh-4.1p1-STEP/config.sub	2006-04-26 03:46:47.164904136 +1200
@@ -1,4 +1,4 @@
-#! /bin/sh
+#! /System/Tools/sh
 # Configuration validation subroutine script.
 #   Copyright (C) 1992, 1993, 1994, 1995, 1996, 1997, 1998, 1999,
 #   2000, 2001, 2002, 2003 Free Software Foundation, Inc.
diff -urN openssh-4.1p1/configure openssh-4.1p1-STEP/configure
--- openssh-4.1p1/configure	2005-05-26 00:26:12.000000000 +1200
+++ openssh-4.1p1-STEP/configure	2006-04-26 04:03:49.372504960 +1200
@@ -1,4 +1,4 @@
-#! /bin/sh
+#! /System/Tools/sh
 # Guess values for system-dependent variables and create Makefiles.
 # Generated by GNU Autoconf 2.59 for OpenSSH Portable.
 #
@@ -10,19 +10,19 @@
 ## --------------------- ##
 
 # Be Bourne compatible
-if test -n "${ZSH_VERSION+set}" && (emulate sh) >/dev/null 2>&1; then
+if test -n "${ZSH_VERSION+set}" && (emulate sh) >/System/Devices/null 2>&1; then
   emulate sh
   NULLCMD=:
   # Zsh 3.x and 4.x performs word splitting on ${1+"$@"}, which
   # is contrary to our usage.  Disable this feature.
   alias -g '${1+"$@"}'='"$@"'
-elif test -n "${BASH_VERSION+set}" && (set -o posix) >/dev/null 2>&1; then
+elif test -n "${BASH_VERSION+set}" && (set -o posix) >/System/Devices/null 2>&1; then
   set -o posix
 fi
 DUALCASE=1; export DUALCASE # for MKS sh
 
 # Support unset when possible.
-if ( (MAIL=60; unset MAIL) || exit) >/dev/null 2>&1; then
+if ( (MAIL=60; unset MAIL) || exit) >/System/Devices/null 2>&1; then
   as_unset=unset
 else
   as_unset=false
@@ -49,13 +49,13 @@
 done
 
 # Required to use basename.
-if expr a : '\(a\)' >/dev/null 2>&1; then
+if expr a : '\(a\)' >/System/Devices/null 2>&1; then
   as_expr=expr
 else
   as_expr=false
 fi
 
-if (basename /) >/dev/null 2>&1 && test "X`basename / 2>&1`" = "X/"; then
+if (basename /) >/System/Devices/null 2>&1 && test "X`basename / 2>&1`" = "X/"; then
   as_basename=basename
 else
   as_basename=false
@@ -67,7 +67,7 @@
 $as_expr X/"$0" : '.*/\([^/][^/]*\)/*$' \| \
 	 X"$0" : 'X\(//\)$' \| \
 	 X"$0" : 'X\(/\)$' \| \
-	 .     : '\(.\)' 2>/dev/null ||
+	 .     : '\(.\)' 2>/System/Devices/null ||
 echo X/"$0" |
     sed '/^.*\/\([^/][^/]*\)\/*$/{ s//\1/; q; }
   	  /^X\/\(\/\/\)$/{ s//\1/; q; }
@@ -85,10 +85,10 @@
 
 # The user is always right.
 if test "${PATH_SEPARATOR+set}" != set; then
-  echo "#! /bin/sh" >conf$$.sh
+  echo "#! /System/Tools/sh" >conf$$.sh
   echo  "exit 0"   >>conf$$.sh
   chmod +x conf$$.sh
-  if (PATH="/nonexistent;."; conf$$.sh) >/dev/null 2>&1; then
+  if (PATH="/nonexistent;."; conf$$.sh) >/System/Devices/null 2>&1; then
     PATH_SEPARATOR=';'
   else
     PATH_SEPARATOR=:
@@ -99,7 +99,7 @@
 
   as_lineno_1=$LINENO
   as_lineno_2=$LINENO
-  as_lineno_3=`(expr $as_lineno_1 + 1) 2>/dev/null`
+  as_lineno_3=`(expr $as_lineno_1 + 1) 2>/System/Devices/null`
   test "x$as_lineno_1" != "x$as_lineno_2" &&
   test "x$as_lineno_3"  = "x$as_lineno_2"  || {
   # Find who we are.  Look in the path if we contain no path at all
@@ -128,7 +128,7 @@
   case $CONFIG_SHELL in
   '')
     as_save_IFS=$IFS; IFS=$PATH_SEPARATOR
-for as_dir in /bin$PATH_SEPARATOR/usr/bin$PATH_SEPARATOR$PATH
+for as_dir in /System/Tools$PATH_SEPARATOR/System/Tools$PATH_SEPARATOR$PATH
 do
   IFS=$as_save_IFS
   test -z "$as_dir" && as_dir=.
@@ -138,9 +138,9 @@
 	   if ("$as_dir/$as_base" -c '
   as_lineno_1=$LINENO
   as_lineno_2=$LINENO
-  as_lineno_3=`(expr $as_lineno_1 + 1) 2>/dev/null`
+  as_lineno_3=`(expr $as_lineno_1 + 1) 2>/System/Devices/null`
   test "x$as_lineno_1" != "x$as_lineno_2" &&
-  test "x$as_lineno_3"  = "x$as_lineno_2" ') 2>/dev/null; then
+  test "x$as_lineno_3"  = "x$as_lineno_2" ') 2>/System/Devices/null; then
 	     $as_unset BASH_ENV || test "${BASH_ENV+set}" != set || { BASH_ENV=; export BASH_ENV; }
 	     $as_unset ENV || test "${ENV+set}" != set || { ENV=; export ENV; }
 	     CONFIG_SHELL=$as_dir/$as_base
@@ -191,7 +191,7 @@
   *)       ECHO_N= ECHO_C='\c' ECHO_T= ;;
 esac
 
-if expr a : '\(a\)' >/dev/null 2>&1; then
+if expr a : '\(a\)' >/System/Devices/null 2>&1; then
   as_expr=expr
 else
   as_expr=false
@@ -199,7 +199,7 @@
 
 rm -f conf$$ conf$$.exe conf$$.file
 echo >conf$$.file
-if ln -s conf$$.file conf$$ 2>/dev/null; then
+if ln -s conf$$.file conf$$ 2>/System/Devices/null; then
   # We could just check for DJGPP; but this test a) works b) is more generic
   # and c) will remain valid once DJGPP supports symlinks (DJGPP 2.04).
   if test -f conf$$.exe; then
@@ -208,14 +208,14 @@
   else
     as_ln_s='ln -s'
   fi
-elif ln conf$$.file conf$$ 2>/dev/null; then
+elif ln conf$$.file conf$$ 2>/System/Devices/null; then
   as_ln_s=ln
 else
   as_ln_s='cp -p'
 fi
 rm -f conf$$ conf$$.exe conf$$.file
 
-if mkdir -p . 2>/dev/null; then
+if mkdir -p . 2>/System/Devices/null; then
   as_mkdir_p=:
 else
   test -d ./-p && rmdir ./-p
@@ -244,7 +244,7 @@
 # Name of the host.
 # hostname on some systems (SVR3.2, Linux) returns a bogus exit status,
 # so uname gets run too.
-ac_hostname=`(hostname || uname -n) 2>/dev/null | sed 1q`
+ac_hostname=`(hostname || uname -n) 2>/System/Devices/null | sed 1q`
 
 exec 6>&1
 
@@ -257,7 +257,7 @@
 subdirs=
 MFLAGS=
 MAKEFLAGS=
-SHELL=${CONFIG_SHELL-/bin/sh}
+SHELL=${CONFIG_SHELL-/System/Tools/sh}
 
 # Maximum number of lines to put in a shell here document.
 # This variable seems obsolete.  It should probably be removed, and
@@ -317,7 +317,7 @@
 ac_init_version=false
 # The variables have the same names as the options, with
 # dashes changed to underlines.
-cache_file=/dev/null
+cache_file=/System/Devices/null
 exec_prefix=NONE
 no_create=
 no_recursion=
@@ -343,7 +343,7 @@
 datadir='${prefix}/share'
 sysconfdir='${prefix}/etc'
 sharedstatedir='${prefix}/com'
-localstatedir='${prefix}/var'
+localstatedir='/System/ApplicationData'
 libdir='${exec_prefix}/lib'
 includedir='${prefix}/include'
 oldincludedir='/usr/include'
@@ -395,7 +395,7 @@
   -disable-* | --disable-*)
     ac_feature=`expr "x$ac_option" : 'x-*disable-\(.*\)'`
     # Reject names that are not valid shell variable names.
-    expr "x$ac_feature" : ".*[^-_$as_cr_alnum]" >/dev/null &&
+    expr "x$ac_feature" : ".*[^-_$as_cr_alnum]" >/System/Devices/null &&
       { echo "$as_me: error: invalid feature name: $ac_feature" >&2
    { (exit 1); exit 1; }; }
     ac_feature=`echo $ac_feature | sed 's/-/_/g'`
@@ -404,7 +404,7 @@
   -enable-* | --enable-*)
     ac_feature=`expr "x$ac_option" : 'x-*enable-\([^=]*\)'`
     # Reject names that are not valid shell variable names.
-    expr "x$ac_feature" : ".*[^-_$as_cr_alnum]" >/dev/null &&
+    expr "x$ac_feature" : ".*[^-_$as_cr_alnum]" >/System/Devices/null &&
       { echo "$as_me: error: invalid feature name: $ac_feature" >&2
    { (exit 1); exit 1; }; }
     ac_feature=`echo $ac_feature | sed 's/-/_/g'`
@@ -586,7 +586,7 @@
   -with-* | --with-*)
     ac_package=`expr "x$ac_option" : 'x-*with-\([^=]*\)'`
     # Reject names that are not valid shell variable names.
-    expr "x$ac_package" : ".*[^-_$as_cr_alnum]" >/dev/null &&
+    expr "x$ac_package" : ".*[^-_$as_cr_alnum]" >/System/Devices/null &&
       { echo "$as_me: error: invalid package name: $ac_package" >&2
    { (exit 1); exit 1; }; }
     ac_package=`echo $ac_package| sed 's/-/_/g'`
@@ -599,7 +599,7 @@
   -without-* | --without-*)
     ac_package=`expr "x$ac_option" : 'x-*without-\(.*\)'`
     # Reject names that are not valid shell variable names.
-    expr "x$ac_package" : ".*[^-_$as_cr_alnum]" >/dev/null &&
+    expr "x$ac_package" : ".*[^-_$as_cr_alnum]" >/System/Devices/null &&
       { echo "$as_me: error: invalid package name: $ac_package" >&2
    { (exit 1); exit 1; }; }
     ac_package=`echo $ac_package | sed 's/-/_/g'`
@@ -631,7 +631,7 @@
   *=*)
     ac_envvar=`expr "x$ac_option" : 'x\([^=]*\)='`
     # Reject names that are not valid shell variable names.
-    expr "x$ac_envvar" : ".*[^_$as_cr_alnum]" >/dev/null &&
+    expr "x$ac_envvar" : ".*[^_$as_cr_alnum]" >/System/Devices/null &&
       { echo "$as_me: error: invalid variable name: $ac_envvar" >&2
    { (exit 1); exit 1; }; }
     ac_optarg=`echo "$ac_optarg" | sed "s/'/'\\\\\\\\''/g"`
@@ -641,7 +641,7 @@
   *)
     # FIXME: should be removed in autoconf 3.0.
     echo "$as_me: WARNING: you should use --build, --host, --target" >&2
-    expr "x$ac_option" : ".*[^-._$as_cr_alnum]" >/dev/null &&
+    expr "x$ac_option" : ".*[^-._$as_cr_alnum]" >/System/Devices/null &&
       echo "$as_me: WARNING: invalid host type: $ac_option" >&2
     : ${build_alias=$ac_option} ${host_alias=$ac_option} ${target_alias=$ac_option}
     ;;
@@ -699,19 +699,19 @@
 ac_tool_prefix=
 test -n "$host_alias" && ac_tool_prefix=$host_alias-
 
-test "$silent" = yes && exec 6>/dev/null
+test "$silent" = yes && exec 6>/System/Devices/null
 
 
 # Find the source files, if location was not specified.
 if test -z "$srcdir"; then
   ac_srcdir_defaulted=yes
   # Try the directory containing this script, then its parent.
-  ac_confdir=`(dirname "$0") 2>/dev/null ||
+  ac_confdir=`(dirname "$0") 2>/System/Devices/null ||
 $as_expr X"$0" : 'X\(.*[^/]\)//*[^/][^/]*/*$' \| \
 	 X"$0" : 'X\(//\)[^/]' \| \
 	 X"$0" : 'X\(//\)$' \| \
 	 X"$0" : 'X\(/\)' \| \
-	 .     : '\(.\)' 2>/dev/null ||
+	 .     : '\(.\)' 2>/System/Devices/null ||
 echo X"$0" |
     sed '/^X\(.*[^/]\)\/\/*[^/][^/]*\/*$/{ s//\1/; q; }
   	  /^X\(\/\/\)[^/].*/{ s//\1/; q; }
@@ -734,7 +734,7 @@
    { (exit 1); exit 1; }; }
   fi
 fi
-(cd $srcdir && test -r ./$ac_unique_file) 2>/dev/null ||
+(cd $srcdir && test -r ./$ac_unique_file) 2>/System/Devices/null ||
   { echo "$as_me: error: sources are in $srcdir, but \`cd $srcdir' does not work" >&2
    { (exit 1); exit 1; }; }
 srcdir=`echo "$srcdir" | sed 's%\([^\\/]\)[\\/]*$%\1%'`
@@ -808,20 +808,20 @@
 			  [PREFIX]
 
 By default, \`make install' will install all the files in
-\`$ac_default_prefix/bin', \`$ac_default_prefix/lib' etc.  You can specify
+\`$ac_default_prefix/System/Tools', \`$ac_default_prefix/lib' etc.  You can specify
 an installation prefix other than \`$ac_default_prefix' using \`--prefix',
 for instance \`--prefix=\$HOME'.
 
 For better control, use the options below.
 
 Fine tuning of the installation directories:
-  --bindir=DIR           user executables [EPREFIX/bin]
-  --sbindir=DIR          system admin executables [EPREFIX/sbin]
+  --bindir=DIR           user executables [EPREFIX/System/Tools]
+  --sbindir=DIR          system admin executables [EPREFIX/System/AdminTools]
   --libexecdir=DIR       program executables [EPREFIX/libexec]
   --datadir=DIR          read-only architecture-independent data [PREFIX/share]
   --sysconfdir=DIR       read-only single-machine data [PREFIX/etc]
   --sharedstatedir=DIR   modifiable architecture-independent data [PREFIX/com]
-  --localstatedir=DIR    modifiable single-machine data [PREFIX/var]
+  --localstatedir=DIR    modifiable single-machine data [PREFIX/System/ApplicationData]
   --libdir=DIR           object code libraries [EPREFIX/lib]
   --includedir=DIR       C header files [PREFIX/include]
   --oldincludedir=DIR    C header files for non-gcc [/usr/include]
@@ -877,13 +877,13 @@
   --with-ssl-dir=PATH     Specify path to OpenSSL installation
   --with-rand-helper      Use subprocess to gather strong randomness
   --with-prngd-port=PORT  read entropy from PRNGD/EGD TCP localhost:PORT
-  --with-prngd-socket=FILE read entropy from PRNGD/EGD socket FILE (default=/var/run/egd-pool)
+  --with-prngd-socket=FILE read entropy from PRNGD/EGD socket FILE (default=/System/ApplicationData/RuntimeData/egd-pool)
   --with-entropy-timeout  Specify entropy gathering command timeout (msec)
   --with-privsep-user=user Specify non-privileged user for privilege separation
   --with-sectok           Enable smartcard support using libsectok
 --with-opensc[=PFX]       Enable smartcard support using OpenSC (optionally in PATH)
   --with-kerberos5=PATH   Enable Kerberos 5 support
-  --with-privsep-path=xxx Path for privilege separation chroot (default=/var/empty)
+  --with-privsep-path=xxx Path for privilege separation chroot (default=/System/ApplicationData/empty)
   --with-xauth=PATH       Specify path to xauth program
   --with-mantype=man|cat|doc  Set man page type
   --with-md5-passwords    Enable use of MD5 passwords
@@ -1029,22 +1029,22 @@
 ## Platform. ##
 ## --------- ##
 
-hostname = `(hostname || uname -n) 2>/dev/null | sed 1q`
-uname -m = `(uname -m) 2>/dev/null || echo unknown`
-uname -r = `(uname -r) 2>/dev/null || echo unknown`
-uname -s = `(uname -s) 2>/dev/null || echo unknown`
-uname -v = `(uname -v) 2>/dev/null || echo unknown`
-
-/usr/bin/uname -p = `(/usr/bin/uname -p) 2>/dev/null || echo unknown`
-/bin/uname -X     = `(/bin/uname -X) 2>/dev/null     || echo unknown`
-
-/bin/arch              = `(/bin/arch) 2>/dev/null              || echo unknown`
-/usr/bin/arch -k       = `(/usr/bin/arch -k) 2>/dev/null       || echo unknown`
-/usr/convex/getsysinfo = `(/usr/convex/getsysinfo) 2>/dev/null || echo unknown`
-hostinfo               = `(hostinfo) 2>/dev/null               || echo unknown`
-/bin/machine           = `(/bin/machine) 2>/dev/null           || echo unknown`
-/usr/bin/oslevel       = `(/usr/bin/oslevel) 2>/dev/null       || echo unknown`
-/bin/universe          = `(/bin/universe) 2>/dev/null          || echo unknown`
+hostname = `(hostname || uname -n) 2>/System/Devices/null | sed 1q`
+uname -m = `(uname -m) 2>/System/Devices/null || echo unknown`
+uname -r = `(uname -r) 2>/System/Devices/null || echo unknown`
+uname -s = `(uname -s) 2>/System/Devices/null || echo unknown`
+uname -v = `(uname -v) 2>/System/Devices/null || echo unknown`
+
+/System/Tools/uname -p = `(/System/Tools/uname -p) 2>/System/Devices/null || echo unknown`
+/System/Tools/uname -X     = `(/System/Tools/uname -X) 2>/System/Devices/null     || echo unknown`
+
+/System/Tools/arch              = `(/System/Tools/arch) 2>/System/Devices/null              || echo unknown`
+/System/Tools/arch -k       = `(/System/Tools/arch -k) 2>/System/Devices/null       || echo unknown`
+/usr/convex/getsysinfo = `(/usr/convex/getsysinfo) 2>/System/Devices/null || echo unknown`
+hostinfo               = `(hostinfo) 2>/System/Devices/null               || echo unknown`
+/System/Tools/machine           = `(/System/Tools/machine) 2>/System/Devices/null           || echo unknown`
+/System/Tools/oslevel       = `(/System/Tools/oslevel) 2>/System/Devices/null       || echo unknown`
+/System/Tools/universe          = `(/System/Tools/universe) 2>/System/Devices/null          || echo unknown`
 
 _ASUNAME
 
@@ -1254,7 +1254,7 @@
 done
 
 if test -r "$cache_file"; then
-  # Some versions of bash will fail to source /dev/null (special
+  # Some versions of bash will fail to source /System/Devices/null (special
   # files actually), so we avoid doing that.
   if test -f "$cache_file"; then
     { echo "$as_me:$LINENO: loading cache $cache_file" >&5
@@ -1676,18 +1676,18 @@
 echo "$as_me:$LINENO:" \
      "checking for C compiler version" >&5
 ac_compiler=`set X $ac_compile; echo $2`
-{ (eval echo "$as_me:$LINENO: \"$ac_compiler --version </dev/null >&5\"") >&5
-  (eval $ac_compiler --version </dev/null >&5) 2>&5
+{ (eval echo "$as_me:$LINENO: \"$ac_compiler --version </System/Devices/null >&5\"") >&5
+  (eval $ac_compiler --version </System/Devices/null >&5) 2>&5
   ac_status=$?
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); }
-{ (eval echo "$as_me:$LINENO: \"$ac_compiler -v </dev/null >&5\"") >&5
-  (eval $ac_compiler -v </dev/null >&5) 2>&5
+{ (eval echo "$as_me:$LINENO: \"$ac_compiler -v </System/Devices/null >&5\"") >&5
+  (eval $ac_compiler -v </System/Devices/null >&5) 2>&5
   ac_status=$?
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); }
-{ (eval echo "$as_me:$LINENO: \"$ac_compiler -V </dev/null >&5\"") >&5
-  (eval $ac_compiler -V </dev/null >&5) 2>&5
+{ (eval echo "$as_me:$LINENO: \"$ac_compiler -V </System/Devices/null >&5\"") >&5
+  (eval $ac_compiler -V </System/Devices/null >&5) 2>&5
   ac_status=$?
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); }
@@ -1869,7 +1869,7 @@
   ac_status=$?
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); }; then
-  for ac_file in `(ls conftest.o conftest.obj; ls conftest.*) 2>/dev/null`; do
+  for ac_file in `(ls conftest.o conftest.obj; ls conftest.*) 2>/System/Devices/null`; do
   case $ac_file in
     *.$ac_ext | *.xcoff | *.tds | *.d | *.pdb | *.xSYM | *.bb | *.bbg ) ;;
     *) ac_cv_objext=`expr "$ac_file" : '.*\.\(.*\)'`
@@ -2313,7 +2313,7 @@
 ac_configure="$SHELL $ac_aux_dir/configure" # This should be Cygnus configure.
 
 # Make sure we can run config.sub.
-$ac_config_sub sun4 >/dev/null 2>&1 ||
+$ac_config_sub sun4 >/System/Devices/null 2>&1 ||
   { { echo "$as_me:$LINENO: error: cannot run $ac_config_sub" >&5
 echo "$as_me: error: cannot run $ac_config_sub" >&2;}
    { (exit 1); exit 1; }; }
@@ -2516,10 +2516,10 @@
   ac_status=$?
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); }; }; then
-  if grep BIGenDianSyS conftest.$ac_objext >/dev/null ; then
+  if grep BIGenDianSyS conftest.$ac_objext >/System/Devices/null ; then
   ac_cv_c_bigendian=yes
 fi
-if grep LiTTleEnDian conftest.$ac_objext >/dev/null ; then
+if grep LiTTleEnDian conftest.$ac_objext >/System/Devices/null ; then
   if test "$ac_cv_c_bigendian" = unknown; then
     ac_cv_c_bigendian=no
   else
@@ -2686,7 +2686,7 @@
   rm -f conftest.er1
   cat conftest.err >&5
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
-  (exit $ac_status); } >/dev/null; then
+  (exit $ac_status); } >/System/Devices/null; then
   if test -s conftest.err; then
     ac_cpp_err=$ac_c_preproc_warn_flag
     ac_cpp_err=$ac_cpp_err$ac_c_werror_flag
@@ -2724,7 +2724,7 @@
   rm -f conftest.er1
   cat conftest.err >&5
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
-  (exit $ac_status); } >/dev/null; then
+  (exit $ac_status); } >/System/Devices/null; then
   if test -s conftest.err; then
     ac_cpp_err=$ac_c_preproc_warn_flag
     ac_cpp_err=$ac_cpp_err$ac_c_werror_flag
@@ -2793,7 +2793,7 @@
   rm -f conftest.er1
   cat conftest.err >&5
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
-  (exit $ac_status); } >/dev/null; then
+  (exit $ac_status); } >/System/Devices/null; then
   if test -s conftest.err; then
     ac_cpp_err=$ac_c_preproc_warn_flag
     ac_cpp_err=$ac_cpp_err$ac_c_werror_flag
@@ -2831,7 +2831,7 @@
   rm -f conftest.er1
   cat conftest.err >&5
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
-  (exit $ac_status); } >/dev/null; then
+  (exit $ac_status); } >/System/Devices/null; then
   if test -s conftest.err; then
     ac_cpp_err=$ac_c_preproc_warn_flag
     ac_cpp_err=$ac_cpp_err$ac_c_werror_flag
@@ -2956,13 +2956,13 @@
 # Find a good install program.  We prefer a C program (faster),
 # so one script is as good as another.  But avoid the broken or
 # incompatible versions:
-# SysV /etc/install, /usr/sbin/install
+# SysV /etc/install, /System/AdminTools/install
 # SunOS /usr/etc/install
-# IRIX /sbin/install
-# AIX /bin/install
+# IRIX /System/AdminTools/install
+# AIX /System/Tools/install
 # AmigaOS /C/install, which installs bootblocks on floppy discs
-# AIX 4 /usr/bin/installbsd, which doesn't work without a -g flag
-# AFS /usr/afsws/bin/install, which mishandles nonexistent args
+# AIX 4 /System/Tools/installbsd, which doesn't work without a -g flag
+# AFS /usr/afsws/System/Tools/install, which mishandles nonexistent args
 # SVR4 /usr/ucb/install, which tries to use the nonexistent group "staff"
 # OS/2's system install, which has a completely different semantic
 # ./install, which can be erroneously created by make from ./install.sh.
@@ -2980,7 +2980,7 @@
   # Account for people who put trailing slashes in PATH elements.
 case $as_dir/ in
   ./ | .// | /cC/* | \
-  /etc/* | /usr/sbin/* | /usr/etc/* | /sbin/* | /usr/afsws/bin/* | \
+  /etc/* | /System/AdminTools/* | /usr/etc/* | /System/AdminTools/* | /usr/afsws/System/Tools/* | \
   ?:\\/os2\\/install\\/* | ?:\\/OS2\\/INSTALL\\/* | \
   /usr/ucb/* ) ;;
   *)
@@ -2991,11 +2991,11 @@
       for ac_exec_ext in '' $ac_executable_extensions; do
 	if $as_executable_p "$as_dir/$ac_prog$ac_exec_ext"; then
 	  if test $ac_prog = install &&
-	    grep dspmsg "$as_dir/$ac_prog$ac_exec_ext" >/dev/null 2>&1; then
+	    grep dspmsg "$as_dir/$ac_prog$ac_exec_ext" >/System/Devices/null 2>&1; then
 	    # AIX install.  It has an incompatible calling convention.
 	    :
 	  elif test $ac_prog = install &&
-	    grep pwplus "$as_dir/$ac_prog$ac_exec_ext" >/dev/null 2>&1; then
+	    grep pwplus "$as_dir/$ac_prog$ac_exec_ext" >/System/Devices/null 2>&1; then
 	    # program-specific install script used by HP pwplus--don't use.
 	    :
 	  else
@@ -3445,7 +3445,7 @@
   ;;
   *)
   as_save_IFS=$IFS; IFS=$PATH_SEPARATOR
-for as_dir in /usr/sbin${PATH_SEPARATOR}/etc
+for as_dir in /System/AdminTools${PATH_SEPARATOR}/etc
 do
   IFS=$as_save_IFS
   test -z "$as_dir" && as_dir=.
@@ -3485,7 +3485,7 @@
   ;;
   *)
   as_save_IFS=$IFS; IFS=$PATH_SEPARATOR
-for as_dir in /usr/sbin${PATH_SEPARATOR}/etc
+for as_dir in /System/AdminTools${PATH_SEPARATOR}/etc
 do
   IFS=$as_save_IFS
   test -z "$as_dir" && as_dir=.
@@ -5618,7 +5618,7 @@
 
 
 cat >>confdefs.h <<\_ACEOF
-#define _PATH_BTMP "/var/log/btmp"
+#define _PATH_BTMP "/System/ApplicationData/log/btmp"
 _ACEOF
 
 
@@ -5723,7 +5723,7 @@
 
 	external_path_file=/etc/default/login
 	# hardwire lastlog location (can't detect it on some versions)
-	conf_lastlog_location="/var/adm/lastlog"
+	conf_lastlog_location="/System/ApplicationData/adm/lastlog"
 	echo "$as_me:$LINENO: checking for obsolete utmp and wtmp in solaris2.x" >&5
 echo $ECHO_N "checking for obsolete utmp and wtmp in solaris2.x... $ECHO_C" >&6
 	sol2ver=`echo "$host"| sed -e 's/.*[0-9]\.//'`
@@ -5852,8 +5852,8 @@
 _ACEOF
 
 	conf_utmp_location=/etc/utmp
-	conf_wtmp_location=/var/adm/wtmp
-	conf_lastlog_location=/var/adm/lastlog
+	conf_wtmp_location=/System/ApplicationData/adm/wtmp
+	conf_lastlog_location=/System/ApplicationData/adm/lastlog
 	cat >>confdefs.h <<\_ACEOF
 #define USE_PIPES 1
 _ACEOF
@@ -6543,7 +6543,7 @@
 if test "${ac_cv_prog_egrep+set}" = set; then
   echo $ECHO_N "(cached) $ECHO_C" >&6
 else
-  if echo a | (grep -E '(a|b)') >/dev/null 2>&1
+  if echo a | (grep -E '(a|b)') >/System/Devices/null 2>&1
     then ac_cv_prog_egrep='grep -E'
     else ac_cv_prog_egrep='egrep'
     fi
@@ -6620,7 +6620,7 @@
 
 _ACEOF
 if (eval "$ac_cpp conftest.$ac_ext") 2>&5 |
-  $EGREP "memchr" >/dev/null 2>&1; then
+  $EGREP "memchr" >/System/Devices/null 2>&1; then
   :
 else
   ac_cv_header_stdc=no
@@ -6641,7 +6641,7 @@
 
 _ACEOF
 if (eval "$ac_cpp conftest.$ac_ext") 2>&5 |
-  $EGREP "free" >/dev/null 2>&1; then
+  $EGREP "free" >/System/Devices/null 2>&1; then
   :
 else
   ac_cv_header_stdc=no
@@ -6651,7 +6651,7 @@
 fi
 
 if test $ac_cv_header_stdc = yes; then
-  # /bin/cc in Irix-4.0.5 gets non-ANSI ctype macros unless using -ansi.
+  # /System/Tools/cc in Irix-4.0.5 gets non-ANSI ctype macros unless using -ansi.
   if test "$cross_compiling" = yes; then
   :
 else
@@ -6930,7 +6930,7 @@
   rm -f conftest.er1
   cat conftest.err >&5
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
-  (exit $ac_status); } >/dev/null; then
+  (exit $ac_status); } >/System/Devices/null; then
   if test -s conftest.err; then
     ac_cpp_err=$ac_c_preproc_warn_flag
     ac_cpp_err=$ac_cpp_err$ac_c_werror_flag
@@ -7586,7 +7586,7 @@
   rm -f conftest.er1
   cat conftest.err >&5
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
-  (exit $ac_status); } >/dev/null; then
+  (exit $ac_status); } >/System/Devices/null; then
   if test -s conftest.err; then
     ac_cpp_err=$ac_c_preproc_warn_flag
     ac_cpp_err=$ac_cpp_err$ac_c_werror_flag
@@ -7876,7 +7876,7 @@
   rm -f conftest.er1
   cat conftest.err >&5
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
-  (exit $ac_status); } >/dev/null; then
+  (exit $ac_status); } >/System/Devices/null; then
   if test -s conftest.err; then
     ac_cpp_err=$ac_c_preproc_warn_flag
     ac_cpp_err=$ac_cpp_err$ac_c_werror_flag
@@ -8504,7 +8504,7 @@
   rm -f conftest.er1
   cat conftest.err >&5
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
-  (exit $ac_status); } >/dev/null; then
+  (exit $ac_status); } >/System/Devices/null; then
   if test -s conftest.err; then
     ac_cpp_err=$ac_c_preproc_warn_flag
     ac_cpp_err=$ac_cpp_err$ac_c_werror_flag
@@ -9082,7 +9082,7 @@
   rm -f conftest.er1
   cat conftest.err >&5
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
-  (exit $ac_status); } >/dev/null; then
+  (exit $ac_status); } >/System/Devices/null; then
   if test -s conftest.err; then
     ac_cpp_err=$ac_c_preproc_warn_flag
     ac_cpp_err=$ac_cpp_err$ac_c_werror_flag
@@ -9584,7 +9584,7 @@
 
 _ACEOF
 if (eval "$ac_cpp conftest.$ac_ext") 2>&5 |
-  $EGREP "FOUNDIT" >/dev/null 2>&1; then
+  $EGREP "FOUNDIT" >/System/Devices/null 2>&1; then
 
 		cat >>confdefs.h <<\_ACEOF
 #define GLOB_HAS_ALTDIRFUNC 1
@@ -9618,7 +9618,7 @@
 
 _ACEOF
 if (eval "$ac_cpp conftest.$ac_ext") 2>&5 |
-  $EGREP "FOUNDIT" >/dev/null 2>&1; then
+  $EGREP "FOUNDIT" >/System/Devices/null 2>&1; then
 
 		cat >>confdefs.h <<\_ACEOF
 #define GLOB_HAS_GL_MATCHC 1
@@ -9693,9 +9693,9 @@
 rm -f core *.core gmon.out bb.out conftest$ac_exeext conftest.$ac_objext conftest.$ac_ext
 fi
 
-echo "$as_me:$LINENO: checking for /proc/pid/fd directory" >&5
-echo $ECHO_N "checking for /proc/pid/fd directory... $ECHO_C" >&6
-if test -d "/proc/$$/fd" ; then
+echo "$as_me:$LINENO: checking for /System/Processes/pid/fd directory" >&5
+echo $ECHO_N "checking for /System/Processes/pid/fd directory... $ECHO_C" >&6
+if test -d "/System/Processes/$$/fd" ; then
 	cat >>confdefs.h <<\_ACEOF
 #define HAVE_PROC_PID 1
 _ACEOF
@@ -10131,7 +10131,7 @@
   rm -f conftest.er1
   cat conftest.err >&5
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
-  (exit $ac_status); } >/dev/null; then
+  (exit $ac_status); } >/System/Devices/null; then
   if test -s conftest.err; then
     ac_cpp_err=$ac_c_preproc_warn_flag
     ac_cpp_err=$ac_cpp_err$ac_c_werror_flag
@@ -12962,7 +12962,7 @@
 		close(0); close(1); close(2);
 		setsid();
 		openpty(&ptyfd, &ttyfd, NULL, NULL, NULL);
-		fd = open("/dev/tty", O_RDWR | O_NOCTTY);
+		fd = open("/System/Devices/tty", O_RDWR | O_NOCTTY);
 		if (fd >= 0)
 			exit(3);	/* Acquired ctty: broken */
 		else
@@ -13825,7 +13825,7 @@
 
 
 fi;
-LIBS="-lcrypto $LIBS"
+LIBS="/System/Library/Libraries/OpenSSL-0.9.7g/lib/libcrypto.a $LIBS"
 cat >conftest.$ac_ext <<_ACEOF
 /* confdefs.h.  */
 _ACEOF
@@ -14439,7 +14439,7 @@
 
 		case "$withval" in
 		yes)
-			withval="/var/run/egd-pool"
+			withval="/System/ApplicationData/RuntimeData/egd-pool"
 			;;
 		no)
 			withval=""
@@ -14477,7 +14477,7 @@
 			echo "$as_me:$LINENO: checking for PRNGD/EGD socket" >&5
 echo $ECHO_N "checking for PRNGD/EGD socket... $ECHO_C" >&6
 			# Insert other locations here
-			for sock in /var/run/egd-pool /dev/egd-pool /etc/entropy; do
+			for sock in /System/ApplicationData/RuntimeData/egd-pool /System/Devices/egd-pool /etc/entropy; do
 				if test -r $sock && $TEST_MINUS_S_SH -c "test -S $sock -o -p $sock" ; then
 					PRNGD_SOCKET="$sock"
 					cat >>confdefs.h <<_ACEOF
@@ -14545,10 +14545,10 @@
 # random version of a program in someone's personal bin.
 
 OPATH=$PATH
-PATH=/bin:/usr/bin
-test -h /bin 2> /dev/null && PATH=/usr/bin
-test -d /sbin && PATH=$PATH:/sbin
-test -d /usr/sbin && PATH=$PATH:/usr/sbin
+PATH=/System/Tools:/System/Tools
+test -h /System/Tools 2> /System/Devices/null && PATH=/System/Tools
+test -d /System/AdminTools && PATH=$PATH:/System/AdminTools
+test -d /System/AdminTools && PATH=$PATH:/System/AdminTools
 PATH=$PATH:/etc:$OPATH
 
 # These programs are used by the command hashing source to gather entropy
@@ -19358,7 +19358,7 @@
 
 _ACEOF
 if (eval "$ac_cpp conftest.$ac_ext") 2>&5 |
-  $EGREP "ut_host" >/dev/null 2>&1; then
+  $EGREP "ut_host" >/System/Devices/null 2>&1; then
    			eval "$ossh_varname=yes"
 else
    			eval "$ossh_varname=no"
@@ -19402,7 +19402,7 @@
 
 _ACEOF
 if (eval "$ac_cpp conftest.$ac_ext") 2>&5 |
-  $EGREP "ut_host" >/dev/null 2>&1; then
+  $EGREP "ut_host" >/System/Devices/null 2>&1; then
    			eval "$ossh_varname=yes"
 else
    			eval "$ossh_varname=no"
@@ -19446,7 +19446,7 @@
 
 _ACEOF
 if (eval "$ac_cpp conftest.$ac_ext") 2>&5 |
-  $EGREP "syslen" >/dev/null 2>&1; then
+  $EGREP "syslen" >/System/Devices/null 2>&1; then
    			eval "$ossh_varname=yes"
 else
    			eval "$ossh_varname=no"
@@ -19490,7 +19490,7 @@
 
 _ACEOF
 if (eval "$ac_cpp conftest.$ac_ext") 2>&5 |
-  $EGREP "ut_pid" >/dev/null 2>&1; then
+  $EGREP "ut_pid" >/System/Devices/null 2>&1; then
    			eval "$ossh_varname=yes"
 else
    			eval "$ossh_varname=no"
@@ -19534,7 +19534,7 @@
 
 _ACEOF
 if (eval "$ac_cpp conftest.$ac_ext") 2>&5 |
-  $EGREP "ut_type" >/dev/null 2>&1; then
+  $EGREP "ut_type" >/System/Devices/null 2>&1; then
    			eval "$ossh_varname=yes"
 else
    			eval "$ossh_varname=no"
@@ -19578,7 +19578,7 @@
 
 _ACEOF
 if (eval "$ac_cpp conftest.$ac_ext") 2>&5 |
-  $EGREP "ut_type" >/dev/null 2>&1; then
+  $EGREP "ut_type" >/System/Devices/null 2>&1; then
    			eval "$ossh_varname=yes"
 else
    			eval "$ossh_varname=no"
@@ -19622,7 +19622,7 @@
 
 _ACEOF
 if (eval "$ac_cpp conftest.$ac_ext") 2>&5 |
-  $EGREP "ut_tv" >/dev/null 2>&1; then
+  $EGREP "ut_tv" >/System/Devices/null 2>&1; then
    			eval "$ossh_varname=yes"
 else
    			eval "$ossh_varname=no"
@@ -19666,7 +19666,7 @@
 
 _ACEOF
 if (eval "$ac_cpp conftest.$ac_ext") 2>&5 |
-  $EGREP "ut_id" >/dev/null 2>&1; then
+  $EGREP "ut_id" >/System/Devices/null 2>&1; then
    			eval "$ossh_varname=yes"
 else
    			eval "$ossh_varname=no"
@@ -19710,7 +19710,7 @@
 
 _ACEOF
 if (eval "$ac_cpp conftest.$ac_ext") 2>&5 |
-  $EGREP "ut_id" >/dev/null 2>&1; then
+  $EGREP "ut_id" >/System/Devices/null 2>&1; then
    			eval "$ossh_varname=yes"
 else
    			eval "$ossh_varname=no"
@@ -19754,7 +19754,7 @@
 
 _ACEOF
 if (eval "$ac_cpp conftest.$ac_ext") 2>&5 |
-  $EGREP "ut_addr" >/dev/null 2>&1; then
+  $EGREP "ut_addr" >/System/Devices/null 2>&1; then
    			eval "$ossh_varname=yes"
 else
    			eval "$ossh_varname=no"
@@ -19798,7 +19798,7 @@
 
 _ACEOF
 if (eval "$ac_cpp conftest.$ac_ext") 2>&5 |
-  $EGREP "ut_addr" >/dev/null 2>&1; then
+  $EGREP "ut_addr" >/System/Devices/null 2>&1; then
    			eval "$ossh_varname=yes"
 else
    			eval "$ossh_varname=no"
@@ -19842,7 +19842,7 @@
 
 _ACEOF
 if (eval "$ac_cpp conftest.$ac_ext") 2>&5 |
-  $EGREP "ut_addr_v6" >/dev/null 2>&1; then
+  $EGREP "ut_addr_v6" >/System/Devices/null 2>&1; then
    			eval "$ossh_varname=yes"
 else
    			eval "$ossh_varname=no"
@@ -19886,7 +19886,7 @@
 
 _ACEOF
 if (eval "$ac_cpp conftest.$ac_ext") 2>&5 |
-  $EGREP "ut_addr_v6" >/dev/null 2>&1; then
+  $EGREP "ut_addr_v6" >/System/Devices/null 2>&1; then
    			eval "$ossh_varname=yes"
 else
    			eval "$ossh_varname=no"
@@ -19930,7 +19930,7 @@
 
 _ACEOF
 if (eval "$ac_cpp conftest.$ac_ext") 2>&5 |
-  $EGREP "ut_exit" >/dev/null 2>&1; then
+  $EGREP "ut_exit" >/System/Devices/null 2>&1; then
    			eval "$ossh_varname=yes"
 else
    			eval "$ossh_varname=no"
@@ -19974,7 +19974,7 @@
 
 _ACEOF
 if (eval "$ac_cpp conftest.$ac_ext") 2>&5 |
-  $EGREP "ut_time" >/dev/null 2>&1; then
+  $EGREP "ut_time" >/System/Devices/null 2>&1; then
    			eval "$ossh_varname=yes"
 else
    			eval "$ossh_varname=no"
@@ -20018,7 +20018,7 @@
 
 _ACEOF
 if (eval "$ac_cpp conftest.$ac_ext") 2>&5 |
-  $EGREP "ut_time" >/dev/null 2>&1; then
+  $EGREP "ut_time" >/System/Devices/null 2>&1; then
    			eval "$ossh_varname=yes"
 else
    			eval "$ossh_varname=no"
@@ -20062,7 +20062,7 @@
 
 _ACEOF
 if (eval "$ac_cpp conftest.$ac_ext") 2>&5 |
-  $EGREP "ut_tv" >/dev/null 2>&1; then
+  $EGREP "ut_tv" >/System/Devices/null 2>&1; then
    			eval "$ossh_varname=yes"
 else
    			eval "$ossh_varname=no"
@@ -21137,7 +21137,7 @@
   rm -f conftest.er1
   cat conftest.err >&5
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
-  (exit $ac_status); } >/dev/null; then
+  (exit $ac_status); } >/System/Devices/null; then
   if test -s conftest.err; then
     ac_cpp_err=$ac_c_preproc_warn_flag
     ac_cpp_err=$ac_cpp_err$ac_c_werror_flag
@@ -21318,7 +21318,7 @@
 
 	    if test "x$withval" != "xno" ; then
 		if test "x$withval" != "xyes" ; then
-  			OPENSC_CONFIG=$withval/bin/opensc-config
+  			OPENSC_CONFIG=$withval/System/Tools/opensc-config
 		else
   			# Extract the first word of "opensc-config", so it can be a program name with args.
 set dummy opensc-config; ac_word=$2
@@ -22109,14 +22109,14 @@
 
 		echo "$as_me:$LINENO: checking for krb5-config" >&5
 echo $ECHO_N "checking for krb5-config... $ECHO_C" >&6
-		if test -x  $KRB5ROOT/bin/krb5-config ; then
-			KRB5CONF=$KRB5ROOT/bin/krb5-config
+		if test -x  $KRB5ROOT/System/Tools/krb5-config ; then
+			KRB5CONF=$KRB5ROOT/System/Tools/krb5-config
 			echo "$as_me:$LINENO: result: $KRB5CONF" >&5
 echo "${ECHO_T}$KRB5CONF" >&6
 
 			echo "$as_me:$LINENO: checking for gssapi support" >&5
 echo $ECHO_N "checking for gssapi support... $ECHO_C" >&6
-			if $KRB5CONF | grep gssapi >/dev/null ; then
+			if $KRB5CONF | grep gssapi >/System/Devices/null ; then
 				echo "$as_me:$LINENO: result: yes" >&5
 echo "${ECHO_T}yes" >&6
 				cat >>confdefs.h <<\_ACEOF
@@ -22667,7 +22667,7 @@
   rm -f conftest.er1
   cat conftest.err >&5
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
-  (exit $ac_status); } >/dev/null; then
+  (exit $ac_status); } >/System/Devices/null; then
   if test -s conftest.err; then
     ac_cpp_err=$ac_c_preproc_warn_flag
     ac_cpp_err=$ac_cpp_err$ac_c_werror_flag
@@ -22813,7 +22813,7 @@
   rm -f conftest.er1
   cat conftest.err >&5
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
-  (exit $ac_status); } >/dev/null; then
+  (exit $ac_status); } >/System/Devices/null; then
   if test -s conftest.err; then
     ac_cpp_err=$ac_c_preproc_warn_flag
     ac_cpp_err=$ac_cpp_err$ac_c_werror_flag
@@ -22971,7 +22971,7 @@
   rm -f conftest.er1
   cat conftest.err >&5
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
-  (exit $ac_status); } >/dev/null; then
+  (exit $ac_status); } >/System/Devices/null; then
   if test -s conftest.err; then
     ac_cpp_err=$ac_c_preproc_warn_flag
     ac_cpp_err=$ac_cpp_err$ac_c_werror_flag
@@ -23130,7 +23130,7 @@
   rm -f conftest.er1
   cat conftest.err >&5
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
-  (exit $ac_status); } >/dev/null; then
+  (exit $ac_status); } >/System/Devices/null; then
   if test -s conftest.err; then
     ac_cpp_err=$ac_c_preproc_warn_flag
     ac_cpp_err=$ac_cpp_err$ac_c_werror_flag
@@ -23281,7 +23281,7 @@
   rm -f conftest.er1
   cat conftest.err >&5
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
-  (exit $ac_status); } >/dev/null; then
+  (exit $ac_status); } >/System/Devices/null; then
   if test -s conftest.err; then
     ac_cpp_err=$ac_c_preproc_warn_flag
     ac_cpp_err=$ac_cpp_err$ac_c_werror_flag
@@ -23432,7 +23432,7 @@
   rm -f conftest.er1
   cat conftest.err >&5
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
-  (exit $ac_status); } >/dev/null; then
+  (exit $ac_status); } >/System/Devices/null; then
   if test -s conftest.err; then
     ac_cpp_err=$ac_c_preproc_warn_flag
     ac_cpp_err=$ac_cpp_err$ac_c_werror_flag
@@ -23772,7 +23772,7 @@
 
 # Looking for programs, paths and files
 
-PRIVSEP_PATH=/var/empty
+PRIVSEP_PATH=/System/ApplicationData/empty
 
 # Check whether --with-privsep-path or --without-privsep-path was given.
 if test "${with_privsep_path+set}" = set; then
@@ -23800,10 +23800,10 @@
 else
 
 		TestPath="$PATH"
-		TestPath="${TestPath}${PATH_SEPARATOR}/usr/X/bin"
-		TestPath="${TestPath}${PATH_SEPARATOR}/usr/bin/X11"
-		TestPath="${TestPath}${PATH_SEPARATOR}/usr/X11R6/bin"
-		TestPath="${TestPath}${PATH_SEPARATOR}/usr/openwin/bin"
+		TestPath="${TestPath}${PATH_SEPARATOR}/usr/X/System/Tools"
+		TestPath="${TestPath}${PATH_SEPARATOR}/System/Tools/X11"
+		TestPath="${TestPath}${PATH_SEPARATOR}/usr/X11R6/System/Tools"
+		TestPath="${TestPath}${PATH_SEPARATOR}/usr/openwin/System/Tools"
 		# Extract the first word of "xauth", so it can be a program name with args.
 set dummy xauth; ac_word=$2
 echo "$as_me:$LINENO: checking for $ac_word" >&5
@@ -23843,8 +23843,8 @@
 echo "${ECHO_T}no" >&6
 fi
 
-		if (test ! -z "$xauth_path" && test -x "/usr/openwin/bin/xauth") ; then
-			xauth_path="/usr/openwin/bin/xauth"
+		if (test ! -z "$xauth_path" && test -x "/usr/openwin/System/Tools/xauth") ; then
+			xauth_path="/usr/openwin/System/Tools/xauth"
 		fi
 
 
@@ -23885,14 +23885,14 @@
 fi
 
 if test ! -z "$cross_compiling" && test "x$cross_compiling" = "xyes"; then
-	{ echo "$as_me:$LINENO: WARNING: cross compiling: Disabling /dev/ptmx test" >&5
-echo "$as_me: WARNING: cross compiling: Disabling /dev/ptmx test" >&2;}
+	{ echo "$as_me:$LINENO: WARNING: cross compiling: Disabling /System/Devices/ptmx test" >&5
+echo "$as_me: WARNING: cross compiling: Disabling /System/Devices/ptmx test" >&2;}
 	disable_ptmx_check=yes
 fi
 if test -z "$no_dev_ptmx" ; then
 	if test "x$disable_ptmx_check" != "xyes" ; then
-		echo "$as_me:$LINENO: checking for \"/dev/ptmx\"" >&5
-echo $ECHO_N "checking for \"/dev/ptmx\"... $ECHO_C" >&6
+		echo "$as_me:$LINENO: checking for \"/System/Devices/ptmx\"" >&5
+echo $ECHO_N "checking for \"/System/Devices/ptmx\"... $ECHO_C" >&6
 if test "${ac_cv_file___dev_ptmx_+set}" = set; then
   echo $ECHO_N "(cached) $ECHO_C" >&6
 else
@@ -23900,7 +23900,7 @@
   { { echo "$as_me:$LINENO: error: cannot check for file existence when cross compiling" >&5
 echo "$as_me: error: cannot check for file existence when cross compiling" >&2;}
    { (exit 1); exit 1; }; }
-if test -r ""/dev/ptmx""; then
+if test -r ""/System/Devices/ptmx""; then
   ac_cv_file___dev_ptmx_=yes
 else
   ac_cv_file___dev_ptmx_=no
@@ -23923,8 +23923,8 @@
 fi
 
 if test ! -z "$cross_compiling" && test "x$cross_compiling" != "xyes"; then
-	echo "$as_me:$LINENO: checking for \"/dev/ptc\"" >&5
-echo $ECHO_N "checking for \"/dev/ptc\"... $ECHO_C" >&6
+	echo "$as_me:$LINENO: checking for \"/System/Devices/ptc\"" >&5
+echo $ECHO_N "checking for \"/System/Devices/ptc\"... $ECHO_C" >&6
 if test "${ac_cv_file___dev_ptc_+set}" = set; then
   echo $ECHO_N "(cached) $ECHO_C" >&6
 else
@@ -23932,7 +23932,7 @@
   { { echo "$as_me:$LINENO: error: cannot check for file existence when cross compiling" >&5
 echo "$as_me: error: cannot check for file existence when cross compiling" >&2;}
    { (exit 1); exit 1; }; }
-if test -r ""/dev/ptc""; then
+if test -r ""/System/Devices/ptc""; then
   ac_cv_file___dev_ptc_=yes
 else
   ac_cv_file___dev_ptc_=no
@@ -23952,8 +23952,8 @@
 fi
 
 else
-	{ echo "$as_me:$LINENO: WARNING: cross compiling: Disabling /dev/ptc test" >&5
-echo "$as_me: WARNING: cross compiling: Disabling /dev/ptc test" >&2;}
+	{ echo "$as_me:$LINENO: WARNING: cross compiling: Disabling /System/Devices/ptc test" >&5
+echo "$as_me: WARNING: cross compiling: Disabling /System/Devices/ptc test" >&2;}
 fi
 
 # Options from here on. Some of these are preset by platform above
@@ -23976,7 +23976,7 @@
 
 fi;
 if test -z "$MANTYPE"; then
-	TestPath="/usr/bin${PATH_SEPARATOR}/usr/ucb"
+	TestPath="/System/Tools${PATH_SEPARATOR}/usr/ucb"
 	for ac_prog in nroff awf
 do
   # Extract the first word of "$ac_prog", so it can be a program name with args.
@@ -24020,11 +24020,11 @@
 
   test -n "$NROFF" && break
 done
-test -n "$NROFF" || NROFF="/bin/false"
+test -n "$NROFF" || NROFF="/System/Tools/false"
 
-	if ${NROFF} -mdoc ${srcdir}/ssh.1 >/dev/null 2>&1; then
+	if ${NROFF} -mdoc ${srcdir}/ssh.1 >/System/Devices/null 2>&1; then
 		MANTYPE=doc
-	elif ${NROFF} -man ${srcdir}/ssh.1 >/dev/null 2>&1; then
+	elif ${NROFF} -man ${srcdir}/ssh.1 >/System/Devices/null 2>&1; then
 		MANTYPE=man
 	else
 		MANTYPE=cat
@@ -24262,7 +24262,7 @@
 otherwise scp will not work." >&2;}
 		fi
 		if test "$cross_compiling" = yes; then
-   user_path="/usr/bin:/bin:/usr/sbin:/sbin"
+   user_path="/System/Tools:/System/Tools:/System/AdminTools:/System/AdminTools"
 
 else
   cat >conftest.$ac_ext <<_ACEOF
@@ -24281,7 +24281,7 @@
 # ifdef _PATH_USERPATH	/* Irix */
 #  define _PATH_STDPATH _PATH_USERPATH
 # else
-#  define _PATH_STDPATH "/usr/bin:/bin:/usr/sbin:/sbin"
+#  define _PATH_STDPATH "/System/Tools:/System/Tools:/System/AdminTools:/System/AdminTools"
 # endif
 #endif
 #include <sys/types.h>
@@ -24323,7 +24323,7 @@
 sed 's/^/| /' conftest.$ac_ext >&5
 
 ( exit $ac_status )
- user_path="/usr/bin:/bin:/usr/sbin:/sbin"
+ user_path="/System/Tools:/System/Tools:/System/AdminTools:/System/AdminTools"
 fi
 rm -f core *.core gmon.out bb.out conftest$ac_exeext conftest.$ac_objext conftest.$ac_ext
 fi
@@ -24335,9 +24335,9 @@
 		case $t_bindir in
 			NONE/*) t_bindir=`echo $t_bindir | sed "s~NONE~$ac_default_prefix~"` ;;
 		esac
-		echo $user_path | grep ":$t_bindir"  > /dev/null 2>&1
+		echo $user_path | grep ":$t_bindir"  > /System/Devices/null 2>&1
 		if test $? -ne 0  ; then
-			echo $user_path | grep "^$t_bindir"  > /dev/null 2>&1
+			echo $user_path | grep "^$t_bindir"  > /System/Devices/null 2>&1
 			if test $? -ne 0  ; then
 				user_path=$user_path:$t_bindir
 				echo "$as_me:$LINENO: result: Adding $t_bindir to USER_PATH so scp will work" >&5
@@ -24432,7 +24432,7 @@
 fi;
 
 # Where to place sshd.pid
-piddir=/var/run
+piddir=/System/ApplicationData/RuntimeData
 # make sure the directory exists
 if test ! -d $piddir ; then
 	piddir=`eval echo ${sysconfdir}`
@@ -24714,7 +24714,7 @@
 
 if test -z "$conf_lastlog_location"; then
 	if test x"$system_lastlog_path" = x"no" ; then
-		for f in /var/log/lastlog /usr/adm/lastlog /var/adm/lastlog /etc/security/lastlog ; do
+		for f in /System/ApplicationData/log/lastlog /usr/adm/lastlog /System/ApplicationData/adm/lastlog /etc/security/lastlog ; do
 				if (test -d "$f" || test -f "$f") ; then
 					conf_lastlog_location=$f
 				fi
@@ -24792,7 +24792,7 @@
 rm -f conftest.err conftest.$ac_objext conftest.$ac_ext
 if test -z "$conf_utmp_location"; then
 	if test x"$system_utmp_path" = x"no" ; then
-		for f in /etc/utmp /usr/adm/utmp /var/run/utmp; do
+		for f in /etc/utmp /usr/adm/utmp /System/ApplicationData/RuntimeData/utmp; do
 			if test -f $f ; then
 				conf_utmp_location=$f
 			fi
@@ -24871,7 +24871,7 @@
 rm -f conftest.err conftest.$ac_objext conftest.$ac_ext
 if test -z "$conf_wtmp_location"; then
 	if test x"$system_wtmp_path" = x"no" ; then
-		for f in /usr/adm/wtmp /var/log/wtmp; do
+		for f in /usr/adm/wtmp /System/ApplicationData/log/wtmp; do
 			if test -f $f ; then
 				conf_wtmp_location=$f
 			fi
@@ -25102,9 +25102,9 @@
      t end
      /^ac_cv_env/!s/^\([^=]*\)=\(.*\)$/\1=${\1=\2}/
      : end' >>confcache
-if diff $cache_file confcache >/dev/null 2>&1; then :; else
+if diff $cache_file confcache >/System/Devices/null 2>&1; then :; else
   if test -w $cache_file; then
-    test "x$cache_file" != "x/dev/null" && echo "updating cache $cache_file"
+    test "x$cache_file" != "x/System/Devices/null" && echo "updating cache $cache_file"
     cat confcache >$cache_file
   else
     echo "not updating unwritable cache $cache_file"
@@ -25173,19 +25173,19 @@
 ## --------------------- ##
 
 # Be Bourne compatible
-if test -n "${ZSH_VERSION+set}" && (emulate sh) >/dev/null 2>&1; then
+if test -n "${ZSH_VERSION+set}" && (emulate sh) >/System/Devices/null 2>&1; then
   emulate sh
   NULLCMD=:
   # Zsh 3.x and 4.x performs word splitting on ${1+"$@"}, which
   # is contrary to our usage.  Disable this feature.
   alias -g '${1+"$@"}'='"$@"'
-elif test -n "${BASH_VERSION+set}" && (set -o posix) >/dev/null 2>&1; then
+elif test -n "${BASH_VERSION+set}" && (set -o posix) >/System/Devices/null 2>&1; then
   set -o posix
 fi
 DUALCASE=1; export DUALCASE # for MKS sh
 
 # Support unset when possible.
-if ( (MAIL=60; unset MAIL) || exit) >/dev/null 2>&1; then
+if ( (MAIL=60; unset MAIL) || exit) >/System/Devices/null 2>&1; then
   as_unset=unset
 else
   as_unset=false
@@ -25212,13 +25212,13 @@
 done
 
 # Required to use basename.
-if expr a : '\(a\)' >/dev/null 2>&1; then
+if expr a : '\(a\)' >/System/Devices/null 2>&1; then
   as_expr=expr
 else
   as_expr=false
 fi
 
-if (basename /) >/dev/null 2>&1 && test "X`basename / 2>&1`" = "X/"; then
+if (basename /) >/System/Devices/null 2>&1 && test "X`basename / 2>&1`" = "X/"; then
   as_basename=basename
 else
   as_basename=false
@@ -25230,7 +25230,7 @@
 $as_expr X/"$0" : '.*/\([^/][^/]*\)/*$' \| \
 	 X"$0" : 'X\(//\)$' \| \
 	 X"$0" : 'X\(/\)$' \| \
-	 .     : '\(.\)' 2>/dev/null ||
+	 .     : '\(.\)' 2>/System/Devices/null ||
 echo X/"$0" |
     sed '/^.*\/\([^/][^/]*\)\/*$/{ s//\1/; q; }
   	  /^X\/\(\/\/\)$/{ s//\1/; q; }
@@ -25248,10 +25248,10 @@
 
 # The user is always right.
 if test "${PATH_SEPARATOR+set}" != set; then
-  echo "#! /bin/sh" >conf$$.sh
+  echo "#! /System/Tools/sh" >conf$$.sh
   echo  "exit 0"   >>conf$$.sh
   chmod +x conf$$.sh
-  if (PATH="/nonexistent;."; conf$$.sh) >/dev/null 2>&1; then
+  if (PATH="/nonexistent;."; conf$$.sh) >/System/Devices/null 2>&1; then
     PATH_SEPARATOR=';'
   else
     PATH_SEPARATOR=:
@@ -25262,7 +25262,7 @@
 
   as_lineno_1=$LINENO
   as_lineno_2=$LINENO
-  as_lineno_3=`(expr $as_lineno_1 + 1) 2>/dev/null`
+  as_lineno_3=`(expr $as_lineno_1 + 1) 2>/System/Devices/null`
   test "x$as_lineno_1" != "x$as_lineno_2" &&
   test "x$as_lineno_3"  = "x$as_lineno_2"  || {
   # Find who we are.  Look in the path if we contain no path at all
@@ -25292,7 +25292,7 @@
   case $CONFIG_SHELL in
   '')
     as_save_IFS=$IFS; IFS=$PATH_SEPARATOR
-for as_dir in /bin$PATH_SEPARATOR/usr/bin$PATH_SEPARATOR$PATH
+for as_dir in /System/Tools$PATH_SEPARATOR/System/Tools$PATH_SEPARATOR$PATH
 do
   IFS=$as_save_IFS
   test -z "$as_dir" && as_dir=.
@@ -25302,9 +25302,9 @@
 	   if ("$as_dir/$as_base" -c '
   as_lineno_1=$LINENO
   as_lineno_2=$LINENO
-  as_lineno_3=`(expr $as_lineno_1 + 1) 2>/dev/null`
+  as_lineno_3=`(expr $as_lineno_1 + 1) 2>/System/Devices/null`
   test "x$as_lineno_1" != "x$as_lineno_2" &&
-  test "x$as_lineno_3"  = "x$as_lineno_2" ') 2>/dev/null; then
+  test "x$as_lineno_3"  = "x$as_lineno_2" ') 2>/System/Devices/null; then
 	     $as_unset BASH_ENV || test "${BASH_ENV+set}" != set || { BASH_ENV=; export BASH_ENV; }
 	     $as_unset ENV || test "${ENV+set}" != set || { ENV=; export ENV; }
 	     CONFIG_SHELL=$as_dir/$as_base
@@ -25356,7 +25356,7 @@
   *)       ECHO_N= ECHO_C='\c' ECHO_T= ;;
 esac
 
-if expr a : '\(a\)' >/dev/null 2>&1; then
+if expr a : '\(a\)' >/System/Devices/null 2>&1; then
   as_expr=expr
 else
   as_expr=false
@@ -25364,7 +25364,7 @@
 
 rm -f conf$$ conf$$.exe conf$$.file
 echo >conf$$.file
-if ln -s conf$$.file conf$$ 2>/dev/null; then
+if ln -s conf$$.file conf$$ 2>/System/Devices/null; then
   # We could just check for DJGPP; but this test a) works b) is more generic
   # and c) will remain valid once DJGPP supports symlinks (DJGPP 2.04).
   if test -f conf$$.exe; then
@@ -25373,14 +25373,14 @@
   else
     as_ln_s='ln -s'
   fi
-elif ln conf$$.file conf$$ 2>/dev/null; then
+elif ln conf$$.file conf$$ 2>/System/Devices/null; then
   as_ln_s=ln
 else
   as_ln_s='cp -p'
 fi
 rm -f conf$$ conf$$.exe conf$$.file
 
-if mkdir -p . 2>/dev/null; then
+if mkdir -p . 2>/System/Devices/null; then
   as_mkdir_p=:
 else
   test -d ./-p && rmdir ./-p
@@ -25429,7 +25429,7 @@
   $ $0 $@
 
 _CSEOF
-echo "on `(hostname || uname -n) 2>/dev/null | sed 1q`" >&5
+echo "on `(hostname || uname -n) 2>/System/Devices/null | sed 1q`" >&5
 echo >&5
 _ACEOF
 
@@ -25560,7 +25560,7 @@
 ac_configure_extra_args=
 
 if $ac_cs_silent; then
-  exec 6>/dev/null
+  exec 6>/System/Devices/null
   ac_configure_extra_args="$ac_configure_extra_args --silent"
 fi
 
@@ -25607,7 +25607,7 @@
 
 # Have a temporary directory for convenience.  Make it in the build tree
 # simply because there is no reason to put it here, and in addition,
-# creating and moving files from /tmp can sometimes cause problems.
+# creating and moving files from /System/TemporaryFiles can sometimes cause problems.
 # Create a temporary directory, and hook for its removal unless debugging.
 $debug ||
 {
@@ -25618,7 +25618,7 @@
 # Create a (secure) tmp directory for tmp files.
 
 {
-  tmp=`(umask 077 && mktemp -d -q "./confstatXXXXXX") 2>/dev/null` &&
+  tmp=`(umask 077 && mktemp -d -q "./confstatXXXXXX") 2>/System/Devices/null` &&
   test -n "$tmp" && test -d "$tmp"
 }  ||
 {
@@ -25804,12 +25804,12 @@
   esac
 
   # Compute @srcdir@, @top_srcdir@, and @INSTALL@ for subdirectories.
-  ac_dir=`(dirname "$ac_file") 2>/dev/null ||
+  ac_dir=`(dirname "$ac_file") 2>/System/Devices/null ||
 $as_expr X"$ac_file" : 'X\(.*[^/]\)//*[^/][^/]*/*$' \| \
 	 X"$ac_file" : 'X\(//\)[^/]' \| \
 	 X"$ac_file" : 'X\(//\)$' \| \
 	 X"$ac_file" : 'X\(/\)' \| \
-	 .     : '\(.\)' 2>/dev/null ||
+	 .     : '\(.\)' 2>/System/Devices/null ||
 echo X"$ac_file" |
     sed '/^X\(.*[^/]\)\/\/*[^/][^/]*\/*$/{ s//\1/; q; }
   	  /^X\(\/\/\)[^/].*/{ s//\1/; q; }
@@ -25823,12 +25823,12 @@
     as_dirs=
     while test ! -d "$as_dir"; do
       as_dirs="$as_dir $as_dirs"
-      as_dir=`(dirname "$as_dir") 2>/dev/null ||
+      as_dir=`(dirname "$as_dir") 2>/System/Devices/null ||
 $as_expr X"$as_dir" : 'X\(.*[^/]\)//*[^/][^/]*/*$' \| \
 	 X"$as_dir" : 'X\(//\)[^/]' \| \
 	 X"$as_dir" : 'X\(//\)$' \| \
 	 X"$as_dir" : 'X\(/\)' \| \
-	 .     : '\(.\)' 2>/dev/null ||
+	 .     : '\(.\)' 2>/System/Devices/null ||
 echo X"$as_dir" |
     sed '/^X\(.*[^/]\)\/\/*[^/][^/]*\/*$/{ s//\1/; q; }
   	  /^X\(\/\/\)[^/].*/{ s//\1/; q; }
@@ -25948,7 +25948,7 @@
 	   # Source tree
 	   echo "$srcdir/$f"
 	 else
-	   # /dev/null tree
+	   # /System/Devices/null tree
 	   { { echo "$as_me:$LINENO: error: cannot find input file: $f" >&5
 echo "$as_me: error: cannot find input file: $f" >&2;}
    { (exit 1); exit 1; }; }
@@ -26040,7 +26040,7 @@
 	   # Source tree
 	   echo "$srcdir/$f"
 	 else
-	   # /dev/null tree
+	   # /System/Devices/null tree
 	   { { echo "$as_me:$LINENO: error: cannot find input file: $f" >&5
 echo "$as_me: error: cannot find input file: $f" >&2;}
    { (exit 1); exit 1; }; }
@@ -26093,11 +26093,11 @@
 # Break up conftest.defines because some shells have a limit on the size
 # of here documents, and old seds have small limits too (100 cmds).
 echo '  # Handle all the #define templates only if necessary.' >>$CONFIG_STATUS
-echo '  if grep "^[	 ]*#[	 ]*define" $tmp/in >/dev/null; then' >>$CONFIG_STATUS
+echo '  if grep "^[	 ]*#[	 ]*define" $tmp/in >/System/Devices/null; then' >>$CONFIG_STATUS
 echo '  # If there are no defines, we may have an empty if/fi' >>$CONFIG_STATUS
 echo '  :' >>$CONFIG_STATUS
 rm -f conftest.tail
-while grep . conftest.defines >/dev/null
+while grep . conftest.defines >/System/Devices/null
 do
   # Write a limited-size here document to $tmp/defines.sed.
   echo '  cat >$tmp/defines.sed <<CEOF' >>$CONFIG_STATUS
@@ -26124,7 +26124,7 @@
 # of here documents, and old seds have small limits too (100 cmds).
 echo '  # Handle all the #undef templates' >>$CONFIG_STATUS
 rm -f conftest.tail
-while grep . conftest.undefs >/dev/null
+while grep . conftest.undefs >/System/Devices/null
 do
   # Write a limited-size here document to $tmp/undefs.sed.
   echo '  cat >$tmp/undefs.sed <<CEOF' >>$CONFIG_STATUS
@@ -26157,16 +26157,16 @@
   cat $tmp/in >>$tmp/config.h
   rm -f $tmp/in
   if test x"$ac_file" != x-; then
-    if diff $ac_file $tmp/config.h >/dev/null 2>&1; then
+    if diff $ac_file $tmp/config.h >/System/Devices/null 2>&1; then
       { echo "$as_me:$LINENO: $ac_file is unchanged" >&5
 echo "$as_me: $ac_file is unchanged" >&6;}
     else
-      ac_dir=`(dirname "$ac_file") 2>/dev/null ||
+      ac_dir=`(dirname "$ac_file") 2>/System/Devices/null ||
 $as_expr X"$ac_file" : 'X\(.*[^/]\)//*[^/][^/]*/*$' \| \
 	 X"$ac_file" : 'X\(//\)[^/]' \| \
 	 X"$ac_file" : 'X\(//\)$' \| \
 	 X"$ac_file" : 'X\(/\)' \| \
-	 .     : '\(.\)' 2>/dev/null ||
+	 .     : '\(.\)' 2>/System/Devices/null ||
 echo X"$ac_file" |
     sed '/^X\(.*[^/]\)\/\/*[^/][^/]*\/*$/{ s//\1/; q; }
   	  /^X\(\/\/\)[^/].*/{ s//\1/; q; }
@@ -26180,12 +26180,12 @@
     as_dirs=
     while test ! -d "$as_dir"; do
       as_dirs="$as_dir $as_dirs"
-      as_dir=`(dirname "$as_dir") 2>/dev/null ||
+      as_dir=`(dirname "$as_dir") 2>/System/Devices/null ||
 $as_expr X"$as_dir" : 'X\(.*[^/]\)//*[^/][^/]*/*$' \| \
 	 X"$as_dir" : 'X\(//\)[^/]' \| \
 	 X"$as_dir" : 'X\(//\)$' \| \
 	 X"$as_dir" : 'X\(/\)' \| \
-	 .     : '\(.\)' 2>/dev/null ||
+	 .     : '\(.\)' 2>/System/Devices/null ||
 echo X"$as_dir" |
     sed '/^X\(.*[^/]\)\/\/*[^/][^/]*\/*$/{ s//\1/; q; }
   	  /^X\(\/\/\)[^/].*/{ s//\1/; q; }
@@ -26220,7 +26220,7 @@
 # config.status does its own redirection, appending to config.log.
 # Unfortunately, on DOS this fails, as config.log is still kept open
 # by configure, so config.status won't be able to write to it; its
-# output is simply discarded.  So we exec the FD to /dev/null,
+# output is simply discarded.  So we exec the FD to /System/Devices/null,
 # effectively closing config.log, so it can be properly (re)opened and
 # appended to by config.status.  When coming back to configure, we
 # need to make the FD available again.
@@ -26229,7 +26229,7 @@
   ac_config_status_args=
   test "$silent" = yes &&
     ac_config_status_args="$ac_config_status_args --quiet"
-  exec 5>/dev/null
+  exec 5>/System/Devices/null
   $SHELL $CONFIG_STATUS $ac_config_status_args || ac_cs_success=false
   exec 5>>config.log
   # Use ||, not &&, to avoid exiting from the if with $? = 1, which
diff -urN openssh-4.1p1/configure.ac openssh-4.1p1-STEP/configure.ac
--- openssh-4.1p1/configure.ac	2005-04-24 19:52:23.000000000 +1200
+++ openssh-4.1p1-STEP/configure.ac	2006-04-26 03:54:30.981393312 +1200
@@ -43,9 +43,9 @@
 
 dnl for buildpkg.sh
 AC_PATH_PROG(PATH_GROUPADD_PROG, groupadd, groupadd,
-	[/usr/sbin${PATH_SEPARATOR}/etc])
+	[/System/AdminTools${PATH_SEPARATOR}/etc])
 AC_PATH_PROG(PATH_USERADD_PROG, useradd, useradd,
-	[/usr/sbin${PATH_SEPARATOR}/etc])
+	[/System/AdminTools${PATH_SEPARATOR}/etc])
 AC_CHECK_PROG(MAKE_PACKAGE_SUPPORTED, pkgmk, yes, no)
 
 # System features
@@ -259,7 +259,7 @@
 	AC_DEFINE(LOCKED_PASSWD_PREFIX, "!")
 	AC_DEFINE(SPT_TYPE,SPT_REUSEARGV)
 	AC_DEFINE(LINK_OPNOTSUPP_ERRNO, EPERM)
-	AC_DEFINE(_PATH_BTMP, "/var/log/btmp", [log for bad login attempts])
+	AC_DEFINE(_PATH_BTMP, "/System/ApplicationData/log/btmp", [log for bad login attempts])
 	AC_DEFINE(USE_BTMP, 1, [Use btmp to log bad logins])
 	inet6_default_4in6=yes
 	case `uname -r` in
@@ -310,7 +310,7 @@
 	AC_DEFINE(SSHD_ACQUIRES_CTTY)
 	external_path_file=/etc/default/login
 	# hardwire lastlog location (can't detect it on some versions)
-	conf_lastlog_location="/var/adm/lastlog"
+	conf_lastlog_location="/System/ApplicationData/adm/lastlog"
 	AC_MSG_CHECKING(for obsolete utmp and wtmp in solaris2.x)
 	sol2ver=`echo "$host"| sed -e 's/.*[[0-9]]\.//'`
 	if test "$sol2ver" -ge 8; then
@@ -326,8 +326,8 @@
 	AC_CHECK_FUNCS(getpwanam)
 	AC_DEFINE(PAM_SUN_CODEBASE)
 	conf_utmp_location=/etc/utmp
-	conf_wtmp_location=/var/adm/wtmp
-	conf_lastlog_location=/var/adm/lastlog
+	conf_wtmp_location=/System/ApplicationData/adm/wtmp
+	conf_lastlog_location=/System/ApplicationData/adm/lastlog
 	AC_DEFINE(USE_PIPES)
 	;;
 *-ncr-sysv*)
@@ -752,8 +752,8 @@
 	]
 )
 
-AC_MSG_CHECKING([for /proc/pid/fd directory])
-if test -d "/proc/$$/fd" ; then
+AC_MSG_CHECKING([for /System/Processes/pid/fd directory])
+if test -d "/System/Processes/$$/fd" ; then
 	AC_DEFINE(HAVE_PROC_PID)
 	AC_MSG_RESULT(yes)
 else
@@ -1096,7 +1096,7 @@
 		close(0); close(1); close(2);
 		setsid();
 		openpty(&ptyfd, &ttyfd, NULL, NULL, NULL);
-		fd = open("/dev/tty", O_RDWR | O_NOCTTY);
+		fd = open("/System/Devices/tty", O_RDWR | O_NOCTTY);
 		if (fd >= 0)
 			exit(3);	/* Acquired ctty: broken */
 		else
@@ -1346,7 +1346,7 @@
 		fi
 	]
 )
-LIBS="-lcrypto $LIBS"
+LIBS="/System/Library/Libraries/OpenSSL-0.9.7g/lib/libcrypto.a $LIBS"
 AC_TRY_LINK_FUNC(RAND_add, AC_DEFINE(HAVE_OPENSSL),
 	[
 		dnl Check default openssl install dir
@@ -1555,11 +1555,11 @@
 
 # PRNGD Unix domain socket
 AC_ARG_WITH(prngd-socket,
-	[  --with-prngd-socket=FILE read entropy from PRNGD/EGD socket FILE (default=/var/run/egd-pool)],
+	[  --with-prngd-socket=FILE read entropy from PRNGD/EGD socket FILE (default=/System/ApplicationData/RuntimeData/egd-pool)],
 	[
 		case "$withval" in
 		yes)
-			withval="/var/run/egd-pool"
+			withval="/System/ApplicationData/RuntimeData/egd-pool"
 			;;
 		no)
 			withval=""
@@ -1587,7 +1587,7 @@
 		if test "$USE_RAND_HELPER" = yes ; then
 			AC_MSG_CHECKING(for PRNGD/EGD socket)
 			# Insert other locations here
-			for sock in /var/run/egd-pool /dev/egd-pool /etc/entropy; do
+			for sock in /System/ApplicationData/RuntimeData/egd-pool /System/Devices/egd-pool /etc/entropy; do
 				if test -r $sock && $TEST_MINUS_S_SH -c "test -S $sock -o -p $sock" ; then
 					PRNGD_SOCKET="$sock"
 					AC_DEFINE_UNQUOTED(PRNGD_SOCKET, "$PRNGD_SOCKET")
@@ -1637,10 +1637,10 @@
 # random version of a program in someone's personal bin.
 
 OPATH=$PATH
-PATH=/bin:/usr/bin
-test -h /bin 2> /dev/null && PATH=/usr/bin
-test -d /sbin && PATH=$PATH:/sbin
-test -d /usr/sbin && PATH=$PATH:/usr/sbin
+PATH=/System/Tools:/System/Tools
+test -h /System/Tools 2> /System/Devices/null && PATH=/System/Tools
+test -d /System/AdminTools && PATH=$PATH:/System/AdminTools
+test -d /System/AdminTools && PATH=$PATH:/System/AdminTools
 PATH=$PATH:/etc:$OPATH
 
 # These programs are used by the command hashing source to gather entropy
@@ -2358,7 +2358,7 @@
 	[
 	    if test "x$withval" != "xno" ; then
 		if test "x$withval" != "xyes" ; then
-  			OPENSC_CONFIG=$withval/bin/opensc-config
+  			OPENSC_CONFIG=$withval/System/Tools/opensc-config
 		else
   			AC_PATH_PROG(OPENSC_CONFIG, opensc-config, no)
 		fi
@@ -2422,12 +2422,12 @@
 		KRB5_MSG="yes"
 
 		AC_MSG_CHECKING(for krb5-config)
-		if test -x  $KRB5ROOT/bin/krb5-config ; then
-			KRB5CONF=$KRB5ROOT/bin/krb5-config
+		if test -x  $KRB5ROOT/System/Tools/krb5-config ; then
+			KRB5CONF=$KRB5ROOT/System/Tools/krb5-config
 			AC_MSG_RESULT($KRB5CONF)
 
 			AC_MSG_CHECKING(for gssapi support)
-			if $KRB5CONF | grep gssapi >/dev/null ; then
+			if $KRB5CONF | grep gssapi >/System/Devices/null ; then
 				AC_MSG_RESULT(yes)
 				AC_DEFINE(GSSAPI)
 				k5confopts=gssapi
@@ -2511,9 +2511,9 @@
 
 # Looking for programs, paths and files
 
-PRIVSEP_PATH=/var/empty
+PRIVSEP_PATH=/System/ApplicationData/empty
 AC_ARG_WITH(privsep-path,
-	[  --with-privsep-path=xxx Path for privilege separation chroot (default=/var/empty)],
+	[  --with-privsep-path=xxx Path for privilege separation chroot (default=/System/ApplicationData/empty)],
 	[
 		if test -n "$withval"  &&  test "x$withval" != "xno"  &&  \
 		    test "x${withval}" != "xyes"; then
@@ -2533,13 +2533,13 @@
 	],
 	[
 		TestPath="$PATH"
-		TestPath="${TestPath}${PATH_SEPARATOR}/usr/X/bin"
-		TestPath="${TestPath}${PATH_SEPARATOR}/usr/bin/X11"
-		TestPath="${TestPath}${PATH_SEPARATOR}/usr/X11R6/bin"
-		TestPath="${TestPath}${PATH_SEPARATOR}/usr/openwin/bin"
+		TestPath="${TestPath}${PATH_SEPARATOR}/usr/X/System/Tools"
+		TestPath="${TestPath}${PATH_SEPARATOR}/System/Tools/X11"
+		TestPath="${TestPath}${PATH_SEPARATOR}/usr/X11R6/System/Tools"
+		TestPath="${TestPath}${PATH_SEPARATOR}/usr/openwin/System/Tools"
 		AC_PATH_PROG(xauth_path, xauth, , $TestPath)
-		if (test ! -z "$xauth_path" && test -x "/usr/openwin/bin/xauth") ; then
-			xauth_path="/usr/openwin/bin/xauth"
+		if (test ! -z "$xauth_path" && test -x "/usr/openwin/System/Tools/xauth") ; then
+			xauth_path="/usr/openwin/System/Tools/xauth"
 		fi
 	]
 )
@@ -2571,12 +2571,12 @@
 fi
 
 if test ! -z "$cross_compiling" && test "x$cross_compiling" = "xyes"; then
-	AC_MSG_WARN([cross compiling: Disabling /dev/ptmx test])
+	AC_MSG_WARN([cross compiling: Disabling /System/Devices/ptmx test])
 	disable_ptmx_check=yes
 fi
 if test -z "$no_dev_ptmx" ; then
 	if test "x$disable_ptmx_check" != "xyes" ; then
-		AC_CHECK_FILE("/dev/ptmx",
+		AC_CHECK_FILE("/System/Devices/ptmx",
 			[
 				AC_DEFINE_UNQUOTED(HAVE_DEV_PTMX)
 				have_dev_ptmx=1
@@ -2586,14 +2586,14 @@
 fi
 
 if test ! -z "$cross_compiling" && test "x$cross_compiling" != "xyes"; then
-	AC_CHECK_FILE("/dev/ptc",
+	AC_CHECK_FILE("/System/Devices/ptc",
 		[
 			AC_DEFINE_UNQUOTED(HAVE_DEV_PTS_AND_PTC)
 			have_dev_ptc=1
 		]
 	)
 else
-	AC_MSG_WARN([cross compiling: Disabling /dev/ptc test])
+	AC_MSG_WARN([cross compiling: Disabling /System/Devices/ptc test])
 fi
 
 # Options from here on. Some of these are preset by platform above
@@ -2611,11 +2611,11 @@
 	]
 )
 if test -z "$MANTYPE"; then
-	TestPath="/usr/bin${PATH_SEPARATOR}/usr/ucb"
-	AC_PATH_PROGS(NROFF, nroff awf, /bin/false, $TestPath)
-	if ${NROFF} -mdoc ${srcdir}/ssh.1 >/dev/null 2>&1; then
+	TestPath="/System/Tools${PATH_SEPARATOR}/usr/ucb"
+	AC_PATH_PROGS(NROFF, nroff awf, /System/Tools/false, $TestPath)
+	if ${NROFF} -mdoc ${srcdir}/ssh.1 >/System/Devices/null 2>&1; then
 		MANTYPE=doc
-	elif ${NROFF} -man ${srcdir}/ssh.1 >/dev/null 2>&1; then
+	elif ${NROFF} -man ${srcdir}/ssh.1 >/System/Devices/null 2>&1; then
 		MANTYPE=man
 	else
 		MANTYPE=cat
@@ -2755,7 +2755,7 @@
 # ifdef _PATH_USERPATH	/* Irix */
 #  define _PATH_STDPATH _PATH_USERPATH
 # else
-#  define _PATH_STDPATH "/usr/bin:/bin:/usr/sbin:/sbin"
+#  define _PATH_STDPATH "/System/Tools:/System/Tools:/System/AdminTools:/System/AdminTools"
 # endif
 #endif
 #include <sys/types.h>
@@ -2778,8 +2778,8 @@
 	exit(0);
 }
 		], [ user_path=`cat conftest.stdpath` ],
-		[ user_path="/usr/bin:/bin:/usr/sbin:/sbin" ],
-		[ user_path="/usr/bin:/bin:/usr/sbin:/sbin" ]
+		[ user_path="/System/Tools:/System/Tools:/System/AdminTools:/System/AdminTools" ],
+		[ user_path="/System/Tools:/System/Tools:/System/AdminTools:/System/AdminTools" ]
 	)
 # make sure $bindir is in USER_PATH so scp will work
 		t_bindir=`eval echo ${bindir}`
@@ -2789,9 +2789,9 @@
 		case $t_bindir in
 			NONE/*) t_bindir=`echo $t_bindir | sed "s~NONE~$ac_default_prefix~"` ;;
 		esac
-		echo $user_path | grep ":$t_bindir"  > /dev/null 2>&1
+		echo $user_path | grep ":$t_bindir"  > /System/Devices/null 2>&1
 		if test $? -ne 0  ; then
-			echo $user_path | grep "^$t_bindir"  > /dev/null 2>&1
+			echo $user_path | grep "^$t_bindir"  > /System/Devices/null 2>&1
 			if test $? -ne 0  ; then
 				user_path=$user_path:$t_bindir
 				AC_MSG_RESULT(Adding $t_bindir to USER_PATH so scp will work)
@@ -2853,7 +2853,7 @@
 )
 
 # Where to place sshd.pid
-piddir=/var/run
+piddir=/System/ApplicationData/RuntimeData
 # make sure the directory exists
 if test ! -d $piddir ; then
 	piddir=`eval echo ${sysconfdir}`
@@ -3001,7 +3001,7 @@
 
 if test -z "$conf_lastlog_location"; then
 	if test x"$system_lastlog_path" = x"no" ; then
-		for f in /var/log/lastlog /usr/adm/lastlog /var/adm/lastlog /etc/security/lastlog ; do
+		for f in /System/ApplicationData/log/lastlog /usr/adm/lastlog /System/ApplicationData/adm/lastlog /etc/security/lastlog ; do
 				if (test -d "$f" || test -f "$f") ; then
 					conf_lastlog_location=$f
 				fi
@@ -3033,7 +3033,7 @@
 )
 if test -z "$conf_utmp_location"; then
 	if test x"$system_utmp_path" = x"no" ; then
-		for f in /etc/utmp /usr/adm/utmp /var/run/utmp; do
+		for f in /etc/utmp /usr/adm/utmp /System/ApplicationData/RuntimeData/utmp; do
 			if test -f $f ; then
 				conf_utmp_location=$f
 			fi
@@ -3063,7 +3063,7 @@
 )
 if test -z "$conf_wtmp_location"; then
 	if test x"$system_wtmp_path" = x"no" ; then
-		for f in /usr/adm/wtmp /var/log/wtmp; do
+		for f in /usr/adm/wtmp /System/ApplicationData/log/wtmp; do
 			if test -f $f ; then
 				conf_wtmp_location=$f
 			fi
diff -urN openssh-4.1p1/contrib/aix/buildbff.sh openssh-4.1p1-STEP/contrib/aix/buildbff.sh
--- openssh-4.1p1/contrib/aix/buildbff.sh	2005-03-30 01:24:12.000000000 +1200
+++ openssh-4.1p1-STEP/contrib/aix/buildbff.sh	2006-04-26 03:50:53.035526120 +1200
@@ -1,4 +1,4 @@
-#!/bin/sh
+#!/System/Tools/sh
 #
 # buildbff.sh: Create AIX SMIT-installable OpenSSH packages
 # $Id: buildbff.sh,v 1.8 2005/03/29 13:24:12 dtucker Exp $
@@ -93,7 +93,7 @@
 fi
 if [ -z "$PRIVSEP_PATH" ]
 then
-	PRIVSEP_PATH=/var/empty
+	PRIVSEP_PATH=/System/ApplicationData/empty
 fi
 
 # Clean package build directory
@@ -185,7 +185,7 @@
 # Create postinstall script
 #
 cat <<EOF >>../openssh.post_i
-#!/bin/sh
+#!/System/Tools/sh
 
 echo Creating configs from defaults if necessary.
 for cfgfile in ssh_config sshd_config ssh_prng_cmds
@@ -202,7 +202,7 @@
 
 # Create PrivSep user if PrivSep not disabled in config
 echo Creating PrivSep prereqs if required.
-if egrep '^[ \t]*UsePrivilegeSeparation[ \t]+no' $sysconfdir/sshd_config >/dev/null
+if egrep '^[ \t]*UsePrivilegeSeparation[ \t]+no' $sysconfdir/sshd_config >/System/Devices/null
 then
 	echo "UsePrivilegeSeparation disabled in config, not creating PrivSep user,"
 	echo "group or chroot directory."
@@ -210,7 +210,7 @@
 	echo "UsePrivilegeSeparation enabled in config (or defaulting to on)."
 
 	# create group if required
-	if cut -f1 -d: /etc/group | egrep '^'$SSH_PRIVSEP_USER'\$' >/dev/null
+	if cut -f1 -d: /etc/group | egrep '^'$SSH_PRIVSEP_USER'\$' >/System/Devices/null
 	then
 		echo "PrivSep group $SSH_PRIVSEP_USER already exists."
 	else
@@ -219,7 +219,7 @@
 	fi
 
 	# Create user if required
-	if lsuser "$SSH_PRIVSEP_USER" >/dev/null
+	if lsuser "$SSH_PRIVSEP_USER" >/System/Devices/null
 	then
 		echo "PrivSep user $SSH_PRIVSEP_USER already exists."
 	else
@@ -264,7 +264,7 @@
 if [ "$AIX_SRC" = "yes" ]
 then
 	echo Creating SRC sshd subsystem.
-	rmssys -s sshd 2>&1 >/dev/null
+	rmssys -s sshd 2>&1 >/System/Devices/null
 	mkssys -s sshd -p "$sbindir/sshd" -a '-D' -u 0 -S -n 15 -f 9 -R -G tcpip
 	startupcmd="start $sbindir/sshd \\\"\\\$src_running\\\""
 	oldstartcmd="$sbindir/sshd"
@@ -275,7 +275,7 @@
 
 # If migrating to or from SRC, change previous startup command
 # otherwise add to rc.tcpip
-if egrep "^\$oldstartcmd" /etc/rc.tcpip >/dev/null
+if egrep "^\$oldstartcmd" /etc/rc.tcpip >/System/Devices/null
 then
 	if sed "s|^\$oldstartcmd|\$startupcmd|g" /etc/rc.tcpip >/etc/rc.tcpip.new
 	then
@@ -287,7 +287,7 @@
 	fi
 else
 	# Add to system startup if required
-	if grep "^\$startupcmd" /etc/rc.tcpip >/dev/null
+	if grep "^\$startupcmd" /etc/rc.tcpip >/System/Devices/null
 	then
 		echo "sshd found in rc.tcpip, not adding."
 	else
@@ -320,12 +320,12 @@
 # OpenSSH 3.0.2.1 1 N U en_US OpenSSH 3.0.2p1 Portable for AIX
 # [
 # %
-# /usr/local/bin 8073
+# /usr/local/System/Tools 8073
 # /usr/local/etc 189
 # /usr/local/libexec 185
 # /usr/local/man/man1 145
 # /usr/local/man/man8 83
-# /usr/local/sbin 2105
+# /usr/local/System/AdminTools 2105
 # /usr/local/share 3
 # %
 # ]
diff -urN openssh-4.1p1/contrib/aix/inventory.sh openssh-4.1p1-STEP/contrib/aix/inventory.sh
--- openssh-4.1p1/contrib/aix/inventory.sh	2003-11-22 01:48:56.000000000 +1300
+++ openssh-4.1p1-STEP/contrib/aix/inventory.sh	2006-04-26 03:50:53.036525968 +1200
@@ -1,4 +1,4 @@
-#!/bin/sh
+#!/System/Tools/sh
 #
 # inventory.sh
 # $Id: inventory.sh,v 1.6 2003/11/21 12:48:56 djm Exp $
@@ -8,13 +8,13 @@
 #
 # This will produce an AIX package inventory file, which looks like:
 #
-# /usr/local/bin:
+# /usr/local/System/Tools:
 #          class=apply,inventory,openssh
 #          owner=root
 #          group=system
 #          mode=755
 #          type=DIRECTORY
-# /usr/local/bin/slogin:
+# /usr/local/System/Tools/slogin:
 #          class=apply,inventory,openssh
 #          owner=root
 #          group=system
diff -urN openssh-4.1p1/contrib/caldera/openssh.spec openssh-4.1p1-STEP/contrib/caldera/openssh.spec
--- openssh-4.1p1/contrib/caldera/openssh.spec	2005-05-25 16:43:48.000000000 +1200
+++ openssh-4.1p1-STEP/contrib/caldera/openssh.spec	2006-04-26 03:50:53.061522168 +1200
@@ -51,7 +51,7 @@
 
 Obsoletes   	: ssh, ssh-clients, openssh-clients
 
-BuildRoot   	: /tmp/%{name}-%{version}
+BuildRoot   	: /System/TemporaryFiles/%{name}-%{version}
 BuildRequires	: XFree86-imake
 
 # %{use_stable}==1:	ftp://ftp.openbsd.org/pub/OpenBSD/OpenSSH/portable
@@ -228,7 +228,7 @@
 find %{buildroot}%{SVIdir} -type f -exec \
     %__perl -pi -e 's:\@SVIdir\@:%{SVIdir}:g;\
 		    s:\@sysconfdir\@:%{_sysconfdir}:g; \
-		    s:/usr/sbin:%{_sbindir}:g'\
+		    s:/System/AdminTools:%{_sbindir}:g'\
     \{\} \;
 
 cat <<-EoD > %{buildroot}%{SVIcdir}/sshd
@@ -275,13 +275,13 @@
 # Generate host key when none is present to get up and running,
 # both client and server require this for host-based auth!
 # ssh-host-keygen checks for existing keys.
-/usr/sbin/ssh-host-keygen
+/System/AdminTools/ssh-host-keygen
 : # to protect the rpm database
 
 %pre server
-%{_sbindir}/groupadd -g %{sshd_gid} sshd 2>/dev/null || :
-%{_sbindir}/useradd -d /var/empty/sshd -s /bin/false -u %{sshd_uid} \
-	-c "SSH Daemon virtual user" -g sshd sshd 2>/dev/null || :
+%{_sbindir}/groupadd -g %{sshd_gid} sshd 2>/System/Devices/null || :
+%{_sbindir}/useradd -d /System/ApplicationData/empty/sshd -s /System/Tools/false -u %{sshd_uid} \
+	-c "SSH Daemon virtual user" -g sshd sshd 2>/System/Devices/null || :
 : # to protect the rpm database
 
 %Post server
diff -urN openssh-4.1p1/contrib/caldera/ssh-host-keygen openssh-4.1p1-STEP/contrib/caldera/ssh-host-keygen
--- openssh-4.1p1/contrib/caldera/ssh-host-keygen	2003-11-22 01:48:57.000000000 +1300
+++ openssh-4.1p1-STEP/contrib/caldera/ssh-host-keygen	2006-04-26 03:51:00.189438560 +1200
@@ -1,4 +1,4 @@
-#! /bin/sh
+#! /System/Tools/sh
 #
 # $Id: ssh-host-keygen,v 1.2 2003/11/21 12:48:57 djm Exp $
 #
diff -urN openssh-4.1p1/contrib/caldera/sshd.init openssh-4.1p1-STEP/contrib/caldera/sshd.init
--- openssh-4.1p1/contrib/caldera/sshd.init	2003-11-22 01:48:57.000000000 +1300
+++ openssh-4.1p1-STEP/contrib/caldera/sshd.init	2006-04-26 03:51:00.191438256 +1200
@@ -1,4 +1,4 @@
-#! /bin/bash
+#! /System/Tools/bash
 #
 # $Id: sshd.init,v 1.4 2003/11/21 12:48:57 djm Exp $
 #
@@ -17,11 +17,11 @@
 # Modified for OpenLinux by Raymund Will <ray@caldera.de>
 
 NAME=sshd
-DAEMON=/usr/sbin/$NAME
+DAEMON=/System/AdminTools/$NAME
 # Hack-Alert(TM)!  This is necessary to get around the 'reload'-problem
 # created by recent OpenSSH daemon/ssd combinations. See Caldera internal
 # PR [linux/8278] for details...
-PIDF=/var/run/$NAME.pid
+PIDF=/System/ApplicationData/RuntimeData/$NAME.pid
 NAME=$DAEMON
 
 _status() {
@@ -40,8 +40,8 @@
   elif [ -n "$pidf" -a ! -f "$pidf" ] || [ -z "$pid" ]; then
     # pid-file given but not present or no pid => died, but was not stopped
     ret=2
-  elif [ -r /proc/$pid/cmdline ] &&
-       echo -ne $NAME'\000' | cmp -s - /proc/$pid/cmdline; then
+  elif [ -r /System/Processes/$pid/cmdline ] &&
+       echo -ne $NAME'\000' | cmp -s - /System/Processes/$pid/cmdline; then
     # pid-file given and present or pid found => check process...
     # but don't compare exe, as this will fail after an update!
     # compares OK => all's well, that ends well...
diff -urN openssh-4.1p1/contrib/cygwin/Makefile openssh-4.1p1-STEP/contrib/cygwin/Makefile
--- openssh-4.1p1/contrib/cygwin/Makefile	2003-11-13 13:28:49.000000000 +1300
+++ openssh-4.1p1-STEP/contrib/cygwin/Makefile	2006-04-26 03:51:00.192438104 +1200
@@ -1,15 +1,15 @@
 srcdir=../..
 prefix=/usr
 exec_prefix=$(prefix)
-bindir=$(prefix)/bin
+bindir=$(prefix)/System/Tools
 datadir=$(prefix)/share
 docdir=$(datadir)/doc
 sshdocdir=$(docdir)/openssh
 cygdocdir=$(docdir)/Cygwin
 sysconfdir=/etc
 defaultsdir=$(sysconfdir)/defaults/etc
-PRIVSEP_PATH=/var/empty
-INSTALL=/usr/bin/install -c
+PRIVSEP_PATH=/System/ApplicationData/empty
+INSTALL=/System/Tools/install -c
 
 DESTDIR=
 
diff -urN openssh-4.1p1/contrib/cygwin/README openssh-4.1p1-STEP/contrib/cygwin/README
--- openssh-4.1p1/contrib/cygwin/README	2005-03-05 13:20:40.000000000 +1300
+++ openssh-4.1p1-STEP/contrib/cygwin/README	2006-04-26 03:51:00.195437648 +1200
@@ -61,12 +61,12 @@
 since that feature doesn't make any sense on a system which doesn't
 differ between privileged and unprivileged users.
 
-The new ssh-host-config script also adds the /var/empty directory
-needed by privilege separation.  When creating the /var/empty directory
+The new ssh-host-config script also adds the /System/ApplicationData/empty directory
+needed by privilege separation.  When creating the /System/ApplicationData/empty directory
 by yourself, please note that in contrast to the README.privsep document
 the owner sshould not be "root" but the user which is running sshd.  So,
 in the standard configuration this is SYSTEM.  The ssh-host-config script
-chowns /var/empty accordingly.
+chowns /System/ApplicationData/empty accordingly.
 ===========================================================================
 
 ===========================================================================
@@ -104,7 +104,7 @@
 If you are installing OpenSSH the first time, you can generate global config
 files and server keys by running
 
-   /usr/bin/ssh-host-config
+   /System/Tools/ssh-host-config
 
 Note that this binary archive doesn't contain default config files in /etc.
 That files are only created if ssh-host-config is started.
@@ -130,7 +130,7 @@
 
 You can create the private and public keys for a user now by running
 
-  /usr/bin/ssh-user-config
+  /System/Tools/ssh-user-config
 
 under the users account.
 
@@ -151,10 +151,10 @@
 If you start sshd as deamon via cygrunsrv.exe you MUST give the
 "-D" option to sshd. Otherwise the service can't get started at all.
 
-If starting via inetd, copy sshd to eg. /usr/sbin/in.sshd and add the
+If starting via inetd, copy sshd to eg. /System/AdminTools/in.sshd and add the
 following line to your inetd.conf file:
 
-ssh stream tcp nowait root /usr/sbin/in.sshd sshd -i
+ssh stream tcp nowait root /System/AdminTools/in.sshd sshd -i
 
 Moreover you'll have to add the following line to your
 ${SYSTEMROOT}/system32/drivers/etc/services file:
@@ -196,7 +196,7 @@
 	--prefix=/usr \
 	--sysconfdir=/etc \
 	--libexecdir='${sbindir}' \
-	--localstatedir=/var \
+	--localstatedir=/System/ApplicationData \
 	--datadir='${prefix}/share' \
 	--mandir='${datadir}/man' \
 	--infodir='${datadir}/info'
@@ -205,12 +205,12 @@
 If you want to create a Cygwin package, equivalent to the one
 in the Cygwin binary distribution, install like this:
 
-	mkdir /tmp/cygwin-ssh
+	mkdir /System/TemporaryFiles/cygwin-ssh
 	cd ${builddir}
-	make install DESTDIR=/tmp/cygwin-ssh
+	make install DESTDIR=/System/TemporaryFiles/cygwin-ssh
 	cd ${srcdir}/contrib/cygwin
-	make cygwin-postinstall DESTDIR=/tmp/cygwin-ssh
-	cd /tmp/cygwin-ssh
+	make cygwin-postinstall DESTDIR=/System/TemporaryFiles/cygwin-ssh
+	cd /System/TemporaryFiles/cygwin-ssh
 	find * \! -type d | tar cvjfT my-openssh.tar.bz2 -
 
 You must have installed the following packages to be able to build OpenSSH:
diff -urN openssh-4.1p1/contrib/cygwin/ssh-host-config openssh-4.1p1-STEP/contrib/cygwin/ssh-host-config
--- openssh-4.1p1/contrib/cygwin/ssh-host-config	2005-05-10 01:48:17.000000000 +1200
+++ openssh-4.1p1-STEP/contrib/cygwin/ssh-host-config	2006-04-26 03:51:00.201436736 +1200
@@ -1,4 +1,4 @@
-#!/bin/bash
+#!/System/Tools/bash
 #
 # ssh-host-config, Copyright 2000, 2001, 2002, 2003 Red Hat Inc.
 #
@@ -9,7 +9,7 @@
 
 # Directory where the config files are stored
 SYSCONFDIR=/etc
-LOCALSTATEDIR=/var
+LOCALSTATEDIR=/System/ApplicationData
 
 progname=$0
 auto_answer=""
@@ -151,7 +151,7 @@
   fi
 fi
 
-# Create /var/log and /var/log/lastlog if not already existing
+# Create /System/ApplicationData/log and /System/ApplicationData/log/lastlog if not already existing
 
 if [ -f ${LOCALSTATEDIR}/log ]
 then
@@ -166,12 +166,12 @@
     chmod 777 ${LOCALSTATEDIR}/log/lastlog
   elif [ ! -f ${LOCALSTATEDIR}/log/lastlog ]
   then
-    cat /dev/null > ${LOCALSTATEDIR}/log/lastlog
+    cat /System/Devices/null > ${LOCALSTATEDIR}/log/lastlog
     chmod 666 ${LOCALSTATEDIR}/log/lastlog
   fi
 fi
 
-# Create /var/empty file used as chroot jail for privilege separation
+# Create /System/ApplicationData/empty file used as chroot jail for privilege separation
 if [ -f ${LOCALSTATEDIR}/empty ]
 then
   echo "Creating ${LOCALSTATEDIR}/empty failed!"
@@ -188,19 +188,19 @@
 if [ ! -f "${SYSCONFDIR}/ssh_host_key" ]
 then
   echo "Generating ${SYSCONFDIR}/ssh_host_key"
-  ssh-keygen -t rsa1 -f ${SYSCONFDIR}/ssh_host_key -N '' > /dev/null
+  ssh-keygen -t rsa1 -f ${SYSCONFDIR}/ssh_host_key -N '' > /System/Devices/null
 fi
 
 if [ ! -f "${SYSCONFDIR}/ssh_host_rsa_key" ]
 then
   echo "Generating ${SYSCONFDIR}/ssh_host_rsa_key"
-  ssh-keygen -t rsa -f ${SYSCONFDIR}/ssh_host_rsa_key -N '' > /dev/null
+  ssh-keygen -t rsa -f ${SYSCONFDIR}/ssh_host_rsa_key -N '' > /System/Devices/null
 fi
 
 if [ ! -f "${SYSCONFDIR}/ssh_host_dsa_key" ]
 then
   echo "Generating ${SYSCONFDIR}/ssh_host_dsa_key"
-  ssh-keygen -t dsa -f ${SYSCONFDIR}/ssh_host_dsa_key -N '' > /dev/null
+  ssh-keygen -t dsa -f ${SYSCONFDIR}/ssh_host_dsa_key -N '' > /System/Devices/null
 fi
 
 # Check if ssh_config exists. If yes, ask for overwriting
@@ -260,7 +260,7 @@
     then
       privsep_used=yes
       grep -q '^sshd:' ${SYSCONFDIR}/passwd && sshd_in_passwd=yes
-      net user sshd >/dev/null 2>&1 && sshd_in_sam=yes
+      net user sshd >/System/Devices/null 2>&1 && sshd_in_sam=yes
       if [ "${sshd_in_passwd}" != "yes" ]
       then
 	if [ "${sshd_in_sam}" != "yes" ]
@@ -269,7 +269,7 @@
 	  if request "Should this script create a local user 'sshd' on this machine?"
 	  then
 	    dos_var_empty=`cygpath -w ${LOCALSTATEDIR}/empty`
-	    net user sshd /add /fullname:"sshd privsep" "/homedir:${dos_var_empty}" /active:no > /dev/null 2>&1 && sshd_in_sam=yes
+	    net user sshd /add /fullname:"sshd privsep" "/homedir:${dos_var_empty}" /active:no > /System/Devices/null 2>&1 && sshd_in_sam=yes
 	    if [ "${sshd_in_sam}" != "yes" ]
 	    then
 	      echo "Warning: Creating the user 'sshd' failed!"
@@ -403,9 +403,9 @@
   then
     if [ "${with_comment}" -eq 0 ]
     then
-      echo 'ssh  stream  tcp     nowait  root    /usr/sbin/sshd sshd -i' >> "${_inetcnf}"
+      echo 'ssh  stream  tcp     nowait  root    /System/AdminTools/sshd sshd -i' >> "${_inetcnf}"
     else
-      echo '# ssh  stream  tcp     nowait  root    /usr/sbin/sshd sshd -i' >> "${_inetcnf}"
+      echo '# ssh  stream  tcp     nowait  root    /System/AdminTools/sshd sshd -i' >> "${_inetcnf}"
     fi
     echo "Added ssh to ${_inetcnf}"
   fi
@@ -415,7 +415,7 @@
 if [ ${_nt} -gt 0 ]
 then
   # But only if it is not already installed
-  if ! cygrunsrv -Q sshd > /dev/null 2>&1
+  if ! cygrunsrv -Q sshd > /System/Devices/null 2>&1
   then
     echo
     echo
@@ -435,7 +435,7 @@
 	  mv ${SYSCONFDIR}/passwd.$$ ${SYSCONFDIR}/passwd
 	  chmod g-w,o-w ${SYSCONFDIR}/passwd
 	fi
-	net user sshd_server >/dev/null 2>&1 && sshd_server_in_sam=yes
+	net user sshd_server >/System/Devices/null 2>&1 && sshd_server_in_sam=yes
 	if [ "${sshd_server_in_sam}" != "yes" ]
 	then
 	  echo
@@ -477,15 +477,15 @@
 		  exit 1
 		fi
 	      fi
-	      net user sshd_server "${_password}" /add /fullname:"sshd server account" "/homedir:${dos_var_empty}" /yes > /tmp/nu.$$ 2>&1 && sshd_server_in_sam=yes
+	      net user sshd_server "${_password}" /add /fullname:"sshd server account" "/homedir:${dos_var_empty}" /yes > /System/TemporaryFiles/nu.$$ 2>&1 && sshd_server_in_sam=yes
 	      if [ "${sshd_server_in_sam}" != "yes" ]
 	      then
 		echo "Creating the user 'sshd_server' failed!  Reason:"
-		cat /tmp/nu.$$
-		rm /tmp/nu.$$
+		cat /System/TemporaryFiles/nu.$$
+		rm /System/TemporaryFiles/nu.$$
 	      fi
 	    done
-	    net localgroup "${_admingroup}" sshd_server /add > /dev/null 2>&1 && sshd_server_in_admingroup=yes
+	    net localgroup "${_admingroup}" sshd_server /add > /System/Devices/null 2>&1 && sshd_server_in_admingroup=yes
 	    if [ "${sshd_server_in_admingroup}" != "yes" ]
 	    then
 	      echo "WARNING: Adding user sshd_server to local group ${_admingroup} failed!"
@@ -551,14 +551,14 @@
       [ -z "${_cygwin}" ] && _cygwin="ntsec"
       if [ $_nt2003 -gt 0 -a "${sshd_server_in_sam}" = "yes" ]
       then
-	if cygrunsrv -I sshd -d "CYGWIN sshd" -p /usr/sbin/sshd -a -D -u sshd_server -w "${_password}" -e "CYGWIN=${_cygwin}"
+	if cygrunsrv -I sshd -d "CYGWIN sshd" -p /System/AdminTools/sshd -a -D -u sshd_server -w "${_password}" -e "CYGWIN=${_cygwin}"
 	then
 	  echo
 	  echo "The service has been installed under sshd_server account."
 	  echo "To start the service, call \`net start sshd' or \`cygrunsrv -S sshd'."
 	fi
       else
-	if cygrunsrv -I sshd -d "CYGWIN sshd" -p /usr/sbin/sshd -a -D -e "CYGWIN=${_cygwin}"
+	if cygrunsrv -I sshd -d "CYGWIN sshd" -p /System/AdminTools/sshd -a -D -e "CYGWIN=${_cygwin}"
 	then
 	  echo
 	  echo "The service has been installed under LocalSystem account."
@@ -568,7 +568,7 @@
     fi
     # Now check if sshd has been successfully installed.  This allows to
     # set the ownership of the affected files correctly.
-    if cygrunsrv -Q sshd > /dev/null 2>&1
+    if cygrunsrv -Q sshd > /System/Devices/null 2>&1
     then
       if [ $_nt2003 -gt 0 -a "${sshd_server_in_sam}" = "yes" ]
       then
diff -urN openssh-4.1p1/contrib/cygwin/ssh-user-config openssh-4.1p1-STEP/contrib/cygwin/ssh-user-config
--- openssh-4.1p1/contrib/cygwin/ssh-user-config	2003-11-13 13:28:49.000000000 +1300
+++ openssh-4.1p1-STEP/contrib/cygwin/ssh-user-config	2006-04-26 03:51:00.204436280 +1200
@@ -1,4 +1,4 @@
-#!/bin/sh
+#!/System/Tools/sh
 #
 # ssh-user-config, Copyright 2000, 2001, 2002, 2003, Red Hat Inc.
 #
@@ -184,9 +184,9 @@
     echo "Generating ${pwdhome}/.ssh/identity"
     if [ "${with_passphrase}" = "yes" ]
     then
-      ssh-keygen -t rsa1 -N "${passphrase}" -f "${pwdhome}/.ssh/identity" > /dev/null
+      ssh-keygen -t rsa1 -N "${passphrase}" -f "${pwdhome}/.ssh/identity" > /System/Devices/null
     else
-      ssh-keygen -t rsa1 -f "${pwdhome}/.ssh/identity" > /dev/null
+      ssh-keygen -t rsa1 -f "${pwdhome}/.ssh/identity" > /System/Devices/null
     fi
     if request "Do you want to use this identity to login to this machine?"
     then
@@ -203,9 +203,9 @@
     echo "Generating ${pwdhome}/.ssh/id_rsa"
     if [ "${with_passphrase}" = "yes" ]
     then
-      ssh-keygen -t rsa -N "${passphrase}" -f "${pwdhome}/.ssh/id_rsa" > /dev/null
+      ssh-keygen -t rsa -N "${passphrase}" -f "${pwdhome}/.ssh/id_rsa" > /System/Devices/null
     else
-      ssh-keygen -t rsa -f "${pwdhome}/.ssh/id_rsa" > /dev/null
+      ssh-keygen -t rsa -f "${pwdhome}/.ssh/id_rsa" > /System/Devices/null
     fi
     if request "Do you want to use this identity to login to this machine?"
     then
@@ -222,9 +222,9 @@
     echo "Generating ${pwdhome}/.ssh/id_dsa"
     if [ "${with_passphrase}" = "yes" ]
     then
-      ssh-keygen -t dsa -N "${passphrase}" -f "${pwdhome}/.ssh/id_dsa" > /dev/null
+      ssh-keygen -t dsa -N "${passphrase}" -f "${pwdhome}/.ssh/id_dsa" > /System/Devices/null
     else
-      ssh-keygen -t dsa -f "${pwdhome}/.ssh/id_dsa" > /dev/null
+      ssh-keygen -t dsa -f "${pwdhome}/.ssh/id_dsa" > /System/Devices/null
     fi
     if request "Do you want to use this identity to login to this machine?"
     then
diff -urN openssh-4.1p1/contrib/findssl.sh openssh-4.1p1-STEP/contrib/findssl.sh
--- openssh-4.1p1/contrib/findssl.sh	2004-12-13 20:08:33.000000000 +1300
+++ openssh-4.1p1-STEP/contrib/findssl.sh	2006-04-26 03:50:53.020528400 +1200
@@ -1,4 +1,4 @@
-#!/bin/sh
+#!/System/Tools/sh
 #
 # $Id: findssl.sh,v 1.3 2004/12/13 07:08:33 dtucker Exp $
 #
@@ -97,7 +97,7 @@
 then
 	headers=`locate opensslv.h`
 else
-	headers=`find / -name opensslv.h -print 2>/dev/null`
+	headers=`find / -name opensslv.h -print 2>/System/Devices/null`
 fi
 
 for header in $headers
@@ -116,7 +116,7 @@
 then
 	libraries=`locate libcrypto.s`
 else
-	libraries=`find / -name 'libcrypto.s*' -print 2>/dev/null`
+	libraries=`find / -name 'libcrypto.s*' -print 2>/System/Devices/null`
 fi
 
 for lib in $libraries
@@ -130,7 +130,7 @@
 	${CC} -o conftest conftest.c $lib 2>>findssl.log
 	if [ -x ./conftest ]
 	then
-		ver=`./conftest 2>/dev/null`
+		ver=`./conftest 2>/System/Devices/null`
 		rm -f ./conftest
 		echo "$ver $lib"
 	fi)
@@ -145,7 +145,7 @@
 then
 	libraries=`locate libcrypto.a`
 else
-	libraries=`find / -name libcrypto.a -print 2>/dev/null`
+	libraries=`find / -name libcrypto.a -print 2>/System/Devices/null`
 fi
 
 for lib in $libraries
@@ -155,7 +155,7 @@
 	${CC} ${STATIC} -o conftest conftest.c -L${libdir} -lcrypto 2>>findssl.log
 	if [ -x ./conftest ]
 	then
-		ver=`./conftest 2>/dev/null`
+		ver=`./conftest 2>/System/Devices/null`
 		rm -f ./conftest
 		echo "$ver $lib"
 	fi
diff -urN openssh-4.1p1/contrib/gnome-ssh-askpass1.c openssh-4.1p1-STEP/contrib/gnome-ssh-askpass1.c
--- openssh-4.1p1/contrib/gnome-ssh-askpass1.c	2003-11-22 01:48:56.000000000 +1300
+++ openssh-4.1p1-STEP/contrib/gnome-ssh-askpass1.c	2006-04-26 03:50:53.025527640 +1200
@@ -25,7 +25,7 @@
 /*
  * This is a simple GNOME SSH passphrase grabber. To use it, set the
  * environment variable SSH_ASKPASS to point to the location of
- * gnome-ssh-askpass before calling "ssh-add < /dev/null".
+ * gnome-ssh-askpass before calling "ssh-add < /System/Devices/null".
  *
  * There is only two run-time options: if you set the environment variable
  * "GNOME_SSH_ASKPASS_GRAB_SERVER=true" then gnome-ssh-askpass will grab
diff -urN openssh-4.1p1/contrib/gnome-ssh-askpass2.c openssh-4.1p1-STEP/contrib/gnome-ssh-askpass2.c
--- openssh-4.1p1/contrib/gnome-ssh-askpass2.c	2003-11-22 01:48:56.000000000 +1300
+++ openssh-4.1p1-STEP/contrib/gnome-ssh-askpass2.c	2006-04-26 03:50:53.027527336 +1200
@@ -27,7 +27,7 @@
 /*
  * This is a simple GNOME SSH passphrase grabber. To use it, set the
  * environment variable SSH_ASKPASS to point to the location of
- * gnome-ssh-askpass before calling "ssh-add < /dev/null".
+ * gnome-ssh-askpass before calling "ssh-add < /System/Devices/null".
  *
  * There is only two run-time options: if you set the environment variable
  * "GNOME_SSH_ASKPASS_GRAB_SERVER=true" then gnome-ssh-askpass will grab
diff -urN openssh-4.1p1/contrib/hpux/README openssh-4.1p1-STEP/contrib/hpux/README
--- openssh-4.1p1/contrib/hpux/README	2000-12-12 13:08:12.000000000 +1300
+++ openssh-4.1p1-STEP/contrib/hpux/README	2006-04-26 03:51:00.206435976 +1200
@@ -17,10 +17,10 @@
 
   # cp sshd /etc/rc.config.d
   # chmod 444 /etc/rc.config.d/sshd
-  # cp sshd.rc /sbin/init.d
-  # chmod 555 /sbin/init.d/sshd.rc
-  # ln -s /sbin/init.d/sshd.rc /sbin/rc1.d/K100sshd
-  # ln -s /sbin/init.d/sshd.rc /sbin/rc2.d/S900sshd
+  # cp sshd.rc /System/AdminTools/init.d
+  # chmod 555 /System/AdminTools/init.d/sshd.rc
+  # ln -s /System/AdminTools/init.d/sshd.rc /System/AdminTools/rc1.d/K100sshd
+  # ln -s /System/AdminTools/init.d/sshd.rc /System/AdminTools/rc2.d/S900sshd
 
 egd.rc:
 
@@ -39,7 +39,7 @@
 
   # cp egd /etc/rc.config.d
   # chmod 444 /etc/rc.config.d/egd
-  # cp egd.rc /sbin/init.d
-  # chmod 555 /sbin/init.d/egd.rc
-  # ln -s /sbin/init.d/egd.rc /sbin/rc1.d/K600egd
-  # ln -s /sbin/init.d/egd.rc /sbin/rc2.d/S400egd
+  # cp egd.rc /System/AdminTools/init.d
+  # chmod 555 /System/AdminTools/init.d/egd.rc
+  # ln -s /System/AdminTools/init.d/egd.rc /System/AdminTools/rc1.d/K600egd
+  # ln -s /System/AdminTools/init.d/egd.rc /System/AdminTools/rc2.d/S400egd
diff -urN openssh-4.1p1/contrib/hpux/egd.rc openssh-4.1p1-STEP/contrib/hpux/egd.rc
--- openssh-4.1p1/contrib/hpux/egd.rc	2000-10-19 02:45:40.000000000 +1300
+++ openssh-4.1p1-STEP/contrib/hpux/egd.rc	2006-04-26 03:51:00.208435672 +1200
@@ -1,4 +1,4 @@
-#!/sbin/sh
+#!/System/AdminTools/sh
 
 #
 # egd.rc: EGD start-up and shutdown script
@@ -14,25 +14,25 @@
 #       3 = reboot; causes the system to be rebooted after execution.
 
 # Input and output:
-#       stdin is redirected from /dev/null
+#       stdin is redirected from /System/Devices/null
 #
 #       stdout and stderr are redirected to the /etc/rc.log file
 #       during checklist mode, or to the console in raw mode.
 
 umask 022
 
-PATH=/usr/sbin:/usr/bin:/sbin
+PATH=/System/AdminTools:/System/Tools:/System/AdminTools
 export PATH
 
 WHAT='EGD (entropy gathering daemon)'
-WHAT_PATH=/opt/perl/bin/egd.pl
+WHAT_PATH=/opt/perl/System/Tools/egd.pl
 WHAT_CONFIG=/etc/rc.config.d/egd
 WHAT_LOG=/etc/opt/egd/egd.log
 
 # NOTE: If your script executes in run state 0 or state 1, then /usr might
 #       not be available.  Do not attempt to access commands or files in
 #       /usr unless your script executes in run state 2 or greater.  Other
-#       file systems typically not mounted until run state 2 include /var
+#       file systems typically not mounted until run state 2 include /System/ApplicationData
 #       and /opt.
 
 rval=0
diff -urN openssh-4.1p1/contrib/hpux/sshd.rc openssh-4.1p1-STEP/contrib/hpux/sshd.rc
--- openssh-4.1p1/contrib/hpux/sshd.rc	2000-09-16 16:39:57.000000000 +1200
+++ openssh-4.1p1-STEP/contrib/hpux/sshd.rc	2006-04-26 03:51:00.206435976 +1200
@@ -1,4 +1,4 @@
-#!/sbin/sh
+#!/System/AdminTools/sh
 
 #
 # sshd.rc: SSH daemon start-up and shutdown script
@@ -14,23 +14,23 @@
 #       3 = reboot; causes the system to be rebooted after execution.
 
 # Input and output:
-#	stdin is redirected from /dev/null
+#	stdin is redirected from /System/Devices/null
 #
 #	stdout and stderr are redirected to the /etc/rc.log file
 #	during checklist mode, or to the console in raw mode.
 
-PATH=/usr/sbin:/usr/bin:/sbin
+PATH=/System/AdminTools:/System/Tools:/System/AdminTools
 export PATH
 
 WHAT='OpenSSH'
-WHAT_PATH=/opt/openssh/sbin/sshd
-WHAT_PID=/var/run/sshd.pid
+WHAT_PATH=/opt/openssh/System/AdminTools/sshd
+WHAT_PID=/System/ApplicationData/RuntimeData/sshd.pid
 WHAT_CONFIG=/etc/rc.config.d/sshd
 
 # NOTE: If your script executes in run state 0 or state 1, then /usr might
 #	not be available.  Do not attempt to access commands or files in
 #	/usr unless your script executes in run state 2 or greater.  Other
-#	file systems typically not mounted until run state 2 include /var
+#	file systems typically not mounted until run state 2 include /System/ApplicationData
 #	and /opt.
 
 rval=0
diff -urN openssh-4.1p1/contrib/redhat/openssh.spec openssh-4.1p1-STEP/contrib/redhat/openssh.spec
--- openssh-4.1p1/contrib/redhat/openssh.spec	2005-05-25 16:43:49.000000000 +1200
+++ openssh-4.1p1-STEP/contrib/redhat/openssh.spec	2006-04-26 03:51:07.308356320 +1200
@@ -85,7 +85,7 @@
 PreReq: initscripts >= 5.20
 %endif
 BuildPreReq: perl, openssl-devel, tcp_wrappers
-BuildPreReq: /bin/login
+BuildPreReq: /System/Tools/login
 %if ! %{build6x}
 BuildPreReq: glibc-devel, pam
 %else
@@ -192,8 +192,8 @@
 	--datadir=%{_datadir}/openssh \
 	--with-tcp-wrappers \
 	--with-rsh=%{_bindir}/rsh \
-	--with-default-path=/usr/local/bin:/bin:/usr/bin \
-	--with-superuser-path=/usr/local/sbin:/usr/local/bin:/sbin:/bin:/usr/sbin:/usr/bin \
+	--with-default-path=/usr/local/System/Tools:/System/Tools:/System/Tools \
+	--with-superuser-path=/usr/local/System/AdminTools:/usr/local/System/Tools:/System/AdminTools:/System/Tools:/System/AdminTools:/System/Tools \
 	--with-privsep-path=%{_var}/empty/sshd \
 	--with-md5-passwords \
 %if %{scard}
@@ -286,8 +286,8 @@
 rm -rf $RPM_BUILD_ROOT
 
 %triggerun server -- ssh-server
-if [ "$1" != 0 -a -r /var/run/sshd.pid ] ; then
-	touch /var/run/sshd.restart
+if [ "$1" != 0 -a -r /System/ApplicationData/RuntimeData/sshd.pid ] ; then
+	touch /System/ApplicationData/RuntimeData/sshd.restart
 fi
 
 %triggerun server -- openssh-server < 2.5.0p1
@@ -306,29 +306,29 @@
 
 %triggerpostun server -- ssh-server
 if [ "$1" != 0 ] ; then
-	/sbin/chkconfig --add sshd
-	if test -f /var/run/sshd.restart ; then
-		rm -f /var/run/sshd.restart
-		/sbin/service sshd start > /dev/null 2>&1 || :
+	/System/AdminTools/chkconfig --add sshd
+	if test -f /System/ApplicationData/RuntimeData/sshd.restart ; then
+		rm -f /System/ApplicationData/RuntimeData/sshd.restart
+		/System/AdminTools/service sshd start > /System/Devices/null 2>&1 || :
 	fi
 fi
 
 %pre server
-%{_sbindir}/groupadd -r -g %{sshd_gid} sshd 2>/dev/null || :
-%{_sbindir}/useradd -d /var/empty/sshd -s /bin/false -u %{sshd_uid} \
-	-g sshd -M -r sshd 2>/dev/null || :
+%{_sbindir}/groupadd -r -g %{sshd_gid} sshd 2>/System/Devices/null || :
+%{_sbindir}/useradd -d /System/ApplicationData/empty/sshd -s /System/Tools/false -u %{sshd_uid} \
+	-g sshd -M -r sshd 2>/System/Devices/null || :
 
 %post server
-/sbin/chkconfig --add sshd
+/System/AdminTools/chkconfig --add sshd
 
 %postun server
-/sbin/service sshd condrestart > /dev/null 2>&1 || :
+/System/AdminTools/service sshd condrestart > /System/Devices/null 2>&1 || :
 
 %preun server
 if [ "$1" = 0 ]
 then
-	/sbin/service sshd stop > /dev/null 2>&1 || :
-	/sbin/chkconfig --del sshd
+	/System/AdminTools/service sshd stop > /System/Devices/null 2>&1 || :
+	/System/AdminTools/chkconfig --del sshd
 fi
 
 %files
@@ -679,7 +679,7 @@
 
 * Tue Nov 21 2000 Nalin Dahyabhai <nalin@redhat.com>
 - Use DESTDIR instead of %%makeinstall.
-- Remove /usr/X11R6/bin from the path-fixing patch.
+- Remove /usr/X11R6/System/Tools from the path-fixing patch.
 
 * Mon Nov 20 2000 Nalin Dahyabhai <nalin@redhat.com>
 - Add the primes file from the latest snapshot to the main package (#20884).
@@ -713,10 +713,10 @@
 
 * Mon Oct  2 2000 Nalin Dahyabhai <nalin@redhat.com>
 - Update x11-askpass to 1.0.2. (#17835)
-- Add BuildPreReqs for /bin/login and /usr/bin/rsh so that configure will
+- Add BuildPreReqs for /System/Tools/login and /System/Tools/rsh so that configure will
   always find them in the right place. (#17909)
-- Set the default path to be the same as the one supplied by /bin/login, but
-  add /usr/X11R6/bin. (#17909)
+- Set the default path to be the same as the one supplied by /System/Tools/login, but
+  add /usr/X11R6/System/Tools. (#17909)
 - Try to handle obsoletion of ssh-server more cleanly.  Package names
   are different, but init script name isn't. (#17865)
 
diff -urN openssh-4.1p1/contrib/redhat/sshd.init openssh-4.1p1-STEP/contrib/redhat/sshd.init
--- openssh-4.1p1/contrib/redhat/sshd.init	2002-05-10 14:19:23.000000000 +1200
+++ openssh-4.1p1-STEP/contrib/redhat/sshd.init	2006-04-26 03:51:07.310356016 +1200
@@ -1,4 +1,4 @@
-#!/bin/bash
+#!/System/Tools/bash
 #
 # Init file for OpenSSH server daemon
 #
@@ -10,7 +10,7 @@
 # config: /etc/ssh/ssh_host_key.pub
 # config: /etc/ssh/ssh_random_seed
 # config: /etc/ssh/sshd_config
-# pidfile: /var/run/sshd.pid
+# pidfile: /System/ApplicationData/RuntimeData/sshd.pid
 
 # source function library
 . /etc/rc.d/init.d/functions
@@ -22,17 +22,17 @@
 prog="sshd"
 
 # Some functions to make the below more readable
-KEYGEN=/usr/bin/ssh-keygen
-SSHD=/usr/sbin/sshd
+KEYGEN=/System/Tools/ssh-keygen
+SSHD=/System/AdminTools/sshd
 RSA1_KEY=/etc/ssh/ssh_host_key
 RSA_KEY=/etc/ssh/ssh_host_rsa_key
 DSA_KEY=/etc/ssh/ssh_host_dsa_key
-PID_FILE=/var/run/sshd.pid
+PID_FILE=/System/ApplicationData/RuntimeData/sshd.pid
 
 do_rsa1_keygen() {
 	if [ ! -s $RSA1_KEY ]; then
 		echo -n $"Generating SSH1 RSA host key: "
-		if $KEYGEN -q -t rsa1 -f $RSA1_KEY -C '' -N '' >&/dev/null; then
+		if $KEYGEN -q -t rsa1 -f $RSA1_KEY -C '' -N '' >&/System/Devices/null; then
 			chmod 600 $RSA1_KEY
 			chmod 644 $RSA1_KEY.pub
 			success $"RSA1 key generation"
@@ -48,7 +48,7 @@
 do_rsa_keygen() {
 	if [ ! -s $RSA_KEY ]; then
 		echo -n $"Generating SSH2 RSA host key: "
-		if $KEYGEN -q -t rsa -f $RSA_KEY -C '' -N '' >&/dev/null; then
+		if $KEYGEN -q -t rsa -f $RSA_KEY -C '' -N '' >&/System/Devices/null; then
 			chmod 600 $RSA_KEY
 			chmod 644 $RSA_KEY.pub
 			success $"RSA key generation"
@@ -64,7 +64,7 @@
 do_dsa_keygen() {
 	if [ ! -s $DSA_KEY ]; then
 		echo -n $"Generating SSH2 DSA host key: "
-		if $KEYGEN -q -t dsa -f $DSA_KEY -C '' -N '' >&/dev/null; then
+		if $KEYGEN -q -t dsa -f $DSA_KEY -C '' -N '' >&/System/Devices/null; then
 			chmod 600 $DSA_KEY
 			chmod 644 $DSA_KEY.pub
 			success $"DSA key generation"
@@ -97,7 +97,7 @@
 	echo -n $"Starting $prog:"
 	initlog -c "$SSHD $OPTIONS" && success || failure
 	RETVAL=$?
-	[ "$RETVAL" = 0 ] && touch /var/lock/subsys/sshd
+	[ "$RETVAL" = 0 ] && touch /System/ApplicationData/lock/subsys/sshd
 	echo
 }
 
@@ -106,7 +106,7 @@
 	echo -n $"Stopping $prog:"
 	killproc $SSHD -TERM
 	RETVAL=$?
-	[ "$RETVAL" = 0 ] && rm -f /var/lock/subsys/sshd
+	[ "$RETVAL" = 0 ] && rm -f /System/ApplicationData/lock/subsys/sshd
 	echo
 }
 
@@ -133,7 +133,7 @@
 		reload
 		;;
 	condrestart)
-		if [ -f /var/lock/subsys/sshd ] ; then
+		if [ -f /System/ApplicationData/lock/subsys/sshd ] ; then
 			do_restart_sanity_check
 			if [ "$RETVAL" = 0 ] ; then
 				stop
diff -urN openssh-4.1p1/contrib/redhat/sshd.init.old openssh-4.1p1-STEP/contrib/redhat/sshd.init.old
--- openssh-4.1p1/contrib/redhat/sshd.init.old	2002-05-10 14:19:23.000000000 +1200
+++ openssh-4.1p1-STEP/contrib/redhat/sshd.init.old	2006-04-26 03:51:07.312355712 +1200
@@ -1,4 +1,4 @@
-#!/bin/bash
+#!/System/Tools/bash
 #
 # Init file for OpenSSH server daemon
 #
@@ -10,7 +10,7 @@
 # config: /etc/ssh/ssh_host_key.pub
 # config: /etc/ssh/ssh_random_seed
 # config: /etc/ssh/sshd_config
-# pidfile: /var/run/sshd.pid
+# pidfile: /System/ApplicationData/RuntimeData/sshd.pid
 
 # source function library
 . /etc/rc.d/init.d/functions
@@ -22,12 +22,12 @@
 prog="sshd"
 
 # Some functions to make the below more readable
-KEYGEN=/usr/bin/ssh-keygen
-SSHD=/usr/sbin/sshd
+KEYGEN=/System/Tools/ssh-keygen
+SSHD=/System/AdminTools/sshd
 RSA1_KEY=/etc/ssh/ssh_host_key
 RSA_KEY=/etc/ssh/ssh_host_rsa_key
 DSA_KEY=/etc/ssh/ssh_host_dsa_key
-PID_FILE=/var/run/sshd.pid
+PID_FILE=/System/ApplicationData/RuntimeData/sshd.pid
 
 my_success() {
   local msg
@@ -64,7 +64,7 @@
 do_rsa1_keygen() {
 	if [ ! -s $RSA1_KEY ]; then
 		echo -n "Generating SSH1 RSA host key: "
-		if $KEYGEN -q -t rsa1 -f $RSA1_KEY -C '' -N '' >&/dev/null; then
+		if $KEYGEN -q -t rsa1 -f $RSA1_KEY -C '' -N '' >&/System/Devices/null; then
 			chmod 600 $RSA1_KEY
 			chmod 644 $RSA1_KEY.pub
 			my_success "RSA1 key generation"
@@ -79,7 +79,7 @@
 do_rsa_keygen() {
 	if [ ! -s $RSA_KEY ]; then
 		echo -n "Generating SSH2 RSA host key: "
-		if $KEYGEN -q -t rsa -f $RSA_KEY -C '' -N '' >&/dev/null; then
+		if $KEYGEN -q -t rsa -f $RSA_KEY -C '' -N '' >&/System/Devices/null; then
 			chmod 600 $RSA_KEY
 			chmod 644 $RSA_KEY.pub
 			my_success "RSA key generation"
@@ -94,7 +94,7 @@
 do_dsa_keygen() {
 	if [ ! -s $DSA_KEY ]; then
 		echo -n "Generating SSH2 DSA host key: "
-		if $KEYGEN -q -t dsa -f $DSA_KEY -C '' -N '' >&/dev/null; then
+		if $KEYGEN -q -t dsa -f $DSA_KEY -C '' -N '' >&/System/Devices/null; then
 			chmod 600 $DSA_KEY
 			chmod 644 $DSA_KEY.pub
 			my_success "DSA key generation"
@@ -129,7 +129,7 @@
 			RETVAL=$?
 			if [ "$RETVAL" = "0" ] ; then
 				my_success "sshd startup" "sshd"
-				touch /var/lock/subsys/sshd
+				touch /System/ApplicationData/lock/subsys/sshd
 			else
 				my_failure "sshd startup" ""
 			fi
@@ -141,7 +141,7 @@
 		if [ -f $PID_FILE ] ; then
 			killproc sshd
 			RETVAL=$?
-			[ $RETVAL -eq 0 ] && rm -f /var/lock/subsys/sshd
+			[ $RETVAL -eq 0 ] && rm -f /System/ApplicationData/lock/subsys/sshd
 		fi
 		echo
 		;;
@@ -152,7 +152,7 @@
 		RETVAL=$?
 		;;
 	condrestart)
-		if [ -f /var/lock/subsys/sshd ] ; then
+		if [ -f /System/ApplicationData/lock/subsys/sshd ] ; then
 			do_restart_sanity_check
 			$0 stop
 			$0 start
diff -urN openssh-4.1p1/contrib/ssh-copy-id openssh-4.1p1-STEP/contrib/ssh-copy-id
--- openssh-4.1p1/contrib/ssh-copy-id	2004-08-30 23:33:02.000000000 +1200
+++ openssh-4.1p1-STEP/contrib/ssh-copy-id	2006-04-26 03:50:53.029527032 +1200
@@ -1,4 +1,4 @@
-#!/bin/sh
+#!/System/Tools/sh
 
 # Shell script to install your identity.pub on a remote machine
 # Takes the remote machine name as an argument.
diff -urN openssh-4.1p1/contrib/suse/openssh.spec openssh-4.1p1-STEP/contrib/suse/openssh.spec
--- openssh-4.1p1/contrib/suse/openssh.spec	2005-05-25 16:43:49.000000000 +1200
+++ openssh-4.1p1-STEP/contrib/suse/openssh.spec	2006-04-26 03:51:07.317354952 +1200
@@ -6,7 +6,7 @@
 Source0: openssh-%{version}.tar.gz
 Copyright: BSD
 Group: Applications/Internet
-BuildRoot: /tmp/openssh-%{version}-buildroot
+BuildRoot: /System/TemporaryFiles/openssh-%{version}-buildroot
 PreReq: openssl
 Obsoletes: ssh
 #
@@ -46,8 +46,8 @@
 * Sun Dec 26 1999 Chris Saia <csaia@wtower.com>
 - Made symlink to gnome-ssh-askpass called ssh-askpass
 * Wed Nov 24 1999 Chris Saia <csaia@wtower.com>
-- Removed patches that included /etc/pam.d/sshd, /sbin/init.d/rc.sshd, and
-  /var/adm/fillup-templates/rc.config.sshd, since Damien merged these into
+- Removed patches that included /etc/pam.d/sshd, /System/AdminTools/init.d/rc.sshd, and
+  /System/ApplicationData/adm/fillup-templates/rc.config.sshd, since Damien merged these into
   his released tarfile
 - Changed permissions on ssh_config in the install procedure to 644 from 600
   even though it was correct in the %files section and thus right in the RPMs
@@ -109,16 +109,16 @@
 make install DESTDIR=$RPM_BUILD_ROOT/
 install -d $RPM_BUILD_ROOT/etc/ssh/
 install -d $RPM_BUILD_ROOT/etc/pam.d/
-install -d $RPM_BUILD_ROOT/sbin/init.d/
-install -d $RPM_BUILD_ROOT/var/adm/fillup-templates
+install -d $RPM_BUILD_ROOT/System/AdminTools/init.d/
+install -d $RPM_BUILD_ROOT/System/ApplicationData/adm/fillup-templates
 install -d $RPM_BUILD_ROOT/usr/lib/ssh
 install -m644 contrib/sshd.pam.generic $RPM_BUILD_ROOT/etc/pam.d/sshd
-install -m744 contrib/suse/rc.sshd $RPM_BUILD_ROOT/sbin/init.d/sshd
-ln -s ../../sbin/init.d/sshd $RPM_BUILD_ROOT/usr/sbin/rcsshd
+install -m744 contrib/suse/rc.sshd $RPM_BUILD_ROOT/System/AdminTools/init.d/sshd
+ln -s ../../System/AdminTools/init.d/sshd $RPM_BUILD_ROOT/System/AdminTools/rcsshd
 install -s contrib/gnome-ssh-askpass $RPM_BUILD_ROOT/usr/lib/ssh/gnome-ssh-askpass
 ln -s gnome-ssh-askpass $RPM_BUILD_ROOT/usr/lib/ssh/ssh-askpass
 install -m744 contrib/suse/rc.config.sshd \
-   $RPM_BUILD_ROOT/var/adm/fillup-templates
+   $RPM_BUILD_ROOT/System/ApplicationData/adm/fillup-templates
 
 %clean
 rm -rf $RPM_BUILD_ROOT
@@ -126,43 +126,43 @@
 %post
 if [ "$1" = 1 ]; then
   echo "Creating SSH stop/start scripts in the rc directories..."
-  ln -s ../sshd /sbin/init.d/rc2.d/K20sshd
-  ln -s ../sshd /sbin/init.d/rc2.d/S20sshd
-  ln -s ../sshd /sbin/init.d/rc3.d/K20sshd
-  ln -s ../sshd /sbin/init.d/rc3.d/S20sshd
+  ln -s ../sshd /System/AdminTools/init.d/rc2.d/K20sshd
+  ln -s ../sshd /System/AdminTools/init.d/rc2.d/S20sshd
+  ln -s ../sshd /System/AdminTools/init.d/rc3.d/K20sshd
+  ln -s ../sshd /System/AdminTools/init.d/rc3.d/S20sshd
 fi
 echo "Updating /etc/rc.config..."
-if [ -x /bin/fillup ] ; then
-  /bin/fillup -q -d = etc/rc.config var/adm/fillup-templates/rc.config.sshd
+if [ -x /System/Tools/fillup ] ; then
+  /System/Tools/fillup -q -d = etc/rc.config var/adm/fillup-templates/rc.config.sshd
 else
   echo "ERROR: fillup not found.  This should NOT happen in SuSE Linux."
   echo "Update /etc/rc.config by hand from the following template file:"
-  echo "  /var/adm/fillup-templates/rc.config.sshd"
+  echo "  /System/ApplicationData/adm/fillup-templates/rc.config.sshd"
 fi
 if [ ! -f /etc/ssh/ssh_host_key -o ! -s /etc/ssh/ssh_host_key ]; then
 	echo "Generating SSH host key..."
-	/usr/bin/ssh-keygen -b 1024 -f /etc/ssh/ssh_host_key -N '' >&2
+	/System/Tools/ssh-keygen -b 1024 -f /etc/ssh/ssh_host_key -N '' >&2
 fi
 if [ ! -f /etc/ssh/ssh_host_dsa_key -o ! -s /etc/ssh/ssh_host_dsa_key ]; then
 	echo "Generating SSH DSA host key..."
-	/usr/bin/ssh-keygen -d -f /etc/ssh/ssh_host_dsa_key -N '' >&2
+	/System/Tools/ssh-keygen -d -f /etc/ssh/ssh_host_dsa_key -N '' >&2
 fi
-if test -r /var/run/sshd.pid
+if test -r /System/ApplicationData/RuntimeData/sshd.pid
 then
 	echo "Restarting the running SSH daemon..."
-	/usr/sbin/rcsshd restart >&2
+	/System/AdminTools/rcsshd restart >&2
 fi
 
 %preun
 if [ "$1" = 0 ]
 then
 	echo "Stopping the SSH daemon..."
-	/usr/sbin/rcsshd stop >&2
+	/System/AdminTools/rcsshd stop >&2
 	echo "Removing SSH stop/start scripts from the rc directories..."
-	rm /sbin/init.d/rc2.d/K20sshd
-	rm /sbin/init.d/rc2.d/S20sshd
-	rm /sbin/init.d/rc3.d/K20sshd
-	rm /sbin/init.d/rc3.d/S20sshd
+	rm /System/AdminTools/init.d/rc2.d/K20sshd
+	rm /System/AdminTools/init.d/rc2.d/S20sshd
+	rm /System/AdminTools/init.d/rc3.d/K20sshd
+	rm /System/AdminTools/init.d/rc3.d/S20sshd
 fi
 
 %files
@@ -174,17 +174,17 @@
 %attr(0600,root,root) %config /etc/ssh/sshd_config
 %attr(0600,root,root) %config /etc/ssh/moduli
 %attr(0644,root,root) %config /etc/pam.d/sshd
-%attr(0755,root,root) %config /sbin/init.d/sshd
-%attr(0755,root,root) /usr/bin/ssh-keygen
-%attr(0755,root,root) /usr/bin/scp
-%attr(4755,root,root) /usr/bin/ssh
-%attr(-,root,root) /usr/bin/slogin
-%attr(0755,root,root) /usr/bin/ssh-agent
-%attr(0755,root,root) /usr/bin/ssh-add
-%attr(0755,root,root) /usr/bin/ssh-keyscan
-%attr(0755,root,root) /usr/bin/sftp
-%attr(0755,root,root) /usr/sbin/sshd
-%attr(-,root,root) /usr/sbin/rcsshd
+%attr(0755,root,root) %config /System/AdminTools/init.d/sshd
+%attr(0755,root,root) /System/Tools/ssh-keygen
+%attr(0755,root,root) /System/Tools/scp
+%attr(4755,root,root) /System/Tools/ssh
+%attr(-,root,root) /System/Tools/slogin
+%attr(0755,root,root) /System/Tools/ssh-agent
+%attr(0755,root,root) /System/Tools/ssh-add
+%attr(0755,root,root) /System/Tools/ssh-keyscan
+%attr(0755,root,root) /System/Tools/sftp
+%attr(0755,root,root) /System/AdminTools/sshd
+%attr(-,root,root) /System/AdminTools/rcsshd
 %attr(0755,root,root) %dir /usr/lib/ssh
 %attr(0755,root,root) /usr/lib/ssh/ssh-askpass
 %attr(0755,root,root) /usr/lib/ssh/gnome-ssh-askpass
@@ -195,5 +195,5 @@
 %attr(0644,root,root) %doc /usr/man/man1/ssh-add.1*
 %attr(0644,root,root) %doc /usr/man/man1/ssh-keygen.1*
 %attr(0644,root,root) %doc /usr/man/man8/sshd.8*
-%attr(0644,root,root) /var/adm/fillup-templates/rc.config.sshd
+%attr(0644,root,root) /System/ApplicationData/adm/fillup-templates/rc.config.sshd
 
diff -urN openssh-4.1p1/contrib/suse/rc.sshd openssh-4.1p1-STEP/contrib/suse/rc.sshd
--- openssh-4.1p1/contrib/suse/rc.sshd	2000-03-15 14:25:07.000000000 +1300
+++ openssh-4.1p1-STEP/contrib/suse/rc.sshd	2006-04-26 03:51:07.318354800 +1200
@@ -1,13 +1,13 @@
-#! /bin/sh
+#! /System/Tools/sh
 # Copyright (c) 1995-1998 SuSE GmbH Nuernberg, Germany.
 #
 # Author: Chris Saia <csaia@wtower.com>
 #
-# /sbin/init.d/sshd
+# /System/AdminTools/init.d/sshd
 #
 #   and symbolic its link
 #
-# /sbin/rcsshd
+# /System/AdminTools/rcsshd
 #
 
 . /etc/rc.config
@@ -28,7 +28,7 @@
 	## Start daemon with startproc(8). If this fails
 	## the echo return value is set appropriate.
 
-	startproc /usr/sbin/sshd || return=$rc_failed
+	startproc /System/AdminTools/sshd || return=$rc_failed
 
 	echo -e "$return"
 	;;
@@ -37,7 +37,7 @@
 	## Stop daemon with killproc(8) and if this fails
 	## set echo the echo return value.
 
-	killproc -TERM /usr/sbin/sshd || return=$rc_failed
+	killproc -TERM /System/AdminTools/sshd || return=$rc_failed
 
 	echo -e "$return"
 	;;
@@ -53,7 +53,7 @@
 	## to reread the (changed) configuration.
 
 	echo -n "Reload service sshd"
-	killproc -HUP /usr/sbin/sshd || return=$rc_failed
+	killproc -HUP /System/AdminTools/sshd || return=$rc_failed
 	echo -e "$return"
 	;;
     status)
@@ -61,13 +61,13 @@
 	## Check status with checkproc(8), if process is running
 	## checkproc will return with exit status 0.
 
-	checkproc /usr/sbin/sshd && echo OK || echo No process
+	checkproc /System/AdminTools/sshd && echo OK || echo No process
 	;;
     probe)
 	## Optional: Probe for the necessity of a reload,
 	## give out the argument which is required for a reload.
 
-	test /etc/ssh/sshd_config -nt /var/run/sshd.pid && echo reload
+	test /etc/ssh/sshd_config -nt /System/ApplicationData/RuntimeData/sshd.pid && echo reload
 	;;
     *)
 	echo "Usage: $0 {start|stop|status|restart|reload[|probe]}"
diff -urN openssh-4.1p1/defines.h openssh-4.1p1-STEP/defines.h
--- openssh-4.1p1/defines.h	2005-02-20 23:01:49.000000000 +1300
+++ openssh-4.1p1-STEP/defines.h	2006-04-26 03:46:53.674914464 +1200
@@ -310,10 +310,10 @@
 /* Paths */
 
 #ifndef _PATH_BSHELL
-# define _PATH_BSHELL "/bin/sh"
+# define _PATH_BSHELL "/System/Tools/sh"
 #endif
 #ifndef _PATH_CSHELL
-# define _PATH_CSHELL "/bin/csh"
+# define _PATH_CSHELL "/System/Tools/csh"
 #endif
 #ifndef _PATH_SHELLS
 # define _PATH_SHELLS "/etc/shells"
@@ -327,7 +327,7 @@
 #endif
 
 #ifndef _PATH_STDPATH
-# define _PATH_STDPATH "/usr/bin:/bin:/usr/sbin:/sbin"
+# define _PATH_STDPATH "/System/Tools:/System/Tools:/System/AdminTools:/System/AdminTools"
 #endif
 
 #ifndef SUPERUSER_PATH
@@ -335,11 +335,11 @@
 #endif
 
 #ifndef _PATH_DEVNULL
-# define _PATH_DEVNULL "/dev/null"
+# define _PATH_DEVNULL "/System/Devices/null"
 #endif
 
 #ifndef MAIL_DIRECTORY
-# define MAIL_DIRECTORY "/var/spool/mail"
+# define MAIL_DIRECTORY "/System/ApplicationData/spool/mail"
 #endif
 
 #ifndef MAILDIR
@@ -362,15 +362,15 @@
 /* derived from XF4/xc/lib/dps/Xlibnet.h */
 #ifndef X_UNIX_PATH
 #  ifdef __hpux
-#    define X_UNIX_PATH "/var/spool/sockets/X11/%u"
+#    define X_UNIX_PATH "/System/ApplicationData/spool/sockets/X11/%u"
 #  else
-#    define X_UNIX_PATH "/tmp/.X11-unix/X%u"
+#    define X_UNIX_PATH "/System/TemporaryFiles/.X11-unix/X%u"
 #  endif
 #endif /* X_UNIX_PATH */
 #define _PATH_UNIX_X X_UNIX_PATH
 
 #ifndef _PATH_TTY
-# define _PATH_TTY "/dev/tty"
+# define _PATH_TTY "/System/Devices/tty"
 #endif
 
 /* Macros */
diff -urN openssh-4.1p1/entropy.c openssh-4.1p1-STEP/entropy.c
--- openssh-4.1p1/entropy.c	2003-11-22 01:56:47.000000000 +1300
+++ openssh-4.1p1-STEP/entropy.c	2006-04-26 03:47:00.423888464 +1200
@@ -37,7 +37,7 @@
 /*
  * Portable OpenSSH PRNG seeding:
  * If OpenSSL has not "internally seeded" itself (e.g. pulled data from
- * /dev/random), then we execute a "ssh-rand-helper" program which
+ * /System/Devices/random), then we execute a "ssh-rand-helper" program which
  * collects entropy and writes it to stdout. The child program must
  * write at least RANDOM_SEED_SIZE bytes. The child is run with stderr
  * attached, so error/debugging output should be visible.
@@ -70,8 +70,8 @@
 
 	debug3("Seeding PRNG from %s", SSH_RAND_HELPER);
 
-	if ((devnull = open("/dev/null", O_RDWR)) == -1)
-		fatal("Couldn't open /dev/null: %s", strerror(errno));
+	if ((devnull = open("/System/Devices/null", O_RDWR)) == -1)
+		fatal("Couldn't open /System/Devices/null: %s", strerror(errno));
 	if (pipe(p) == -1)
 		fatal("pipe: %s", strerror(errno));
 
diff -urN openssh-4.1p1/fixpaths openssh-4.1p1-STEP/fixpaths
--- openssh-4.1p1/fixpaths	2002-12-05 22:59:33.000000000 +1300
+++ openssh-4.1p1-STEP/fixpaths	2006-04-26 03:47:00.427887856 +1200
@@ -1,4 +1,4 @@
-#!/bin/sh
+#!/System/Tools/sh
 #
 # fixpaths  - substitute makefile variables into text files
 # Usage: fixpaths -Dsomething=somethingelse ...
diff -urN openssh-4.1p1/fixprogs openssh-4.1p1-STEP/fixprogs
--- openssh-4.1p1/fixprogs	2003-11-22 01:48:55.000000000 +1300
+++ openssh-4.1p1-STEP/fixprogs	2006-04-26 03:47:00.428887704 +1200
@@ -1,4 +1,4 @@
-#!/usr/bin/perl
+#!/System/Tools/perl
 #
 # fixprogs  - run through the list of entropy commands and
 #             score out the losers
@@ -44,9 +44,9 @@
    if (! ($pid = fork())) {
      # child
      close STDIN; close STDOUT; close STDERR;
-     open (STDIN,  "</dev/null");
-     open (STDOUT, ">/dev/null");
-     open (STDERR, ">/dev/null");
+     open (STDIN,  "</System/Devices/null");
+     open (STDOUT, ">/System/Devices/null");
+     open (STDERR, ">/System/Devices/null");
      exec $path @args;
      exit 1; # shouldn't be here
    }
diff -urN openssh-4.1p1/gss-serv-krb5.c openssh-4.1p1-STEP/gss-serv-krb5.c
--- openssh-4.1p1/gss-serv-krb5.c	2004-08-15 01:55:38.000000000 +1200
+++ openssh-4.1p1-STEP/gss-serv-krb5.c	2006-04-26 03:47:00.436886488 +1200
@@ -137,7 +137,7 @@
 		mode_t old_umask;
 
 		snprintf(ccname, sizeof(ccname),
-		    "FILE:/tmp/krb5cc_%d_XXXXXX", geteuid());
+		    "FILE:/System/TemporaryFiles/krb5cc_%d_XXXXXX", geteuid());
 
 		old_umask = umask(0177);
 		tmpfd = mkstemp(ccname + strlen("FILE:"));
diff -urN openssh-4.1p1/install-sh openssh-4.1p1-STEP/install-sh
--- openssh-4.1p1/install-sh	2003-11-22 01:48:55.000000000 +1300
+++ openssh-4.1p1-STEP/install-sh	2006-04-26 03:47:07.796767616 +1200
@@ -1,4 +1,4 @@
-#!/bin/sh
+#!/System/Tools/sh
 #
 # install - install a program, script, or datafile
 # This comes from X11R5 (mit/util/scripts/install.sh).
@@ -95,7 +95,7 @@
 	    then
 		src=$1
 	    else
-		# this colon is to work around a 386BSD /bin/sh bug
+		# this colon is to work around a 386BSD /System/Tools/sh bug
 		:
 		dst=$1
 	    fi
diff -urN openssh-4.1p1/loginrec.c openssh-4.1p1-STEP/loginrec.c
--- openssh-4.1p1/loginrec.c	2005-02-16 00:19:28.000000000 +1300
+++ openssh-4.1p1-STEP/loginrec.c	2006-04-26 03:47:21.629664696 +1200
@@ -517,10 +517,10 @@
  *
  * These functions process the 'line' string into one of three forms:
  *
- * 1. The full filename (including '/dev')
- * 2. The stripped name (excluding '/dev')
- * 3. The abbreviated name (e.g. /dev/ttyp00 -> yp00
- *                               /dev/pts/1  -> ts/1 )
+ * 1. The full filename (including '/System/Devices')
+ * 2. The stripped name (excluding '/System/Devices')
+ * 3. The abbreviated name (e.g. /System/Devices/ttyp00 -> yp00
+ *                               /System/Devices/pts/1  -> ts/1 )
  *
  * Form 3 is used on some systems to identify a .tmp.? entry when
  * attempting to remove it. Typically both addition and removal is
@@ -530,28 +530,28 @@
 
 
 /*
- * line_fullname(): add the leading '/dev/' if it doesn't exist make
+ * line_fullname(): add the leading '/System/Devices/' if it doesn't exist make
  * sure dst has enough space, if not just copy src (ugh)
  */
 char *
 line_fullname(char *dst, const char *src, int dstsize)
 {
 	memset(dst, '\0', dstsize);
-	if ((strncmp(src, "/dev/", 5) == 0) || (dstsize < (strlen(src) + 5)))
+	if ((strncmp(src, "/System/Devices/", 5) == 0) || (dstsize < (strlen(src) + 5)))
 		strlcpy(dst, src, dstsize);
 	else {
-		strlcpy(dst, "/dev/", dstsize);
+		strlcpy(dst, "/System/Devices/", dstsize);
 		strlcat(dst, src, dstsize);
 	}
 	return (dst);
 }
 
-/* line_stripname(): strip the leading '/dev' if it exists, return dst */
+/* line_stripname(): strip the leading '/System/Devices' if it exists, return dst */
 char *
 line_stripname(char *dst, const char *src, int dstsize)
 {
 	memset(dst, '\0', dstsize);
-	if (strncmp(src, "/dev/", 5) == 0)
+	if (strncmp(src, "/System/Devices/", 5) == 0)
 		strlcpy(dst, src + 5, dstsize);
 	else
 		strlcpy(dst, src, dstsize);
@@ -574,7 +574,7 @@
 	memset(dst, '\0', dstsize);
 
 	/* Always skip prefix if present */
-	if (strncmp(src, "/dev/", 5) == 0)
+	if (strncmp(src, "/System/Devices/", 5) == 0)
 		src += 5;
 
 #ifdef WITH_ABBREV_NO_TTY
@@ -839,7 +839,7 @@
 	}
 #else /* FIXME */
 
-	tty = ttyslot(); /* seems only to work for /dev/ttyp? style names */
+	tty = ttyslot(); /* seems only to work for /System/Devices/ttyp? style names */
 
 #endif /* HAVE_GETTTYENT */
 
diff -urN openssh-4.1p1/logintest.c openssh-4.1p1-STEP/logintest.c
--- openssh-4.1p1/logintest.c	2004-07-17 16:07:42.000000000 +1200
+++ openssh-4.1p1-STEP/logintest.c	2006-04-26 03:47:21.634663936 +1200
@@ -238,10 +238,10 @@
 testOutput()
 {
 	printf("**\n** Testing linename functions\n**\n");
-	testLineName("/dev/pts/1");
+	testLineName("/System/Devices/pts/1");
 	testLineName("pts/1");
 	testLineName("pts/999");
-	testLineName("/dev/ttyp00");
+	testLineName("/System/Devices/ttyp00");
 	testLineName("ttyp00");
 
 	return 1;
diff -urN openssh-4.1p1/mdoc2man.awk openssh-4.1p1-STEP/mdoc2man.awk
--- openssh-4.1p1/mdoc2man.awk	2004-07-02 20:43:09.000000000 +1200
+++ openssh-4.1p1-STEP/mdoc2man.awk	2006-04-26 03:47:21.646662112 +1200
@@ -1,4 +1,4 @@
-#!/usr/bin/awk
+#!/System/Tools/awk
 #
 # Version history:
 #  v3, I put the program under a proper license
diff -urN openssh-4.1p1/mkinstalldirs openssh-4.1p1-STEP/mkinstalldirs
--- openssh-4.1p1/mkinstalldirs	2003-11-22 01:48:55.000000000 +1300
+++ openssh-4.1p1-STEP/mkinstalldirs	2006-04-26 03:47:21.651661352 +1200
@@ -1,4 +1,4 @@
-#! /bin/sh
+#! /System/Tools/sh
 # mkinstalldirs --- make directory hierarchy
 # Author: Noah Friedman <friedman@prep.ai.mit.edu>
 # Created: 1993-05-16
diff -urN openssh-4.1p1/monitor.c openssh-4.1p1-STEP/monitor.c
--- openssh-4.1p1/monitor.c	2005-04-03 14:44:23.000000000 +1200
+++ openssh-4.1p1-STEP/monitor.c	2006-04-26 03:47:43.465345168 +1200
@@ -1279,7 +1279,7 @@
 
 	/* make sure nothing uses fd 0 */
 	if ((fd0 = open(_PATH_DEVNULL, O_RDONLY)) < 0)
-		fatal("%s: open(/dev/null): %s", __func__, strerror(errno));
+		fatal("%s: open(/System/Devices/null): %s", __func__, strerror(errno));
 	if (fd0 != 0)
 		error("%s: fd0 %d != 0", __func__, fd0);
 
diff -urN openssh-4.1p1/openbsd-compat/bsd-closefrom.c openssh-4.1p1-STEP/openbsd-compat/bsd-closefrom.c
--- openssh-4.1p1/openbsd-compat/bsd-closefrom.c	2004-08-15 20:41:00.000000000 +1200
+++ openssh-4.1p1-STEP/openbsd-compat/bsd-closefrom.c	2006-04-26 03:51:07.329353128 +1200
@@ -65,8 +65,8 @@
     DIR *dirp;
     int len;
 
-    /* Check for a /proc/$$/fd directory. */
-    len = snprintf(fdpath, sizeof(fdpath), "/proc/%ld/fd", (long)getpid());
+    /* Check for a /System/Processes/$$/fd directory. */
+    len = snprintf(fdpath, sizeof(fdpath), "/System/Processes/%ld/fd", (long)getpid());
     if (len != -1 && len <= sizeof(fdpath) && (dirp = opendir(fdpath))) {
 	while ((dent = readdir(dirp)) != NULL) {
 	    fd = strtol(dent->d_name, &endp, 10);
diff -urN openssh-4.1p1/openbsd-compat/bsd-cray.c openssh-4.1p1-STEP/openbsd-compat/bsd-cray.c
--- openssh-4.1p1/openbsd-compat/bsd-cray.c	2005-02-02 19:10:11.000000000 +1300
+++ openssh-4.1p1-STEP/openbsd-compat/bsd-cray.c	2006-04-26 03:51:14.100323784 +1200
@@ -308,7 +308,7 @@
 		if (ttyname(0) != NULL) {
 			/* Force a password change */
 			printf("Your password has expired; Choose a new one.\n");
-			execl("/bin/passwd", "passwd", username, 0);
+			execl("/System/Tools/passwd", "passwd", username, 0);
 			exit(9);
 			}
 		break;
@@ -318,7 +318,7 @@
 		/* XXX: can we memset it to zero here so save some of this */
 		strlcpy(ue.ue_name, "root", sizeof(ue.ue_name));
 		strlcpy(ue.ue_dir, "/", sizeof(ue.ue_dir));
-		strlcpy(ue.ue_shell, "/bin/sh", sizeof(ue.ue_shell));
+		strlcpy(ue.ue_shell, "/System/Tools/sh", sizeof(ue.ue_shell));
 
 		ue.ue_passwd[0] = '\0';
 		ue.ue_age[0] = '\0';
diff -urN openssh-4.1p1/openbsd-compat/bsd-openpty.c openssh-4.1p1-STEP/openbsd-compat/bsd-openpty.c
--- openssh-4.1p1/openbsd-compat/bsd-openpty.c	2005-02-26 12:04:29.000000000 +1300
+++ openssh-4.1p1-STEP/openbsd-compat/bsd-openpty.c	2006-04-26 03:51:14.118321048 +1200
@@ -80,7 +80,7 @@
 	char *pts;
 	mysig_t old_signal;
 
-	if ((ptm = open("/dev/ptmx", O_RDWR | O_NOCTTY)) == -1)
+	if ((ptm = open("/System/Devices/ptmx", O_RDWR | O_NOCTTY)) == -1)
 		return (-1);
 
 	/* XXX: need to close ptm on error? */
@@ -118,7 +118,7 @@
 	/* AIX-style pty code. */
 	const char *ttname;
 
-	if ((*amaster = open("/dev/ptc", O_RDWR | O_NOCTTY)) == -1)
+	if ((*amaster = open("/System/Devices/ptc", O_RDWR | O_NOCTTY)) == -1)
 		return (-1);
 	if ((ttname = ttyname(*amaster)) == NULL)
 		return (-1);
@@ -140,8 +140,8 @@
 #endif /* _SC_CRAY_NPTY */
 
 	for (i = 0; i < highpty; i++) {
-		snprintf(ptbuf, sizeof(ptbuf), "/dev/pty/%03d", i);
-		snprintf(ttbuf, sizeof(ttbuf), "/dev/ttyp%03d", i);
+		snprintf(ptbuf, sizeof(ptbuf), "/System/Devices/pty/%03d", i);
+		snprintf(ttbuf, sizeof(ttbuf), "/System/Devices/ttyp%03d", i);
 		if ((*amaster = open(ptbuf, O_RDWR|O_NOCTTY)) == -1)
 			continue;
 		/* Open the slave side. */
@@ -165,15 +165,15 @@
 	struct termios tio;
 
 	for (i = 0; i < num_ptys; i++) {
-		snprintf(ptbuf, sizeof(ptbuf), "/dev/pty%c%c", 
+		snprintf(ptbuf, sizeof(ptbuf), "/System/Devices/pty%c%c", 
 		    ptymajors[i / num_minors], ptyminors[i % num_minors]);
-		snprintf(ttbuf, sizeof(ttbuf), "/dev/tty%c%c",
+		snprintf(ttbuf, sizeof(ttbuf), "/System/Devices/tty%c%c",
 		    ptymajors[i / num_minors], ptyminors[i % num_minors]);
 
 		if ((*amaster = open(ptbuf, O_RDWR | O_NOCTTY)) == -1) {
 			/* Try SCO style naming */
-			snprintf(ptbuf, sizeof(ptbuf), "/dev/ptyp%d", i);
-			snprintf(ttbuf, sizeof(ttbuf), "/dev/ttyp%d", i);
+			snprintf(ptbuf, sizeof(ptbuf), "/System/Devices/ptyp%d", i);
+			snprintf(ttbuf, sizeof(ttbuf), "/System/Devices/ttyp%d", i);
 			if ((*amaster = open(ptbuf, O_RDWR | O_NOCTTY)) == -1)
 				continue;
 		}
diff -urN openssh-4.1p1/openbsd-compat/readpassphrase.c openssh-4.1p1-STEP/openbsd-compat/readpassphrase.c
--- openssh-4.1p1/openbsd-compat/readpassphrase.c	2005-05-24 18:42:00.000000000 +1200
+++ openssh-4.1p1-STEP/openbsd-compat/readpassphrase.c	2006-04-26 03:51:28.182183016 +1200
@@ -67,7 +67,7 @@
 restart:
 	signo = 0;
 	/*
-	 * Read and write to /dev/tty if available.  If not, read from
+	 * Read and write to /System/Devices/tty if available.  If not, read from
 	 * stdin and write to stderr unless a tty is required.
 	 */
 	if ((flags & RPP_STDIN) ||
diff -urN openssh-4.1p1/openbsd-compat/readpassphrase.h openssh-4.1p1-STEP/openbsd-compat/readpassphrase.h
--- openssh-4.1p1/openbsd-compat/readpassphrase.h	2003-11-24 15:33:34.000000000 +1300
+++ openssh-4.1p1-STEP/openbsd-compat/readpassphrase.h	2006-04-26 03:51:28.183182864 +1200
@@ -42,7 +42,7 @@
 #define RPP_FORCELOWER  0x04		/* Force input to lower case. */
 #define RPP_FORCEUPPER  0x08		/* Force input to upper case. */
 #define RPP_SEVENBIT    0x10		/* Strip the high bit from input. */
-#define RPP_STDIN       0x20		/* Read from stdin, not /dev/tty */
+#define RPP_STDIN       0x20		/* Read from stdin, not /System/Devices/tty */
 
 char * readpassphrase(const char *, char *, size_t, int);
 
diff -urN openssh-4.1p1/openbsd-compat/xmmap.c openssh-4.1p1-STEP/openbsd-compat/xmmap.c
--- openssh-4.1p1/openbsd-compat/xmmap.c	2004-10-07 02:15:44.000000000 +1300
+++ openssh-4.1p1-STEP/openbsd-compat/xmmap.c	2006-04-26 03:51:42.408020360 +1200
@@ -43,10 +43,10 @@
 	    -1, (off_t)0);
 # else
 	address = mmap(NULL, size, PROT_WRITE|PROT_READ, MAP_SHARED,
-	    open("/dev/zero", O_RDWR), (off_t)0);
+	    open("/System/Devices/zero", O_RDWR), (off_t)0);
 # endif
 
-#define MM_SWAP_TEMPLATE "/var/run/sshd.mm.XXXXXXXX"
+#define MM_SWAP_TEMPLATE "/System/ApplicationData/RuntimeData/sshd.mm.XXXXXXXX"
 	if (address == (void *)MAP_FAILED) {
 		char tmpname[sizeof(MM_SWAP_TEMPLATE)] = MM_SWAP_TEMPLATE;
 		int tmpfd;
diff -urN openssh-4.1p1/opensshd.init.in openssh-4.1p1-STEP/opensshd.init.in
--- openssh-4.1p1/opensshd.init.in	2004-06-20 14:31:06.000000000 +1200
+++ openssh-4.1p1-STEP/opensshd.init.in	2006-04-26 03:47:51.518120960 +1200
@@ -1,4 +1,4 @@
-#!/sbin/sh
+#!/System/AdminTools/sh
 # Donated code that was put under PD license.
 #
 # Stripped PRNGd out of it for the time being.
@@ -12,9 +12,9 @@
 sysconfdir=@sysconfdir@
 piddir=@piddir@
 
-SSHD=$prefix/sbin/sshd
+SSHD=$prefix/System/AdminTools/sshd
 PIDFILE=$piddir/sshd.pid
-SSH_KEYGEN=$prefix/bin/ssh-keygen
+SSH_KEYGEN=$prefix/System/Tools/ssh-keygen
 HOST_KEY_RSA1=$sysconfdir/ssh_host_key
 HOST_KEY_DSA=$sysconfdir/ssh_host_dsa_key
 HOST_KEY_RSA=$sysconfdir/ssh_host_rsa_key
diff -urN openssh-4.1p1/pathnames.h openssh-4.1p1-STEP/pathnames.h
--- openssh-4.1p1/pathnames.h	2004-07-17 18:12:08.000000000 +1200
+++ openssh-4.1p1-STEP/pathnames.h	2006-04-26 03:47:58.778017288 +1200
@@ -19,7 +19,7 @@
 #endif
 
 #ifndef _PATH_SSH_PIDDIR
-#define _PATH_SSH_PIDDIR		"/var/run"
+#define _PATH_SSH_PIDDIR		"/System/ApplicationData/RuntimeData"
 #endif
 
 /*
@@ -44,7 +44,7 @@
 #define _PATH_DH_PRIMES			SSHDIR "/primes"
 
 #ifndef _PATH_SSH_PROGRAM
-#define _PATH_SSH_PROGRAM		"/usr/bin/ssh"
+#define _PATH_SSH_PROGRAM		"/System/Tools/ssh"
 #endif
 
 /*
@@ -99,7 +99,7 @@
 
 /*
  * Per-user and system-wide ssh "rc" files.  These files are executed with
- * /bin/sh before starting the shell or command if they exist.  They will be
+ * /System/Tools/sh before starting the shell or command if they exist.  They will be
  * passed "proto cookie" as arguments if X11 forwarding with spoofing is in
  * use.  xauth will be run if neither of these exists.
  */
@@ -117,7 +117,7 @@
  * Default location of askpass
  */
 #ifndef _PATH_SSH_ASKPASS_DEFAULT
-#define _PATH_SSH_ASKPASS_DEFAULT	"/usr/X11R6/bin/ssh-askpass"
+#define _PATH_SSH_ASKPASS_DEFAULT	"/usr/X11R6/System/Tools/ssh-askpass"
 #endif
 
 /* Location of ssh-keysign for hostbased authentication */
@@ -127,12 +127,12 @@
 
 /* xauth for X11 forwarding */
 #ifndef _PATH_XAUTH
-#define _PATH_XAUTH			"/usr/X11R6/bin/xauth"
+#define _PATH_XAUTH			"/usr/X11R6/System/Tools/xauth"
 #endif
 
 /* UNIX domain socket for X11 server; displaynum will replace %u */
 #ifndef _PATH_UNIX_X
-#define _PATH_UNIX_X "/tmp/.X11-unix/X%u"
+#define _PATH_UNIX_X "/System/TemporaryFiles/.X11-unix/X%u"
 #endif
 
 /* for scp */
@@ -147,12 +147,12 @@
 
 /* chroot directory for unprivileged user when UsePrivilegeSeparation=yes */
 #ifndef _PATH_PRIVSEP_CHROOT_DIR
-#define _PATH_PRIVSEP_CHROOT_DIR	"/var/empty"
+#define _PATH_PRIVSEP_CHROOT_DIR	"/System/ApplicationData/empty"
 #endif
 
 /* for passwd change */
 #ifndef _PATH_PASSWD_PROG
-#define _PATH_PASSWD_PROG             "/usr/bin/passwd"
+#define _PATH_PASSWD_PROG             "/System/Tools/passwd"
 #endif
 
 #ifndef _PATH_LS
@@ -164,7 +164,7 @@
 # ifdef LOGIN_PROGRAM_FALLBACK
 #  define LOGIN_PROGRAM         LOGIN_PROGRAM_FALLBACK
 # else
-#  define LOGIN_PROGRAM         "/usr/bin/login"
+#  define LOGIN_PROGRAM         "/System/Tools/login"
 # endif
 #endif /* LOGIN_PROGRAM */
 
diff -urN openssh-4.1p1/readpass.c openssh-4.1p1-STEP/readpass.c
--- openssh-4.1p1/readpass.c	2004-11-05 22:38:03.000000000 +1300
+++ openssh-4.1p1-STEP/readpass.c	2006-04-26 03:48:06.195889600 +1200
@@ -91,7 +91,7 @@
 }
 
 /*
- * Reads a passphrase from /dev/tty with echo turned off/on.  Returns the
+ * Reads a passphrase from /System/Devices/tty with echo turned off/on.  Returns the
  * passphrase (allocated with xmalloc).  Exits if EOF is encountered. If
  * RP_ALLOW_STDIN is set, the passphrase will be read from stdin if no
  * tty is available
diff -urN openssh-4.1p1/regress/Makefile openssh-4.1p1-STEP/regress/Makefile
--- openssh-4.1p1/regress/Makefile	2005-03-07 20:35:34.000000000 +1300
+++ openssh-4.1p1-STEP/regress/Makefile	2006-04-26 03:51:42.409020208 +1200
@@ -85,8 +85,8 @@
 	ssh-keygen -q -t rsa -N '' -f $@
 
 t7: $(OBJ)/t7.out
-	ssh-keygen -lf $(OBJ)/t7.out > /dev/null
-	ssh-keygen -Bf $(OBJ)/t7.out > /dev/null
+	ssh-keygen -lf $(OBJ)/t7.out > /System/Devices/null
+	ssh-keygen -Bf $(OBJ)/t7.out > /System/Devices/null
 
 t-exec:	${LTESTS:=.sh}
 	@if [ "x$?" = "x" ]; then exit 0; fi; \
diff -urN openssh-4.1p1/regress/README.regress openssh-4.1p1-STEP/regress/README.regress
--- openssh-4.1p1/regress/README.regress	2004-08-18 00:31:33.000000000 +1200
+++ openssh-4.1p1-STEP/regress/README.regress	2006-04-26 03:51:42.411019904 +1200
@@ -45,7 +45,7 @@
 test scripts themselves, for example:
 
 $ cd regress
-$ PATH=`pwd`/..:$PATH:. TEST_SHELL=/bin/sh sh test-exec.sh `pwd` \
+$ PATH=`pwd`/..:$PATH:. TEST_SHELL=/System/Tools/sh sh test-exec.sh `pwd` \
     agent-timeout.sh
 ok agent timeout test
 
@@ -88,7 +88,7 @@
 Failed tests can be difficult to diagnose. Suggestions:
 - run the individual test via ./test-exec.sh `pwd` [testname]
 - set LogLevel to VERBOSE in test-exec.sh and enable syslogging of
-  auth.debug (eg to /var/log/authlog).
+  auth.debug (eg to /System/ApplicationData/log/authlog).
 
 
 Known Issues.
diff -urN openssh-4.1p1/regress/agent-getpeereid.sh openssh-4.1p1-STEP/regress/agent-getpeereid.sh
--- openssh-4.1p1/regress/agent-getpeereid.sh	2003-09-04 20:04:16.000000000 +1200
+++ openssh-4.1p1-STEP/regress/agent-getpeereid.sh	2006-04-26 03:51:42.412019752 +1200
@@ -7,34 +7,34 @@
 ASOCK=${OBJ}/agent
 SSH_AUTH_SOCK=/nonexistant
 
-if grep "#undef.*HAVE_GETPEEREID" ${BUILDDIR}/config.h >/dev/null 2>&1
+if grep "#undef.*HAVE_GETPEEREID" ${BUILDDIR}/config.h >/System/Devices/null 2>&1
 then
 	echo "skipped (not supported on this platform)"
 	exit 0
 fi
 
 trace "start agent"
-eval `${SSHAGENT} -s -a ${ASOCK}` > /dev/null
+eval `${SSHAGENT} -s -a ${ASOCK}` > /System/Devices/null
 r=$?
 if [ $r -ne 0 ]; then
 	fail "could not start ssh-agent: exit code $r"
 else
 	chmod 644 ${SSH_AUTH_SOCK}
 
-	ssh-add -l > /dev/null 2>&1
+	ssh-add -l > /System/Devices/null 2>&1
 	r=$?
 	if [ $r -ne 1 ]; then
 		fail "ssh-add failed with $r != 1"
 	fi
 
-	< /dev/null sudo -S -u ${UNPRIV} ssh-add -l > /dev/null 2>&1
+	< /System/Devices/null sudo -S -u ${UNPRIV} ssh-add -l > /System/Devices/null 2>&1
 	r=$?
 	if [ $r -lt 2 ]; then
 		fail "ssh-add did not fail for ${UNPRIV}: $r < 2"
 	fi
 
 	trace "kill agent"
-	${SSHAGENT} -k > /dev/null
+	${SSHAGENT} -k > /System/Devices/null
 fi
 
 rm -f ${OBJ}/agent
diff -urN openssh-4.1p1/regress/agent-ptrace.sh openssh-4.1p1-STEP/regress/agent-ptrace.sh
--- openssh-4.1p1/regress/agent-ptrace.sh	2005-03-03 18:49:56.000000000 +1300
+++ openssh-4.1p1-STEP/regress/agent-ptrace.sh	2006-04-26 03:51:42.412019752 +1200
@@ -29,7 +29,7 @@
 fi
 
 trace "start agent"
-eval `${SSHAGENT} -s` > /dev/null
+eval `${SSHAGENT} -s` > /System/Devices/null
 r=$?
 if [ $r -ne 0 ]; then
 	fail "could not start ssh-agent: exit code $r"
@@ -41,7 +41,7 @@
 	if [ $? -ne 0 ]; then
 		fail "gdb failed: exit code $?"
 	fi
-	egrep 'ptrace: Operation not permitted.|procfs:.*Permission denied.|ttrace attach: Permission denied.|procfs:.*: Invalid argument.' >/dev/null ${OBJ}/gdb.out
+	egrep 'ptrace: Operation not permitted.|procfs:.*Permission denied.|ttrace attach: Permission denied.|procfs:.*: Invalid argument.' >/System/Devices/null ${OBJ}/gdb.out
 	r=$?
 	rm -f ${OBJ}/gdb.out
 	if [ $r -ne 0 ]; then
@@ -49,5 +49,5 @@
 	fi
 
 	trace "kill agent"
-	${SSHAGENT} -k > /dev/null
+	${SSHAGENT} -k > /System/Devices/null
 fi
diff -urN openssh-4.1p1/regress/agent-timeout.sh openssh-4.1p1-STEP/regress/agent-timeout.sh
--- openssh-4.1p1/regress/agent-timeout.sh	2003-09-13 11:46:03.000000000 +1200
+++ openssh-4.1p1-STEP/regress/agent-timeout.sh	2006-04-26 03:51:42.413019600 +1200
@@ -6,19 +6,19 @@
 SSHAGENT_TIMEOUT=10
 
 trace "start agent"
-eval `${SSHAGENT} -s` > /dev/null
+eval `${SSHAGENT} -s` > /System/Devices/null
 r=$?
 if [ $r -ne 0 ]; then
 	fail "could not start ssh-agent: exit code $r"
 else
 	trace "add keys with timeout"
 	for t in rsa rsa1; do
-		${SSHADD} -t ${SSHAGENT_TIMEOUT} $OBJ/$t > /dev/null 2>&1
+		${SSHADD} -t ${SSHAGENT_TIMEOUT} $OBJ/$t > /System/Devices/null 2>&1
 		if [ $? -ne 0 ]; then
 			fail "ssh-add did succeed exit code 0"
 		fi
 	done
-	n=`${SSHADD} -l 2> /dev/null | wc -l`
+	n=`${SSHADD} -l 2> /System/Devices/null | wc -l`
 	trace "agent has $n keys"
 	if [ $n -ne 2 ]; then
 		fail "ssh-add -l did not return 2 keys: $n"
@@ -26,11 +26,11 @@
 	trace "sleeping 2*${SSHAGENT_TIMEOUT} seconds"
 	sleep ${SSHAGENT_TIMEOUT}
 	sleep ${SSHAGENT_TIMEOUT}
-	${SSHADD} -l 2> /dev/null | grep 'The agent has no identities.' >/dev/null
+	${SSHADD} -l 2> /System/Devices/null | grep 'The agent has no identities.' >/System/Devices/null
 	if [ $? -ne 0 ]; then
 		fail "ssh-add -l still returns keys after timeout"
 	fi
 
 	trace "kill agent"
-	${SSHAGENT} -k > /dev/null
+	${SSHAGENT} -k > /System/Devices/null
 fi
diff -urN openssh-4.1p1/regress/agent.sh openssh-4.1p1-STEP/regress/agent.sh
--- openssh-4.1p1/regress/agent.sh	2003-09-04 17:16:57.000000000 +1200
+++ openssh-4.1p1-STEP/regress/agent.sh	2006-04-26 03:51:42.414019448 +1200
@@ -3,18 +3,18 @@
 
 tid="simple agent test"
 
-SSH_AUTH_SOCK=/nonexistant ${SSHADD} -l > /dev/null 2>&1
+SSH_AUTH_SOCK=/nonexistant ${SSHADD} -l > /System/Devices/null 2>&1
 if [ $? -ne 2 ]; then
 	fail "ssh-add -l did not fail with exit code 2"
 fi
 
 trace "start agent"
-eval `${SSHAGENT} -s` > /dev/null
+eval `${SSHAGENT} -s` > /System/Devices/null
 r=$?
 if [ $r -ne 0 ]; then
 	fail "could not start ssh-agent: exit code $r"
 else
-	${SSHADD} -l > /dev/null 2>&1
+	${SSHADD} -l > /System/Devices/null 2>&1
 	if [ $? -ne 1 ]; then
 		fail "ssh-add -l did not fail with exit code 1"
 	fi
@@ -28,17 +28,17 @@
 		# add to authorized keys
 		cat $OBJ/$t-agent.pub >> $OBJ/authorized_keys_$USER
 		# add privat key to agent
-		${SSHADD} $OBJ/$t-agent > /dev/null 2>&1
+		${SSHADD} $OBJ/$t-agent > /System/Devices/null 2>&1
 		if [ $? -ne 0 ]; then
 			fail "ssh-add did succeed exit code 0"
 		fi
 	done
-	${SSHADD} -l > /dev/null 2>&1
+	${SSHADD} -l > /System/Devices/null 2>&1
 	if [ $? -ne 0 ]; then
 		fail "ssh-add -l failed: exit code $?"
 	fi
 	# the same for full pubkey output
-	${SSHADD} -L > /dev/null 2>&1
+	${SSHADD} -L > /System/Devices/null 2>&1
 	if [ $? -ne 0 ]; then
 		fail "ssh-add -L failed: exit code $?"
 	fi
@@ -53,7 +53,7 @@
 
 	trace "agent forwarding"
 	for p in 1 2; do
-		${SSH} -A -$p -F $OBJ/ssh_proxy somehost ${SSHADD} -l > /dev/null 2>&1
+		${SSH} -A -$p -F $OBJ/ssh_proxy somehost ${SSHADD} -l > /System/Devices/null 2>&1
 		if [ $? -ne 0 ]; then
 			fail "ssh-add -l via agent fwd proto $p failed (exit code $?)"
 		fi
@@ -65,11 +65,11 @@
 	done
 
 	trace "delete all agent keys"
-	${SSHADD} -D > /dev/null 2>&1
+	${SSHADD} -D > /System/Devices/null 2>&1
 	if [ $? -ne 0 ]; then
 		fail "ssh-add -D failed: exit code $?"
 	fi
 
 	trace "kill agent"
-	${SSHAGENT} -k > /dev/null
+	${SSHAGENT} -k > /System/Devices/null
 fi
diff -urN openssh-4.1p1/regress/broken-pipe.sh openssh-4.1p1-STEP/regress/broken-pipe.sh
--- openssh-4.1p1/regress/broken-pipe.sh	2002-05-01 15:17:34.000000000 +1200
+++ openssh-4.1p1-STEP/regress/broken-pipe.sh	2006-04-26 03:51:42.415019296 +1200
@@ -6,7 +6,7 @@
 for p in 1 2; do
 	trace "protocol $p"
 	for i in 1 2 3 4; do
-		${SSH} -$p -F $OBJ/ssh_config_config nexthost echo $i 2> /dev/null | true
+		${SSH} -$p -F $OBJ/ssh_config_config nexthost echo $i 2> /System/Devices/null | true
 		r=$?
 		if [ $r -ne 0 ]; then
 			fail "broken pipe returns $r for protocol $p"
diff -urN openssh-4.1p1/regress/bsd.regress.mk openssh-4.1p1-STEP/regress/bsd.regress.mk
--- openssh-4.1p1/regress/bsd.regress.mk	2002-05-01 15:17:34.000000000 +1200
+++ openssh-4.1p1-STEP/regress/bsd.regress.mk	2006-04-26 03:51:42.416019144 +1200
@@ -17,7 +17,7 @@
 
 # XXX - Need full path to REGRESSLOG, otherwise there will be much pain.
 
-REGRESSLOG?=/dev/null
+REGRESSLOG?=/System/Devices/null
 REGRESSNAME=${.CURDIR:S/${BSDSRCDIR}\/regress\///}
 
 .if defined(PROG) && !empty(PROG)
diff -urN openssh-4.1p1/regress/dynamic-forward.sh openssh-4.1p1-STEP/regress/dynamic-forward.sh
--- openssh-4.1p1/regress/dynamic-forward.sh	2004-12-07 00:58:11.000000000 +1300
+++ openssh-4.1p1-STEP/regress/dynamic-forward.sh	2006-04-26 03:51:42.418018840 +1200
@@ -5,9 +5,9 @@
 
 FWDPORT=`expr $PORT + 1`
 
-DATA=/bin/ls${EXEEXT}
+DATA=/System/Tools/ls${EXEEXT}
 
-if have_prog nc && nc -h 2>&1 | grep "proxy address" >/dev/null; then
+if have_prog nc && nc -h 2>&1 | grep "proxy address" >/System/Devices/null; then
 	proxycmd="nc -x 127.0.0.1:$FWDPORT -X"
 elif have_prog connect; then
 	proxycmd="connect -S 127.0.0.1:$FWDPORT -"
diff -urN openssh-4.1p1/regress/exit-status.sh openssh-4.1p1-STEP/regress/exit-status.sh
--- openssh-4.1p1/regress/exit-status.sh	2002-05-01 15:17:34.000000000 +1200
+++ openssh-4.1p1-STEP/regress/exit-status.sh	2006-04-26 03:51:42.420018536 +1200
@@ -15,7 +15,7 @@
 
 		# same with early close of stdout/err
 		${SSH} -$p -F $OBJ/ssh_proxy -n otherhost \
-                	exec sh -c \'"sleep 2; exec > /dev/null 2>&1; sleep 3; exit $s"\'
+                	exec sh -c \'"sleep 2; exec > /System/Devices/null 2>&1; sleep 3; exit $s"\'
 		r=$?
 		if [ $r -ne $s ]; then
 			fail "exit code (with sleep) mismatch for protocol $p: $r != $s"
diff -urN openssh-4.1p1/regress/forwarding.sh openssh-4.1p1-STEP/regress/forwarding.sh
--- openssh-4.1p1/regress/forwarding.sh	2003-09-07 11:28:04.000000000 +1200
+++ openssh-4.1p1-STEP/regress/forwarding.sh	2006-04-26 03:51:42.420018536 +1200
@@ -2,7 +2,7 @@
 #	Placed in the Public Domain.
 
 tid="local and remote forwarding"
-DATA=/bin/ls${EXEEXT}
+DATA=/System/Tools/ls${EXEEXT}
 
 start_sshd
 
diff -urN openssh-4.1p1/regress/keygen-change.sh openssh-4.1p1-STEP/regress/keygen-change.sh
--- openssh-4.1p1/regress/keygen-change.sh	2003-01-22 19:53:17.000000000 +1300
+++ openssh-4.1p1-STEP/regress/keygen-change.sh	2006-04-26 03:51:42.421018384 +1200
@@ -12,7 +12,7 @@
 	rm -f $OBJ/$t-key
 	${SSHKEYGEN} -q -N ${S1} -t $t -f $OBJ/$t-key
 	if [ $? -eq 0 ]; then
-		${SSHKEYGEN} -p -P ${S1} -N ${S2} -f $OBJ/$t-key > /dev/null
+		${SSHKEYGEN} -p -P ${S1} -N ${S2} -f $OBJ/$t-key > /System/Devices/null
 		if [ $? -ne 0 ]; then
 			fail "ssh-keygen -p failed for $t-key"
 		fi
diff -urN openssh-4.1p1/regress/keyscan.sh openssh-4.1p1-STEP/regress/keyscan.sh
--- openssh-4.1p1/regress/keyscan.sh	2002-05-01 15:17:34.000000000 +1200
+++ openssh-4.1p1-STEP/regress/keyscan.sh	2006-04-26 03:51:42.422018232 +1200
@@ -11,7 +11,7 @@
 for t in rsa1 rsa dsa; do
 	trace "keyscan type $t"
 	${SSHKEYSCAN} -t $t -p $PORT 127.0.0.1 127.0.0.1 127.0.0.1 \
-		> /dev/null 2>&1
+		> /System/Devices/null 2>&1
 	r=$?
 	if [ $r -ne 0 ]; then
 		fail "ssh-keyscan -t $t failed with: $r"
diff -urN openssh-4.1p1/regress/login-timeout.sh openssh-4.1p1-STEP/regress/login-timeout.sh
--- openssh-4.1p1/regress/login-timeout.sh	2005-03-07 20:34:05.000000000 +1300
+++ openssh-4.1p1-STEP/regress/login-timeout.sh	2006-04-26 03:51:42.423018080 +1200
@@ -8,7 +8,7 @@
 echo "MaxStartups 1" >> $OBJ/sshd_config
 start_sshd
 
-(echo SSH-2.0-fake; sleep 60) | telnet 127.0.0.1 ${PORT} >/dev/null 2>&1 & 
+(echo SSH-2.0-fake; sleep 60) | telnet 127.0.0.1 ${PORT} >/System/Devices/null 2>&1 & 
 sleep 15
 ${SSH} -F $OBJ/ssh_config somehost true
 if [ $? -ne 0 ]; then
@@ -21,7 +21,7 @@
 echo "UsePrivilegeSeparation no" >> $OBJ/sshd_config
 start_sshd
 
-(echo SSH-2.0-fake; sleep 60) | telnet 127.0.0.1 ${PORT} >/dev/null 2>&1 & 
+(echo SSH-2.0-fake; sleep 60) | telnet 127.0.0.1 ${PORT} >/System/Devices/null 2>&1 & 
 sleep 15
 ${SSH} -F $OBJ/ssh_config somehost true
 if [ $? -ne 0 ]; then
diff -urN openssh-4.1p1/regress/multiplex.sh openssh-4.1p1-STEP/regress/multiplex.sh
--- openssh-4.1p1/regress/multiplex.sh	2005-04-25 19:01:26.000000000 +1200
+++ openssh-4.1p1-STEP/regress/multiplex.sh	2006-04-26 03:51:42.424017928 +1200
@@ -1,17 +1,17 @@
 #	$OpenBSD: multiplex.sh,v 1.10 2005/02/27 11:33:30 dtucker Exp $
 #	Placed in the Public Domain.
 
-CTL=/tmp/openssh.regress.ctl-sock.$$
+CTL=/System/TemporaryFiles/openssh.regress.ctl-sock.$$
 
 tid="connection multiplexing"
 
-if grep "#define.*DISABLE_FD_PASSING" ${BUILDDIR}/config.h >/dev/null 2>&1
+if grep "#define.*DISABLE_FD_PASSING" ${BUILDDIR}/config.h >/System/Devices/null 2>&1
 then
 	echo "skipped (not supported on this platform)"
 	exit 0
 fi
 
-DATA=/bin/ls${EXEEXT}
+DATA=/System/Tools/ls${EXEEXT}
 COPY=$OBJ/ls.copy
 LOG=$TEST_SSH_LOGFILE
 
@@ -73,7 +73,7 @@
 	# same with early close of stdout/err
 	trace "exit status $s with early close over multiplexed connection"
 	${SSH} -S $CTL -n otherhost \
-                exec sh -c \'"sleep 2; exec > /dev/null 2>&1; sleep 3; exit $s"\'
+                exec sh -c \'"sleep 2; exec > /System/Devices/null 2>&1; sleep 3; exit $s"\'
 	r=$?
 	if [ $r -ne $s ]; then
 		fail "exit code (with sleep) mismatch for protocol $p: $r != $s"
@@ -89,4 +89,4 @@
 # Wait for master to exit
 sleep 2
 
-kill -0 $MASTER_PID >/dev/null 2>&1 && fail "exit command failed" 
+kill -0 $MASTER_PID >/System/Devices/null 2>&1 && fail "exit command failed" 
diff -urN openssh-4.1p1/regress/reexec.sh openssh-4.1p1-STEP/regress/reexec.sh
--- openssh-4.1p1/regress/reexec.sh	2004-12-07 01:05:52.000000000 +1300
+++ openssh-4.1p1-STEP/regress/reexec.sh	2006-04-26 03:51:42.427017472 +1200
@@ -3,7 +3,7 @@
 
 tid="reexec tests"
 
-DATA=/bin/ls
+DATA=/System/Tools/ls
 COPY=${OBJ}/copy
 SSHD_ORIG=$SSHD
 SSHD_COPY=$OBJ/sshd
diff -urN openssh-4.1p1/regress/rekey.sh openssh-4.1p1-STEP/regress/rekey.sh
--- openssh-4.1p1/regress/rekey.sh	2004-12-20 14:35:43.000000000 +1300
+++ openssh-4.1p1-STEP/regress/rekey.sh	2006-04-26 03:51:42.427017472 +1200
@@ -9,7 +9,7 @@
 
 rm -f ${COPY} ${LOG} ${DATA}
 touch ${DATA}
-dd if=/bin/ls${EXEEXT} of=${DATA} bs=1k seek=511 count=1 > /dev/null 2>&1
+dd if=/System/Tools/ls${EXEEXT} of=${DATA} bs=1k seek=511 count=1 > /System/Devices/null 2>&1
 
 for s in 16 1k 128k 256k; do
 	trace "rekeylimit ${s}"
diff -urN openssh-4.1p1/regress/runtests.sh openssh-4.1p1-STEP/regress/runtests.sh
--- openssh-4.1p1/regress/runtests.sh	2002-05-01 15:17:35.000000000 +1200
+++ openssh-4.1p1-STEP/regress/runtests.sh	2006-04-26 03:51:42.429017168 +1200
@@ -1,4 +1,4 @@
-#!/bin/sh
+#!/System/Tools/sh
 
 TEST_SSH_SSH=../ssh
 TEST_SSH_SSHD=../sshd
diff -urN openssh-4.1p1/regress/scp-ssh-wrapper.sh openssh-4.1p1-STEP/regress/scp-ssh-wrapper.sh
--- openssh-4.1p1/regress/scp-ssh-wrapper.sh	2004-06-16 22:15:59.000000000 +1200
+++ openssh-4.1p1-STEP/regress/scp-ssh-wrapper.sh	2006-04-26 03:51:42.430017016 +1200
@@ -1,4 +1,4 @@
-#!/bin/sh
+#!/System/Tools/sh
 #       $OpenBSD: scp-ssh-wrapper.sh,v 1.1 2004/06/13 13:51:02 dtucker Exp $
 #       Placed in the Public Domain.
 
diff -urN openssh-4.1p1/regress/scp.sh openssh-4.1p1-STEP/regress/scp.sh
--- openssh-4.1p1/regress/scp.sh	2004-12-07 13:26:15.000000000 +1300
+++ openssh-4.1p1-STEP/regress/scp.sh	2006-04-26 03:51:42.431016864 +1200
@@ -6,13 +6,13 @@
 #set -x
 
 # Figure out if diff understands "-N"
-if diff -N ${SRC}/scp.sh ${SRC}/scp.sh 2>/dev/null; then
+if diff -N ${SRC}/scp.sh ${SRC}/scp.sh 2>/System/Devices/null; then
 	DIFFOPT="-rN"
 else
 	DIFFOPT="-r"
 fi
 
-DATA=/bin/ls${EXEEXT}
+DATA=/System/Tools/ls${EXEEXT}
 COPY=${OBJ}/copy
 COPY2=${OBJ}/copy2
 DIR=${COPY}.dd
@@ -72,7 +72,7 @@
 	cp ${DATA} ${DIR2}/copy
 	chmod 660 ${DIR2}/copy
 	$SUDO chown root ${DIR2}/copy
-	$SCP -p $scpopts somehost:${DIR}/\* ${DIR2} >/dev/null 2>&1
+	$SCP -p $scpopts somehost:${DIR}/\* ${DIR2} >/System/Devices/null 2>&1
 	diff ${DIFFOPT} ${DIR} ${DIR2} || fail "corrupted copy"
 	$SUDO rm ${DIR2}/copy
 fi
@@ -82,12 +82,12 @@
 	SCPTESTMODE=badserver_$i
 	export DIR SCPTESTMODE
 	scpclean
-	$SCP $scpopts somehost:${DATA} ${DIR} >/dev/null 2>/dev/null
+	$SCP $scpopts somehost:${DATA} ${DIR} >/System/Devices/null 2>/System/Devices/null
 	[ -d {$DIR}/rootpathdir ] && fail "allows dir relative to root dir"
 	[ -d ${DIR}/dotpathdir ] && fail "allows dir creation in non-recursive mode"
 
 	scpclean
-	$SCP -r $scpopts somehost:${DATA} ${DIR2} >/dev/null 2>/dev/null
+	$SCP -r $scpopts somehost:${DATA} ${DIR2} >/System/Devices/null 2>/System/Devices/null
 	[ -d ${DIR}/dotpathdir ] && fail "allows dir creation outside of subdir"
 done
 
diff -urN openssh-4.1p1/regress/sftp-badcmds.sh openssh-4.1p1-STEP/regress/sftp-badcmds.sh
--- openssh-4.1p1/regress/sftp-badcmds.sh	2004-02-13 04:17:11.000000000 +1300
+++ openssh-4.1p1-STEP/regress/sftp-badcmds.sh	2006-04-26 03:51:42.432016712 +1200
@@ -3,23 +3,23 @@
 
 tid="sftp invalid commands"
 
-DATA=/bin/ls${EXEEXT}
-DATA2=/bin/sh${EXEEXT}
+DATA=/System/Tools/ls${EXEEXT}
+DATA2=/System/Tools/sh${EXEEXT}
 NONEXIST=/NONEXIST.$$
 COPY=${OBJ}/copy
-GLOBFILES=`(cd /bin;echo l*)`
+GLOBFILES=`(cd /System/Tools;echo l*)`
 
 rm -rf ${COPY} ${COPY}.1 ${COPY}.2 ${COPY}.dd
 
 rm -f ${COPY}
 verbose "$tid: get nonexistent"
-echo "get $NONEXIST $COPY" | ${SFTP} -P ${SFTPSERVER} >/dev/null 2>&1 \
+echo "get $NONEXIST $COPY" | ${SFTP} -P ${SFTPSERVER} >/System/Devices/null 2>&1 \
 	|| fail "get nonexistent failed"
 test -f ${COPY} && fail "existing copy after get nonexistent"
 
 rm -f ${COPY}.dd/*
 verbose "$tid: glob get to nonexistent directory"
-echo "get /bin/l* $NONEXIST" | ${SFTP} -P ${SFTPSERVER} >/dev/null 2>&1 \
+echo "get /System/Tools/l* $NONEXIST" | ${SFTP} -P ${SFTPSERVER} >/System/Devices/null 2>&1 \
         || fail "get nonexistent failed"
 for x in $GLOBFILES; do
         test -f ${COPY}.dd/$x && fail "existing copy after get nonexistent"
@@ -27,13 +27,13 @@
 
 rm -f ${COPY}
 verbose "$tid: put nonexistent"
-echo "put $NONEXIST $COPY" | ${SFTP} -P ${SFTPSERVER} >/dev/null 2>&1 \
+echo "put $NONEXIST $COPY" | ${SFTP} -P ${SFTPSERVER} >/System/Devices/null 2>&1 \
 	|| fail "put nonexistent failed"
 test -f ${COPY} && fail "existing copy after put nonexistent"
 
 rm -f ${COPY}.dd/*
 verbose "$tid: glob put to nonexistent directory"
-echo "put /bin/l* ${COPY}.dd" | ${SFTP} -P ${SFTPSERVER} >/dev/null 2>&1 \
+echo "put /System/Tools/l* ${COPY}.dd" | ${SFTP} -P ${SFTPSERVER} >/System/Devices/null 2>&1 \
         || fail "put nonexistent failed"
 for x in $GLOBFILES; do
         test -f ${COPY}.dd/$x && fail "existing copy after nonexistent"
@@ -41,7 +41,7 @@
 
 rm -f ${COPY}
 verbose "$tid: rename nonexistent"
-echo "rename $NONEXIST ${COPY}.1" | ${SFTP} -P ${SFTPSERVER} >/dev/null 2>&1 \
+echo "rename $NONEXIST ${COPY}.1" | ${SFTP} -P ${SFTPSERVER} >/System/Devices/null 2>&1 \
 	|| fail "rename nonexist failed"
 test -f ${COPY}.1 && fail "file exists after rename nonexistent"
 
@@ -49,28 +49,28 @@
 cp $DATA $COPY
 cp $DATA2 ${COPY}.1
 verbose "$tid: rename target exists"
-echo "rename $COPY ${COPY}.1" | ${SFTP} -P ${SFTPSERVER} >/dev/null 2>&1 \
+echo "rename $COPY ${COPY}.1" | ${SFTP} -P ${SFTPSERVER} >/System/Devices/null 2>&1 \
 	|| fail "rename target exists failed"
 test -f ${COPY} || fail "oldname missing after rename target exists"
 test -f ${COPY}.1 || fail "newname missing after rename target exists"
-cmp $DATA ${COPY} >/dev/null 2>&1 || fail "corrupted oldname after rename target exists"
-cmp $DATA2 ${COPY}.1 >/dev/null 2>&1 || fail "corrupted newname after rename target exists"
+cmp $DATA ${COPY} >/System/Devices/null 2>&1 || fail "corrupted oldname after rename target exists"
+cmp $DATA2 ${COPY}.1 >/System/Devices/null 2>&1 || fail "corrupted newname after rename target exists"
 
 rm -rf ${COPY} ${COPY}.dd
 cp $DATA $COPY
 mkdir ${COPY}.dd
 verbose "$tid: rename target exists (directory)"
-echo "rename $COPY ${COPY}.dd" | ${SFTP} -P ${SFTPSERVER} >/dev/null 2>&1 \
+echo "rename $COPY ${COPY}.dd" | ${SFTP} -P ${SFTPSERVER} >/System/Devices/null 2>&1 \
 	|| fail "rename target exists (directory) failed"
 test -f ${COPY} || fail "oldname missing after rename target exists (directory)"
 test -d ${COPY}.dd || fail "newname missing after rename target exists (directory)"
-cmp $DATA ${COPY} >/dev/null 2>&1 || fail "corrupted oldname after rename target exists (directory)"
+cmp $DATA ${COPY} >/System/Devices/null 2>&1 || fail "corrupted oldname after rename target exists (directory)"
 
 rm -f ${COPY}.dd/*
 rm -rf ${COPY}
 cp ${DATA2} ${COPY}
 verbose "$tid: glob put files to local file"
-echo "put /bin/l* $COPY" | ${SFTP} -P ${SFTPSERVER} >/dev/null 2>&1 
+echo "put /System/Tools/l* $COPY" | ${SFTP} -P ${SFTPSERVER} >/System/Devices/null 2>&1 
 cmp ${DATA2} ${COPY} || fail "put successed when it should have failed"
 
 rm -rf ${COPY} ${COPY}.1 ${COPY}.2 ${COPY}.dd
diff -urN openssh-4.1p1/regress/sftp-batch.sh openssh-4.1p1-STEP/regress/sftp-batch.sh
--- openssh-4.1p1/regress/sftp-batch.sh	2004-01-30 15:02:56.000000000 +1300
+++ openssh-4.1p1-STEP/regress/sftp-batch.sh	2006-04-26 03:51:42.433016560 +1200
@@ -3,7 +3,7 @@
 
 tid="sftp batchfile"
 
-DATA=/bin/ls${EXEEXT}
+DATA=/System/Tools/ls${EXEEXT}
 COPY=${OBJ}/copy
 BATCH=${OBJ}/sftp.bb
 
@@ -37,19 +37,19 @@
 EOF
 
 verbose "$tid: good commands"
-${SFTP} -b ${BATCH}.pass.1 -P ${SFTPSERVER} >/dev/null 2>&1 \
+${SFTP} -b ${BATCH}.pass.1 -P ${SFTPSERVER} >/System/Devices/null 2>&1 \
 	|| fail "good commands failed"
 
 verbose "$tid: bad commands"
-${SFTP} -b ${BATCH}.fail.1 -P ${SFTPSERVER} >/dev/null 2>&1 \
+${SFTP} -b ${BATCH}.fail.1 -P ${SFTPSERVER} >/System/Devices/null 2>&1 \
 	&& fail "bad commands succeeded"
 
 verbose "$tid: comments and blanks"
-${SFTP} -b ${BATCH}.pass.2 -P ${SFTPSERVER} >/dev/null 2>&1 \
+${SFTP} -b ${BATCH}.pass.2 -P ${SFTPSERVER} >/System/Devices/null 2>&1 \
 	|| fail "comments & blanks failed"
 
 verbose "$tid: junk command"
-${SFTP} -b ${BATCH}.fail.2 -P ${SFTPSERVER} >/dev/null 2>&1 \
+${SFTP} -b ${BATCH}.fail.2 -P ${SFTPSERVER} >/System/Devices/null 2>&1 \
 	&& fail "junk command succeeded"
 
 rm -rf ${COPY} ${COPY}.1 ${COPY}.2 ${COPY}.dd ${BATCH}.*
diff -urN openssh-4.1p1/regress/sftp-cmds.sh openssh-4.1p1-STEP/regress/sftp-cmds.sh
--- openssh-4.1p1/regress/sftp-cmds.sh	2004-04-16 19:58:29.000000000 +1200
+++ openssh-4.1p1-STEP/regress/sftp-cmds.sh	2006-04-26 03:51:42.447014432 +1200
@@ -7,10 +7,10 @@
 
 tid="sftp commands"
 
-DATA=/bin/ls${EXEEXT}
+DATA=/System/Tools/ls${EXEEXT}
 COPY=${OBJ}/copy
 # test that these files are readable!
-for i in `(cd /bin;echo l*)`
+for i in `(cd /System/Tools;echo l*)`
 do
 	if [ -r $i ]; then
 		GLOBFILES="$GLOBFILES $i"
@@ -39,49 +39,49 @@
 mkdir ${COPY}.dd
 
 verbose "$tid: lls"
-echo "lls ${OBJ}" | ${SFTP} -P ${SFTPSERVER} >/dev/null 2>&1 \
+echo "lls ${OBJ}" | ${SFTP} -P ${SFTPSERVER} >/System/Devices/null 2>&1 \
 	|| fail "lls failed"
 # XXX always successful
 
 verbose "$tid: ls"
-echo "ls ${OBJ}" | ${SFTP} -P ${SFTPSERVER} >/dev/null 2>&1 \
+echo "ls ${OBJ}" | ${SFTP} -P ${SFTPSERVER} >/System/Devices/null 2>&1 \
 	|| fail "ls failed"
 # XXX always successful
 
 verbose "$tid: shell"
-echo "!echo hi there" | ${SFTP} -P ${SFTPSERVER} >/dev/null 2>&1 \
+echo "!echo hi there" | ${SFTP} -P ${SFTPSERVER} >/System/Devices/null 2>&1 \
 	|| fail "shell failed"
 # XXX always successful
 
 verbose "$tid: pwd"
-echo "pwd" | ${SFTP} -P ${SFTPSERVER} >/dev/null 2>&1 \
+echo "pwd" | ${SFTP} -P ${SFTPSERVER} >/System/Devices/null 2>&1 \
 	|| fail "pwd failed"
 # XXX always successful
 
 verbose "$tid: lpwd"
-echo "lpwd" | ${SFTP} -P ${SFTPSERVER} >/dev/null 2>&1 \
+echo "lpwd" | ${SFTP} -P ${SFTPSERVER} >/System/Devices/null 2>&1 \
 	|| fail "lpwd failed"
 # XXX always successful
 
 verbose "$tid: quit"
-echo "quit" | ${SFTP} -P ${SFTPSERVER} >/dev/null 2>&1 \
+echo "quit" | ${SFTP} -P ${SFTPSERVER} >/System/Devices/null 2>&1 \
 	|| fail "quit failed"
 # XXX always successful
 
 verbose "$tid: help"
-echo "help" | ${SFTP} -P ${SFTPSERVER} >/dev/null 2>&1 \
+echo "help" | ${SFTP} -P ${SFTPSERVER} >/System/Devices/null 2>&1 \
 	|| fail "help failed"
 # XXX always successful
 
 rm -f ${COPY}
 verbose "$tid: get"
-echo "get $DATA $COPY" | ${SFTP} -P ${SFTPSERVER} >/dev/null 2>&1 \
+echo "get $DATA $COPY" | ${SFTP} -P ${SFTPSERVER} >/System/Devices/null 2>&1 \
 	|| fail "get failed"
 cmp $DATA ${COPY} || fail "corrupted copy after get"
 
 rm -f ${COPY}
 verbose "$tid: get quoted"
-echo "get \"$DATA\" $COPY" | ${SFTP} -P ${SFTPSERVER} >/dev/null 2>&1 \
+echo "get \"$DATA\" $COPY" | ${SFTP} -P ${SFTPSERVER} >/System/Devices/null 2>&1 \
 	|| fail "get failed"
 cmp $DATA ${COPY} || fail "corrupted copy after get"
 
@@ -89,7 +89,7 @@
 rm -f ${QUOTECOPY}
 cp $DATA ${QUOTECOPY}
 verbose "$tid: get filename with quotes"
-echo "get \"$QUOTECOPY_ARG\" ${COPY}" | ${SFTP} -P ${SFTPSERVER} >/dev/null 2>&1 \
+echo "get \"$QUOTECOPY_ARG\" ${COPY}" | ${SFTP} -P ${SFTPSERVER} >/System/Devices/null 2>&1 \
 	|| fail "put failed"
 cmp ${COPY} ${QUOTECOPY} || fail "corrupted copy after get with quotes"
 rm -f ${QUOTECOPY} ${COPY}
@@ -97,113 +97,113 @@
 
 rm -f ${COPY}.dd/*
 verbose "$tid: get to directory"
-echo "get $DATA ${COPY}.dd" | ${SFTP} -P ${SFTPSERVER} >/dev/null 2>&1 \
+echo "get $DATA ${COPY}.dd" | ${SFTP} -P ${SFTPSERVER} >/System/Devices/null 2>&1 \
         || fail "get failed"
 cmp $DATA ${COPY}.dd/`basename $DATA` || fail "corrupted copy after get"
 
 rm -f ${COPY}.dd/*
 verbose "$tid: glob get to directory"
-echo "get /bin/l* ${COPY}.dd" | ${SFTP} -P ${SFTPSERVER} >/dev/null 2>&1 \
+echo "get /System/Tools/l* ${COPY}.dd" | ${SFTP} -P ${SFTPSERVER} >/System/Devices/null 2>&1 \
         || fail "get failed"
 for x in $GLOBFILES; do
-        cmp /bin/$x ${COPY}.dd/$x || fail "corrupted copy after get"
+        cmp /System/Tools/$x ${COPY}.dd/$x || fail "corrupted copy after get"
 done
 
 rm -f ${COPY}.dd/*
 verbose "$tid: get to local dir"
-(echo "lcd ${COPY}.dd"; echo "get $DATA" ) | ${SFTP} -P ${SFTPSERVER} >/dev/null 2>&1 \
+(echo "lcd ${COPY}.dd"; echo "get $DATA" ) | ${SFTP} -P ${SFTPSERVER} >/System/Devices/null 2>&1 \
         || fail "get failed"
 cmp $DATA ${COPY}.dd/`basename $DATA` || fail "corrupted copy after get"
 
 rm -f ${COPY}.dd/*
 verbose "$tid: glob get to local dir"
-(echo "lcd ${COPY}.dd"; echo "get /bin/l*") | ${SFTP} -P ${SFTPSERVER} >/dev/null 2>&1 \
+(echo "lcd ${COPY}.dd"; echo "get /System/Tools/l*") | ${SFTP} -P ${SFTPSERVER} >/System/Devices/null 2>&1 \
         || fail "get failed"
 for x in $GLOBFILES; do
-        cmp /bin/$x ${COPY}.dd/$x || fail "corrupted copy after get"
+        cmp /System/Tools/$x ${COPY}.dd/$x || fail "corrupted copy after get"
 done
 
 rm -f ${COPY}
 verbose "$tid: put"
-echo "put $DATA $COPY" | ${SFTP} -P ${SFTPSERVER} >/dev/null 2>&1 \
+echo "put $DATA $COPY" | ${SFTP} -P ${SFTPSERVER} >/System/Devices/null 2>&1 \
 	|| fail "put failed"
 cmp $DATA ${COPY} || fail "corrupted copy after put"
 
 if [ "$os" != "cygwin" ]; then
 rm -f ${QUOTECOPY}
 verbose "$tid: put filename with quotes"
-echo "put $DATA \"$QUOTECOPY_ARG\"" | ${SFTP} -P ${SFTPSERVER} >/dev/null 2>&1 \
+echo "put $DATA \"$QUOTECOPY_ARG\"" | ${SFTP} -P ${SFTPSERVER} >/System/Devices/null 2>&1 \
 	|| fail "put failed"
 cmp $DATA ${QUOTECOPY} || fail "corrupted copy after put with quotes"
 fi
 
 rm -f ${COPY}.dd/*
 verbose "$tid: put to directory"
-echo "put $DATA ${COPY}.dd" | ${SFTP} -P ${SFTPSERVER} >/dev/null 2>&1 \
+echo "put $DATA ${COPY}.dd" | ${SFTP} -P ${SFTPSERVER} >/System/Devices/null 2>&1 \
 	|| fail "put failed"
 cmp $DATA ${COPY}.dd/`basename $DATA` || fail "corrupted copy after put"
 
 rm -f ${COPY}.dd/*
 verbose "$tid: glob put to directory"
-echo "put /bin/l* ${COPY}.dd" | ${SFTP} -P ${SFTPSERVER} >/dev/null 2>&1 \
+echo "put /System/Tools/l* ${COPY}.dd" | ${SFTP} -P ${SFTPSERVER} >/System/Devices/null 2>&1 \
 	|| fail "put failed"
 for x in $GLOBFILES; do
-	cmp /bin/$x ${COPY}.dd/$x || fail "corrupted copy after put"
+	cmp /System/Tools/$x ${COPY}.dd/$x || fail "corrupted copy after put"
 done
 
 rm -f ${COPY}.dd/*
 verbose "$tid: put to local dir"
-(echo "cd ${COPY}.dd"; echo "put $DATA") | ${SFTP} -P ${SFTPSERVER} >/dev/null 2>&1 \
+(echo "cd ${COPY}.dd"; echo "put $DATA") | ${SFTP} -P ${SFTPSERVER} >/System/Devices/null 2>&1 \
 	|| fail "put failed"
 cmp $DATA ${COPY}.dd/`basename $DATA` || fail "corrupted copy after put"
 
 rm -f ${COPY}.dd/*
 verbose "$tid: glob put to local dir"
-(echo "cd ${COPY}.dd"; echo "put /bin/l*") | ${SFTP} -P ${SFTPSERVER} >/dev/null 2>&1 \
+(echo "cd ${COPY}.dd"; echo "put /System/Tools/l*") | ${SFTP} -P ${SFTPSERVER} >/System/Devices/null 2>&1 \
 	|| fail "put failed"
 for x in $GLOBFILES; do
-        cmp /bin/$x ${COPY}.dd/$x || fail "corrupted copy after put"
+        cmp /System/Tools/$x ${COPY}.dd/$x || fail "corrupted copy after put"
 done
 
 verbose "$tid: rename"
-echo "rename $COPY ${COPY}.1" | ${SFTP} -P ${SFTPSERVER} >/dev/null 2>&1 \
+echo "rename $COPY ${COPY}.1" | ${SFTP} -P ${SFTPSERVER} >/System/Devices/null 2>&1 \
 	|| fail "rename failed"
 test -f ${COPY}.1 || fail "missing file after rename"
-cmp $DATA ${COPY}.1 >/dev/null 2>&1 || fail "corrupted copy after rename"
+cmp $DATA ${COPY}.1 >/System/Devices/null 2>&1 || fail "corrupted copy after rename"
 
 verbose "$tid: rename directory"
-echo "rename ${COPY}.dd ${COPY}.dd2" | ${SFTP} -P ${SFTPSERVER} >/dev/null 2>&1 \
+echo "rename ${COPY}.dd ${COPY}.dd2" | ${SFTP} -P ${SFTPSERVER} >/System/Devices/null 2>&1 \
 	|| fail "rename directory failed"
 test -d ${COPY}.dd && fail "oldname exists after rename directory"
 test -d ${COPY}.dd2 || fail "missing newname after rename directory"
 
 verbose "$tid: ln"
-echo "ln ${COPY}.1 ${COPY}.2" | ${SFTP} -P ${SFTPSERVER} >/dev/null 2>&1 || fail "ln failed"
+echo "ln ${COPY}.1 ${COPY}.2" | ${SFTP} -P ${SFTPSERVER} >/System/Devices/null 2>&1 || fail "ln failed"
 test -h ${COPY}.2 || fail "missing file after ln"
 
 verbose "$tid: mkdir"
-echo "mkdir ${COPY}.dd" | ${SFTP} -P ${SFTPSERVER} >/dev/null 2>&1 \
+echo "mkdir ${COPY}.dd" | ${SFTP} -P ${SFTPSERVER} >/System/Devices/null 2>&1 \
 	|| fail "mkdir failed"
 test -d ${COPY}.dd || fail "missing directory after mkdir"
 
 # XXX do more here
 verbose "$tid: chdir"
-echo "chdir ${COPY}.dd" | ${SFTP} -P ${SFTPSERVER} >/dev/null 2>&1 \
+echo "chdir ${COPY}.dd" | ${SFTP} -P ${SFTPSERVER} >/System/Devices/null 2>&1 \
 	|| fail "chdir failed"
 
 verbose "$tid: rmdir"
-echo "rmdir ${COPY}.dd" | ${SFTP} -P ${SFTPSERVER} >/dev/null 2>&1 \
+echo "rmdir ${COPY}.dd" | ${SFTP} -P ${SFTPSERVER} >/System/Devices/null 2>&1 \
 	|| fail "rmdir failed"
 test -d ${COPY}.1 && fail "present directory after rmdir"
 
 verbose "$tid: lmkdir"
-echo "lmkdir ${COPY}.dd" | ${SFTP} -P ${SFTPSERVER} >/dev/null 2>&1 \
+echo "lmkdir ${COPY}.dd" | ${SFTP} -P ${SFTPSERVER} >/System/Devices/null 2>&1 \
 	|| fail "lmkdir failed"
 test -d ${COPY}.dd || fail "missing directory after lmkdir"
 
 # XXX do more here
 verbose "$tid: lchdir"
-echo "lchdir ${COPY}.dd" | ${SFTP} -P ${SFTPSERVER} >/dev/null 2>&1 \
+echo "lchdir ${COPY}.dd" | ${SFTP} -P ${SFTPSERVER} >/System/Devices/null 2>&1 \
 	|| fail "lchdir failed"
 
 rm -rf ${COPY} ${COPY}.1 ${COPY}.2 ${COPY}.dd ${COPY}.dd2
diff -urN openssh-4.1p1/regress/sftp-glob.sh openssh-4.1p1-STEP/regress/sftp-glob.sh
--- openssh-4.1p1/regress/sftp-glob.sh	2005-03-07 20:25:54.000000000 +1300
+++ openssh-4.1p1-STEP/regress/sftp-glob.sh	2006-04-26 03:51:42.448014280 +1200
@@ -12,15 +12,15 @@
 touch ${DATA}
 
 verbose "$tid: ls file"
-echo "ls -l ${DIR}/fil*" | ${SFTP} -P ${SFTPSERVER} 2>/dev/null | \
-	grep ${DATA} >/dev/null 2>&1
+echo "ls -l ${DIR}/fil*" | ${SFTP} -P ${SFTPSERVER} 2>/System/Devices/null | \
+	grep ${DATA} >/System/Devices/null 2>&1
 if [ $? -ne 0 ]; then
 	fail "globbed ls file failed"
 fi
 
 verbose "$tid: ls dir"
-echo "ls -l ${BASE}/d*" | ${SFTP} -P ${SFTPSERVER} 2>/dev/null | \
-	grep file >/dev/null 2>&1
+echo "ls -l ${BASE}/d*" | ${SFTP} -P ${SFTPSERVER} 2>/System/Devices/null | \
+	grep file >/System/Devices/null 2>&1
 if [ $? -ne 0 ]; then
 	fail "globbed ls dir failed"
 fi
diff -urN openssh-4.1p1/regress/sftp.sh openssh-4.1p1-STEP/regress/sftp.sh
--- openssh-4.1p1/regress/sftp.sh	2003-09-04 17:00:56.000000000 +1200
+++ openssh-4.1p1-STEP/regress/sftp.sh	2006-04-26 03:51:49.481944960 +1200
@@ -3,7 +3,7 @@
 
 tid="basic sftp put/get"
 
-DATA=/bin/ls${EXEEXT}
+DATA=/System/Tools/ls${EXEEXT}
 COPY=${OBJ}/copy
 
 SFTPCMDFILE=${OBJ}/batch
@@ -21,7 +21,7 @@
                 verbose "test $tid: buffer_size $B num_requests $R"
 		rm -f ${COPY}.1 ${COPY}.2                
 		${SFTP} -P ${SFTPSERVER} -B $B -R $R -b $SFTPCMDFILE \
-		> /dev/null 2>&1
+		> /System/Devices/null 2>&1
 		r=$?
 		if [ $r -ne 0 ]; then
 			fail "sftp failed with $r"
diff -urN openssh-4.1p1/regress/ssh-com-client.sh openssh-4.1p1-STEP/regress/ssh-com-client.sh
--- openssh-4.1p1/regress/ssh-com-client.sh	2004-02-29 22:33:51.000000000 +1300
+++ openssh-4.1p1-STEP/regress/ssh-com-client.sh	2006-04-26 03:51:49.483944656 +1200
@@ -3,7 +3,7 @@
 
 tid="connect with ssh.com client"
 
-#TEST_COMBASE=/path/to/ssh/com/binaries
+#TEST_COMBASE=/path/to/ssh/com/System/Toolsaries
 if [ "X${TEST_COMBASE}" = "X" ]; then
 	fatal '$TEST_COMBASE is not set'
 fi
@@ -67,7 +67,7 @@
 # we need a real server (no ProxyConnect option)
 start_sshd
 
-DATA=/bin/ls${EXEEXT}
+DATA=/System/Tools/ls${EXEEXT}
 COPY=${OBJ}/copy
 rm -f ${COPY}
 
@@ -120,8 +120,8 @@
 	# no stderr after eof
 	rm -f ${COPY}
 	${ssh2} -F ${OBJ}/ssh2_config somehost \
-		exec sh -c \'"exec > /dev/null; sleep 1; echo bla 1>&2; exit 0"\' \
-		2> /dev/null
+		exec sh -c \'"exec > /System/Devices/null; sleep 1; echo bla 1>&2; exit 0"\' \
+		2> /System/Devices/null
         if [ $? -ne 0 ]; then
                 fail "ssh2 ${v} stderr test failed"
         fi
diff -urN openssh-4.1p1/regress/ssh-com-keygen.sh openssh-4.1p1-STEP/regress/ssh-com-keygen.sh
--- openssh-4.1p1/regress/ssh-com-keygen.sh	2004-02-29 22:33:51.000000000 +1300
+++ openssh-4.1p1-STEP/regress/ssh-com-keygen.sh	2006-04-26 03:51:49.484944504 +1200
@@ -3,7 +3,7 @@
 
 tid="ssh.com key import"
 
-#TEST_COMBASE=/path/to/ssh/com/binaries
+#TEST_COMBASE=/path/to/ssh/com/System/Toolsaries
 if [ "X${TEST_COMBASE}" = "X" ]; then
 	fatal '$TEST_COMBASE is not set'
 fi
@@ -47,7 +47,7 @@
 	for t in $types; do
 		verbose "ssh-keygen $v/$t"
 		rm -f $COMPRV $COMPUB $OPENSSHPRV $OPENSSHPUB
-		${keygen} -q -P -t $t ${COMPRV} > /dev/null 2>&1
+		${keygen} -q -P -t $t ${COMPRV} > /System/Devices/null 2>&1
 		if [ $? -ne 0 ]; then
 			fail "${keygen} -t $t failed"
 			continue
diff -urN openssh-4.1p1/regress/ssh-com-sftp.sh openssh-4.1p1-STEP/regress/ssh-com-sftp.sh
--- openssh-4.1p1/regress/ssh-com-sftp.sh	2004-02-29 22:33:51.000000000 +1300
+++ openssh-4.1p1-STEP/regress/ssh-com-sftp.sh	2006-04-26 03:51:49.485944352 +1200
@@ -3,7 +3,7 @@
 
 tid="basic sftp put/get with ssh.com server"
 
-DATA=/bin/ls${EXEEXT}
+DATA=/System/Tools/ls${EXEEXT}
 COPY=${OBJ}/copy
 SFTPCMDFILE=${OBJ}/batch
 
@@ -16,7 +16,7 @@
 BUFFERSIZE="5 1000 32000 64000"
 REQUESTS="1 2 10"
 
-#TEST_COMBASE=/path/to/ssh/com/binaries
+#TEST_COMBASE=/path/to/ssh/com/System/Toolsaries
 if [ "X${TEST_COMBASE}" = "X" ]; then
 	fatal '$TEST_COMBASE is not set'
 fi
@@ -52,7 +52,7 @@
 			verbose "test $tid: buffer_size $B num_requests $R"
 			rm -f ${COPY}.1 ${COPY}.2
 			${SFTP} -P ${server} -B $B -R $R -b $SFTPCMDFILE \
-			> /dev/null 2>&1
+			> /System/Devices/null 2>&1
 			r=$?
 			if [ $r -ne 0 ]; then
 				fail "sftp failed with $r"
diff -urN openssh-4.1p1/regress/ssh-com.sh openssh-4.1p1-STEP/regress/ssh-com.sh
--- openssh-4.1p1/regress/ssh-com.sh	2004-02-29 22:33:51.000000000 +1300
+++ openssh-4.1p1-STEP/regress/ssh-com.sh	2006-04-26 03:51:49.487944048 +1200
@@ -3,7 +3,7 @@
 
 tid="connect to ssh.com server"
 
-#TEST_COMBASE=/path/to/ssh/com/binaries
+#TEST_COMBASE=/path/to/ssh/com/System/Toolsaries
 if [ "X${TEST_COMBASE}" = "X" ]; then
 	fatal '$TEST_COMBASE is not set'
 fi
@@ -61,7 +61,7 @@
 
 # setup userdir, try rsa first
 mkdir -p ${OBJ}/${USER}
-cp /dev/null ${OBJ}/${USER}/authorization
+cp /System/Devices/null ${OBJ}/${USER}/authorization
 for t in rsa dsa; do
 	${SSHKEYGEN} -e -f ${OBJ}/$t.pub	>  ${OBJ}/${USER}/$t.com
 	echo Key $t.com			>> ${OBJ}/${USER}/authorization
@@ -81,7 +81,7 @@
 		continue
 	fi
 	trace "sshd2 ${v}"
-	PROXY="proxycommand ${sshd2} -qif ${OBJ}/sshd2_config 2> /dev/null"
+	PROXY="proxycommand ${sshd2} -qif ${OBJ}/sshd2_config 2> /System/Devices/null"
 	${SSH} -qF ${OBJ}/ssh_config_com -o "${PROXY}" dummy exit 0
         if [ $? -ne 0 ]; then
                 fail "ssh connect to sshd2 ${v} failed"
diff -urN openssh-4.1p1/regress/sshd-log-wrapper.sh openssh-4.1p1-STEP/regress/sshd-log-wrapper.sh
--- openssh-4.1p1/regress/sshd-log-wrapper.sh	2005-03-07 20:33:02.000000000 +1300
+++ openssh-4.1p1-STEP/regress/sshd-log-wrapper.sh	2006-04-26 03:51:49.488943896 +1200
@@ -1,4 +1,4 @@
-#!/bin/sh
+#!/System/Tools/sh
 #       $OpenBSD: sshd-log-wrapper.sh,v 1.2 2005/02/27 11:40:30 dtucker Exp $
 #       Placed in the Public Domain.
 #
diff -urN openssh-4.1p1/regress/stderr-after-eof.sh openssh-4.1p1-STEP/regress/stderr-after-eof.sh
--- openssh-4.1p1/regress/stderr-after-eof.sh	2003-09-12 17:32:17.000000000 +1200
+++ openssh-4.1p1-STEP/regress/stderr-after-eof.sh	2006-04-26 03:51:49.488943896 +1200
@@ -21,13 +21,13 @@
 
 # setup data
 rm -f ${DATA} ${COPY}
-cp /dev/null ${DATA}
+cp /System/Devices/null ${DATA}
 for i in 1 2 3 4 5 6; do
 	(date;echo $i) | $CHECKSUM >> ${DATA}
 done
 
 ${SSH} -2 -F $OBJ/ssh_proxy otherhost \
-	exec sh -c \'"exec > /dev/null; sleep 2; cat ${DATA} 1>&2 $s"\' \
+	exec sh -c \'"exec > /System/Devices/null; sleep 2; cat ${DATA} 1>&2 $s"\' \
 	2> ${COPY}
 r=$?
 if [ $r -ne 0 ]; then
diff -urN openssh-4.1p1/regress/stderr-data.sh openssh-4.1p1-STEP/regress/stderr-data.sh
--- openssh-4.1p1/regress/stderr-data.sh	2003-09-04 16:54:40.000000000 +1200
+++ openssh-4.1p1-STEP/regress/stderr-data.sh	2006-04-26 03:51:49.488943896 +1200
@@ -3,7 +3,7 @@
 
 tid="stderr data transfer"
 
-DATA=/bin/ls${EXEEXT}
+DATA=/System/Tools/ls${EXEEXT}
 COPY=${OBJ}/copy
 rm -f ${COPY}
 
@@ -11,7 +11,7 @@
 for p in 1 2; do
 	verbose "test $tid: proto $p ($n)"
 	${SSH} $n -$p -F $OBJ/ssh_proxy otherhost \
-		exec sh -c \'"exec > /dev/null; sleep 3; cat ${DATA} 1>&2 $s"\' \
+		exec sh -c \'"exec > /System/Devices/null; sleep 3; cat ${DATA} 1>&2 $s"\' \
 		2> ${COPY}
 	r=$?
 	if [ $r -ne 0 ]; then
@@ -21,8 +21,8 @@
 	rm -f ${COPY}
 
 	${SSH} $n -$p -F $OBJ/ssh_proxy otherhost \
-		exec sh -c \'"echo a; exec > /dev/null; sleep 3; cat ${DATA} 1>&2 $s"\' \
-		> /dev/null 2> ${COPY}
+		exec sh -c \'"echo a; exec > /System/Devices/null; sleep 3; cat ${DATA} 1>&2 $s"\' \
+		> /System/Devices/null 2> ${COPY}
 	r=$?
 	if [ $r -ne 0 ]; then
 		fail "ssh failed with exit code $r"
diff -urN openssh-4.1p1/regress/test-exec.sh openssh-4.1p1-STEP/regress/test-exec.sh
--- openssh-4.1p1/regress/test-exec.sh	2005-03-15 01:02:47.000000000 +1300
+++ openssh-4.1p1-STEP/regress/test-exec.sh	2006-04-26 03:51:49.492943288 +1200
@@ -7,7 +7,7 @@
 _POSIX2_VERSION=199209
 export _POSIX2_VERSION
 
-case `uname -s 2>/dev/null` in
+case `uname -s 2>/System/Devices/null` in
 OSF1*)
 	BIN_SH=xpg4
 	export BIN_SH
@@ -22,7 +22,7 @@
 
 if [ -x /usr/ucb/whoami ]; then
 	USER=`/usr/ucb/whoami`
-elif whoami >/dev/null 2>&1; then
+elif whoami >/System/Devices/null 2>&1; then
 	USER=`whoami`
 else
 	USER=`id -un`
@@ -101,7 +101,7 @@
 fi
 
 if [ "x$TEST_SSH_LOGFILE" = "x" ]; then
-	TEST_SSH_LOGFILE=/dev/null
+	TEST_SSH_LOGFILE=/System/Devices/null
 fi
 
 # these should be used in tests
diff -urN openssh-4.1p1/regress/transfer.sh openssh-4.1p1-STEP/regress/transfer.sh
--- openssh-4.1p1/regress/transfer.sh	2003-09-04 16:54:40.000000000 +1200
+++ openssh-4.1p1-STEP/regress/transfer.sh	2006-04-26 03:51:49.493943136 +1200
@@ -3,7 +3,7 @@
 
 tid="transfer data"
 
-DATA=/bin/ls${EXEEXT}
+DATA=/System/Tools/ls${EXEEXT}
 COPY=${OBJ}/copy
 
 for p in 1 2; do
@@ -18,7 +18,7 @@
 	for s in 10 100 1k 32k 64k 128k 256k; do
 		trace "proto $p dd-size ${s}"
 		rm -f ${COPY}
-		dd if=$DATA obs=${s} 2> /dev/null | \
+		dd if=$DATA obs=${s} 2> /System/Devices/null | \
 			${SSH} -q -$p -F $OBJ/ssh_proxy somehost "cat > ${COPY}"
 		if [ $? -ne 0 ]; then
 			fail "ssh cat $DATA failed"
diff -urN openssh-4.1p1/regress/try-ciphers.sh openssh-4.1p1-STEP/regress/try-ciphers.sh
--- openssh-4.1p1/regress/try-ciphers.sh	2004-06-23 15:53:02.000000000 +1200
+++ openssh-4.1p1-STEP/regress/try-ciphers.sh	2006-04-26 03:51:49.494942984 +1200
@@ -29,7 +29,7 @@
 	fi
 done
 
-if ${SSH} -oCiphers=acss@openssh.org 2>&1 | grep "Bad SSH2 cipher" >/dev/null
+if ${SSH} -oCiphers=acss@openssh.org 2>&1 | grep "Bad SSH2 cipher" >/System/Devices/null
 then
 	:
 else
diff -urN openssh-4.1p1/session.c openssh-4.1p1-STEP/session.c
--- openssh-4.1p1/session.c	2005-04-21 21:50:55.000000000 +1200
+++ openssh-4.1p1-STEP/session.c	2006-04-26 03:48:32.602875128 +1200
@@ -142,13 +142,13 @@
 		return 0;
 	}
 
-	/* Temporarily drop privileged uid for mkdir/bind. */
+	/* Temporarily drop privileged uid for mkdir/System/Toolsd. */
 	temporarily_use_uid(pw);
 
 	/* Allocate a buffer for the socket name, and format the name. */
 	auth_sock_name = xmalloc(MAXPATHLEN);
 	auth_sock_dir = xmalloc(MAXPATHLEN);
-	strlcpy(auth_sock_dir, "/tmp/ssh-XXXXXXXXXX", MAXPATHLEN);
+	strlcpy(auth_sock_dir, "/System/TemporaryFiles/ssh-XXXXXXXXXX", MAXPATHLEN);
 
 	/* Create private directory for socket */
 	if (mkdtemp(auth_sock_dir) == NULL) {
@@ -671,7 +671,7 @@
 	else if (s->ttyfd == -1) {
 		char *shell = s->pw->pw_shell;
 
-		if (shell[0] == '\0')	/* empty shell means /bin/sh */
+		if (shell[0] == '\0')	/* empty shell means /System/Tools/sh */
 			shell =_PATH_BSHELL;
 		PRIVSEP(audit_run_command(shell));
 	}
@@ -1486,7 +1486,7 @@
 
 	/*
 	 * Get the shell from the password data.  An empty shell field is
-	 * legal, and means /bin/sh.
+	 * legal, and means /System/Tools/sh.
 	 */
 	shell = (pw->pw_shell[0] == '\0') ? _PATH_BSHELL : pw->pw_shell;
 
@@ -2202,7 +2202,7 @@
 		Session *s = &sessions[i];
 		if (s->used && s->ttyfd != -1) {
 
-			if (strncmp(s->tty, "/dev/", 5) != 0) {
+			if (strncmp(s->tty, "/System/Devices/", 5) != 0) {
 				cp = strrchr(s->tty, '/');
 				cp = (cp == NULL) ? s->tty : cp + 1;
 			} else
diff -urN openssh-4.1p1/sftp.0 openssh-4.1p1-STEP/sftp.0
--- openssh-4.1p1/sftp.0	2005-05-26 00:26:14.000000000 +1200
+++ openssh-4.1p1-STEP/sftp.0	2006-04-26 03:50:46.299550144 +1200
@@ -45,7 +45,7 @@
              rename, ln, rm, mkdir, chdir, ls, lchdir, chmod, chown, chgrp,
              lpwd and lmkdir.  Termination on error can be suppressed on a
              command by command basis by prefixing the command with a `-'
-             character (for example, -rm /tmp/blah*).
+             character (for example, -rm /System/TemporaryFiles/blah*).
 
      -C      Enables compression (via ssh's -C flag).
 
diff -urN openssh-4.1p1/sftp.1 openssh-4.1p1-STEP/sftp.1
--- openssh-4.1p1/sftp.1	2005-03-02 14:04:16.000000000 +1300
+++ openssh-4.1p1-STEP/sftp.1	2006-04-26 03:48:37.845078192 +1200
@@ -119,7 +119,7 @@
 prefixing the command with a
 .Sq \-
 character (for example,
-.Ic -rm /tmp/blah* ) .
+.Ic -rm /System/TemporaryFiles/blah* ) .
 .It Fl C
 Enables compression (via ssh's
 .Fl C
diff -urN openssh-4.1p1/ssh-add.0 openssh-4.1p1-STEP/ssh-add.0
--- openssh-4.1p1/ssh-add.0	2005-05-26 00:26:12.000000000 +1200
+++ openssh-4.1p1-STEP/ssh-add.0	2006-04-26 03:50:34.692314712 +1200
@@ -63,7 +63,7 @@
              SSH_ASKPASS and open an X11 window to read the passphrase.  This
              is particularly useful when calling ssh-add from a .xsession or
              related script.  (Note that on some machines it may be necessary
-             to redirect the input from /dev/null to make this work.)
+             to redirect the input from /System/Devices/null to make this work.)
 
      SSH_AUTH_SOCK
              Identifies the path of a unix-domain socket used to communicate
diff -urN openssh-4.1p1/ssh-add.1 openssh-4.1p1-STEP/ssh-add.1
--- openssh-4.1p1/ssh-add.1	2005-03-02 14:04:51.000000000 +1300
+++ openssh-4.1p1-STEP/ssh-add.1	2006-04-26 03:48:43.382236416 +1200
@@ -134,7 +134,7 @@
 or related script.
 (Note that on some machines it
 may be necessary to redirect the input from
-.Pa /dev/null
+.Pa /System/Devices/null
 to make this work.)
 .It Ev SSH_AUTH_SOCK
 Identifies the path of a unix-domain socket used to communicate with the
diff -urN openssh-4.1p1/ssh-agent.0 openssh-4.1p1-STEP/ssh-agent.0
--- openssh-4.1p1/ssh-agent.0	2005-05-26 00:26:13.000000000 +1200
+++ openssh-4.1p1-STEP/ssh-agent.0	2006-04-26 03:50:34.694314408 +1200
@@ -19,7 +19,7 @@
 
      -a bind_address
              Bind the agent to the unix-domain socket bind_address.  The de-
-             fault is /tmp/ssh-XXXXXXXX/agent.<ppid>.
+             fault is /System/TemporaryFiles/ssh-XXXXXXXX/agent.<ppid>.
 
      -c      Generate C-shell commands on stdout.  This is the default if
              SHELL looks like it's a csh style of shell.
@@ -99,7 +99,7 @@
              Contains the protocol version 2 RSA authentication identity of
              the user.
 
-     /tmp/ssh-XXXXXXXX/agent.<ppid>
+     /System/TemporaryFiles/ssh-XXXXXXXX/agent.<ppid>
              Unix-domain sockets used to contain the connection to the authen-
              tication agent.  These sockets should only be readable by the
              owner.  The sockets should get automatically removed when the
diff -urN openssh-4.1p1/ssh-agent.1 openssh-4.1p1-STEP/ssh-agent.1
--- openssh-4.1p1/ssh-agent.1	2004-07-17 18:12:08.000000000 +1200
+++ openssh-4.1p1-STEP/ssh-agent.1	2006-04-26 03:48:43.389235352 +1200
@@ -70,7 +70,7 @@
 Bind the agent to the unix-domain socket
 .Ar bind_address .
 The default is
-.Pa /tmp/ssh-XXXXXXXX/agent.<ppid> .
+.Pa /System/TemporaryFiles/ssh-XXXXXXXX/agent.<ppid> .
 .It Fl c
 Generate C-shell commands on
 .Dv stdout .
@@ -185,7 +185,7 @@
 Contains the protocol version 2 DSA authentication identity of the user.
 .It Pa $HOME/.ssh/id_rsa
 Contains the protocol version 2 RSA authentication identity of the user.
-.It Pa /tmp/ssh-XXXXXXXX/agent.<ppid>
+.It Pa /System/TemporaryFiles/ssh-XXXXXXXX/agent.<ppid>
 Unix-domain sockets used to contain the connection to the
 authentication agent.
 These sockets should only be readable by the owner.
diff -urN openssh-4.1p1/ssh-agent.c openssh-4.1p1-STEP/ssh-agent.c
--- openssh-4.1p1/ssh-agent.c	2004-11-05 22:38:03.000000000 +1300
+++ openssh-4.1p1-STEP/ssh-agent.c	2006-04-26 03:48:43.405232920 +1200
@@ -1094,7 +1094,7 @@
 
 	if (agentsocket == NULL) {
 		/* Create private directory for agent socket */
-		strlcpy(socket_dir, "/tmp/ssh-XXXXXXXXXX", sizeof socket_dir);
+		strlcpy(socket_dir, "/System/TemporaryFiles/ssh-XXXXXXXXXX", sizeof socket_dir);
 		if (mkdtemp(socket_dir) == NULL) {
 			perror("mkdtemp: private socket dir");
 			exit(1);
diff -urN openssh-4.1p1/ssh-rand-helper.c openssh-4.1p1-STEP/ssh-rand-helper.c
--- openssh-4.1p1/ssh-rand-helper.c	2005-02-16 15:32:30.000000000 +1300
+++ openssh-4.1p1-STEP/ssh-rand-helper.c	2006-04-26 03:49:01.260518504 +1200
@@ -295,9 +295,9 @@
 	debug3("Reading output from \'%s\'", src->cmdstring);
 
 	if (devnull == -1) {
-		devnull = open("/dev/null", O_RDWR);
+		devnull = open("/System/Devices/null", O_RDWR);
 		if (devnull == -1)
-			fatal("Couldn't open /dev/null: %s",
+			fatal("Couldn't open /System/Devices/null: %s",
 			    strerror(errno));
 	}
 
diff -urN openssh-4.1p1/ssh.0 openssh-4.1p1-STEP/ssh.0
--- openssh-4.1p1/ssh.0	2005-05-26 00:26:13.000000000 +1200
+++ openssh-4.1p1-STEP/ssh.0	2006-04-26 03:50:39.127640440 +1200
@@ -354,7 +354,7 @@
      -N      Do not execute a remote command.  This is useful for just for-
              warding ports (protocol version 2 only).
 
-     -n      Redirects stdin from /dev/null (actually, prevents reading from
+     -n      Redirects stdin from /System/Devices/null (actually, prevents reading from
              stdin).  This must be used when ssh is run in the background.  A
              common trick is to use this to run X11 programs on a remote ma-
              chine.  For example, ssh -n shadows.cs.hut.fi emacs & will start
@@ -540,7 +540,7 @@
               and open an X11 window to read the passphrase.  This is particu-
               larly useful when calling ssh from a .xsession or related
               script.  (Note that on some machines it may be necessary to
-              redirect the input from /dev/null to make this work.)
+              redirect the input from /System/Devices/null to make this work.)
 
      SSH_AUTH_SOCK
               Identifies the path of a unix-domain socket used to communicate
diff -urN openssh-4.1p1/ssh.1 openssh-4.1p1-STEP/ssh.1
--- openssh-4.1p1/ssh.1	2005-03-09 13:00:06.000000000 +1300
+++ openssh-4.1p1-STEP/ssh.1	2006-04-26 03:48:55.335419256 +1200
@@ -633,7 +633,7 @@
 (protocol version 2 only).
 .It Fl n
 Redirects stdin from
-.Pa /dev/null
+.Pa /System/Devices/null
 (actually, prevents reading from stdin).
 This must be used when
 .Nm
@@ -911,7 +911,7 @@
 or related script.
 (Note that on some machines it
 may be necessary to redirect the input from
-.Pa /dev/null
+.Pa /System/Devices/null
 to make this work.)
 .It Ev SSH_AUTH_SOCK
 Identifies the path of a unix-domain socket used to communicate with the
diff -urN openssh-4.1p1/ssh.c openssh-4.1p1-STEP/ssh.c
--- openssh-4.1p1/ssh.c	2005-05-04 17:33:09.000000000 +1200
+++ openssh-4.1p1-STEP/ssh.c	2006-04-26 03:49:01.277515920 +1200
@@ -784,7 +784,7 @@
 		if (options.forward_x11_trusted == 0) {
 			xauthdir = xmalloc(MAXPATHLEN);
 			xauthfile = xmalloc(MAXPATHLEN);
-			strlcpy(xauthdir, "/tmp/ssh-XXXXXXXXXX", MAXPATHLEN);
+			strlcpy(xauthdir, "/System/TemporaryFiles/ssh-XXXXXXXXXX", MAXPATHLEN);
 			if (mkdtemp(xauthdir) != NULL) {
 				do_unlink = 1;
 				snprintf(xauthfile, MAXPATHLEN, "%s/xauthfile",
@@ -1292,7 +1292,7 @@
 
 	if (stdin_null_flag) {
 		if ((fd = open(_PATH_DEVNULL, O_RDONLY)) == -1)
-			fatal("open(/dev/null): %s", strerror(errno));
+			fatal("open(/System/Devices/null): %s", strerror(errno));
 		if (dup2(fd, STDIN_FILENO) == -1)
 			fatal("dup2: %s", strerror(errno));
 		if (fd > STDERR_FILENO)
diff -urN openssh-4.1p1/ssh_config.0 openssh-4.1p1-STEP/ssh_config.0
--- openssh-4.1p1/ssh_config.0	2005-05-26 00:26:14.000000000 +1200
+++ openssh-4.1p1-STEP/ssh_config.0	2006-04-26 03:50:53.016529008 +1200
@@ -351,7 +351,7 @@
      ProxyCommand
              Specifies the command to use to connect to the server.  The com-
              mand string extends to the end of the line, and is executed with
-             /bin/sh.  In the command string, `%h' will be substituted by the
+             /System/Tools/sh.  In the command string, `%h' will be substituted by the
              host name to connect and `%p' by the port.  The command can be
              basically anything, and should read from its standard input and
              write to its standard output.  It should eventually connect an
@@ -500,7 +500,7 @@
 
      XAuthLocation
              Specifies the full pathname of the xauth(1) program.  The default
-             is /usr/X11R6/bin/xauth.
+             is /usr/X11R6/System/Tools/xauth.
 
 FILES
      $HOME/.ssh/config
diff -urN openssh-4.1p1/ssh_config.5 openssh-4.1p1-STEP/ssh_config.5
--- openssh-4.1p1/ssh_config.5	2005-03-31 23:31:10.000000000 +1200
+++ openssh-4.1p1-STEP/ssh_config.5	2006-04-26 03:49:07.385587352 +1200
@@ -592,7 +592,7 @@
 Specifies the command to use to connect to the server.
 The command
 string extends to the end of the line, and is executed with
-.Pa /bin/sh .
+.Pa /System/Tools/sh .
 In the command string,
 .Ql %h
 will be substituted by the host name to
@@ -852,7 +852,7 @@
 .Xr xauth 1
 program.
 The default is
-.Pa /usr/X11R6/bin/xauth .
+.Pa /usr/X11R6/System/Tools/xauth .
 .El
 .Sh FILES
 .Bl -tag -width Ds
diff -urN openssh-4.1p1/ssh_prng_cmds.in openssh-4.1p1-STEP/ssh_prng_cmds.in
--- openssh-4.1p1/ssh_prng_cmds.in	2003-11-22 01:48:56.000000000 +1300
+++ openssh-4.1p1-STEP/ssh_prng_cmds.in	2006-04-26 03:49:07.387587048 +1200
@@ -7,27 +7,27 @@
 #
 # $Id: ssh_prng_cmds.in,v 1.9 2003/11/21 12:48:56 djm Exp $
 
-"ls -alni /var/log"			@PROG_LS@	0.02
-"ls -alni /var/adm"			@PROG_LS@	0.02
+"ls -alni /System/ApplicationData/log"			@PROG_LS@	0.02
+"ls -alni /System/ApplicationData/adm"			@PROG_LS@	0.02
 "ls -alni /usr/adm"                     @PROG_LS@       0.02
-"ls -alni /var/mail"			@PROG_LS@	0.02
+"ls -alni /System/Mail"			@PROG_LS@	0.02
 "ls -alni /usr/mail"                    @PROG_LS@       0.02
-"ls -alni /var/adm/syslog"		@PROG_LS@	0.02
+"ls -alni /System/ApplicationData/adm/syslog"		@PROG_LS@	0.02
 "ls -alni /usr/adm/syslog"		@PROG_LS@	0.02
-"ls -alni /var/spool/mail"		@PROG_LS@	0.02
-"ls -alni /proc"			@PROG_LS@	0.02
-"ls -alni /tmp"				@PROG_LS@	0.02
-"ls -alni /var/tmp"			@PROG_LS@	0.02
-"ls -alni /usr/tmp"			@PROG_LS@	0.02
-"ls -alTi /var/log"			@PROG_LS@	0.02
-"ls -alTi /var/adm"			@PROG_LS@	0.02
-"ls -alTi /var/mail"			@PROG_LS@	0.02
-"ls -alTi /var/adm/syslog"		@PROG_LS@	0.02
-"ls -alTi /var/spool/mail"		@PROG_LS@	0.02
-"ls -alTi /proc"			@PROG_LS@	0.02
-"ls -alTi /tmp"				@PROG_LS@	0.02
-"ls -alTi /var/tmp"			@PROG_LS@	0.02
-"ls -alTi /usr/tmp"			@PROG_LS@	0.02
+"ls -alni /System/ApplicationData/spool/mail"		@PROG_LS@	0.02
+"ls -alni /System/Processes"			@PROG_LS@	0.02
+"ls -alni /System/TemporaryFiles"				@PROG_LS@	0.02
+"ls -alni /System/ApplicationData/TemporaryFiles"			@PROG_LS@	0.02
+"ls -alni /usr/System/TemporaryFiles"			@PROG_LS@	0.02
+"ls -alTi /System/ApplicationData/log"			@PROG_LS@	0.02
+"ls -alTi /System/ApplicationData/adm"			@PROG_LS@	0.02
+"ls -alTi /System/Mail"			@PROG_LS@	0.02
+"ls -alTi /System/ApplicationData/adm/syslog"		@PROG_LS@	0.02
+"ls -alTi /System/ApplicationData/spool/mail"		@PROG_LS@	0.02
+"ls -alTi /System/Processes"			@PROG_LS@	0.02
+"ls -alTi /System/TemporaryFiles"				@PROG_LS@	0.02
+"ls -alTi /System/ApplicationData/TemporaryFiles"			@PROG_LS@	0.02
+"ls -alTi /usr/System/TemporaryFiles"			@PROG_LS@	0.02
 
 "netstat -an"				@PROG_NETSTAT@	0.05
 "netstat -in"				@PROG_NETSTAT@	0.05
@@ -64,12 +64,12 @@
 
 "ipcs -a"				@PROG_IPCS@	0.01
 
-"tail -200 /var/log/messages"		@PROG_TAIL@	0.01
-"tail -200 /var/log/syslog"		@PROG_TAIL@	0.01
-"tail -200 /var/adm/messages"		@PROG_TAIL@	0.01
-"tail -200 /var/adm/syslog"		@PROG_TAIL@	0.01
-"tail -200 /var/adm/syslog/syslog.log"	@PROG_TAIL@	0.01
-"tail -200 /var/log/maillog"		@PROG_TAIL@	0.01
-"tail -200 /var/adm/maillog"		@PROG_TAIL@	0.01
-"tail -200 /var/adm/syslog/mail.log"	@PROG_TAIL@	0.01
+"tail -200 /System/ApplicationData/log/messages"		@PROG_TAIL@	0.01
+"tail -200 /System/ApplicationData/log/syslog"		@PROG_TAIL@	0.01
+"tail -200 /System/ApplicationData/adm/messages"		@PROG_TAIL@	0.01
+"tail -200 /System/ApplicationData/adm/syslog"		@PROG_TAIL@	0.01
+"tail -200 /System/ApplicationData/adm/syslog/syslog.log"	@PROG_TAIL@	0.01
+"tail -200 /System/ApplicationData/log/maillog"		@PROG_TAIL@	0.01
+"tail -200 /System/ApplicationData/adm/maillog"		@PROG_TAIL@	0.01
+"tail -200 /System/ApplicationData/adm/syslog/mail.log"	@PROG_TAIL@	0.01
 
diff -urN openssh-4.1p1/sshd.0 openssh-4.1p1-STEP/sshd.0
--- openssh-4.1p1/sshd.0	2005-05-26 00:26:13.000000000 +1200
+++ openssh-4.1p1-STEP/sshd.0	2006-04-26 03:50:46.296550600 +1200
@@ -96,7 +96,7 @@
 
      sshd rereads its configuration file when it receives a hangup signal,
      SIGHUP, by executing itself with the name and options it was started
-     with, e.g., /usr/sbin/sshd.
+     with, e.g., /System/AdminTools/sshd.
 
      The options are as follows:
 
@@ -404,13 +404,13 @@
              Contains Diffie-Hellman groups used for the "Diffie-Hellman Group
              Exchange".  The file format is described in moduli(5).
 
-     /var/empty
+     /System/ApplicationData/empty
              chroot(2) directory used by sshd during privilege separation in
              the pre-authentication phase.  The directory should not contain
              any files and must be owned by root and not group or world-
              writable.
 
-     /var/run/sshd.pid
+     /System/ApplicationData/RuntimeData/sshd.pid
              Contains the process ID of the sshd listening for connections (if
              there are several daemons running concurrently for different
              ports, this contains the process ID of the one started last).
@@ -514,7 +514,7 @@
              is controlled via the PermitUserEnvironment option.
 
      $HOME/.ssh/rc
-             If this file exists, it is run with /bin/sh after reading the en-
+             If this file exists, it is run with /System/Tools/sh after reading the en-
              vironment files but before starting the user's shell or command.
              It must not produce any output on stdout; stderr must be used in-
              stead.  If X11 forwarding is in use, it will receive the "proto
diff -urN openssh-4.1p1/sshd.8 openssh-4.1p1-STEP/sshd.8
--- openssh-4.1p1/sshd.8	2005-03-02 14:03:23.000000000 +1300
+++ openssh-4.1p1-STEP/sshd.8	2006-04-26 03:49:20.948525472 +1200
@@ -190,7 +190,7 @@
 rereads its configuration file when it receives a hangup signal,
 .Dv SIGHUP ,
 by executing itself with the name and options it was started with, e.g.,
-.Pa /usr/sbin/sshd .
+.Pa /System/AdminTools/sshd .
 .Pp
 The options are as follows:
 .Bl -tag -width Ds
@@ -625,14 +625,14 @@
 Contains Diffie-Hellman groups used for the "Diffie-Hellman Group Exchange".
 The file format is described in
 .Xr moduli 5 .
-.It Pa /var/empty
+.It Pa /System/ApplicationData/empty
 .Xr chroot 2
 directory used by
 .Nm
 during privilege separation in the pre-authentication phase.
 The directory should not contain any files and must be owned by root
 and not group or world-writable.
-.It Pa /var/run/sshd.pid
+.It Pa /System/ApplicationData/RuntimeData/sshd.pid
 Contains the process ID of the
 .Nm
 listening for connections (if there are several daemons running
@@ -771,7 +771,7 @@
 option.
 .It Pa $HOME/.ssh/rc
 If this file exists, it is run with
-.Pa /bin/sh
+.Pa /System/Tools/sh
 after reading the
 environment files but before starting the user's shell or command.
 It must not produce any output on stdout; stderr must be used
diff -urN openssh-4.1p1/sshd.c openssh-4.1p1-STEP/sshd.c
--- openssh-4.1p1/sshd.c	2005-03-31 23:39:25.000000000 +1200
+++ openssh-4.1p1-STEP/sshd.c	2006-04-26 03:49:26.843629280 +1200
@@ -1338,7 +1338,7 @@
 		/* Write out the pid file after the sigterm handler is setup */
 		if (!debug_flag) {
 			/*
-			 * Record our pid in /var/run/sshd.pid to make it
+			 * Record our pid in /System/ApplicationData/RuntimeData/sshd.pid to make it
 			 * easier to kill the correct sshd.  We don't want to
 			 * do this before the bind above because the bind will
 			 * fail if there already is a daemon, and this will
diff -urN openssh-4.1p1/sshd_config openssh-4.1p1-STEP/sshd_config
--- openssh-4.1p1/sshd_config	2005-01-20 12:57:56.000000000 +1300
+++ openssh-4.1p1-STEP/sshd_config	2006-04-26 03:49:26.844629128 +1200
@@ -3,7 +3,7 @@
 # This is the sshd server system-wide configuration file.  See
 # sshd_config(5) for more information.
 
-# This sshd was compiled with PATH=/usr/bin:/bin:/usr/sbin:/sbin
+# This sshd was compiled with PATH=/System/Tools:/System/Tools:/System/AdminTools:/System/AdminTools
 
 # The strategy used for options in the default sshd_config shipped with
 # OpenSSH is to specify options with their default value where
@@ -94,7 +94,7 @@
 #ClientAliveInterval 0
 #ClientAliveCountMax 3
 #UseDNS yes
-#PidFile /var/run/sshd.pid
+#PidFile /System/ApplicationData/RuntimeData/sshd.pid
 #MaxStartups 10
 
 # no default banner path
diff -urN openssh-4.1p1/sshd_config.0 openssh-4.1p1-STEP/sshd_config.0
--- openssh-4.1p1/sshd_config.0	2005-05-26 00:26:14.000000000 +1200
+++ openssh-4.1p1-STEP/sshd_config.0	2006-04-26 03:50:46.307548928 +1200
@@ -301,7 +301,7 @@
 
      PidFile
              Specifies the file that contains the process ID of the sshd dae-
-             mon.  The default is /var/run/sshd.pid.
+             mon.  The default is /System/ApplicationData/RuntimeData/sshd.pid.
 
      Port    Specifies the port number that sshd listens on.  The default is
              22.  Multiple options of this type are permitted.  See also
@@ -457,7 +457,7 @@
 
      XAuthLocation
              Specifies the full pathname of the xauth(1) program.  The default
-             is /usr/X11R6/bin/xauth.
+             is /usr/X11R6/System/Tools/xauth.
 
    Time Formats
      sshd command-line arguments and configuration file options that specify
diff -urN openssh-4.1p1/sshd_config.5 openssh-4.1p1-STEP/sshd_config.5
--- openssh-4.1p1/sshd_config.5	2005-03-31 23:33:51.000000000 +1200
+++ openssh-4.1p1-STEP/sshd_config.5	2006-04-26 03:49:26.852627912 +1200
@@ -516,7 +516,7 @@
 .Nm sshd
 daemon.
 The default is
-.Pa /var/run/sshd.pid .
+.Pa /System/ApplicationData/RuntimeData/sshd.pid .
 .It Cm Port
 Specifies the port number that
 .Nm sshd
@@ -759,7 +759,7 @@
 .Xr xauth 1
 program.
 The default is
-.Pa /usr/X11R6/bin/xauth .
+.Pa /usr/X11R6/System/Tools/xauth .
 .El
 .Ss Time Formats
 .Nm sshd
diff -urN openssh-4.1p1/sshpty.c openssh-4.1p1-STEP/sshpty.c
--- openssh-4.1p1/sshpty.c	2004-06-22 14:56:02.000000000 +1200
+++ openssh-4.1p1-STEP/sshpty.c	2006-04-26 03:49:26.857627152 +1200
@@ -95,7 +95,7 @@
 
 	debug("Setting controlling tty using TCSETCTTY.");
 	ioctl(*ttyfd, TCSETCTTY, NULL);
-	fd = open("/dev/tty", O_RDWR);
+	fd = open("/System/Devices/tty", O_RDWR);
 	if (fd < 0)
 		error("%.100s: %.100s", tty, strerror(errno));
 	close(*ttyfd);
@@ -151,7 +151,7 @@
 	/* Verify that we now have a controlling tty. */
 	fd = open(_PATH_TTY, O_WRONLY);
 	if (fd < 0)
-		error("open /dev/tty failed - could not set controlling tty: %.100s",
+		error("open /System/Devices/tty failed - could not set controlling tty: %.100s",
 		    strerror(errno));
 	else
 		close(fd);
diff -urN openssh-4.1p1/survey.sh.in openssh-4.1p1-STEP/survey.sh.in
--- openssh-4.1p1/survey.sh.in	2005-02-15 23:26:33.000000000 +1300
+++ openssh-4.1p1-STEP/survey.sh.in	2006-04-26 03:49:26.859626848 +1200
@@ -1,4 +1,4 @@
-#!/bin/sh
+#!/System/Tools/sh
 #
 # Copyright (c) 2004, 2005 Darren Tucker
 #
@@ -43,9 +43,9 @@
 echo
 echo "uname-p: `uname -p`"
 echo
-echo "oslevel: `oslevel 2>/dev/null`"
+echo "oslevel: `oslevel 2>/System/Devices/null`"
 echo
-echo "oslevel-r: `oslevel -r 2>/dev/null`"
+echo "oslevel-r: `oslevel -r 2>/System/Devices/null`"
 echo
 echo "cc: $CC"
 echo
@@ -62,7 +62,7 @@
 echo "ccver-V: `$CC -V 2>&1 | sed '/^[ \t]*$/d'`"
 echo
 echo "cppdefines:"
-${CPP} -dM - </dev/null
+${CPP} -dM - </System/Devices/null
 echo
 echo "config.h:"
 egrep '#define|#undef' config.h
