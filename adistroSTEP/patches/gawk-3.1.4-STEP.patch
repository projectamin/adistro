diff -urN gawk-3.1.4/ChangeLog gawk-3.1.4-STEP/ChangeLog
--- gawk-3.1.4/ChangeLog	2004-08-02 21:18:21.000000000 +1200
+++ gawk-3.1.4-STEP/ChangeLog	2005-08-16 16:08:48.352110512 +1200
@@ -246,7 +246,7 @@
 	* configure.ac: Look for missing `strtoul'.
 	* replace.c: Include missing_d/stroul.c if not HAVE_STRTOUL.
 	* io.c (devopen): Use `strtoul' instead of `strtod' for
-	  extracting fd number from "/dev/fd/N".  (Thanks to Jim Meyering.)
+	  extracting fd number from "/System/Devices/fd/N".  (Thanks to Jim Meyering.)
 	* field.c (set_FIELDWIDTHS): Use `strtoul' instead of `strtod'
 	  when parsing FIELDWIDTHS values.  (Thanks to Jim Meyering.)
 
@@ -290,7 +290,7 @@
 Wed Mar  3 17:10:16 2004  Arnold D. Robbins  <arnold@skeeve.com>
 
 	* io.c (close_one): Don't close stdout or stderr; can happen if
-	/dev/stdout or /dev/stderr are used in redirection and all the
+	/System/Devices/stdout or /System/Devices/stderr are used in redirection and all the
 	open files get used.
 
 Sun Feb 29 12:17:37 2004  Arnold D. Robbins  <arnold@skeeve.com>
@@ -777,7 +777,7 @@
 
 2003-07-10  Paul Eggert  <eggert@twinsun.com>
 
-	* io.c (two_way_open): If /bin/sh cannot be executed, exit
+	* io.c (two_way_open): If /System/Tools/sh cannot be executed, exit
         with status 126 consistently.
 
 Mon Jul  7 11:01:43 2003  Arnold D. Robbins  <arnold@skeeve.com>
@@ -1178,7 +1178,7 @@
 
 	* io.c (rs1_get_a_record, rsnull_get_a_record, rsre_get_a_record):
 	Enhance check for no data left in file to be only if file has
-	non-zero size.  Linux files such as /proc/filesystems stat as a
+	non-zero size.  Linux files such as /System/Processes/filesystems stat as a
 	regular file of size 0, but actually have contents. Ugh.
 	Thanks to Martin Schlemmer <azarah@gentoo.org> for the bug report.
 
@@ -3093,7 +3093,7 @@
 	  [fcntl.h]: guard #include with HAVE_FCNTL_H test.
 	  [unistd.h]: guard #include with HAVE_UNISTD_H test.
 
-	* random.c (srandomdev): skip /dev/urandom usage if O_RDONLY
+	* random.c (srandomdev): skip /System/Devices/urandom usage if O_RDONLY
 	  is not defined.
 
 Tue Mar 20 11:07:11 2001  Arnold D. Robbins  <arnold@skeeve.com>
@@ -3396,7 +3396,7 @@
 Tue Nov  7 16:57:49 2000  Arnold D. Robbins  <arnold@skeeve.com>
 
 	* io.c (redirect): Check for O_APPEND in flags when doing
-	  fdopen() of /dev/fd/N.  Thanks to bug report from
+	  fdopen() of /System/Devices/fd/N.  Thanks to bug report from
 	  "John H. DuBois III" <spcecdt@armory.com>.
 
 Tue Nov  7 14:09:14 2000  Arnold D. Robbins  <arnold@skeeve.com>
@@ -3879,7 +3879,7 @@
 Thu Nov  5 16:58:38 1998 Arnold D. Robbins  <arnold@skeeve.com>
 
 	* main.c (init_fds): new function to pre-open 0, 1, and 2 on
-	  /dev/null if they're not open. Robustness, more or less.
+	  /System/Devices/null if they're not open. Robustness, more or less.
 	  (main): call init_fds.
 	* io.c (str2mode): add smarts for two-letter strings
 	  such as "rw", "r+", "wr", "w+" and "a+".
@@ -4213,7 +4213,7 @@
 
 Thu Apr 24 23:25:06 1997  Arnold D. Robbins  <arnold@skeeve.com>
 
-	* io.c (devopen): remove stat test for /dev/foo files. Finally.
+	* io.c (devopen): remove stat test for /System/Devices/foo files. Finally.
 
 Fri Jul 26 09:23:15 1996  Arnold D. Robbins  <arnold@skeeve.com>
 
diff -urN gawk-3.1.4/FUTURES gawk-3.1.4-STEP/FUTURES
--- gawk-3.1.4/FUTURES	2004-02-04 00:42:53.000000000 +1300
+++ gawk-3.1.4-STEP/FUTURES	2005-08-16 15:58:50.683969880 +1200
@@ -15,7 +15,7 @@
 
 In 3.1
 ======
-	DONE: A PROCINFO array to replace /dev/pid, /dev/user, et al.
+	DONE: A PROCINFO array to replace /System/Devices/pid, /System/Devices/user, et al.
 
 	DONE: Provide awk profiling.
 
diff -urN gawk-3.1.4/INSTALL gawk-3.1.4-STEP/INSTALL
--- gawk-3.1.4/INSTALL	2004-06-22 01:38:34.000000000 +1200
+++ gawk-3.1.4-STEP/INSTALL	2005-08-16 15:58:50.690968816 +1200
@@ -206,7 +206,7 @@
 
 `--cache-file=FILE'
      Enable the cache: use and save the results of the tests in FILE,
-     traditionally `config.cache'.  FILE defaults to `/dev/null' to
+     traditionally `config.cache'.  FILE defaults to `/System/Devices/null' to
      disable caching.
 
 `--config-cache'
@@ -217,7 +217,7 @@
 `--silent'
 `-q'
      Do not print messages saying which checks are being made.  To
-     suppress all normal output, redirect it to `/dev/null' (any error
+     suppress all normal output, redirect it to `/System/Devices/null' (any error
      messages will still be shown).
 
 `--srcdir=DIR'
diff -urN gawk-3.1.4/Makefile.am gawk-3.1.4-STEP/Makefile.am
--- gawk-3.1.4/Makefile.am	2004-07-29 20:15:06.000000000 +1200
+++ gawk-3.1.4-STEP/Makefile.am	2005-08-16 15:58:50.701967144 +1200
@@ -145,8 +145,8 @@
 # there's no easy way to distinguish GNU from non-GNU systems.)
 install-exec-hook:
 	(cd $(DESTDIR)$(bindir); \
-	$(LN) gawk$(EXEEXT) gawk-$(VERSION)$(EXEEXT) 2>/dev/null ; \
-	$(LN) pgawk$(EXEEXT) pgawk-$(VERSION)$(EXEEXT) 2>/dev/null ; \
+	$(LN) gawk$(EXEEXT) gawk-$(VERSION)$(EXEEXT) 2>/System/Devices/null ; \
+	$(LN) pgawk$(EXEEXT) pgawk-$(VERSION)$(EXEEXT) 2>/System/Devices/null ; \
 	if [ ! -f awk$(EXEEXT) ]; \
 	then	$(LN_S) gawk$(EXEEXT) awk$(EXEEXT); \
 	fi; exit 0)
@@ -154,7 +154,7 @@
 # Undo the above when uninstalling
 uninstall-links:
 	(cd $(DESTDIR)$(bindir); \
-	if [ -f awk$(EXEEXT) ] && cmp awk$(EXEEXT) gawk$(EXEEXT) > /dev/null; then rm -f awk$(EXEEXT); fi ; \
+	if [ -f awk$(EXEEXT) ] && cmp awk$(EXEEXT) gawk$(EXEEXT) > /System/Devices/null; then rm -f awk$(EXEEXT); fi ; \
 	rm -f gawk-$(VERSION)$(EXEEXT) pgawk-$(VERSION)$(EXEEXT); exit 0)
 
 uninstall-recursive: uninstall-links
diff -urN gawk-3.1.4/Makefile.in gawk-3.1.4-STEP/Makefile.in
--- gawk-3.1.4/Makefile.in	2004-08-02 21:16:30.000000000 +1200
+++ gawk-3.1.4-STEP/Makefile.in	2005-08-16 16:06:08.564401936 +1200
@@ -643,7 +643,7 @@
 		$(TAGS_FILES) $(LISP)
 	tags=; \
 	here=`pwd`; \
-	if ($(ETAGS) --etags-include --version) >/dev/null 2>&1; then \
+	if ($(ETAGS) --etags-include --version) >/System/Devices/null 2>&1; then \
 	  include_option=--etags-include; \
 	  empty_fix=.; \
 	else \
@@ -787,7 +787,7 @@
 	mkdir $(distdir)/_inst
 	chmod a-w $(distdir)
 	dc_install_base=`$(am__cd) $(distdir)/_inst && pwd | sed -e 's,^[^:\\/]:[\\/],/,'` \
-	  && dc_destdir="$${TMPDIR-/tmp}/am-dc-$$$$/" \
+	  && dc_destdir="$${TMPDIR-/System/TemporaryFiles}/am-dc-$$$$/" \
 	  && cd $(distdir)/_build \
 	  && ../configure --srcdir=.. --prefix="$$dc_install_base" \
 	    --with-included-gettext \
@@ -953,8 +953,8 @@
 # there's no easy way to distinguish GNU from non-GNU systems.)
 install-exec-hook:
 	(cd $(DESTDIR)$(bindir); \
-	$(LN) gawk$(EXEEXT) gawk-$(VERSION)$(EXEEXT) 2>/dev/null ; \
-	$(LN) pgawk$(EXEEXT) pgawk-$(VERSION)$(EXEEXT) 2>/dev/null ; \
+	$(LN) gawk$(EXEEXT) gawk-$(VERSION)$(EXEEXT) 2>/System/Devices/null ; \
+	$(LN) pgawk$(EXEEXT) pgawk-$(VERSION)$(EXEEXT) 2>/System/Devices/null ; \
 	if [ ! -f awk$(EXEEXT) ]; \
 	then	$(LN_S) gawk$(EXEEXT) awk$(EXEEXT); \
 	fi; exit 0)
@@ -962,7 +962,7 @@
 # Undo the above when uninstalling
 uninstall-links:
 	(cd $(DESTDIR)$(bindir); \
-	if [ -f awk$(EXEEXT) ] && cmp awk$(EXEEXT) gawk$(EXEEXT) > /dev/null; then rm -f awk$(EXEEXT); fi ; \
+	if [ -f awk$(EXEEXT) ] && cmp awk$(EXEEXT) gawk$(EXEEXT) > /System/Devices/null; then rm -f awk$(EXEEXT); fi ; \
 	rm -f gawk-$(VERSION)$(EXEEXT) pgawk-$(VERSION)$(EXEEXT); exit 0)
 
 uninstall-recursive: uninstall-links
diff -urN gawk-3.1.4/NEWS gawk-3.1.4-STEP/NEWS
--- gawk-3.1.4/NEWS	2004-07-29 01:27:19.000000000 +1200
+++ gawk-3.1.4-STEP/NEWS	2005-08-16 16:08:48.366108384 +1200
@@ -268,7 +268,7 @@
 Changes from 3.0.6 to 3.1.0
 ---------------------------
 
-1. A new PROCINFO array provides info about the process. The non-I/O /dev/xxx
+1. A new PROCINFO array provides info about the process. The non-I/O /System/Devices/xxx
    files are now obsolete, and their use always generates a warning.
 
 2. A new `mktime' builtin function was added for creating time stamps. The
@@ -278,7 +278,7 @@
    with a leading underscore.
 
 4. Gawk now completely interprets special file names internally, ignoring the
-   existence of real /dev/stdin, /dev/stdout files, etc.
+   existence of real /System/Devices/stdin, /System/Devices/stdout files, etc.
 
 5. The mmap code was removed. It was a worthwhile experiment that just
    didn't work out.
@@ -560,7 +560,7 @@
 
 Problems with I/O from sub-processes via a pipe are now gone.
 
-Using "/dev/pid" and the other special /dev files no longer causes a core dump.
+Using "/System/Devices/pid" and the other special /dev files no longer causes a core dump.
 
 The files regex.h, regex.c, getopt.h, getopt.c, and getopt1.c have been
 merged with the versions in GNU libc. Thanks to Ulrich Drepper for his help.
@@ -1054,7 +1054,7 @@
 Additions to the FUTURES file.
 
 Document undefined order of output when using both standard output
-  and /dev/stdout or any of the /dev output files that gawk emulates in
+  and /System/Devices/stdout or any of the /dev output files that gawk emulates in
   the absence of OS support.
 
 Clean up the distribution generation in Makefile.in:  the info files are
@@ -1100,10 +1100,10 @@
 GNU style long options in addition to short options.
 
 Plan 9 style special files interpreted by gawk:
-        /dev/pid
-        /dev/ppid
-        /dev/pgrpid
-        /dev/user
+        /System/Devices/pid
+        /System/Devices/ppid
+        /System/Devices/pgrpid
+        /System/Devices/user
                 $1 = getuid
                 $2 = geteuid
                 $3 = getgid
@@ -1286,7 +1286,7 @@
 Fixed treatment of RS = "".  It now parses the fields correctly and strips
   leading whitespace from a record if FS is a space.
 
-Fixed faking of /dev/stdin.
+Fixed faking of /System/Devices/stdin.
 
 Fixed problem with x += x
 
@@ -1357,7 +1357,7 @@
 Change to missing/memcmp.c to avoid seg. fault on zero length input.
 
 Updates to test suite (including some inadvertently left out of the last patch)
-  to invoke sh explicitly (rather than rely on #!/bin/sh) and remove some
+  to invoke sh explicitly (rather than rely on #!/System/Tools/sh) and remove some
   junk files.  test/chem/good updated to correspond to bug fixes.
 
 Changes from 2.13.0 to 2.13.1
@@ -1395,7 +1395,7 @@
 -------------------------------
 
 Fixed bug in devopen() -- if you had write permission in /dev,
-  it would just create /dev/stdout etc.!!
+  it would just create /System/Devices/stdout etc.!!
 
 Final (?) VMS update.
 
@@ -1716,7 +1716,7 @@
   accordingly.
 
 Reorganized output flushing to correspond with new semantics of
-  devopen() on "/dev/std*" etc.
+  devopen() on "/System/Devices/std*" etc.
 
 Fixed rest of last goof!!
 
@@ -1778,7 +1778,7 @@
 
 Fixed conf for V.2.
 
-Changed semantics of /dev/fd/n to be like on real /dev/fd.
+Changed semantics of /System/Devices/fd/n to be like on real /System/Devices/fd.
 
 Several configuration and updates in the makefile.
 
@@ -1839,7 +1839,7 @@
 
 Small change to ultrix config.
 
-Do "/dev/fd/*" etc. checking at runtime.
+Do "/System/Devices/fd/*" etc. checking at runtime.
 
 First pass at VMS port.
 
@@ -1944,7 +1944,7 @@
 Fixed bug wherein non-redirected getline could call iop_close() just
   prior to a call from do_input().
 
-Fixed bug in handling of /dev/stdout and /dev/stderr.
+Fixed bug in handling of /System/Devices/stdout and /System/Devices/stderr.
 
 Changes from 2.12.4 to 2.12.5
 -----------------------------
@@ -2283,7 +2283,7 @@
 Fixed infinite loop on failure to open file for reading from getline.
 Now handles redirect file open failures properly.
 
-Filenames such as /dev/stdin now allowed on the command line as well as
+Filenames such as /System/Devices/stdin now allowed on the command line as well as
 in redirects.
 
 Fixed so that gawk '$1' where $1 is a zero tests false.
diff -urN gawk-3.1.4/README_d/README.linux gawk-3.1.4-STEP/README_d/README.linux
--- gawk-3.1.4/README_d/README.linux	1997-10-20 05:33:05.000000000 +1300
+++ gawk-3.1.4-STEP/README_d/README.linux	2005-08-16 16:06:00.346651224 +1200
@@ -1,9 +1,9 @@
 Thu Apr 17 14:41:17 EDT 1997
 
 Some Linux systems, notably RedHat systems through RedHat 4.1, have the
-symbolic links for /dev/stdin and /dev/stdout messed up. Specifically,
-/dev/stdin is linked to ../proc/self/fd/1 and /dev/stdout to
-../proc/self/fd/0. This is backwards.  This causes strange behavior
+symbolic links for /System/Devices/stdin and /System/Devices/stdout messed up. Specifically,
+/System/Devices/stdin is linked to ../System/Processes/self/fd/1 and /System/Devices/stdout to
+../System/Processes/self/fd/0. This is backwards.  This causes strange behavior
 when using those files from within gawk.
 
 Removing and redoing the symlinks fixes the problem.  It is fixed in
diff -urN gawk-3.1.4/README_d/README.solaris gawk-3.1.4-STEP/README_d/README.solaris
--- gawk-3.1.4/README_d/README.solaris	2003-02-09 21:36:51.000000000 +1300
+++ gawk-3.1.4-STEP/README_d/README.solaris	2005-08-16 16:08:48.370107776 +1200
@@ -72,7 +72,7 @@
 
 for the SunOS do in
 
-/bin/sh:   ulimit -n 256; ulimit -a; make test
+/System/Tools/sh:   ulimit -n 256; ulimit -a; make test
 /bin/tcsh: limit descriptors 256; ulimit -a; make test
 
 otherwise "make test" will fail
diff -urN gawk-3.1.4/README_d/README.tests gawk-3.1.4-STEP/README_d/README.tests
--- gawk-3.1.4/README_d/README.tests	2000-06-28 00:36:30.000000000 +1200
+++ gawk-3.1.4-STEP/README_d/README.tests	2005-08-16 16:08:48.373107320 +1200
@@ -10,36 +10,36 @@
 A (mis)feature of this system, which I've never encountered before,
 broke the build of one of my programs, and also of gawk-3.0.4.
 
-Namely, the kernel will not execute anything that resides in /tmp,
-though it will if the same script is in /usr/tmp!
+Namely, the kernel will not execute anything that resides in /System/TemporaryFiles,
+though it will if the same script is in /usr/System/TemporaryFiles!
 
-% cat /tmp/foo.sh
-#! /bin/sh
+% cat /System/TemporaryFiles/foo.sh
+#! /System/Tools/sh
 echo hello
 
-ls -l /tmp/foo.sh
--rwxr-xr-x   1 othmer   math           22 Apr 21 10:34 /tmp/foo.sh*
+ls -l /System/TemporaryFiles/foo.sh
+-rwxr-xr-x   1 othmer   math           22 Apr 21 10:34 /System/TemporaryFiles/foo.sh*
 
-% /tmp/foo.sh
-bash: /tmp/foo.sh: Permission denied
+% /System/TemporaryFiles/foo.sh
+bash: /System/TemporaryFiles/foo.sh: Permission denied
 
-% cp /tmp/foo.sh /usr/tmp
+% cp /System/TemporaryFiles/foo.sh /usr/System/TemporaryFiles
 
-% /usr/tmp/foo.sh
+% /usr/System/TemporaryFiles/foo.sh
 hello
 
-Thus, programs that do a temporary install in /tmp, as some of mine do
+Thus, programs that do a temporary install in /System/TemporaryFiles, as some of mine do
 in order to run the validation suite, will fail.
 
 gawk-3.0.4, and likely other gawk versions, hits this problem too. It
 fails because test/poundbang starts with
 
-#! /tmp/gawk -f
+#! /System/TemporaryFiles/gawk -f
 
 I tracked down where it comes from:
 
-% grep /tmp /etc/fstab
-/dev/hda3 /tmp ext2 rw,nosuid,noexec,nouser,auto,async,nodev 1 1
+% grep /System/TemporaryFiles /etc/fstab
+/System/Devices/hda3 /System/TemporaryFiles ext2 rw,nosuid,noexec,nouser,auto,async,nodev 1 1
                               !!!!!!
 
 Since this is done via a mount command, potentially ANY directory tree
diff -urN gawk-3.1.4/aclocal.m4 gawk-3.1.4-STEP/aclocal.m4
--- gawk-3.1.4/aclocal.m4	2004-08-02 21:16:26.000000000 +1200
+++ gawk-3.1.4-STEP/aclocal.m4	2005-08-16 16:08:48.380106256 +1200
@@ -271,7 +271,7 @@
     for i in 1 2 3 4 5 6; do
       echo '#include "conftst'$i'.h"' >> sub/conftest.c
       # Using `: > sub/conftst$i.h' creates only sub/conftst1.h with
-      # Solaris 8's {/usr,}/bin/sh.
+      # Solaris 8's {/usr,}/System/Tools/sh.
       touch sub/conftst$i.h
     done
     echo "${am__include} ${am__quote}sub/conftest.Po${am__quote}" > confmf
@@ -295,10 +295,10 @@
        source=sub/conftest.c object=sub/conftest.${OBJEXT-o} \
        depfile=sub/conftest.Po tmpdepfile=sub/conftest.TPo \
        $SHELL ./depcomp $depcc -c -o sub/conftest.${OBJEXT-o} sub/conftest.c \
-         >/dev/null 2>conftest.err &&
-       grep sub/conftst6.h sub/conftest.Po > /dev/null 2>&1 &&
-       grep sub/conftest.${OBJEXT-o} sub/conftest.Po > /dev/null 2>&1 &&
-       ${MAKE-make} -s -f confmf > /dev/null 2>&1; then
+         >/System/Devices/null 2>conftest.err &&
+       grep sub/conftst6.h sub/conftest.Po > /System/Devices/null 2>&1 &&
+       grep sub/conftest.${OBJEXT-o} sub/conftest.Po > /System/Devices/null 2>&1 &&
+       ${MAKE-make} -s -f confmf > /System/Devices/null 2>&1; then
       # icc doesn't choke on unknown options, it will just issue warnings
       # or remarks (even with -Werror).  So we grep stderr for any message
       # that says an option was ignored or not supported.
@@ -307,7 +307,7 @@
       # The diagnosis changed in icc 8.0:
       #   icc: Command line remark: option '-MP' not supported
       if (grep 'ignoring option' conftest.err ||
-          grep 'not supported' conftest.err) >/dev/null 2>&1; then :; else
+          grep 'not supported' conftest.err) >/System/Devices/null 2>&1; then :; else
         am_cv_$1_dependencies_compiler_type=$depmode
         break
       fi
@@ -384,12 +384,12 @@
   # Grep'ing the first line is not enough: some people post-process
   # each Makefile.in and add a new line on top of each file to say so.
   # So let's grep whole file.
-  if grep '^#.*generated by automake' $mf > /dev/null 2>&1; then
+  if grep '^#.*generated by automake' $mf > /System/Devices/null 2>&1; then
     dirpart=`AS_DIRNAME("$mf")`
   else
     continue
   fi
-  grep '^DEP_FILES *= *[[^ @%:@]]' < "$mf" > /dev/null || continue
+  grep '^DEP_FILES *= *[[^ @%:@]]' < "$mf" > /System/Devices/null || continue
   # Extract the definition of DEP_FILES from the Makefile without
   # running `make'.
   DEPDIR=`sed -n 's/^DEPDIR = //p' < "$mf"`
@@ -486,7 +486,7 @@
 
 # test whether we have cygpath
 if test -z "$CYGPATH_W"; then
-  if (cygpath --version) >/dev/null 2>/dev/null; then
+  if (cygpath --version) >/System/Devices/null 2>/System/Devices/null; then
     CYGPATH_W='cygpath -w'
   else
     CYGPATH_W=echo
@@ -608,14 +608,14 @@
 # Check whether the underlying file-system supports filenames
 # with a leading dot.  For instance MS-DOS doesn't.
 AC_DEFUN([AM_SET_LEADING_DOT],
-[rm -rf .tst 2>/dev/null
-mkdir .tst 2>/dev/null
+[rm -rf .tst 2>/System/Devices/null
+mkdir .tst 2>/System/Devices/null
 if test -d .tst; then
   am__leading_dot=.
 else
   am__leading_dot=_
 fi
-rmdir .tst 2>/dev/null
+rmdir .tst 2>/System/Devices/null
 AC_SUBST([am__leading_dot])])
 
 # Check to see how 'make' treats includes.	-*- Autoconf -*-
@@ -661,7 +661,7 @@
 # In particular we don't look at `^make:' because GNU make might
 # be invoked under some other name (usually "gmake"), in which
 # case it prints its new name instead of `make'.
-if test "`$am_make -s -f confmf 2> /dev/null | grep -v 'ing directory'`" = "done"; then
+if test "`$am_make -s -f confmf 2> /System/Devices/null | grep -v 'ing directory'`" = "done"; then
    am__include=include
    am__quote=
    _am_result=GNU
@@ -669,7 +669,7 @@
 # Now try BSD make style include.
 if test "$am__include" = "#"; then
    echo '.include "confinc"' > confmf
-   if test "`$am_make -s -f confmf 2> /dev/null`" = "done"; then
+   if test "`$am_make -s -f confmf 2> /System/Devices/null`" = "done"; then
       am__include=.include
       am__quote="\""
       _am_result=BSD
@@ -767,7 +767,7 @@
 # restrict ourselves to GNU make (using the --version option ensures
 # this.)
 AC_DEFUN([AM_PROG_MKDIR_P],
-[if mkdir -p --version . >/dev/null 2>&1 && test ! -d ./--version; then
+[if mkdir -p --version . >/System/Devices/null 2>&1 && test ! -d ./--version; then
   # Keeping the `.' argument allows $(mkdir_p) to be used without
   # argument.  Indeed, we sometimes output rules like
   #   $(mkdir_p) $(somedir)
@@ -910,7 +910,7 @@
 # (eg FreeBSD returns the mod time of the symlink's containing
 # directory).
 if (
-   set X `ls -Lt $srcdir/configure conftest.file 2> /dev/null`
+   set X `ls -Lt $srcdir/configure conftest.file 2> /System/Devices/null`
    if test "$[*]" = "X"; then
       # -L didn't work.
       set X `ls -t $srcdir/configure conftest.file`
diff -urN gawk-3.1.4/awk.h gawk-3.1.4-STEP/awk.h
--- gawk-3.1.4/awk.h	2004-07-27 02:11:05.000000000 +1200
+++ gawk-3.1.4-STEP/awk.h	2005-08-16 16:06:08.608395248 +1200
@@ -1147,7 +1147,7 @@
 
 #if defined(atarist)
 #if defined(PIPES_SIMULATED)
-/* unsupported/atari/tmpnam.c */
+/* unsupported/atari/System/TemporaryFilesnam.c */
 extern char *tmpnam P((char *buf));
 extern char *tempnam P((const char *path, const char *base));
 #else
diff -urN gawk-3.1.4/awklib/eg/lib/assert.awk gawk-3.1.4-STEP/awklib/eg/lib/assert.awk
--- gawk-3.1.4/awklib/eg/lib/assert.awk	2004-07-29 01:54:51.000000000 +1200
+++ gawk-3.1.4-STEP/awklib/eg/lib/assert.awk	2005-08-16 15:58:51.087908472 +1200
@@ -8,7 +8,7 @@
 {
     if (! condition) {
         printf("%s:%d: assertion failed: %s\n",
-            FILENAME, FNR, string) > "/dev/stderr"
+            FILENAME, FNR, string) > "/System/Devices/stderr"
         _assert_exit = 1
         exit 1
     }
diff -urN gawk-3.1.4/awklib/eg/lib/getopt.awk gawk-3.1.4-STEP/awklib/eg/lib/getopt.awk
--- gawk-3.1.4/awklib/eg/lib/getopt.awk	2004-07-29 01:54:51.000000000 +1200
+++ gawk-3.1.4-STEP/awklib/eg/lib/getopt.awk	2005-08-16 15:58:51.089908168 +1200
@@ -39,7 +39,7 @@
     if (i == 0) {
         if (Opterr)
             printf("%c -- invalid option\n",
-                                  thisopt) > "/dev/stderr"
+                                  thisopt) > "/System/Devices/stderr"
         if (_opti >= length(argv[Optind])) {
             Optind++
             _opti = 0
diff -urN gawk-3.1.4/awklib/eg/network/PostAgent.sh gawk-3.1.4-STEP/awklib/eg/network/PostAgent.sh
--- gawk-3.1.4/awklib/eg/network/PostAgent.sh	2004-07-29 01:54:51.000000000 +1200
+++ gawk-3.1.4-STEP/awklib/eg/network/PostAgent.sh	2005-08-16 16:08:48.390104736 +1200
@@ -1,9 +1,9 @@
-#!/bin/sh
-MobAg=/tmp/MobileAgent.$$
+#!/System/Tools/sh
+MobAg=/System/TemporaryFiles/MobileAgent.$$
 # direct script to mobile agent file
 cat > $MobAg
 # execute agent concurrently
-gawk -f $MobAg $MobAg > /dev/null &
+gawk -f $MobAg $MobAg > /System/Devices/null &
 # HTTP header, terminator and body
 gawk 'BEGIN { print "\r\nAgent started" }'
 rm $MobAg      # delete script file of agent
diff -urN gawk-3.1.4/awklib/eg/network/eliza.awk gawk-3.1.4-STEP/awklib/eg/network/eliza.awk
--- gawk-3.1.4/awklib/eg/network/eliza.awk	2004-07-29 01:54:51.000000000 +1200
+++ gawk-3.1.4-STEP/awklib/eg/network/eliza.awk	2005-08-16 16:08:48.388105040 +1200
@@ -37,7 +37,7 @@
   } else if (MENU[2] == "AboutELIZA") {
     Document    = "This is an implementation of the famous ELIZA\
         program by Joseph Weizenbaum. It is written in GAWK and\
-/bin/sh: expad: command not found
+/System/Tools/sh: expad: command not found
   } else if (MENU[2] == "StartELIZA") {
     gsub(/\+/, " ", GETARG["YouSay"])
     # Here we also have to substitute coded special characters
diff -urN gawk-3.1.4/awklib/eg/network/geturl.awk gawk-3.1.4-STEP/awklib/eg/network/geturl.awk
--- gawk-3.1.4/awklib/eg/network/geturl.awk	2004-07-29 01:54:51.000000000 +1200
+++ gawk-3.1.4-STEP/awklib/eg/network/geturl.awk	2005-08-16 15:58:51.188893120 +1200
@@ -17,7 +17,7 @@
   ORS = RS = "\r\n\r\n"
   print Method " " URL " HTTP/1.0" |& HttpService
   HttpService                      |& getline Header
-  print Header > "/dev/stderr"
+  print Header > "/System/Devices/stderr"
   while ((HttpService |& getline) > 0)
     printf "%s", $0
   close(HttpService)
diff -urN gawk-3.1.4/awklib/eg/prog/alarm.awk gawk-3.1.4-STEP/awklib/eg/prog/alarm.awk
--- gawk-3.1.4/awklib/eg/prog/alarm.awk	2004-07-29 01:54:51.000000000 +1200
+++ gawk-3.1.4-STEP/awklib/eg/prog/alarm.awk	2005-08-16 15:58:51.158897680 +1200
@@ -14,8 +14,8 @@
     usage2 = sprintf("\t(%s) time ::= hh:mm", ARGV[1])
 
     if (ARGC < 2) {
-        print usage1 > "/dev/stderr"
-        print usage2 > "/dev/stderr"
+        print usage1 > "/System/Devices/stderr"
+        print usage2 > "/System/Devices/stderr"
         exit 1
     } else if (ARGC == 5) {
         delay = ARGV[4] + 0
@@ -27,8 +27,8 @@
     } else if (ARGC == 3) {
         message = ARGV[2]
     } else if (ARGV[1] !~ /[0-9]?[0-9]:[0-9][0-9]/) {
-        print usage1 > "/dev/stderr"
-        print usage2 > "/dev/stderr"
+        print usage1 > "/System/Devices/stderr"
+        print usage2 > "/System/Devices/stderr"
         exit 1
     }
 
@@ -65,7 +65,7 @@
     # how long to sleep for
     naptime = target - current
     if (naptime <= 0) {
-        print "time is in the past!" > "/dev/stderr"
+        print "time is in the past!" > "/System/Devices/stderr"
         exit 1
     }
     # zzzzzz..... go away if interrupted
diff -urN gawk-3.1.4/awklib/eg/prog/awksed.awk gawk-3.1.4-STEP/awklib/eg/prog/awksed.awk
--- gawk-3.1.4/awklib/eg/prog/awksed.awk	2004-07-29 01:54:51.000000000 +1200
+++ gawk-3.1.4-STEP/awklib/eg/prog/awksed.awk	2005-08-16 15:58:51.175895096 +1200
@@ -6,7 +6,7 @@
 
 function usage()
 {
-    print "usage: awksed pat repl [files...]" > "/dev/stderr"
+    print "usage: awksed pat repl [files...]" > "/System/Devices/stderr"
     exit 1
 }
 
diff -urN gawk-3.1.4/awklib/eg/prog/cut.awk gawk-3.1.4-STEP/awklib/eg/prog/cut.awk
--- gawk-3.1.4/awklib/eg/prog/cut.awk	2004-07-29 01:54:51.000000000 +1200
+++ gawk-3.1.4-STEP/awklib/eg/prog/cut.awk	2005-08-16 15:58:51.122903152 +1200
@@ -16,8 +16,8 @@
 {
     e1 = "usage: cut [-f list] [-d c] [-s] [files...]"
     e2 = "usage: cut [-c list] [files...]"
-    print e1 > "/dev/stderr"
-    print e2 > "/dev/stderr"
+    print e1 > "/System/Devices/stderr"
+    print e2 > "/System/Devices/stderr"
     exit 1
 }
 BEGIN    \
@@ -35,7 +35,7 @@
         } else if (c == "d") {
             if (length(Optarg) > 1) {
                 printf("Using first character of %s" \
-                " for delimiter\n", Optarg) > "/dev/stderr"
+                " for delimiter\n", Optarg) > "/System/Devices/stderr"
                 Optarg = substr(Optarg, 1, 1)
             }
             FS = Optarg
@@ -57,7 +57,7 @@
         by_fields = 1    # default
 
     if (fieldlist == "") {
-        print "cut: needs list for -c or -f" > "/dev/stderr"
+        print "cut: needs list for -c or -f" > "/System/Devices/stderr"
         exit 1
     }
 
@@ -75,7 +75,7 @@
             m = split(f[i], g, "-")
             if (m != 2 || g[1] >= g[2]) {
                 printf("bad field list: %s\n",
-                                  f[i]) > "/dev/stderr"
+                                  f[i]) > "/System/Devices/stderr"
                 exit 1
             }
             for (k = g[1]; k <= g[2]; k++)
@@ -96,7 +96,7 @@
             m = split(f[i], g, "-")
             if (m != 2 || g[1] >= g[2]) {
                 printf("bad character list: %s\n",
-                               f[i]) > "/dev/stderr"
+                               f[i]) > "/System/Devices/stderr"
                 exit 1
             }
             len = g[2] - g[1] + 1
diff -urN gawk-3.1.4/awklib/eg/prog/egrep.awk gawk-3.1.4-STEP/awklib/eg/prog/egrep.awk
--- gawk-3.1.4/awklib/eg/prog/egrep.awk	2004-07-29 01:54:51.000000000 +1200
+++ gawk-3.1.4-STEP/awklib/eg/prog/egrep.awk	2005-08-16 15:58:51.125902696 +1200
@@ -97,6 +97,6 @@
 {
     e = "Usage: egrep [-csvil] [-e pat] [files ...]"
     e = e "\n\tegrep [-csvil] pat [files ...]"
-    print e > "/dev/stderr"
+    print e > "/System/Devices/stderr"
     exit 1
 }
diff -urN gawk-3.1.4/awklib/eg/prog/extract.awk gawk-3.1.4-STEP/awklib/eg/prog/extract.awk
--- gawk-3.1.4/awklib/eg/prog/extract.awk	2004-07-29 01:54:51.000000000 +1200
+++ gawk-3.1.4-STEP/awklib/eg/prog/extract.awk	2005-08-16 15:58:51.173895400 +1200
@@ -12,7 +12,7 @@
     if (NF < 3) {
         e = (FILENAME ":" FNR)
         e = (e  ": badly formed `system' line")
-        print e > "/dev/stderr"
+        print e > "/System/Devices/stderr"
         next
     }
     $1 = ""
@@ -21,14 +21,14 @@
     if (stat != 0) {
         e = (FILENAME ":" FNR)
         e = (e ": warning: system returned " stat)
-        print e > "/dev/stderr"
+        print e > "/System/Devices/stderr"
     }
 }
 /^@c(omment)?[ \t]+file/    \
 {
     if (NF != 3) {
         e = (FILENAME ":" FNR ": badly formed `file' line")
-        print e > "/dev/stderr"
+        print e > "/System/Devices/stderr"
         next
     }
     if ($3 != curfile) {
@@ -65,7 +65,7 @@
 }
 function unexpected_eof() {
     printf("%s:%d: unexpected EOF or error\n",
-        FILENAME, FNR) > "/dev/stderr"
+        FILENAME, FNR) > "/System/Devices/stderr"
     exit 1
 }
 
diff -urN gawk-3.1.4/awklib/eg/prog/igawk.sh gawk-3.1.4-STEP/awklib/eg/prog/igawk.sh
--- gawk-3.1.4/awklib/eg/prog/igawk.sh	2004-07-29 01:54:51.000000000 +1200
+++ gawk-3.1.4-STEP/awklib/eg/prog/igawk.sh	2005-08-16 16:08:48.384105648 +1200
@@ -1,4 +1,4 @@
-#! /bin/sh
+#! /System/Tools/sh
 # igawk --- like gawk but do @include processing
 #
 # Arnold Robbins, arnold@gnu.org, Public Domain
@@ -111,7 +111,7 @@
             fpath = pathto($2)
             if (fpath == "") {
                 printf("igawk:%s:%d: cannot find %s\n",
-                    input[stackptr], FNR, $2) > "/dev/stderr"
+                    input[stackptr], FNR, $2) > "/System/Devices/stderr"
                 continue
             }
             if (! (fpath in processed)) {
@@ -120,13 +120,13 @@
             } else
                 print $2, "included in", input[stackptr],
                     "already included in",
-                    processed[fpath] > "/dev/stderr"
+                    processed[fpath] > "/System/Devices/stderr"
         }
         close(input[stackptr])
     }
 }'  # close quote ends `expand_prog' variable
 
-processed_program=`gawk -- "$expand_prog" /dev/stdin <<EOF
+processed_program=`gawk -- "$expand_prog" /System/Devices/stdin <<EOF
 $program
 EOF
 `
diff -urN gawk-3.1.4/awklib/eg/prog/split.awk gawk-3.1.4-STEP/awklib/eg/prog/split.awk
--- gawk-3.1.4/awklib/eg/prog/split.awk	2004-07-29 01:54:51.000000000 +1200
+++ gawk-3.1.4-STEP/awklib/eg/prog/split.awk	2005-08-16 15:58:51.130901936 +1200
@@ -36,7 +36,7 @@
         if (s2 == "z") {
             if (s1 == "z") {
                 printf("split: %s is too large to split\n",
-                       FILENAME) > "/dev/stderr"
+                       FILENAME) > "/System/Devices/stderr"
                 exit 1
             }
             s1 = chr(ord(s1) + 1)
@@ -52,6 +52,6 @@
 function usage(   e)
 {
     e = "usage: split [-num] [file] [outname]"
-    print e > "/dev/stderr"
+    print e > "/System/Devices/stderr"
     exit 1
 }
diff -urN gawk-3.1.4/awklib/eg/prog/tee.awk gawk-3.1.4-STEP/awklib/eg/prog/tee.awk
--- gawk-3.1.4/awklib/eg/prog/tee.awk	2004-07-29 01:54:51.000000000 +1200
+++ gawk-3.1.4-STEP/awklib/eg/prog/tee.awk	2005-08-16 15:58:51.137900872 +1200
@@ -16,7 +16,7 @@
         ARGC--
     }
     if (ARGC < 2) {
-        print "usage: tee [-a] file ..." > "/dev/stderr"
+        print "usage: tee [-a] file ..." > "/System/Devices/stderr"
         exit 1
     }
     ARGV[1] = "-"
diff -urN gawk-3.1.4/awklib/eg/prog/translate.awk gawk-3.1.4-STEP/awklib/eg/prog/translate.awk
--- gawk-3.1.4/awklib/eg/prog/translate.awk	2004-07-29 01:54:51.000000000 +1200
+++ gawk-3.1.4-STEP/awklib/eg/prog/translate.awk	2005-08-16 15:58:51.161897224 +1200
@@ -32,7 +32,7 @@
 # main program
 BEGIN {
     if (ARGC < 3) {
-        print "usage: translate from to" > "/dev/stderr"
+        print "usage: translate from to" > "/System/Devices/stderr"
         exit
     }
     FROM = ARGV[1]
diff -urN gawk-3.1.4/awklib/eg/prog/uniq.awk gawk-3.1.4-STEP/awklib/eg/prog/uniq.awk
--- gawk-3.1.4/awklib/eg/prog/uniq.awk	2004-07-29 01:54:51.000000000 +1200
+++ gawk-3.1.4-STEP/awklib/eg/prog/uniq.awk	2005-08-16 15:58:51.143899960 +1200
@@ -8,7 +8,7 @@
 function usage(    e)
 {
     e = "Usage: uniq [-udc [-n]] [+n] [ in [ out ]]"
-    print e > "/dev/stderr"
+    print e > "/System/Devices/stderr"
     exit 1
 }
 
@@ -21,7 +21,7 @@
 BEGIN   \
 {
     count = 1
-    outputfile = "/dev/stdout"
+    outputfile = "/System/Devices/stdout"
     opts = "udc0:1:2:3:4:5:6:7:8:9:"
     while ((c = getopt(ARGC, ARGV, opts)) != -1) {
         if (c == "u")
diff -urN gawk-3.1.4/awklib/extract.awk gawk-3.1.4-STEP/awklib/extract.awk
--- gawk-3.1.4/awklib/extract.awk	2000-11-07 02:28:14.000000000 +1300
+++ gawk-3.1.4-STEP/awklib/extract.awk	2005-08-16 15:58:51.084908928 +1200
@@ -12,7 +12,7 @@
     if (NF < 3) {
         e = (FILENAME ":" FNR)
         e = (e  ": badly formed `system' line")
-        print e > "/dev/stderr"
+        print e > "/System/Devices/stderr"
         next
     }
     $1 = ""
@@ -21,14 +21,14 @@
     if (stat != 0) {
         e = (FILENAME ":" FNR)
         e = (e ": warning: system returned " stat)
-        print e > "/dev/stderr"
+        print e > "/System/Devices/stderr"
     }
 }
 /^@c(omment)?[ \t]+file/    \
 {
     if (NF != 3) {
         e = (FILENAME ":" FNR ": badly formed `file' line")
-        print e > "/dev/stderr"
+        print e > "/System/Devices/stderr"
         next
     }
     if ($3 != curfile) {
@@ -66,7 +66,7 @@
 function unexpected_eof()
 {
     printf("%s:%d: unexpected EOF or error\n",
-        FILENAME, FNR) > "/dev/stderr"
+        FILENAME, FNR) > "/System/Devices/stderr"
     exit 1
 }
 
diff -urN gawk-3.1.4/builtin.c gawk-3.1.4-STEP/builtin.c
--- gawk-3.1.4/builtin.c	2004-07-13 19:55:28.000000000 +1200
+++ gawk-3.1.4-STEP/builtin.c	2005-08-16 16:12:56.308415424 +1200
@@ -174,18 +174,18 @@
 /* stdfile --- return fp for a standard file */
 
 /*
- * This function allows `fflush("/dev/stdout")' to work.
+ * This function allows `fflush("/System/Devices/stdout")' to work.
  * The other files will be available via getredirect().
- * /dev/stdin is not included, since fflush is only for output.
+ * /System/Devices/stdin is not included, since fflush is only for output.
  */
 
 static FILE *
 stdfile(const char *name, size_t len)
 {
 	if (len == 11) {
-		if (STREQN(name, "/dev/stderr", 11))
+		if (STREQN(name, "/System/Devices/stderr", 11))
 			return stderr;
-		else if (STREQN(name, "/dev/stdout", 11))
+		else if (STREQN(name, "/System/Devices/stdout", 11))
 			return stdout;
 	}
 
@@ -1965,7 +1965,7 @@
  * The following awk code was useful in debugging problems.  It is too bad
  * that it does not readily translate directly into the C code, below.
  * 
- * #! /usr/local/bin/mawk -f
+ * #! mawk -f
  * 
  * BEGIN {
  * 	TRUE = 1; FALSE = 0
diff -urN gawk-3.1.4/config.guess gawk-3.1.4-STEP/config.guess
--- gawk-3.1.4/config.guess	2004-07-20 02:06:51.000000000 +1200
+++ gawk-3.1.4-STEP/config.guess	2005-08-16 16:15:42.362171416 +1200
@@ -1,4 +1,4 @@
-#! /bin/sh
+#! /System/Tools/sh
 # Attempt to guess a canonical system name.
 #   Copyright (C) 1992, 1993, 1994, 1995, 1996, 1997, 1998, 1999,
 #   2000, 2001, 2002, 2003, 2004 Free Software Foundation, Inc.
@@ -101,10 +101,10 @@
 # Portable tmp directory creation inspired by the Autoconf team.
 
 set_cc_for_build='
-trap "exitcode=\$?; (rm -f \$tmpfiles 2>/dev/null; rmdir \$tmp 2>/dev/null) && exit \$exitcode" 0 ;
-trap "rm -f \$tmpfiles 2>/dev/null; rmdir \$tmp 2>/dev/null; exit 1" 1 2 13 15 ;
-: ${TMPDIR=/tmp} ;
- { tmp=`(umask 077 && mktemp -d -q "$TMPDIR/cgXXXXXX") 2>/dev/null` && test -n "$tmp" && test -d "$tmp" ; } ||
+trap "exitcode=\$?; (rm -f \$tmpfiles 2>/System/Devices/null; rmdir \$tmp 2>/System/Devices/null) && exit \$exitcode" 0 ;
+trap "rm -f \$tmpfiles 2>/System/Devices/null; rmdir \$tmp 2>/System/Devices/null; exit 1" 1 2 13 15 ;
+: ${TMPDIR=/System/TemporaryFiles} ;
+ { tmp=`(umask 077 && mktemp -d -q "$TMPDIR/cgXXXXXX") 2>/System/Devices/null` && test -n "$tmp" && test -d "$tmp" ; } ||
  { test -n "$RANDOM" && tmp=$TMPDIR/cg$$-$RANDOM && (umask 077 && mkdir $tmp) ; } ||
  { tmp=$TMPDIR/cg-$$ && (umask 077 && mkdir $tmp) && echo "Warning: creating insecure temp directory" >&2 ; } ||
  { echo "$me: cannot create a temporary directory in $TMPDIR" >&2 ; exit 1 ; } ;
@@ -113,7 +113,7 @@
 case $CC_FOR_BUILD,$HOST_CC,$CC in
  ,,)    echo "int x;" > $dummy.c ;
 	for c in cc gcc c89 c99 ; do
-	  if ($c -c -o $dummy.o $dummy.c) >/dev/null 2>&1 ; then
+	  if ($c -c -o $dummy.o $dummy.c) >/System/Devices/null 2>&1 ; then
 	     CC_FOR_BUILD="$c"; break ;
 	  fi ;
 	done ;
@@ -127,14 +127,14 @@
 
 # This is needed to find uname on a Pyramid OSx when run in the BSD universe.
 # (ghazi@noc.rutgers.edu 1994-08-24)
-if (test -f /.attbin/uname) >/dev/null 2>&1 ; then
+if (test -f /.attbin/uname) >/System/Devices/null 2>&1 ; then
 	PATH=$PATH:/.attbin ; export PATH
 fi
 
-UNAME_MACHINE=`(uname -m) 2>/dev/null` || UNAME_MACHINE=unknown
-UNAME_RELEASE=`(uname -r) 2>/dev/null` || UNAME_RELEASE=unknown
-UNAME_SYSTEM=`(uname -s) 2>/dev/null`  || UNAME_SYSTEM=unknown
-UNAME_VERSION=`(uname -v) 2>/dev/null` || UNAME_VERSION=unknown
+UNAME_MACHINE=`(uname -m) 2>/System/Devices/null` || UNAME_MACHINE=unknown
+UNAME_RELEASE=`(uname -r) 2>/System/Devices/null` || UNAME_RELEASE=unknown
+UNAME_SYSTEM=`(uname -s) 2>/System/Devices/null`  || UNAME_SYSTEM=unknown
+UNAME_VERSION=`(uname -v) 2>/System/Devices/null` || UNAME_VERSION=unknown
 
 # Note: order is significant - the case branches are not exclusive.
 
@@ -151,8 +151,8 @@
 	# Note: NetBSD doesn't particularly care about the vendor
 	# portion of the name.  We always set it to "unknown".
 	sysctl="sysctl -n hw.machine_arch"
-	UNAME_MACHINE_ARCH=`(/sbin/$sysctl 2>/dev/null || \
-	    /usr/sbin/$sysctl 2>/dev/null || echo unknown)`
+	UNAME_MACHINE_ARCH=`(/sbin/$sysctl 2>/System/Devices/null || \
+	    /usr/sbin/$sysctl 2>/System/Devices/null || echo unknown)`
 	case "${UNAME_MACHINE_ARCH}" in
 	    armeb) machine=armeb-unknown ;;
 	    arm*) machine=arm-unknown ;;
@@ -165,8 +165,8 @@
 	case "${UNAME_MACHINE_ARCH}" in
 	    arm*|i386|m68k|ns32k|sh3*|sparc|vax)
 		eval $set_cc_for_build
-		if echo __ELF__ | $CC_FOR_BUILD -E - 2>/dev/null \
-			| grep __ELF__ >/dev/null
+		if echo __ELF__ | $CC_FOR_BUILD -E - 2>/System/Devices/null \
+			| grep __ELF__ >/System/Devices/null
 		then
 		    # Once all utilities can be ECOFF (netbsdecoff) or a.out (netbsdaout).
 		    # Return netbsd for either.  FIX?
@@ -339,7 +339,7 @@
 	exit 0;;
     Pyramid*:OSx*:*:* | MIS*:OSx*:*:* | MIS*:SMP_DC-OSx*:*:*)
 	# akee@wpdis03.wpafb.af.mil (Earle F. Ake) contributed MIS and NILE.
-	if test "`(/bin/universe) 2>/dev/null`" = att ; then
+	if test "`(/System/Tools/universe) 2>/System/Devices/null`" = att ; then
 		echo pyramid-pyramid-sysv3
 	else
 		echo pyramid-pyramid-bsd
@@ -352,7 +352,7 @@
 	echo sparc-icl-nx6
 	exit 0 ;;
     DRS?6000:UNIX_SV:4.2*:7*)
-	case `/usr/bin/uname -p` in
+	case `/System/Tools/uname -p` in
 	    sparc) echo sparc-icl-nx7 && exit 0 ;;
 	esac ;;
     sun4H:SunOS:5.*:*)
@@ -371,7 +371,7 @@
 	echo sparc-sun-solaris3`echo ${UNAME_RELEASE}|sed -e 's/[^.]*//'`
 	exit 0 ;;
     sun4*:SunOS:*:*)
-	case "`/usr/bin/arch -k`" in
+	case "`/System/Tools/arch -k`" in
 	    Series*|S4*)
 		UNAME_RELEASE=`uname -v`
 		;;
@@ -383,9 +383,9 @@
 	echo m68k-sun-sunos${UNAME_RELEASE}
 	exit 0 ;;
     sun*:*:4.2BSD:*)
-	UNAME_RELEASE=`(sed 1q /etc/motd | awk '{print substr($5,1,3)}') 2>/dev/null`
+	UNAME_RELEASE=`(sed 1q /etc/motd | awk '{print substr($5,1,3)}') 2>/System/Devices/null`
 	test "x${UNAME_RELEASE}" = "x" && UNAME_RELEASE=3
-	case "`/bin/arch`" in
+	case "`/System/Tools/arch`" in
 	    sun3)
 		echo m68k-sun-sunos${UNAME_RELEASE}
 		;;
@@ -492,7 +492,7 @@
 	exit 0 ;;
     AViiON:dgux:*:*)
         # DG/UX returns AViiON for all architectures
-        UNAME_PROCESSOR=`/usr/bin/uname -p`
+        UNAME_PROCESSOR=`/System/Tools/uname -p`
 	if [ $UNAME_PROCESSOR = mc88100 ] || [ $UNAME_PROCESSOR = mc88110 ]
 	then
 	    if [ ${TARGET_BINARY_INTERFACE}x = m88kdguxelfx ] || \
@@ -529,15 +529,15 @@
 	echo i386-ibm-aix
 	exit 0 ;;
     ia64:AIX:*:*)
-	if [ -x /usr/bin/oslevel ] ; then
-		IBM_REV=`/usr/bin/oslevel`
+	if [ -x /System/Tools/oslevel ] ; then
+		IBM_REV=`/System/Tools/oslevel`
 	else
 		IBM_REV=${UNAME_VERSION}.${UNAME_RELEASE}
 	fi
 	echo ${UNAME_MACHINE}-ibm-aix${IBM_REV}
 	exit 0 ;;
     *:AIX:2:3)
-	if grep bos325 /usr/include/stdio.h >/dev/null 2>&1; then
+	if grep bos325 /usr/include/stdio.h >/System/Devices/null 2>&1; then
 		eval $set_cc_for_build
 		sed 's/^		//' << EOF >$dummy.c
 		#include <sys/systemcfg.h>
@@ -552,7 +552,7 @@
 EOF
 		$CC_FOR_BUILD -o $dummy $dummy.c && $dummy && exit 0
 		echo rs6000-ibm-aix3.2.5
-	elif grep bos324 /usr/include/stdio.h >/dev/null 2>&1; then
+	elif grep bos324 /usr/include/stdio.h >/System/Devices/null 2>&1; then
 		echo rs6000-ibm-aix3.2.4
 	else
 		echo rs6000-ibm-aix3.2
@@ -560,13 +560,13 @@
 	exit 0 ;;
     *:AIX:*:[45])
 	IBM_CPU_ID=`/usr/sbin/lsdev -C -c processor -S available | sed 1q | awk '{ print $1 }'`
-	if /usr/sbin/lsattr -El ${IBM_CPU_ID} | grep ' POWER' >/dev/null 2>&1; then
+	if /usr/sbin/lsattr -El ${IBM_CPU_ID} | grep ' POWER' >/System/Devices/null 2>&1; then
 		IBM_ARCH=rs6000
 	else
 		IBM_ARCH=powerpc
 	fi
-	if [ -x /usr/bin/oslevel ] ; then
-		IBM_REV=`/usr/bin/oslevel`
+	if [ -x /System/Tools/oslevel ] ; then
+		IBM_REV=`/System/Tools/oslevel`
 	else
 		IBM_REV=${UNAME_VERSION}.${UNAME_RELEASE}
 	fi
@@ -599,9 +599,9 @@
 	    9000/31? )            HP_ARCH=m68000 ;;
 	    9000/[34]?? )         HP_ARCH=m68k ;;
 	    9000/[678][0-9][0-9])
-		if [ -x /usr/bin/getconf ]; then
-		    sc_cpu_version=`/usr/bin/getconf SC_CPU_VERSION 2>/dev/null`
-                    sc_kernel_bits=`/usr/bin/getconf SC_KERNEL_BITS 2>/dev/null`
+		if [ -x /System/Tools/getconf ]; then
+		    sc_cpu_version=`/System/Tools/getconf SC_CPU_VERSION 2>/System/Devices/null`
+                    sc_kernel_bits=`/System/Tools/getconf SC_KERNEL_BITS 2>/System/Devices/null`
                     case "${sc_cpu_version}" in
                       523) HP_ARCH="hppa1.0" ;; # CPU_PA_RISC1_0
                       528) HP_ARCH="hppa1.1" ;; # CPU_PA_RISC1_1
@@ -648,7 +648,7 @@
                   exit (0);
               }
 EOF
-		    (CCOPTS= $CC_FOR_BUILD -o $dummy $dummy.c 2>/dev/null) && HP_ARCH=`$dummy`
+		    (CCOPTS= $CC_FOR_BUILD -o $dummy $dummy.c 2>/System/Devices/null) && HP_ARCH=`$dummy`
 		    test -z "$HP_ARCH" && HP_ARCH=hppa
 		fi ;;
 	esac
@@ -656,7 +656,7 @@
 	then
 	    # avoid double evaluation of $set_cc_for_build
 	    test -n "$CC_FOR_BUILD" || eval $set_cc_for_build
-	    if echo __LP64__ | (CCOPTS= $CC_FOR_BUILD -E -) | grep __LP64__ >/dev/null
+	    if echo __LP64__ | (CCOPTS= $CC_FOR_BUILD -E -) | grep __LP64__ >/System/Devices/null
 	    then
 		HP_ARCH="hppa2.0w"
 	    else
@@ -858,7 +858,7 @@
 	#endif
 	#endif
 EOF
-	eval `$CC_FOR_BUILD -E $dummy.c 2>/dev/null | grep ^CPU=`
+	eval `$CC_FOR_BUILD -E $dummy.c 2>/System/Devices/null | grep ^CPU=`
 	test x"${CPU}" != x && echo "${CPU}-unknown-linux-gnu" && exit 0
 	;;
     mips64:Linux:*:*)
@@ -877,7 +877,7 @@
 	#endif
 	#endif
 EOF
-	eval `$CC_FOR_BUILD -E $dummy.c 2>/dev/null | grep ^CPU=`
+	eval `$CC_FOR_BUILD -E $dummy.c 2>/System/Devices/null | grep ^CPU=`
 	test x"${CPU}" != x && echo "${CPU}-unknown-linux-gnu" && exit 0
 	;;
     ppc:Linux:*:*)
@@ -887,7 +887,7 @@
 	echo powerpc64-unknown-linux-gnu
 	exit 0 ;;
     alpha:Linux:*:*)
-	case `sed -n '/^cpu model/s/^.*: \(.*\)/\1/p' < /proc/cpuinfo` in
+	case `sed -n '/^cpu model/s/^.*: \(.*\)/\1/p' < /System/Processes/cpuinfo` in
 	  EV5)   UNAME_MACHINE=alphaev5 ;;
 	  EV56)  UNAME_MACHINE=alphaev56 ;;
 	  PCA56) UNAME_MACHINE=alphapca56 ;;
@@ -896,13 +896,13 @@
 	  EV67)  UNAME_MACHINE=alphaev67 ;;
 	  EV68*) UNAME_MACHINE=alphaev68 ;;
         esac
-	objdump --private-headers /bin/sh | grep ld.so.1 >/dev/null
+	objdump --private-headers /System/Tools/sh | grep ld.so.1 >/System/Devices/null
 	if test "$?" = 0 ; then LIBC="libc1" ; else LIBC="" ; fi
 	echo ${UNAME_MACHINE}-unknown-linux-gnu${LIBC}
 	exit 0 ;;
     parisc:Linux:*:* | hppa:Linux:*:*)
 	# Look for CPU level
-	case `grep '^cpu[^a-z]*:' /proc/cpuinfo 2>/dev/null | cut -d' ' -f2` in
+	case `grep '^cpu[^a-z]*:' /System/Processes/cpuinfo 2>/System/Devices/null | cut -d' ' -f2` in
 	  PA7*) echo hppa1.1-unknown-linux-gnu ;;
 	  PA8*) echo hppa2.0-unknown-linux-gnu ;;
 	  *)    echo hppa-unknown-linux-gnu ;;
@@ -978,7 +978,7 @@
 	LIBC=dietlibc
 	#endif
 EOF
-	eval `$CC_FOR_BUILD -E $dummy.c 2>/dev/null | grep ^LIBC=`
+	eval `$CC_FOR_BUILD -E $dummy.c 2>/System/Devices/null | grep ^LIBC=`
 	test x"${LIBC}" != x && echo "${UNAME_MACHINE}-pc-linux-${LIBC}" && exit 0
 	test x"${TENTATIVE}" != x && echo "${TENTATIVE}" && exit 0
 	;;
@@ -1018,14 +1018,14 @@
 	exit 0 ;;
     i*86:*:4.*:* | i*86:SYSTEM_V:4.*:*)
 	UNAME_REL=`echo ${UNAME_RELEASE} | sed 's/\/MP$//'`
-	if grep Novell /usr/include/link.h >/dev/null 2>/dev/null; then
+	if grep Novell /usr/include/link.h >/System/Devices/null 2>/System/Devices/null; then
 		echo ${UNAME_MACHINE}-univel-sysv${UNAME_REL}
 	else
 		echo ${UNAME_MACHINE}-pc-sysv${UNAME_REL}
 	fi
 	exit 0 ;;
     i*86:*:5:[78]*)
-	case `/bin/uname -X | grep "^Machine"` in
+	case `/System/Tools/uname -X | grep "^Machine"` in
 	    *486*)	     UNAME_MACHINE=i486 ;;
 	    *Pentium)	     UNAME_MACHINE=i586 ;;
 	    *Pent*|*Celeron) UNAME_MACHINE=i686 ;;
@@ -1036,14 +1036,14 @@
 	if test -f /usr/options/cb.name; then
 		UNAME_REL=`sed -n 's/.*Version //p' </usr/options/cb.name`
 		echo ${UNAME_MACHINE}-pc-isc$UNAME_REL
-	elif /bin/uname -X 2>/dev/null >/dev/null ; then
-		UNAME_REL=`(/bin/uname -X|grep Release|sed -e 's/.*= //')`
-		(/bin/uname -X|grep i80486 >/dev/null) && UNAME_MACHINE=i486
-		(/bin/uname -X|grep '^Machine.*Pentium' >/dev/null) \
+	elif /System/Tools/uname -X 2>/System/Devices/null >/System/Devices/null ; then
+		UNAME_REL=`(/System/Tools/uname -X|grep Release|sed -e 's/.*= //')`
+		(/System/Tools/uname -X|grep i80486 >/System/Devices/null) && UNAME_MACHINE=i486
+		(/System/Tools/uname -X|grep '^Machine.*Pentium' >/System/Devices/null) \
 			&& UNAME_MACHINE=i586
-		(/bin/uname -X|grep '^Machine.*Pent *II' >/dev/null) \
+		(/System/Tools/uname -X|grep '^Machine.*Pent *II' >/System/Devices/null) \
 			&& UNAME_MACHINE=i686
-		(/bin/uname -X|grep '^Machine.*Pentium Pro' >/dev/null) \
+		(/System/Tools/uname -X|grep '^Machine.*Pentium Pro' >/System/Devices/null) \
 			&& UNAME_MACHINE=i686
 		echo ${UNAME_MACHINE}-pc-sco$UNAME_REL
 	else
@@ -1063,7 +1063,7 @@
 	echo i860-intel-osf1
 	exit 0 ;;
     i860:*:4.*:*) # i860-SVR4
-	if grep Stardent /usr/include/sys/uadmin.h >/dev/null 2>&1 ; then
+	if grep Stardent /usr/include/System/SystemFS/uadmin.h >/System/Devices/null 2>&1 ; then
 	  echo i860-stardent-sysv${UNAME_RELEASE} # Stardent Vistra i860-SVR4
 	else # Add other i860-SVR4 vendors below as they are discovered.
 	  echo i860-unknown-sysv${UNAME_RELEASE}  # Unknown i860-SVR4
@@ -1085,12 +1085,12 @@
 	OS_REL=''
 	test -r /etc/.relid \
 	&& OS_REL=.`sed -n 's/[^ ]* [^ ]* \([0-9][0-9]\).*/\1/p' < /etc/.relid`
-	/bin/uname -p 2>/dev/null | grep 86 >/dev/null \
+	/System/Tools/uname -p 2>/System/Devices/null | grep 86 >/System/Devices/null \
 	  && echo i486-ncr-sysv4.3${OS_REL} && exit 0
-	/bin/uname -p 2>/dev/null | /bin/grep entium >/dev/null \
+	/System/Tools/uname -p 2>/System/Devices/null | /System/Tools/grep entium >/System/Devices/null \
 	  && echo i586-ncr-sysv4.3${OS_REL} && exit 0 ;;
     3[34]??:*:4.0:* | 3[34]??,*:*:4.0:*)
-        /bin/uname -p 2>/dev/null | grep 86 >/dev/null \
+        /System/Tools/uname -p 2>/System/Devices/null | grep 86 >/System/Devices/null \
           && echo i486-ncr-sysv4 && exit 0 ;;
     m68*:LynxOS:2.*:* | m68*:LynxOS:3.0*:*)
 	echo m68k-unknown-lynxos${UNAME_RELEASE}
@@ -1117,8 +1117,8 @@
 	echo mips-sni-sysv4
 	exit 0 ;;
     *:SINIX-*:*:*)
-	if uname -p 2>/dev/null >/dev/null ; then
-		UNAME_MACHINE=`(uname -p) 2>/dev/null`
+	if uname -p 2>/System/Devices/null >/System/Devices/null ; then
+		UNAME_MACHINE=`(uname -p) 2>/System/Devices/null`
 		echo ${UNAME_MACHINE}-sni-sysv4
 	else
 		echo ns32k-sni-sysv
@@ -1244,7 +1244,7 @@
 	echo ${UNAME_MACHINE}-unknown-dragonfly`echo ${UNAME_RELEASE}|sed -e 's/[-(].*//'`
 	exit 0 ;;
     *:*VMS:*:*)
-    	UNAME_MACHINE=`(uname -p) 2>/dev/null`
+    	UNAME_MACHINE=`(uname -p) 2>/System/Devices/null`
 	case "${UNAME_MACHINE}" in
 	    A*) echo alpha-dec-vms && exit 0 ;;
 	    I*) echo ia64-dec-vms && exit 0 ;;
@@ -1293,7 +1293,7 @@
 #define __ARCHITECTURE__ "m68k"
 #endif
   int version;
-  version=`(hostinfo | sed -n 's/.*NeXT Mach \([0-9]*\).*/\1/p') 2>/dev/null`;
+  version=`(hostinfo | sed -n 's/.*NeXT Mach \([0-9]*\).*/\1/p') 2>/System/Devices/null`;
   if (version < 4)
     printf ("%s-next-nextstep%d\n", __ARCHITECTURE__, version);
   else
@@ -1370,7 +1370,7 @@
 }
 EOF
 
-$CC_FOR_BUILD -o $dummy $dummy.c 2>/dev/null && $dummy && exit 0
+$CC_FOR_BUILD -o $dummy $dummy.c 2>/System/Devices/null && $dummy && exit 0
 
 # Apollos put the system type in the environment.
 
@@ -1418,20 +1418,20 @@
 
 config.guess timestamp = $timestamp
 
-uname -m = `(uname -m) 2>/dev/null || echo unknown`
-uname -r = `(uname -r) 2>/dev/null || echo unknown`
-uname -s = `(uname -s) 2>/dev/null || echo unknown`
-uname -v = `(uname -v) 2>/dev/null || echo unknown`
-
-/usr/bin/uname -p = `(/usr/bin/uname -p) 2>/dev/null`
-/bin/uname -X     = `(/bin/uname -X) 2>/dev/null`
-
-hostinfo               = `(hostinfo) 2>/dev/null`
-/bin/universe          = `(/bin/universe) 2>/dev/null`
-/usr/bin/arch -k       = `(/usr/bin/arch -k) 2>/dev/null`
-/bin/arch              = `(/bin/arch) 2>/dev/null`
-/usr/bin/oslevel       = `(/usr/bin/oslevel) 2>/dev/null`
-/usr/convex/getsysinfo = `(/usr/convex/getsysinfo) 2>/dev/null`
+uname -m = `(uname -m) 2>/System/Devices/null || echo unknown`
+uname -r = `(uname -r) 2>/System/Devices/null || echo unknown`
+uname -s = `(uname -s) 2>/System/Devices/null || echo unknown`
+uname -v = `(uname -v) 2>/System/Devices/null || echo unknown`
+
+/System/Tools/uname -p = `(/System/Tools/uname -p) 2>/System/Devices/null`
+/System/Tools/uname -X     = `(/System/Tools/uname -X) 2>/System/Devices/null`
+
+hostinfo               = `(hostinfo) 2>/System/Devices/null`
+/System/Tools/universe          = `(/System/Tools/universe) 2>/System/Devices/null`
+/System/Tools/arch -k       = `(/System/Tools/arch -k) 2>/System/Devices/null`
+/System/Tools/arch              = `(/System/Tools/arch) 2>/System/Devices/null`
+/System/Tools/oslevel       = `(/System/Tools/oslevel) 2>/System/Devices/null`
+/usr/convex/getsysinfo = `(/usr/convex/getsysinfo) 2>/System/Devices/null`
 
 UNAME_MACHINE = ${UNAME_MACHINE}
 UNAME_RELEASE = ${UNAME_RELEASE}
diff -urN gawk-3.1.4/config.rpath gawk-3.1.4-STEP/config.rpath
--- gawk-3.1.4/config.rpath	2004-02-20 10:08:40.000000000 +1300
+++ gawk-3.1.4-STEP/config.rpath	2005-08-16 16:08:48.415100936 +1200
@@ -1,4 +1,4 @@
-#! /bin/sh
+#! /System/Tools/sh
 # Output a system dependent set of variables, describing how to set the
 # run time search path of shared libraries in an executable.
 #
@@ -143,7 +143,7 @@
       ld_shlibs=no
       ;;
     beos*)
-      if $LD --help 2>&1 | grep ': supported targets:.* elf' > /dev/null; then
+      if $LD --help 2>&1 | grep ': supported targets:.* elf' > /System/Devices/null; then
         :
       else
         ld_shlibs=no
@@ -153,7 +153,7 @@
       # hardcode_libdir_flag_spec is actually meaningless, as there is
       # no search path for DLLs.
       hardcode_libdir_flag_spec='-L$libdir'
-      if $LD --help 2>&1 | grep 'auto-import' > /dev/null; then
+      if $LD --help 2>&1 | grep 'auto-import' > /System/Devices/null; then
         :
       else
         ld_shlibs=no
@@ -162,9 +162,9 @@
     netbsd*)
       ;;
     solaris* | sysv5*)
-      if $LD -v 2>&1 | grep 'BFD 2\.8' > /dev/null; then
+      if $LD -v 2>&1 | grep 'BFD 2\.8' > /System/Devices/null; then
         ld_shlibs=no
-      elif $LD --help 2>&1 | grep ': supported targets:.* elf' > /dev/null; then
+      elif $LD --help 2>&1 | grep ': supported targets:.* elf' > /System/Devices/null; then
         :
       else
         ld_shlibs=no
@@ -174,7 +174,7 @@
       hardcode_direct=yes
       ;;
     *)
-      if $LD --help 2>&1 | grep ': supported targets:.* elf' > /dev/null; then
+      if $LD --help 2>&1 | grep ': supported targets:.* elf' > /System/Devices/null; then
         :
       else
         ld_shlibs=no
@@ -223,7 +223,7 @@
         case $host_os in aix4.[012]|aix4.[012].*)
           collect2name=`${CC} -print-prog-name=collect2`
           if test -f "$collect2name" && \
-            strings "$collect2name" | grep resolve_lib_name >/dev/null
+            strings "$collect2name" | grep resolve_lib_name >/System/Devices/null
           then
             # We have reworked collect2
             hardcode_direct=yes
@@ -239,10 +239,10 @@
       # Begin _LT_AC_SYS_LIBPATH_AIX.
       echo 'int main () { return 0; }' > conftest.c
       ${CC} ${LDFLAGS} conftest.c -o conftest
-      aix_libpath=`dump -H conftest 2>/dev/null | sed -n -e '/Import File Strings/,/^$/ { /^0/ { s/^0  *\(.*\)$/\1/; p; }
+      aix_libpath=`dump -H conftest 2>/System/Devices/null | sed -n -e '/Import File Strings/,/^$/ { /^0/ { s/^0  *\(.*\)$/\1/; p; }
 }'`
       if test -z "$aix_libpath"; then
-        aix_libpath=`dump -HX64 conftest 2>/dev/null | sed -n -e '/Import File Strings/,/^$/ { /^0/ { s/^0  *\(.*\)$/\1/; p; }
+        aix_libpath=`dump -HX64 conftest 2>/System/Devices/null | sed -n -e '/Import File Strings/,/^$/ { /^0/ { s/^0  *\(.*\)$/\1/; p; }
 }'`
       fi
       if test -z "$aix_libpath"; then
@@ -277,7 +277,7 @@
       libext=lib
       ;;
     darwin* | rhapsody*)
-      if $CC -v 2>&1 | grep 'Apple' >/dev/null ; then
+      if $CC -v 2>&1 | grep 'Apple' >/System/Devices/null ; then
         hardcode_direct=no
       fi
       ;;
diff -urN gawk-3.1.4/config.sub gawk-3.1.4-STEP/config.sub
--- gawk-3.1.4/config.sub	2004-07-20 02:06:43.000000000 +1200
+++ gawk-3.1.4-STEP/config.sub	2005-08-16 16:08:48.425099416 +1200
@@ -1,4 +1,4 @@
-#! /bin/sh
+#! /System/Tools/sh
 # Configuration validation subroutine script.
 #   Copyright (C) 1992, 1993, 1994, 1995, 1996, 1997, 1998, 1999,
 #   2000, 2001, 2002, 2003, 2004 Free Software Foundation, Inc.
diff -urN gawk-3.1.4/configure gawk-3.1.4-STEP/configure
--- gawk-3.1.4/configure	2004-08-02 21:16:32.000000000 +1200
+++ gawk-3.1.4-STEP/configure	2005-08-16 16:14:51.404918096 +1200
@@ -1,4 +1,4 @@
-#! /bin/sh
+#! /System/Tools/sh
 # Guess values for system-dependent variables and create Makefiles.
 # Generated by GNU Autoconf 2.59 for GNU Awk 3.1.4.
 #
@@ -12,19 +12,19 @@
 ## --------------------- ##
 
 # Be Bourne compatible
-if test -n "${ZSH_VERSION+set}" && (emulate sh) >/dev/null 2>&1; then
+if test -n "${ZSH_VERSION+set}" && (emulate sh) >/System/Devices/null 2>&1; then
   emulate sh
   NULLCMD=:
   # Zsh 3.x and 4.x performs word splitting on ${1+"$@"}, which
   # is contrary to our usage.  Disable this feature.
   alias -g '${1+"$@"}'='"$@"'
-elif test -n "${BASH_VERSION+set}" && (set -o posix) >/dev/null 2>&1; then
+elif test -n "${BASH_VERSION+set}" && (set -o posix) >/System/Devices/null 2>&1; then
   set -o posix
 fi
 DUALCASE=1; export DUALCASE # for MKS sh
 
 # Support unset when possible.
-if ( (MAIL=60; unset MAIL) || exit) >/dev/null 2>&1; then
+if ( (MAIL=60; unset MAIL) || exit) >/System/Devices/null 2>&1; then
   as_unset=unset
 else
   as_unset=false
@@ -51,13 +51,13 @@
 done
 
 # Required to use basename.
-if expr a : '\(a\)' >/dev/null 2>&1; then
+if expr a : '\(a\)' >/System/Devices/null 2>&1; then
   as_expr=expr
 else
   as_expr=false
 fi
 
-if (basename /) >/dev/null 2>&1 && test "X`basename / 2>&1`" = "X/"; then
+if (basename /) >/System/Devices/null 2>&1 && test "X`basename / 2>&1`" = "X/"; then
   as_basename=basename
 else
   as_basename=false
@@ -69,7 +69,7 @@
 $as_expr X/"$0" : '.*/\([^/][^/]*\)/*$' \| \
 	 X"$0" : 'X\(//\)$' \| \
 	 X"$0" : 'X\(/\)$' \| \
-	 .     : '\(.\)' 2>/dev/null ||
+	 .     : '\(.\)' 2>/System/Devices/null ||
 echo X/"$0" |
     sed '/^.*\/\([^/][^/]*\)\/*$/{ s//\1/; q; }
   	  /^X\/\(\/\/\)$/{ s//\1/; q; }
@@ -87,10 +87,10 @@
 
 # The user is always right.
 if test "${PATH_SEPARATOR+set}" != set; then
-  echo "#! /bin/sh" >conf$$.sh
+  echo "#! /System/Tools/sh" >conf$$.sh
   echo  "exit 0"   >>conf$$.sh
   chmod +x conf$$.sh
-  if (PATH="/nonexistent;."; conf$$.sh) >/dev/null 2>&1; then
+  if (PATH="/nonexistent;."; conf$$.sh) >/System/Devices/null 2>&1; then
     PATH_SEPARATOR=';'
   else
     PATH_SEPARATOR=:
@@ -101,7 +101,7 @@
 
   as_lineno_1=$LINENO
   as_lineno_2=$LINENO
-  as_lineno_3=`(expr $as_lineno_1 + 1) 2>/dev/null`
+  as_lineno_3=`(expr $as_lineno_1 + 1) 2>/System/Devices/null`
   test "x$as_lineno_1" != "x$as_lineno_2" &&
   test "x$as_lineno_3"  = "x$as_lineno_2"  || {
   # Find who we are.  Look in the path if we contain no path at all
@@ -140,9 +140,9 @@
 	   if ("$as_dir/$as_base" -c '
   as_lineno_1=$LINENO
   as_lineno_2=$LINENO
-  as_lineno_3=`(expr $as_lineno_1 + 1) 2>/dev/null`
+  as_lineno_3=`(expr $as_lineno_1 + 1) 2>/System/Devices/null`
   test "x$as_lineno_1" != "x$as_lineno_2" &&
-  test "x$as_lineno_3"  = "x$as_lineno_2" ') 2>/dev/null; then
+  test "x$as_lineno_3"  = "x$as_lineno_2" ') 2>/System/Devices/null; then
 	     $as_unset BASH_ENV || test "${BASH_ENV+set}" != set || { BASH_ENV=; export BASH_ENV; }
 	     $as_unset ENV || test "${ENV+set}" != set || { ENV=; export ENV; }
 	     CONFIG_SHELL=$as_dir/$as_base
@@ -193,7 +193,7 @@
   *)       ECHO_N= ECHO_C='\c' ECHO_T= ;;
 esac
 
-if expr a : '\(a\)' >/dev/null 2>&1; then
+if expr a : '\(a\)' >/System/Devices/null 2>&1; then
   as_expr=expr
 else
   as_expr=false
@@ -201,7 +201,7 @@
 
 rm -f conf$$ conf$$.exe conf$$.file
 echo >conf$$.file
-if ln -s conf$$.file conf$$ 2>/dev/null; then
+if ln -s conf$$.file conf$$ 2>/System/Devices/null; then
   # We could just check for DJGPP; but this test a) works b) is more generic
   # and c) will remain valid once DJGPP supports symlinks (DJGPP 2.04).
   if test -f conf$$.exe; then
@@ -210,14 +210,14 @@
   else
     as_ln_s='ln -s'
   fi
-elif ln conf$$.file conf$$ 2>/dev/null; then
+elif ln conf$$.file conf$$ 2>/System/Devices/null; then
   as_ln_s=ln
 else
   as_ln_s='cp -p'
 fi
 rm -f conf$$ conf$$.exe conf$$.file
 
-if mkdir -p . 2>/dev/null; then
+if mkdir -p . 2>/System/Devices/null; then
   as_mkdir_p=:
 else
   test -d ./-p && rmdir ./-p
@@ -246,7 +246,7 @@
 # Name of the host.
 # hostname on some systems (SVR3.2, Linux) returns a bogus exit status,
 # so uname gets run too.
-ac_hostname=`(hostname || uname -n) 2>/dev/null | sed 1q`
+ac_hostname=`(hostname || uname -n) 2>/System/Devices/null | sed 1q`
 
 exec 6>&1
 
@@ -259,7 +259,7 @@
 subdirs=
 MFLAGS=
 MAKEFLAGS=
-SHELL=${CONFIG_SHELL-/bin/sh}
+SHELL=${CONFIG_SHELL-/System/Tools/sh}
 
 # Maximum number of lines to put in a shell here document.
 # This variable seems obsolete.  It should probably be removed, and
@@ -318,7 +318,7 @@
 ac_init_version=false
 # The variables have the same names as the options, with
 # dashes changed to underlines.
-cache_file=/dev/null
+cache_file=/System/Devices/null
 exec_prefix=NONE
 no_create=
 no_recursion=
@@ -396,7 +396,7 @@
   -disable-* | --disable-*)
     ac_feature=`expr "x$ac_option" : 'x-*disable-\(.*\)'`
     # Reject names that are not valid shell variable names.
-    expr "x$ac_feature" : ".*[^-_$as_cr_alnum]" >/dev/null &&
+    expr "x$ac_feature" : ".*[^-_$as_cr_alnum]" >/System/Devices/null &&
       { echo "$as_me: error: invalid feature name: $ac_feature" >&2
    { (exit 1); exit 1; }; }
     ac_feature=`echo $ac_feature | sed 's/-/_/g'`
@@ -405,7 +405,7 @@
   -enable-* | --enable-*)
     ac_feature=`expr "x$ac_option" : 'x-*enable-\([^=]*\)'`
     # Reject names that are not valid shell variable names.
-    expr "x$ac_feature" : ".*[^-_$as_cr_alnum]" >/dev/null &&
+    expr "x$ac_feature" : ".*[^-_$as_cr_alnum]" >/System/Devices/null &&
       { echo "$as_me: error: invalid feature name: $ac_feature" >&2
    { (exit 1); exit 1; }; }
     ac_feature=`echo $ac_feature | sed 's/-/_/g'`
@@ -587,7 +587,7 @@
   -with-* | --with-*)
     ac_package=`expr "x$ac_option" : 'x-*with-\([^=]*\)'`
     # Reject names that are not valid shell variable names.
-    expr "x$ac_package" : ".*[^-_$as_cr_alnum]" >/dev/null &&
+    expr "x$ac_package" : ".*[^-_$as_cr_alnum]" >/System/Devices/null &&
       { echo "$as_me: error: invalid package name: $ac_package" >&2
    { (exit 1); exit 1; }; }
     ac_package=`echo $ac_package| sed 's/-/_/g'`
@@ -600,7 +600,7 @@
   -without-* | --without-*)
     ac_package=`expr "x$ac_option" : 'x-*without-\(.*\)'`
     # Reject names that are not valid shell variable names.
-    expr "x$ac_package" : ".*[^-_$as_cr_alnum]" >/dev/null &&
+    expr "x$ac_package" : ".*[^-_$as_cr_alnum]" >/System/Devices/null &&
       { echo "$as_me: error: invalid package name: $ac_package" >&2
    { (exit 1); exit 1; }; }
     ac_package=`echo $ac_package | sed 's/-/_/g'`
@@ -632,7 +632,7 @@
   *=*)
     ac_envvar=`expr "x$ac_option" : 'x\([^=]*\)='`
     # Reject names that are not valid shell variable names.
-    expr "x$ac_envvar" : ".*[^_$as_cr_alnum]" >/dev/null &&
+    expr "x$ac_envvar" : ".*[^_$as_cr_alnum]" >/System/Devices/null &&
       { echo "$as_me: error: invalid variable name: $ac_envvar" >&2
    { (exit 1); exit 1; }; }
     ac_optarg=`echo "$ac_optarg" | sed "s/'/'\\\\\\\\''/g"`
@@ -642,7 +642,7 @@
   *)
     # FIXME: should be removed in autoconf 3.0.
     echo "$as_me: WARNING: you should use --build, --host, --target" >&2
-    expr "x$ac_option" : ".*[^-._$as_cr_alnum]" >/dev/null &&
+    expr "x$ac_option" : ".*[^-._$as_cr_alnum]" >/System/Devices/null &&
       echo "$as_me: WARNING: invalid host type: $ac_option" >&2
     : ${build_alias=$ac_option} ${host_alias=$ac_option} ${target_alias=$ac_option}
     ;;
@@ -700,19 +700,19 @@
 ac_tool_prefix=
 test -n "$host_alias" && ac_tool_prefix=$host_alias-
 
-test "$silent" = yes && exec 6>/dev/null
+test "$silent" = yes && exec 6>/System/Devices/null
 
 
 # Find the source files, if location was not specified.
 if test -z "$srcdir"; then
   ac_srcdir_defaulted=yes
   # Try the directory containing this script, then its parent.
-  ac_confdir=`(dirname "$0") 2>/dev/null ||
+  ac_confdir=`(dirname "$0") 2>/System/Devices/null ||
 $as_expr X"$0" : 'X\(.*[^/]\)//*[^/][^/]*/*$' \| \
 	 X"$0" : 'X\(//\)[^/]' \| \
 	 X"$0" : 'X\(//\)$' \| \
 	 X"$0" : 'X\(/\)' \| \
-	 .     : '\(.\)' 2>/dev/null ||
+	 .     : '\(.\)' 2>/System/Devices/null ||
 echo X"$0" |
     sed '/^X\(.*[^/]\)\/\/*[^/][^/]*\/*$/{ s//\1/; q; }
   	  /^X\(\/\/\)[^/].*/{ s//\1/; q; }
@@ -735,7 +735,7 @@
    { (exit 1); exit 1; }; }
   fi
 fi
-(cd $srcdir && test -r ./$ac_unique_file) 2>/dev/null ||
+(cd $srcdir && test -r ./$ac_unique_file) 2>/System/Devices/null ||
   { echo "$as_me: error: sources are in $srcdir, but \`cd $srcdir' does not work" >&2
    { (exit 1); exit 1; }; }
 srcdir=`echo "$srcdir" | sed 's%\([^\\/]\)[\\/]*$%\1%'`
@@ -1006,22 +1006,22 @@
 ## Platform. ##
 ## --------- ##
 
-hostname = `(hostname || uname -n) 2>/dev/null | sed 1q`
-uname -m = `(uname -m) 2>/dev/null || echo unknown`
-uname -r = `(uname -r) 2>/dev/null || echo unknown`
-uname -s = `(uname -s) 2>/dev/null || echo unknown`
-uname -v = `(uname -v) 2>/dev/null || echo unknown`
-
-/usr/bin/uname -p = `(/usr/bin/uname -p) 2>/dev/null || echo unknown`
-/bin/uname -X     = `(/bin/uname -X) 2>/dev/null     || echo unknown`
-
-/bin/arch              = `(/bin/arch) 2>/dev/null              || echo unknown`
-/usr/bin/arch -k       = `(/usr/bin/arch -k) 2>/dev/null       || echo unknown`
-/usr/convex/getsysinfo = `(/usr/convex/getsysinfo) 2>/dev/null || echo unknown`
-hostinfo               = `(hostinfo) 2>/dev/null               || echo unknown`
-/bin/machine           = `(/bin/machine) 2>/dev/null           || echo unknown`
-/usr/bin/oslevel       = `(/usr/bin/oslevel) 2>/dev/null       || echo unknown`
-/bin/universe          = `(/bin/universe) 2>/dev/null          || echo unknown`
+hostname = `(hostname || uname -n) 2>/System/Devices/null | sed 1q`
+uname -m = `(uname -m) 2>/System/Devices/null || echo unknown`
+uname -r = `(uname -r) 2>/System/Devices/null || echo unknown`
+uname -s = `(uname -s) 2>/System/Devices/null || echo unknown`
+uname -v = `(uname -v) 2>/System/Devices/null || echo unknown`
+
+/System/Tools/uname -p = `(/System/Tools/uname -p) 2>/System/Devices/null || echo unknown`
+/System/Tools/uname -X     = `(/System/Tools/uname -X) 2>/System/Devices/null     || echo unknown`
+
+/System/Tools/arch              = `(/System/Tools/arch) 2>/System/Devices/null              || echo unknown`
+/System/Tools/arch -k       = `(/System/Tools/arch -k) 2>/System/Devices/null       || echo unknown`
+/usr/convex/getsysinfo = `(/usr/convex/getsysinfo) 2>/System/Devices/null || echo unknown`
+hostinfo               = `(hostinfo) 2>/System/Devices/null               || echo unknown`
+/System/Tools/machine           = `(/System/Tools/machine) 2>/System/Devices/null           || echo unknown`
+/System/Tools/oslevel       = `(/System/Tools/oslevel) 2>/System/Devices/null       || echo unknown`
+/System/Tools/universe          = `(/System/Tools/universe) 2>/System/Devices/null          || echo unknown`
 
 _ASUNAME
 
@@ -1231,7 +1231,7 @@
 done
 
 if test -r "$cache_file"; then
-  # Some versions of bash will fail to source /dev/null (special
+  # Some versions of bash will fail to source /System/Devices/null (special
   # files actually), so we avoid doing that.
   if test -f "$cache_file"; then
     { echo "$as_me:$LINENO: loading cache $cache_file" >&5
@@ -1380,7 +1380,7 @@
 # IRIX /sbin/install
 # AIX /bin/install
 # AmigaOS /C/install, which installs bootblocks on floppy discs
-# AIX 4 /usr/bin/installbsd, which doesn't work without a -g flag
+# AIX 4 /System/Tools/installbsd, which doesn't work without a -g flag
 # AFS /usr/afsws/bin/install, which mishandles nonexistent args
 # SVR4 /usr/ucb/install, which tries to use the nonexistent group "staff"
 # OS/2's system install, which has a completely different semantic
@@ -1410,11 +1410,11 @@
       for ac_exec_ext in '' $ac_executable_extensions; do
 	if $as_executable_p "$as_dir/$ac_prog$ac_exec_ext"; then
 	  if test $ac_prog = install &&
-	    grep dspmsg "$as_dir/$ac_prog$ac_exec_ext" >/dev/null 2>&1; then
+	    grep dspmsg "$as_dir/$ac_prog$ac_exec_ext" >/System/Devices/null 2>&1; then
 	    # AIX install.  It has an incompatible calling convention.
 	    :
 	  elif test $ac_prog = install &&
-	    grep pwplus "$as_dir/$ac_prog$ac_exec_ext" >/dev/null 2>&1; then
+	    grep pwplus "$as_dir/$ac_prog$ac_exec_ext" >/System/Devices/null 2>&1; then
 	    # program-specific install script used by HP pwplus--don't use.
 	    :
 	  else
@@ -1462,7 +1462,7 @@
 # (eg FreeBSD returns the mod time of the symlink's containing
 # directory).
 if (
-   set X `ls -Lt $srcdir/configure conftest.file 2> /dev/null`
+   set X `ls -Lt $srcdir/configure conftest.file 2> /System/Devices/null`
    if test "$*" = "X"; then
       # -L didn't work.
       set X `ls -t $srcdir/configure conftest.file`
@@ -1522,7 +1522,7 @@
 echo "$as_me: WARNING: \`missing' script is too old or missing" >&2;}
 fi
 
-if mkdir -p --version . >/dev/null 2>&1 && test ! -d ./--version; then
+if mkdir -p --version . >/System/Devices/null 2>&1 && test ! -d ./--version; then
   # Keeping the `.' argument allows $(mkdir_p) to be used without
   # argument.  Indeed, we sometimes output rules like
   #   $(mkdir_p) $(somedir)
@@ -1598,7 +1598,7 @@
 	@echo 'ac_maketemp="$(MAKE)"'
 _ACEOF
 # GNU make sometimes prints "make[1]: Entering...", which would confuse us.
-eval `${MAKE-make} -f conftest.make 2>/dev/null | grep temp=`
+eval `${MAKE-make} -f conftest.make 2>/System/Devices/null | grep temp=`
 if test -n "$ac_maketemp"; then
   eval ac_cv_prog_make_${ac_make}_set=yes
 else
@@ -1616,14 +1616,14 @@
   SET_MAKE="MAKE=${MAKE-make}"
 fi
 
-rm -rf .tst 2>/dev/null
-mkdir .tst 2>/dev/null
+rm -rf .tst 2>/System/Devices/null
+mkdir .tst 2>/System/Devices/null
 if test -d .tst; then
   am__leading_dot=.
 else
   am__leading_dot=_
 fi
-rmdir .tst 2>/dev/null
+rmdir .tst 2>/System/Devices/null
 
 # test to see if srcdir already configured
 if test "`cd $srcdir && pwd`" != "`pwd`" &&
@@ -1635,7 +1635,7 @@
 
 # test whether we have cygpath
 if test -z "$CYGPATH_W"; then
-  if (cygpath --version) >/dev/null 2>/dev/null; then
+  if (cygpath --version) >/System/Devices/null 2>/System/Devices/null; then
     CYGPATH_W='cygpath -w'
   else
     CYGPATH_W=echo
@@ -1831,7 +1831,7 @@
 if test "${ac_cv_prog_egrep+set}" = set; then
   echo $ECHO_N "(cached) $ECHO_C" >&6
 else
-  if echo a | (grep -E '(a|b)') >/dev/null 2>&1
+  if echo a | (grep -E '(a|b)') >/System/Devices/null 2>&1
     then ac_cv_prog_egrep='grep -E'
     else ac_cv_prog_egrep='egrep'
     fi
@@ -2212,18 +2212,18 @@
 echo "$as_me:$LINENO:" \
      "checking for C compiler version" >&5
 ac_compiler=`set X $ac_compile; echo $2`
-{ (eval echo "$as_me:$LINENO: \"$ac_compiler --version </dev/null >&5\"") >&5
-  (eval $ac_compiler --version </dev/null >&5) 2>&5
+{ (eval echo "$as_me:$LINENO: \"$ac_compiler --version </System/Devices/null >&5\"") >&5
+  (eval $ac_compiler --version </System/Devices/null >&5) 2>&5
   ac_status=$?
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); }
-{ (eval echo "$as_me:$LINENO: \"$ac_compiler -v </dev/null >&5\"") >&5
-  (eval $ac_compiler -v </dev/null >&5) 2>&5
+{ (eval echo "$as_me:$LINENO: \"$ac_compiler -v </System/Devices/null >&5\"") >&5
+  (eval $ac_compiler -v </System/Devices/null >&5) 2>&5
   ac_status=$?
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); }
-{ (eval echo "$as_me:$LINENO: \"$ac_compiler -V </dev/null >&5\"") >&5
-  (eval $ac_compiler -V </dev/null >&5) 2>&5
+{ (eval echo "$as_me:$LINENO: \"$ac_compiler -V </System/Devices/null >&5\"") >&5
+  (eval $ac_compiler -V </System/Devices/null >&5) 2>&5
   ac_status=$?
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); }
@@ -2405,7 +2405,7 @@
   ac_status=$?
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); }; then
-  for ac_file in `(ls conftest.o conftest.obj; ls conftest.*) 2>/dev/null`; do
+  for ac_file in `(ls conftest.o conftest.obj; ls conftest.*) 2>/System/Devices/null`; do
   case $ac_file in
     *.$ac_ext | *.xcoff | *.tds | *.d | *.pdb | *.xSYM | *.bb | *.bbg ) ;;
     *) ac_cv_objext=`expr "$ac_file" : '.*\.\(.*\)'`
@@ -2846,7 +2846,7 @@
 # In particular we don't look at `^make:' because GNU make might
 # be invoked under some other name (usually "gmake"), in which
 # case it prints its new name instead of `make'.
-if test "`$am_make -s -f confmf 2> /dev/null | grep -v 'ing directory'`" = "done"; then
+if test "`$am_make -s -f confmf 2> /System/Devices/null | grep -v 'ing directory'`" = "done"; then
    am__include=include
    am__quote=
    _am_result=GNU
@@ -2854,7 +2854,7 @@
 # Now try BSD make style include.
 if test "$am__include" = "#"; then
    echo '.include "confinc"' > confmf
-   if test "`$am_make -s -f confmf 2> /dev/null`" = "done"; then
+   if test "`$am_make -s -f confmf 2> /System/Devices/null`" = "done"; then
       am__include=.include
       am__quote="\""
       _am_result=BSD
@@ -2930,7 +2930,7 @@
     for i in 1 2 3 4 5 6; do
       echo '#include "conftst'$i'.h"' >> sub/conftest.c
       # Using `: > sub/conftst$i.h' creates only sub/conftst1.h with
-      # Solaris 8's {/usr,}/bin/sh.
+      # Solaris 8's {/usr,}/System/Tools/sh.
       touch sub/conftst$i.h
     done
     echo "${am__include} ${am__quote}sub/conftest.Po${am__quote}" > confmf
@@ -2954,10 +2954,10 @@
        source=sub/conftest.c object=sub/conftest.${OBJEXT-o} \
        depfile=sub/conftest.Po tmpdepfile=sub/conftest.TPo \
        $SHELL ./depcomp $depcc -c -o sub/conftest.${OBJEXT-o} sub/conftest.c \
-         >/dev/null 2>conftest.err &&
-       grep sub/conftst6.h sub/conftest.Po > /dev/null 2>&1 &&
-       grep sub/conftest.${OBJEXT-o} sub/conftest.Po > /dev/null 2>&1 &&
-       ${MAKE-make} -s -f confmf > /dev/null 2>&1; then
+         >/System/Devices/null 2>conftest.err &&
+       grep sub/conftst6.h sub/conftest.Po > /System/Devices/null 2>&1 &&
+       grep sub/conftest.${OBJEXT-o} sub/conftest.Po > /System/Devices/null 2>&1 &&
+       ${MAKE-make} -s -f confmf > /System/Devices/null 2>&1; then
       # icc doesn't choke on unknown options, it will just issue warnings
       # or remarks (even with -Werror).  So we grep stderr for any message
       # that says an option was ignored or not supported.
@@ -2966,7 +2966,7 @@
       # The diagnosis changed in icc 8.0:
       #   icc: Command line remark: option '-MP' not supported
       if (grep 'ignoring option' conftest.err ||
-          grep 'not supported' conftest.err) >/dev/null 2>&1; then :; else
+          grep 'not supported' conftest.err) >/System/Devices/null 2>&1; then :; else
         am_cv_CC_dependencies_compiler_type=$depmode
         break
       fi
@@ -3044,7 +3044,7 @@
   rm -f conftest.er1
   cat conftest.err >&5
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
-  (exit $ac_status); } >/dev/null; then
+  (exit $ac_status); } >/System/Devices/null; then
   if test -s conftest.err; then
     ac_cpp_err=$ac_c_preproc_warn_flag
     ac_cpp_err=$ac_cpp_err$ac_c_werror_flag
@@ -3082,7 +3082,7 @@
   rm -f conftest.er1
   cat conftest.err >&5
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
-  (exit $ac_status); } >/dev/null; then
+  (exit $ac_status); } >/System/Devices/null; then
   if test -s conftest.err; then
     ac_cpp_err=$ac_c_preproc_warn_flag
     ac_cpp_err=$ac_cpp_err$ac_c_werror_flag
@@ -3151,7 +3151,7 @@
   rm -f conftest.er1
   cat conftest.err >&5
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
-  (exit $ac_status); } >/dev/null; then
+  (exit $ac_status); } >/System/Devices/null; then
   if test -s conftest.err; then
     ac_cpp_err=$ac_c_preproc_warn_flag
     ac_cpp_err=$ac_cpp_err$ac_c_werror_flag
@@ -3189,7 +3189,7 @@
   rm -f conftest.er1
   cat conftest.err >&5
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
-  (exit $ac_status); } >/dev/null; then
+  (exit $ac_status); } >/System/Devices/null; then
   if test -s conftest.err; then
     ac_cpp_err=$ac_c_preproc_warn_flag
     ac_cpp_err=$ac_cpp_err$ac_c_werror_flag
@@ -3323,7 +3323,7 @@
 # IRIX /sbin/install
 # AIX /bin/install
 # AmigaOS /C/install, which installs bootblocks on floppy discs
-# AIX 4 /usr/bin/installbsd, which doesn't work without a -g flag
+# AIX 4 /System/Tools/installbsd, which doesn't work without a -g flag
 # AFS /usr/afsws/bin/install, which mishandles nonexistent args
 # SVR4 /usr/ucb/install, which tries to use the nonexistent group "staff"
 # OS/2's system install, which has a completely different semantic
@@ -3353,11 +3353,11 @@
       for ac_exec_ext in '' $ac_executable_extensions; do
 	if $as_executable_p "$as_dir/$ac_prog$ac_exec_ext"; then
 	  if test $ac_prog = install &&
-	    grep dspmsg "$as_dir/$ac_prog$ac_exec_ext" >/dev/null 2>&1; then
+	    grep dspmsg "$as_dir/$ac_prog$ac_exec_ext" >/System/Devices/null 2>&1; then
 	    # AIX install.  It has an incompatible calling convention.
 	    :
 	  elif test $ac_prog = install &&
-	    grep pwplus "$as_dir/$ac_prog$ac_exec_ext" >/dev/null 2>&1; then
+	    grep pwplus "$as_dir/$ac_prog$ac_exec_ext" >/System/Devices/null 2>&1; then
 	    # program-specific install script used by HP pwplus--don't use.
 	    :
 	  else
@@ -3406,7 +3406,7 @@
 	@echo 'ac_maketemp="$(MAKE)"'
 _ACEOF
 # GNU make sometimes prints "make[1]: Entering...", which would confuse us.
-eval `${MAKE-make} -f conftest.make 2>/dev/null | grep temp=`
+eval `${MAKE-make} -f conftest.make 2>/System/Devices/null | grep temp=`
 if test -n "$ac_maketemp"; then
   eval ac_cv_prog_make_${ac_make}_set=yes
 else
@@ -3469,7 +3469,7 @@
 
 _ACEOF
 if (eval "$ac_cpp conftest.$ac_ext") 2>&5 |
-  $EGREP "yes" >/dev/null 2>&1; then
+  $EGREP "yes" >/System/Devices/null 2>&1; then
   echo "$as_me:$LINENO: result: yes" >&5
 echo "${ECHO_T}yes" >&6
 cat >>confdefs.h <<\_ACEOF
@@ -3676,7 +3676,7 @@
 
 _ACEOF
 if (eval "$ac_cpp conftest.$ac_ext") 2>&5 |
-  $EGREP "memchr" >/dev/null 2>&1; then
+  $EGREP "memchr" >/System/Devices/null 2>&1; then
   :
 else
   ac_cv_header_stdc=no
@@ -3697,7 +3697,7 @@
 
 _ACEOF
 if (eval "$ac_cpp conftest.$ac_ext") 2>&5 |
-  $EGREP "free" >/dev/null 2>&1; then
+  $EGREP "free" >/System/Devices/null 2>&1; then
   :
 else
   ac_cv_header_stdc=no
@@ -3919,7 +3919,7 @@
   rm -f conftest.er1
   cat conftest.err >&5
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
-  (exit $ac_status); } >/dev/null; then
+  (exit $ac_status); } >/System/Devices/null; then
   if test -s conftest.err; then
     ac_cpp_err=$ac_c_preproc_warn_flag
     ac_cpp_err=$ac_cpp_err$ac_c_werror_flag
@@ -4743,18 +4743,18 @@
 echo "$as_me:$LINENO:" \
      "checking for C compiler version" >&5
 ac_compiler=`set X $ac_compile; echo $2`
-{ (eval echo "$as_me:$LINENO: \"$ac_compiler --version </dev/null >&5\"") >&5
-  (eval $ac_compiler --version </dev/null >&5) 2>&5
+{ (eval echo "$as_me:$LINENO: \"$ac_compiler --version </System/Devices/null >&5\"") >&5
+  (eval $ac_compiler --version </System/Devices/null >&5) 2>&5
   ac_status=$?
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); }
-{ (eval echo "$as_me:$LINENO: \"$ac_compiler -v </dev/null >&5\"") >&5
-  (eval $ac_compiler -v </dev/null >&5) 2>&5
+{ (eval echo "$as_me:$LINENO: \"$ac_compiler -v </System/Devices/null >&5\"") >&5
+  (eval $ac_compiler -v </System/Devices/null >&5) 2>&5
   ac_status=$?
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); }
-{ (eval echo "$as_me:$LINENO: \"$ac_compiler -V </dev/null >&5\"") >&5
-  (eval $ac_compiler -V </dev/null >&5) 2>&5
+{ (eval echo "$as_me:$LINENO: \"$ac_compiler -V </System/Devices/null >&5\"") >&5
+  (eval $ac_compiler -V </System/Devices/null >&5) 2>&5
   ac_status=$?
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); }
@@ -5195,7 +5195,7 @@
     for i in 1 2 3 4 5 6; do
       echo '#include "conftst'$i'.h"' >> sub/conftest.c
       # Using `: > sub/conftst$i.h' creates only sub/conftst1.h with
-      # Solaris 8's {/usr,}/bin/sh.
+      # Solaris 8's {/usr,}/System/Tools/sh.
       touch sub/conftst$i.h
     done
     echo "${am__include} ${am__quote}sub/conftest.Po${am__quote}" > confmf
@@ -5219,10 +5219,10 @@
        source=sub/conftest.c object=sub/conftest.${OBJEXT-o} \
        depfile=sub/conftest.Po tmpdepfile=sub/conftest.TPo \
        $SHELL ./depcomp $depcc -c -o sub/conftest.${OBJEXT-o} sub/conftest.c \
-         >/dev/null 2>conftest.err &&
-       grep sub/conftst6.h sub/conftest.Po > /dev/null 2>&1 &&
-       grep sub/conftest.${OBJEXT-o} sub/conftest.Po > /dev/null 2>&1 &&
-       ${MAKE-make} -s -f confmf > /dev/null 2>&1; then
+         >/System/Devices/null 2>conftest.err &&
+       grep sub/conftst6.h sub/conftest.Po > /System/Devices/null 2>&1 &&
+       grep sub/conftest.${OBJEXT-o} sub/conftest.Po > /System/Devices/null 2>&1 &&
+       ${MAKE-make} -s -f confmf > /System/Devices/null 2>&1; then
       # icc doesn't choke on unknown options, it will just issue warnings
       # or remarks (even with -Werror).  So we grep stderr for any message
       # that says an option was ignored or not supported.
@@ -5231,7 +5231,7 @@
       # The diagnosis changed in icc 8.0:
       #   icc: Command line remark: option '-MP' not supported
       if (grep 'ignoring option' conftest.err ||
-          grep 'not supported' conftest.err) >/dev/null 2>&1; then :; else
+          grep 'not supported' conftest.err) >/System/Devices/null 2>&1; then :; else
         am_cv_CC_dependencies_compiler_type=$depmode
         break
       fi
@@ -5369,7 +5369,7 @@
   rm -f conftest.er1
   cat conftest.err >&5
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
-  (exit $ac_status); } >/dev/null; then
+  (exit $ac_status); } >/System/Devices/null; then
   if test -s conftest.err; then
     ac_cpp_err=$ac_c_preproc_warn_flag
     ac_cpp_err=$ac_cpp_err$ac_c_werror_flag
@@ -5445,7 +5445,7 @@
 
 
 
-case `(uname) 2> /dev/null` in
+case `(uname) 2> /System/Devices/null` in
 *CYGWIN*)
 	with_libiconv_prefix=no
 	with_libintl_prefix=no
@@ -5488,10 +5488,10 @@
 # Prepare PATH_SEPARATOR.
 # The user is always right.
 if test "${PATH_SEPARATOR+set}" != set; then
-  echo "#! /bin/sh" >conf$$.sh
+  echo "#! /System/Tools/sh" >conf$$.sh
   echo  "exit 0"   >>conf$$.sh
   chmod +x conf$$.sh
-  if (PATH="/nonexistent;."; conf$$.sh) >/dev/null 2>&1; then
+  if (PATH="/nonexistent;."; conf$$.sh) >/System/Devices/null 2>&1; then
     PATH_SEPARATOR=';'
   else
     PATH_SEPARATOR=:
@@ -5502,11 +5502,11 @@
 # Find out how to test for executable files. Don't use a zero-byte file,
 # as systems may use methods other than mode bits to determine executability.
 cat >conf$$.file <<_ASEOF
-#! /bin/sh
+#! /System/Tools/sh
 exit 0
 _ASEOF
 chmod +x conf$$.file
-if test -x conf$$.file >/dev/null 2>&1; then
+if test -x conf$$.file >/System/Devices/null 2>&1; then
   ac_executable_p="test -x"
 else
   ac_executable_p="test -f"
@@ -5531,8 +5531,8 @@
       test -z "$ac_dir" && ac_dir=.
       for ac_exec_ext in '' $ac_executable_extensions; do
         if $ac_executable_p "$ac_dir/$ac_word$ac_exec_ext"; then
-          if $ac_dir/$ac_word --statistics /dev/null >/dev/null 2>&1 &&
-     (if $ac_dir/$ac_word --statistics /dev/null 2>&1 >/dev/null | grep usage >/dev/null; then exit 1; else exit 0; fi); then
+          if $ac_dir/$ac_word --statistics /System/Devices/null >/System/Devices/null 2>&1 &&
+     (if $ac_dir/$ac_word --statistics /System/Devices/null 2>&1 >/System/Devices/null | grep usage >/System/Devices/null; then exit 1; else exit 0; fi); then
             ac_cv_path_MSGFMT="$ac_dir/$ac_word$ac_exec_ext"
             break 2
           fi
@@ -5598,10 +5598,10 @@
 # Prepare PATH_SEPARATOR.
 # The user is always right.
 if test "${PATH_SEPARATOR+set}" != set; then
-  echo "#! /bin/sh" >conf$$.sh
+  echo "#! /System/Tools/sh" >conf$$.sh
   echo  "exit 0"   >>conf$$.sh
   chmod +x conf$$.sh
-  if (PATH="/nonexistent;."; conf$$.sh) >/dev/null 2>&1; then
+  if (PATH="/nonexistent;."; conf$$.sh) >/System/Devices/null 2>&1; then
     PATH_SEPARATOR=';'
   else
     PATH_SEPARATOR=:
@@ -5612,11 +5612,11 @@
 # Find out how to test for executable files. Don't use a zero-byte file,
 # as systems may use methods other than mode bits to determine executability.
 cat >conf$$.file <<_ASEOF
-#! /bin/sh
+#! /System/Tools/sh
 exit 0
 _ASEOF
 chmod +x conf$$.file
-if test -x conf$$.file >/dev/null 2>&1; then
+if test -x conf$$.file >/System/Devices/null 2>&1; then
   ac_executable_p="test -x"
 else
   ac_executable_p="test -f"
@@ -5641,8 +5641,8 @@
       test -z "$ac_dir" && ac_dir=.
       for ac_exec_ext in '' $ac_executable_extensions; do
         if $ac_executable_p "$ac_dir/$ac_word$ac_exec_ext"; then
-          if $ac_dir/$ac_word --omit-header --copyright-holder= --msgid-bugs-address= /dev/null >/dev/null 2>&1 &&
-     (if $ac_dir/$ac_word --omit-header --copyright-holder= --msgid-bugs-address= /dev/null 2>&1 >/dev/null | grep usage >/dev/null; then exit 1; else exit 0; fi); then
+          if $ac_dir/$ac_word --omit-header --copyright-holder= --msgid-bugs-address= /System/Devices/null >/System/Devices/null 2>&1 &&
+     (if $ac_dir/$ac_word --omit-header --copyright-holder= --msgid-bugs-address= /System/Devices/null 2>&1 >/System/Devices/null | grep usage >/System/Devices/null; then exit 1; else exit 0; fi); then
             ac_cv_path_XGETTEXT="$ac_dir/$ac_word$ac_exec_ext"
             break 2
           fi
@@ -5669,10 +5669,10 @@
 # Prepare PATH_SEPARATOR.
 # The user is always right.
 if test "${PATH_SEPARATOR+set}" != set; then
-  echo "#! /bin/sh" >conf$$.sh
+  echo "#! /System/Tools/sh" >conf$$.sh
   echo  "exit 0"   >>conf$$.sh
   chmod +x conf$$.sh
-  if (PATH="/nonexistent;."; conf$$.sh) >/dev/null 2>&1; then
+  if (PATH="/nonexistent;."; conf$$.sh) >/System/Devices/null 2>&1; then
     PATH_SEPARATOR=';'
   else
     PATH_SEPARATOR=:
@@ -5683,11 +5683,11 @@
 # Find out how to test for executable files. Don't use a zero-byte file,
 # as systems may use methods other than mode bits to determine executability.
 cat >conf$$.file <<_ASEOF
-#! /bin/sh
+#! /System/Tools/sh
 exit 0
 _ASEOF
 chmod +x conf$$.file
-if test -x conf$$.file >/dev/null 2>&1; then
+if test -x conf$$.file >/System/Devices/null 2>&1; then
   ac_executable_p="test -x"
 else
   ac_executable_p="test -f"
@@ -5712,7 +5712,7 @@
       test -z "$ac_dir" && ac_dir=.
       for ac_exec_ext in '' $ac_executable_extensions; do
         if $ac_executable_p "$ac_dir/$ac_word$ac_exec_ext"; then
-          if $ac_dir/$ac_word --update -q /dev/null /dev/null >/dev/null 2>&1; then
+          if $ac_dir/$ac_word --update -q /System/Devices/null /System/Devices/null >/System/Devices/null 2>&1; then
             ac_cv_path_MSGMERGE="$ac_dir/$ac_word$ac_exec_ext"
             break 2
           fi
@@ -5735,8 +5735,8 @@
 
 
       if test "$GMSGFMT" != ":"; then
-            if $GMSGFMT --statistics /dev/null >/dev/null 2>&1 &&
-       (if $GMSGFMT --statistics /dev/null 2>&1 >/dev/null | grep usage >/dev/null; then exit 1; else exit 0; fi); then
+            if $GMSGFMT --statistics /System/Devices/null >/System/Devices/null 2>&1 &&
+       (if $GMSGFMT --statistics /System/Devices/null 2>&1 >/System/Devices/null | grep usage >/System/Devices/null; then exit 1; else exit 0; fi); then
       : ;
     else
       GMSGFMT=`echo "$GMSGFMT" | sed -e 's,^.*/,,'`
@@ -5747,8 +5747,8 @@
   fi
 
       if test "$XGETTEXT" != ":"; then
-            if $XGETTEXT --omit-header --copyright-holder= --msgid-bugs-address= /dev/null >/dev/null 2>&1 &&
-       (if $XGETTEXT --omit-header --copyright-holder= --msgid-bugs-address= /dev/null 2>&1 >/dev/null | grep usage >/dev/null; then exit 1; else exit 0; fi); then
+            if $XGETTEXT --omit-header --copyright-holder= --msgid-bugs-address= /System/Devices/null >/System/Devices/null 2>&1 &&
+       (if $XGETTEXT --omit-header --copyright-holder= --msgid-bugs-address= /System/Devices/null 2>&1 >/System/Devices/null | grep usage >/System/Devices/null; then exit 1; else exit 0; fi); then
       : ;
     else
       echo "$as_me:$LINENO: result: found xgettext program is not GNU xgettext; ignore it" >&5
@@ -5762,7 +5762,7 @@
 
 
 # Make sure we can run config.sub.
-$ac_config_sub sun4 >/dev/null 2>&1 ||
+$ac_config_sub sun4 >/System/Devices/null 2>&1 ||
   { { echo "$as_me:$LINENO: error: cannot run $ac_config_sub" >&5
 echo "$as_me: error: cannot run $ac_config_sub" >&2;}
    { (exit 1); exit 1; }; }
@@ -6670,7 +6670,7 @@
 
 _ACEOF
 if (eval "$ac_cpp conftest.$ac_ext") 2>&5 |
-  $EGREP "notposix" >/dev/null 2>&1; then
+  $EGREP "notposix" >/System/Devices/null 2>&1; then
   gt_cv_func_printf_posix="guessing no"
 else
   gt_cv_func_printf_posix="guessing yes"
@@ -6911,7 +6911,7 @@
 
 _ACEOF
 if (eval "$ac_cpp conftest.$ac_ext") 2>&5 |
-  $EGREP "webecray" >/dev/null 2>&1; then
+  $EGREP "webecray" >/System/Devices/null 2>&1; then
   ac_cv_os_cray=yes
 else
   ac_cv_os_cray=no
@@ -7170,7 +7170,7 @@
   rm -f conftest.er1
   cat conftest.err >&5
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
-  (exit $ac_status); } >/dev/null; then
+  (exit $ac_status); } >/System/Devices/null; then
   if test -s conftest.err; then
     ac_cpp_err=$ac_c_preproc_warn_flag
     ac_cpp_err=$ac_cpp_err$ac_c_werror_flag
@@ -7543,7 +7543,7 @@
 
 _ACEOF
 if (eval "$ac_cpp conftest.$ac_ext") 2>&5 |
-  $EGREP "Lucky GNU user" >/dev/null 2>&1; then
+  $EGREP "Lucky GNU user" >/System/Devices/null 2>&1; then
   ac_cv_gnu_library_2_1=yes
 else
   ac_cv_gnu_library_2_1=no
@@ -7956,7 +7956,7 @@
   rm -f conftest.er1
   cat conftest.err >&5
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
-  (exit $ac_status); } >/dev/null; then
+  (exit $ac_status); } >/System/Devices/null; then
   if test -s conftest.err; then
     ac_cpp_err=$ac_c_preproc_warn_flag
     ac_cpp_err=$ac_cpp_err$ac_c_werror_flag
@@ -8050,7 +8050,7 @@
 
 _ACEOF
 if (eval "$ac_cpp conftest.$ac_ext") 2>&5 |
-  $EGREP "Found it" >/dev/null 2>&1; then
+  $EGREP "Found it" >/System/Devices/null 2>&1; then
   result=yes
 fi
 rm -f conftest*
@@ -9187,7 +9187,7 @@
   rm -f conftest.er1
   cat conftest.err >&5
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
-  (exit $ac_status); } >/dev/null; then
+  (exit $ac_status); } >/System/Devices/null; then
   if test -s conftest.err; then
     ac_cpp_err=$ac_c_preproc_warn_flag
     ac_cpp_err=$ac_cpp_err$ac_c_werror_flag
@@ -9289,10 +9289,10 @@
 # Prepare PATH_SEPARATOR.
 # The user is always right.
 if test "${PATH_SEPARATOR+set}" != set; then
-  echo "#! /bin/sh" >conf$$.sh
+  echo "#! /System/Tools/sh" >conf$$.sh
   echo  "exit 0"   >>conf$$.sh
   chmod +x conf$$.sh
-  if (PATH="/nonexistent;."; conf$$.sh) >/dev/null 2>&1; then
+  if (PATH="/nonexistent;."; conf$$.sh) >/System/Devices/null 2>&1; then
     PATH_SEPARATOR=';'
   else
     PATH_SEPARATOR=:
@@ -9317,7 +9317,7 @@
       re_direlt='/[^/][^/]*/\.\./'
       # Canonicalize the path of ld
       ac_prog=`echo $ac_prog| sed 's%\\\\%/%g'`
-      while echo $ac_prog | grep "$re_direlt" > /dev/null 2>&1; do
+      while echo $ac_prog | grep "$re_direlt" > /System/Devices/null 2>&1; do
 	ac_prog=`echo $ac_prog| sed "s%$re_direlt%/%"`
       done
       test -z "$LD" && LD="$ac_prog"
@@ -9350,7 +9350,7 @@
       # Check to see if the program is GNU ld.  I'd rather use --version,
       # but apparently some GNU ld's only accept -v.
       # Break only if it was the GNU/non-GNU ld that we prefer.
-      case `"$acl_cv_path_LD" -v 2>&1 < /dev/null` in
+      case `"$acl_cv_path_LD" -v 2>&1 < /System/Devices/null` in
       *GNU* | *'with BFD'*)
 	test "$with_gnu_ld" != no && break ;;
       *)
@@ -9381,7 +9381,7 @@
   echo $ECHO_N "(cached) $ECHO_C" >&6
 else
   # I'd rather use --version here, but apparently some GNU ld's only accept -v.
-case `$LD -v 2>&1 </dev/null` in
+case `$LD -v 2>&1 </System/Devices/null` in
 *GNU* | *'with BFD'*)
   acl_cv_prog_gnu_ld=yes ;;
 *)
@@ -9401,7 +9401,7 @@
 else
 
     CC="$CC" GCC="$GCC" LDFLAGS="$LDFLAGS" LD="$LD" with_gnu_ld="$with_gnu_ld" \
-    ${CONFIG_SHELL-/bin/sh} "$ac_aux_dir/config.rpath" "$host" > conftest.sh
+    ${CONFIG_SHELL-/System/Tools/sh} "$ac_aux_dir/config.rpath" "$host" > conftest.sh
     . ./conftest.sh
     rm -f ./conftest.sh
     acl_cv_rpath=done
@@ -9966,7 +9966,7 @@
   rm -f conftest.er1
   cat conftest.err >&5
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
-  (exit $ac_status); } >/dev/null; then
+  (exit $ac_status); } >/System/Devices/null; then
   if test -s conftest.err; then
     ac_cpp_err=$ac_c_preproc_warn_flag
     ac_cpp_err=$ac_cpp_err$ac_c_werror_flag
@@ -11814,7 +11814,7 @@
 
 _ACEOF
 if (eval "$ac_cpp conftest.$ac_ext") 2>&5 |
-  $EGREP "memchr" >/dev/null 2>&1; then
+  $EGREP "memchr" >/System/Devices/null 2>&1; then
   :
 else
   ac_cv_header_stdc=no
@@ -11835,7 +11835,7 @@
 
 _ACEOF
 if (eval "$ac_cpp conftest.$ac_ext") 2>&5 |
-  $EGREP "free" >/dev/null 2>&1; then
+  $EGREP "free" >/System/Devices/null 2>&1; then
   :
 else
   ac_cv_header_stdc=no
@@ -12145,7 +12145,7 @@
   rm -f conftest.er1
   cat conftest.err >&5
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
-  (exit $ac_status); } >/dev/null; then
+  (exit $ac_status); } >/System/Devices/null; then
   if test -s conftest.err; then
     ac_cpp_err=$ac_c_preproc_warn_flag
     ac_cpp_err=$ac_cpp_err$ac_c_werror_flag
@@ -12298,7 +12298,7 @@
   rm -f conftest.er1
   cat conftest.err >&5
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
-  (exit $ac_status); } >/dev/null; then
+  (exit $ac_status); } >/System/Devices/null; then
   if test -s conftest.err; then
     ac_cpp_err=$ac_c_preproc_warn_flag
     ac_cpp_err=$ac_cpp_err$ac_c_werror_flag
@@ -12449,7 +12449,7 @@
   rm -f conftest.er1
   cat conftest.err >&5
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
-  (exit $ac_status); } >/dev/null; then
+  (exit $ac_status); } >/System/Devices/null; then
   if test -s conftest.err; then
     ac_cpp_err=$ac_c_preproc_warn_flag
     ac_cpp_err=$ac_cpp_err$ac_c_werror_flag
@@ -12741,7 +12741,7 @@
 
 _ACEOF
 if (eval "$ac_cpp conftest.$ac_ext") 2>&5 |
-  $EGREP "uid_t" >/dev/null 2>&1; then
+  $EGREP "uid_t" >/System/Devices/null 2>&1; then
   ac_cv_type_uid_t=yes
 else
   ac_cv_type_uid_t=no
@@ -12834,7 +12834,7 @@
 
 _ACEOF
 if (eval "$ac_cpp conftest.$ac_ext") 2>&5 |
-  $EGREP "getgroups.*int.*gid_t" >/dev/null 2>&1; then
+  $EGREP "getgroups.*int.*gid_t" >/System/Devices/null 2>&1; then
   ac_cv_type_getgroups=gid_t
 else
   ac_cv_type_getgroups=int
@@ -13148,7 +13148,7 @@
 
 _ACEOF
 if (eval "$ac_cpp conftest.$ac_ext") 2>&5 |
-  $EGREP "int.*sprintf" >/dev/null 2>&1; then
+  $EGREP "int.*sprintf" >/System/Devices/null 2>&1; then
 
 cat >>confdefs.h <<\_ACEOF
 #define SPRINTF_RET int
@@ -13543,7 +13543,7 @@
   rm -f conftest.er1
   cat conftest.err >&5
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
-  (exit $ac_status); } >/dev/null; then
+  (exit $ac_status); } >/System/Devices/null; then
   if test -s conftest.err; then
     ac_cpp_err=$ac_c_preproc_warn_flag
     ac_cpp_err=$ac_cpp_err$ac_c_werror_flag
@@ -13868,7 +13868,7 @@
   rm -f conftest.er1
   cat conftest.err >&5
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
-  (exit $ac_status); } >/dev/null; then
+  (exit $ac_status); } >/System/Devices/null; then
   if test -s conftest.err; then
     ac_cpp_err=$ac_c_preproc_warn_flag
     ac_cpp_err=$ac_cpp_err$ac_c_werror_flag
@@ -14602,7 +14602,7 @@
   rm -f conftest.er1
   cat conftest.err >&5
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
-  (exit $ac_status); } >/dev/null; then
+  (exit $ac_status); } >/System/Devices/null; then
   if test -s conftest.err; then
     ac_cpp_err=$ac_c_preproc_warn_flag
     ac_cpp_err=$ac_cpp_err$ac_c_werror_flag
@@ -14677,7 +14677,7 @@
 	then
 		# Add others here as appropriate,
 		# one day use GNU libtool.
-		if uname | $EGREP -i 'linux|freebsd|cygwin' > /dev/null
+		if uname | $EGREP -i 'linux|freebsd|cygwin' > /System/Devices/null
 		then
 			LDFLAGS="$LDFLAGS -export-dynamic"
 		fi
@@ -14764,7 +14764,7 @@
 
 
 
-case `(uname) 2> /dev/null` in
+case `(uname) 2> /System/Devices/null` in
 *VMS*|*BeOS*|*OS/2*|*MS-DOS*)
 
 cat >>confdefs.h <<\_ACEOF
@@ -15966,7 +15966,7 @@
 char *s = x(teststring);
 _ACEOF
 if (eval "$ac_cpp conftest.$ac_ext") 2>&5 |
-  $EGREP "#teststring" >/dev/null 2>&1; then
+  $EGREP "#teststring" >/System/Devices/null 2>&1; then
   ac_cv_c_stringize=no
 else
   ac_cv_c_stringize=yes
@@ -16034,9 +16034,9 @@
      t end
      /^ac_cv_env/!s/^\([^=]*\)=\(.*\)$/\1=${\1=\2}/
      : end' >>confcache
-if diff $cache_file confcache >/dev/null 2>&1; then :; else
+if diff $cache_file confcache >/System/Devices/null 2>&1; then :; else
   if test -w $cache_file; then
-    test "x$cache_file" != "x/dev/null" && echo "updating cache $cache_file"
+    test "x$cache_file" != "x/System/Devices/null" && echo "updating cache $cache_file"
     cat confcache >$cache_file
   else
     echo "not updating unwritable cache $cache_file"
@@ -16126,19 +16126,19 @@
 ## --------------------- ##
 
 # Be Bourne compatible
-if test -n "${ZSH_VERSION+set}" && (emulate sh) >/dev/null 2>&1; then
+if test -n "${ZSH_VERSION+set}" && (emulate sh) >/System/Devices/null 2>&1; then
   emulate sh
   NULLCMD=:
   # Zsh 3.x and 4.x performs word splitting on ${1+"$@"}, which
   # is contrary to our usage.  Disable this feature.
   alias -g '${1+"$@"}'='"$@"'
-elif test -n "${BASH_VERSION+set}" && (set -o posix) >/dev/null 2>&1; then
+elif test -n "${BASH_VERSION+set}" && (set -o posix) >/System/Devices/null 2>&1; then
   set -o posix
 fi
 DUALCASE=1; export DUALCASE # for MKS sh
 
 # Support unset when possible.
-if ( (MAIL=60; unset MAIL) || exit) >/dev/null 2>&1; then
+if ( (MAIL=60; unset MAIL) || exit) >/System/Devices/null 2>&1; then
   as_unset=unset
 else
   as_unset=false
@@ -16165,13 +16165,13 @@
 done
 
 # Required to use basename.
-if expr a : '\(a\)' >/dev/null 2>&1; then
+if expr a : '\(a\)' >/System/Devices/null 2>&1; then
   as_expr=expr
 else
   as_expr=false
 fi
 
-if (basename /) >/dev/null 2>&1 && test "X`basename / 2>&1`" = "X/"; then
+if (basename /) >/System/Devices/null 2>&1 && test "X`basename / 2>&1`" = "X/"; then
   as_basename=basename
 else
   as_basename=false
@@ -16183,7 +16183,7 @@
 $as_expr X/"$0" : '.*/\([^/][^/]*\)/*$' \| \
 	 X"$0" : 'X\(//\)$' \| \
 	 X"$0" : 'X\(/\)$' \| \
-	 .     : '\(.\)' 2>/dev/null ||
+	 .     : '\(.\)' 2>/System/Devices/null ||
 echo X/"$0" |
     sed '/^.*\/\([^/][^/]*\)\/*$/{ s//\1/; q; }
   	  /^X\/\(\/\/\)$/{ s//\1/; q; }
@@ -16201,10 +16201,10 @@
 
 # The user is always right.
 if test "${PATH_SEPARATOR+set}" != set; then
-  echo "#! /bin/sh" >conf$$.sh
+  echo "#! /System/Tools/sh" >conf$$.sh
   echo  "exit 0"   >>conf$$.sh
   chmod +x conf$$.sh
-  if (PATH="/nonexistent;."; conf$$.sh) >/dev/null 2>&1; then
+  if (PATH="/nonexistent;."; conf$$.sh) >/System/Devices/null 2>&1; then
     PATH_SEPARATOR=';'
   else
     PATH_SEPARATOR=:
@@ -16215,7 +16215,7 @@
 
   as_lineno_1=$LINENO
   as_lineno_2=$LINENO
-  as_lineno_3=`(expr $as_lineno_1 + 1) 2>/dev/null`
+  as_lineno_3=`(expr $as_lineno_1 + 1) 2>/System/Devices/null`
   test "x$as_lineno_1" != "x$as_lineno_2" &&
   test "x$as_lineno_3"  = "x$as_lineno_2"  || {
   # Find who we are.  Look in the path if we contain no path at all
@@ -16255,9 +16255,9 @@
 	   if ("$as_dir/$as_base" -c '
   as_lineno_1=$LINENO
   as_lineno_2=$LINENO
-  as_lineno_3=`(expr $as_lineno_1 + 1) 2>/dev/null`
+  as_lineno_3=`(expr $as_lineno_1 + 1) 2>/System/Devices/null`
   test "x$as_lineno_1" != "x$as_lineno_2" &&
-  test "x$as_lineno_3"  = "x$as_lineno_2" ') 2>/dev/null; then
+  test "x$as_lineno_3"  = "x$as_lineno_2" ') 2>/System/Devices/null; then
 	     $as_unset BASH_ENV || test "${BASH_ENV+set}" != set || { BASH_ENV=; export BASH_ENV; }
 	     $as_unset ENV || test "${ENV+set}" != set || { ENV=; export ENV; }
 	     CONFIG_SHELL=$as_dir/$as_base
@@ -16309,7 +16309,7 @@
   *)       ECHO_N= ECHO_C='\c' ECHO_T= ;;
 esac
 
-if expr a : '\(a\)' >/dev/null 2>&1; then
+if expr a : '\(a\)' >/System/Devices/null 2>&1; then
   as_expr=expr
 else
   as_expr=false
@@ -16317,7 +16317,7 @@
 
 rm -f conf$$ conf$$.exe conf$$.file
 echo >conf$$.file
-if ln -s conf$$.file conf$$ 2>/dev/null; then
+if ln -s conf$$.file conf$$ 2>/System/Devices/null; then
   # We could just check for DJGPP; but this test a) works b) is more generic
   # and c) will remain valid once DJGPP supports symlinks (DJGPP 2.04).
   if test -f conf$$.exe; then
@@ -16326,14 +16326,14 @@
   else
     as_ln_s='ln -s'
   fi
-elif ln conf$$.file conf$$ 2>/dev/null; then
+elif ln conf$$.file conf$$ 2>/System/Devices/null; then
   as_ln_s=ln
 else
   as_ln_s='cp -p'
 fi
 rm -f conf$$ conf$$.exe conf$$.file
 
-if mkdir -p . 2>/dev/null; then
+if mkdir -p . 2>/System/Devices/null; then
   as_mkdir_p=:
 else
   test -d ./-p && rmdir ./-p
@@ -16382,7 +16382,7 @@
   $ $0 $@
 
 _CSEOF
-echo "on `(hostname || uname -n) 2>/dev/null | sed 1q`" >&5
+echo "on `(hostname || uname -n) 2>/System/Devices/null | sed 1q`" >&5
 echo >&5
 _ACEOF
 
@@ -16516,7 +16516,7 @@
 ac_configure_extra_args=
 
 if $ac_cs_silent; then
-  exec 6>/dev/null
+  exec 6>/System/Devices/null
   ac_configure_extra_args="$ac_configure_extra_args --silent"
 fi
 
@@ -16580,7 +16580,7 @@
 
 # Have a temporary directory for convenience.  Make it in the build tree
 # simply because there is no reason to put it here, and in addition,
-# creating and moving files from /tmp can sometimes cause problems.
+# creating and moving files from /System/TemporaryFiles can sometimes cause problems.
 # Create a temporary directory, and hook for its removal unless debugging.
 $debug ||
 {
@@ -16591,7 +16591,7 @@
 # Create a (secure) tmp directory for tmp files.
 
 {
-  tmp=`(umask 077 && mktemp -d -q "./confstatXXXXXX") 2>/dev/null` &&
+  tmp=`(umask 077 && mktemp -d -q "./confstatXXXXXX") 2>/System/Devices/null` &&
   test -n "$tmp" && test -d "$tmp"
 }  ||
 {
@@ -16787,12 +16787,12 @@
   esac
 
   # Compute @srcdir@, @top_srcdir@, and @INSTALL@ for subdirectories.
-  ac_dir=`(dirname "$ac_file") 2>/dev/null ||
+  ac_dir=`(dirname "$ac_file") 2>/System/Devices/null ||
 $as_expr X"$ac_file" : 'X\(.*[^/]\)//*[^/][^/]*/*$' \| \
 	 X"$ac_file" : 'X\(//\)[^/]' \| \
 	 X"$ac_file" : 'X\(//\)$' \| \
 	 X"$ac_file" : 'X\(/\)' \| \
-	 .     : '\(.\)' 2>/dev/null ||
+	 .     : '\(.\)' 2>/System/Devices/null ||
 echo X"$ac_file" |
     sed '/^X\(.*[^/]\)\/\/*[^/][^/]*\/*$/{ s//\1/; q; }
   	  /^X\(\/\/\)[^/].*/{ s//\1/; q; }
@@ -16806,12 +16806,12 @@
     as_dirs=
     while test ! -d "$as_dir"; do
       as_dirs="$as_dir $as_dirs"
-      as_dir=`(dirname "$as_dir") 2>/dev/null ||
+      as_dir=`(dirname "$as_dir") 2>/System/Devices/null ||
 $as_expr X"$as_dir" : 'X\(.*[^/]\)//*[^/][^/]*/*$' \| \
 	 X"$as_dir" : 'X\(//\)[^/]' \| \
 	 X"$as_dir" : 'X\(//\)$' \| \
 	 X"$as_dir" : 'X\(/\)' \| \
-	 .     : '\(.\)' 2>/dev/null ||
+	 .     : '\(.\)' 2>/System/Devices/null ||
 echo X"$as_dir" |
     sed '/^X\(.*[^/]\)\/\/*[^/][^/]*\/*$/{ s//\1/; q; }
   	  /^X\(\/\/\)[^/].*/{ s//\1/; q; }
@@ -16931,7 +16931,7 @@
 	   # Source tree
 	   echo "$srcdir/$f"
 	 else
-	   # /dev/null tree
+	   # /System/Devices/null tree
 	   { { echo "$as_me:$LINENO: error: cannot find input file: $f" >&5
 echo "$as_me: error: cannot find input file: $f" >&2;}
    { (exit 1); exit 1; }; }
@@ -17023,7 +17023,7 @@
 	   # Source tree
 	   echo "$srcdir/$f"
 	 else
-	   # /dev/null tree
+	   # /System/Devices/null tree
 	   { { echo "$as_me:$LINENO: error: cannot find input file: $f" >&5
 echo "$as_me: error: cannot find input file: $f" >&2;}
    { (exit 1); exit 1; }; }
@@ -17076,11 +17076,11 @@
 # Break up conftest.defines because some shells have a limit on the size
 # of here documents, and old seds have small limits too (100 cmds).
 echo '  # Handle all the #define templates only if necessary.' >>$CONFIG_STATUS
-echo '  if grep "^[	 ]*#[	 ]*define" $tmp/in >/dev/null; then' >>$CONFIG_STATUS
+echo '  if grep "^[	 ]*#[	 ]*define" $tmp/in >/System/Devices/null; then' >>$CONFIG_STATUS
 echo '  # If there are no defines, we may have an empty if/fi' >>$CONFIG_STATUS
 echo '  :' >>$CONFIG_STATUS
 rm -f conftest.tail
-while grep . conftest.defines >/dev/null
+while grep . conftest.defines >/System/Devices/null
 do
   # Write a limited-size here document to $tmp/defines.sed.
   echo '  cat >$tmp/defines.sed <<CEOF' >>$CONFIG_STATUS
@@ -17107,7 +17107,7 @@
 # of here documents, and old seds have small limits too (100 cmds).
 echo '  # Handle all the #undef templates' >>$CONFIG_STATUS
 rm -f conftest.tail
-while grep . conftest.undefs >/dev/null
+while grep . conftest.undefs >/System/Devices/null
 do
   # Write a limited-size here document to $tmp/undefs.sed.
   echo '  cat >$tmp/undefs.sed <<CEOF' >>$CONFIG_STATUS
@@ -17140,16 +17140,16 @@
   cat $tmp/in >>$tmp/config.h
   rm -f $tmp/in
   if test x"$ac_file" != x-; then
-    if diff $ac_file $tmp/config.h >/dev/null 2>&1; then
+    if diff $ac_file $tmp/config.h >/System/Devices/null 2>&1; then
       { echo "$as_me:$LINENO: $ac_file is unchanged" >&5
 echo "$as_me: $ac_file is unchanged" >&6;}
     else
-      ac_dir=`(dirname "$ac_file") 2>/dev/null ||
+      ac_dir=`(dirname "$ac_file") 2>/System/Devices/null ||
 $as_expr X"$ac_file" : 'X\(.*[^/]\)//*[^/][^/]*/*$' \| \
 	 X"$ac_file" : 'X\(//\)[^/]' \| \
 	 X"$ac_file" : 'X\(//\)$' \| \
 	 X"$ac_file" : 'X\(/\)' \| \
-	 .     : '\(.\)' 2>/dev/null ||
+	 .     : '\(.\)' 2>/System/Devices/null ||
 echo X"$ac_file" |
     sed '/^X\(.*[^/]\)\/\/*[^/][^/]*\/*$/{ s//\1/; q; }
   	  /^X\(\/\/\)[^/].*/{ s//\1/; q; }
@@ -17163,12 +17163,12 @@
     as_dirs=
     while test ! -d "$as_dir"; do
       as_dirs="$as_dir $as_dirs"
-      as_dir=`(dirname "$as_dir") 2>/dev/null ||
+      as_dir=`(dirname "$as_dir") 2>/System/Devices/null ||
 $as_expr X"$as_dir" : 'X\(.*[^/]\)//*[^/][^/]*/*$' \| \
 	 X"$as_dir" : 'X\(//\)[^/]' \| \
 	 X"$as_dir" : 'X\(//\)$' \| \
 	 X"$as_dir" : 'X\(/\)' \| \
-	 .     : '\(.\)' 2>/dev/null ||
+	 .     : '\(.\)' 2>/System/Devices/null ||
 echo X"$as_dir" |
     sed '/^X\(.*[^/]\)\/\/*[^/][^/]*\/*$/{ s//\1/; q; }
   	  /^X\(\/\/\)[^/].*/{ s//\1/; q; }
@@ -17198,12 +17198,12 @@
       _am_stamp_count=`expr $_am_stamp_count + 1` ;;
   esac
 done
-echo "timestamp for $ac_file" >`(dirname $ac_file) 2>/dev/null ||
+echo "timestamp for $ac_file" >`(dirname $ac_file) 2>/System/Devices/null ||
 $as_expr X$ac_file : 'X\(.*[^/]\)//*[^/][^/]*/*$' \| \
 	 X$ac_file : 'X\(//\)[^/]' \| \
 	 X$ac_file : 'X\(//\)$' \| \
 	 X$ac_file : 'X\(/\)' \| \
-	 .     : '\(.\)' 2>/dev/null ||
+	 .     : '\(.\)' 2>/System/Devices/null ||
 echo X$ac_file |
     sed '/^X\(.*[^/]\)\/\/*[^/][^/]*\/*$/{ s//\1/; q; }
   	  /^X\(\/\/\)[^/].*/{ s//\1/; q; }
@@ -17224,12 +17224,12 @@
 for ac_file in : $CONFIG_COMMANDS; do test "x$ac_file" = x: && continue
   ac_dest=`echo "$ac_file" | sed 's,:.*,,'`
   ac_source=`echo "$ac_file" | sed 's,[^:]*:,,'`
-  ac_dir=`(dirname "$ac_dest") 2>/dev/null ||
+  ac_dir=`(dirname "$ac_dest") 2>/System/Devices/null ||
 $as_expr X"$ac_dest" : 'X\(.*[^/]\)//*[^/][^/]*/*$' \| \
 	 X"$ac_dest" : 'X\(//\)[^/]' \| \
 	 X"$ac_dest" : 'X\(//\)$' \| \
 	 X"$ac_dest" : 'X\(/\)' \| \
-	 .     : '\(.\)' 2>/dev/null ||
+	 .     : '\(.\)' 2>/System/Devices/null ||
 echo X"$ac_dest" |
     sed '/^X\(.*[^/]\)\/\/*[^/][^/]*\/*$/{ s//\1/; q; }
   	  /^X\(\/\/\)[^/].*/{ s//\1/; q; }
@@ -17243,12 +17243,12 @@
     as_dirs=
     while test ! -d "$as_dir"; do
       as_dirs="$as_dir $as_dirs"
-      as_dir=`(dirname "$as_dir") 2>/dev/null ||
+      as_dir=`(dirname "$as_dir") 2>/System/Devices/null ||
 $as_expr X"$as_dir" : 'X\(.*[^/]\)//*[^/][^/]*/*$' \| \
 	 X"$as_dir" : 'X\(//\)[^/]' \| \
 	 X"$as_dir" : 'X\(//\)$' \| \
 	 X"$as_dir" : 'X\(/\)' \| \
-	 .     : '\(.\)' 2>/dev/null ||
+	 .     : '\(.\)' 2>/System/Devices/null ||
 echo X"$as_dir" |
     sed '/^X\(.*[^/]\)\/\/*[^/][^/]*\/*$/{ s//\1/; q; }
   	  /^X\(\/\/\)[^/].*/{ s//\1/; q; }
@@ -17339,13 +17339,13 @@
   # Grep'ing the first line is not enough: some people post-process
   # each Makefile.in and add a new line on top of each file to say so.
   # So let's grep whole file.
-  if grep '^#.*generated by automake' $mf > /dev/null 2>&1; then
-    dirpart=`(dirname "$mf") 2>/dev/null ||
+  if grep '^#.*generated by automake' $mf > /System/Devices/null 2>&1; then
+    dirpart=`(dirname "$mf") 2>/System/Devices/null ||
 $as_expr X"$mf" : 'X\(.*[^/]\)//*[^/][^/]*/*$' \| \
 	 X"$mf" : 'X\(//\)[^/]' \| \
 	 X"$mf" : 'X\(//\)$' \| \
 	 X"$mf" : 'X\(/\)' \| \
-	 .     : '\(.\)' 2>/dev/null ||
+	 .     : '\(.\)' 2>/System/Devices/null ||
 echo X"$mf" |
     sed '/^X\(.*[^/]\)\/\/*[^/][^/]*\/*$/{ s//\1/; q; }
   	  /^X\(\/\/\)[^/].*/{ s//\1/; q; }
@@ -17355,7 +17355,7 @@
   else
     continue
   fi
-  grep '^DEP_FILES *= *[^ #]' < "$mf" > /dev/null || continue
+  grep '^DEP_FILES *= *[^ #]' < "$mf" > /System/Devices/null || continue
   # Extract the definition of DEP_FILES from the Makefile without
   # running `make'.
   DEPDIR=`sed -n 's/^DEPDIR = //p' < "$mf"`
@@ -17379,12 +17379,12 @@
        sed -e 's/\$(DEPDIR)/'"$DEPDIR"'/g' -e 's/\$U/'"$U"'/g'`; do
     # Make sure the directory exists.
     test -f "$dirpart/$file" && continue
-    fdir=`(dirname "$file") 2>/dev/null ||
+    fdir=`(dirname "$file") 2>/System/Devices/null ||
 $as_expr X"$file" : 'X\(.*[^/]\)//*[^/][^/]*/*$' \| \
 	 X"$file" : 'X\(//\)[^/]' \| \
 	 X"$file" : 'X\(//\)$' \| \
 	 X"$file" : 'X\(/\)' \| \
-	 .     : '\(.\)' 2>/dev/null ||
+	 .     : '\(.\)' 2>/System/Devices/null ||
 echo X"$file" |
     sed '/^X\(.*[^/]\)\/\/*[^/][^/]*\/*$/{ s//\1/; q; }
   	  /^X\(\/\/\)[^/].*/{ s//\1/; q; }
@@ -17398,12 +17398,12 @@
     as_dirs=
     while test ! -d "$as_dir"; do
       as_dirs="$as_dir $as_dirs"
-      as_dir=`(dirname "$as_dir") 2>/dev/null ||
+      as_dir=`(dirname "$as_dir") 2>/System/Devices/null ||
 $as_expr X"$as_dir" : 'X\(.*[^/]\)//*[^/][^/]*/*$' \| \
 	 X"$as_dir" : 'X\(//\)[^/]' \| \
 	 X"$as_dir" : 'X\(//\)$' \| \
 	 X"$as_dir" : 'X\(/\)' \| \
-	 .     : '\(.\)' 2>/dev/null ||
+	 .     : '\(.\)' 2>/System/Devices/null ||
 echo X"$as_dir" |
     sed '/^X\(.*[^/]\)\/\/*[^/][^/]*\/*$/{ s//\1/; q; }
   	  /^X\(\/\/\)[^/].*/{ s//\1/; q; }
@@ -17546,7 +17546,7 @@
 # config.status does its own redirection, appending to config.log.
 # Unfortunately, on DOS this fails, as config.log is still kept open
 # by configure, so config.status won't be able to write to it; its
-# output is simply discarded.  So we exec the FD to /dev/null,
+# output is simply discarded.  So we exec the FD to /System/Devices/null,
 # effectively closing config.log, so it can be properly (re)opened and
 # appended to by config.status.  When coming back to configure, we
 # need to make the FD available again.
@@ -17555,7 +17555,7 @@
   ac_config_status_args=
   test "$silent" = yes &&
     ac_config_status_args="$ac_config_status_args --quiet"
-  exec 5>/dev/null
+  exec 5>/System/Devices/null
   $SHELL $CONFIG_STATUS $ac_config_status_args || ac_cs_success=false
   exec 5>>config.log
   # Use ||, not &&, to avoid exiting from the if with $? = 1, which
diff -urN gawk-3.1.4/configure.ac gawk-3.1.4-STEP/configure.ac
--- gawk-3.1.4/configure.ac	2004-08-02 21:09:52.000000000 +1200
+++ gawk-3.1.4-STEP/configure.ac	2005-08-16 15:59:08.543254856 +1200
@@ -128,7 +128,7 @@
 
 dnl Cygwin doesn't like to get libs with full paths
 dnl since that overrides linking against DLLs.
-case `(uname) 2> /dev/null` in
+case `(uname) 2> /System/Devices/null` in
 *CYGWIN*)
 	with_libiconv_prefix=no
 	with_libintl_prefix=no
@@ -209,7 +209,7 @@
 	then
 		# Add others here as appropriate,
 		# one day use GNU libtool.
-		if uname | $EGREP -i 'linux|freebsd|cygwin' > /dev/null
+		if uname | $EGREP -i 'linux|freebsd|cygwin' > /System/Devices/null
 		then
 			LDFLAGS="$LDFLAGS -export-dynamic"
 		fi
@@ -223,7 +223,7 @@
 dnl check for how to use getpgrp
 dnl have to hardwire it for VMS POSIX. Sigh.
 dnl ditto for BeOS, OS/2, and MS-DOS.
-case `(uname) 2> /dev/null` in
+case `(uname) 2> /System/Devices/null` in
 *VMS*|*BeOS*|*OS/2*|*MS-DOS*)
 	AC_DEFINE(GETPGRP_VOID, 1,
 	  [Define to 1 if the getpgrp function requires zero arguments.])
diff -urN gawk-3.1.4/depcomp gawk-3.1.4-STEP/depcomp
--- gawk-3.1.4/depcomp	2004-06-22 01:38:36.000000000 +1200
+++ gawk-3.1.4-STEP/depcomp	2005-08-16 16:08:49.693906528 +1200
@@ -1,4 +1,4 @@
-#! /bin/sh
+#! /System/Tools/sh
 # depcomp - compile a program generating dependencies as side-effects
 
 scriptversion=2004-04-25.13
diff -urN gawk-3.1.4/doc/ChangeLog gawk-3.1.4-STEP/doc/ChangeLog
--- gawk-3.1.4/doc/ChangeLog	2004-08-02 21:18:45.000000000 +1200
+++ gawk-3.1.4-STEP/doc/ChangeLog	2005-08-16 16:06:08.712379440 +1200
@@ -130,7 +130,7 @@
 
 	[ ADR: Some minor post-patch editing was required. ]
 
-	* gawk.texi (igawk): Do not put temporary files in /tmp, as that
+	* gawk.texi (igawk): Do not put temporary files in /System/TemporaryFiles, as that
 	has some security problems.  This fixes a problem originally
 	reported by Jarno Huuskonen via solar@openwall.com.
 
diff -urN gawk-3.1.4/doc/Makefile.am gawk-3.1.4-STEP/doc/Makefile.am
--- gawk-3.1.4/doc/Makefile.am	2004-07-29 03:21:55.000000000 +1200
+++ gawk-3.1.4-STEP/doc/Makefile.am	2005-08-16 15:59:08.546254400 +1200
@@ -61,7 +61,7 @@
 # Link gawk.1 to pgawk.1
 install-data-hook:
 	(cd $(DESTDIR)$(man1dir); \
-	$(LN) gawk.1 pgawk.1 2>/dev/null ; \
+	$(LN) gawk.1 pgawk.1 2>/System/Devices/null ; \
 	exit 0)
 
 # Undo the above when uninstalling
diff -urN gawk-3.1.4/doc/Makefile.in gawk-3.1.4-STEP/doc/Makefile.in
--- gawk-3.1.4/doc/Makefile.in	2004-08-02 21:16:31.000000000 +1200
+++ gawk-3.1.4-STEP/doc/Makefile.in	2005-08-16 15:59:08.562251968 +1200
@@ -328,7 +328,7 @@
 uninstall-info-am:
 	$(PRE_UNINSTALL)
 	@if (install-info --version && \
-	     install-info --version 2>&1 | sed 1q | grep -i -v debian) >/dev/null 2>&1; then \
+	     install-info --version 2>&1 | sed 1q | grep -i -v debian) >/System/Devices/null 2>&1; then \
 	  list='$(INFO_DEPS)'; \
 	  for file in $$list; do \
 	    relfile=`echo "$$file" | sed 's|^.*/||'`; \
@@ -536,7 +536,7 @@
 	done
 	@$(POST_INSTALL)
 	@if (install-info --version && \
-	     install-info --version 2>&1 | sed 1q | grep -i -v debian) >/dev/null 2>&1; then \
+	     install-info --version 2>&1 | sed 1q | grep -i -v debian) >/System/Devices/null 2>&1; then \
 	  list='$(INFO_DEPS)'; \
 	  for file in $$list; do \
 	    relfile=`echo "$$file" | sed 's|^.*/||'`; \
@@ -586,7 +586,7 @@
 # Link gawk.1 to pgawk.1
 install-data-hook:
 	(cd $(DESTDIR)$(man1dir); \
-	$(LN) gawk.1 pgawk.1 2>/dev/null ; \
+	$(LN) gawk.1 pgawk.1 2>/System/Devices/null ; \
 	exit 0)
 
 # Undo the above when uninstalling
diff -urN gawk-3.1.4/doc/awkcard.in gawk-3.1.4-STEP/doc/awkcard.in
--- gawk-3.1.4/doc/awkcard.in	2004-06-01 01:10:16.000000000 +1200
+++ gawk-3.1.4-STEP/doc/awkcard.in	2005-08-16 15:59:21.646262896 +1200
@@ -1405,9 +1405,9 @@
 expand;
 l lw(2i).
 \*(FC"\-"\fP	standard input
-\*(FC/dev/stdin\fP	standard input \*(CR(not \*(MK)\*(CD
-\*(FC/dev/stdout\fP	standard output
-\*(FC/dev/stderr\fP	standard error output
+\*(FC/System/Devices/stdin\fP	standard input \*(CR(not \*(MK)\*(CD
+\*(FC/System/Devices/stdout\fP	standard output
+\*(FC/System/Devices/stderr\fP	standard error output
 .TE
 .sp .5
 .fi
@@ -1415,7 +1415,7 @@
 .sp .5
 .in +.2i
 .ti -.2i
-\*(FC/dev/fd/\^\*(FIn\*(FR
+\*(FC/System/Devices/fd/\^\*(FIn\*(FR
 .br
 File associated with the open file descriptor \*(FIn\*(FR.
 .ti -.2i
@@ -1445,10 +1445,10 @@
 .TS
 expand;
 l lw(2i).
-\*(FC/dev/pid\fP	process ID of current process
-\*(FC/dev/ppid\fP	parent process ID of current process
-\*(FC/dev/pgrpid\fP	process group ID of current process
-\*(FC/dev/user\fP	T{
+\*(FC/System/Devices/pid\fP	process ID of current process
+\*(FC/System/Devices/ppid\fP	parent process ID of current process
+\*(FC/System/Devices/pgrpid\fP	process group ID of current process
+\*(FC/System/Devices/user\fP	T{
 .nf
 a single newline-terminated record.
 The fields are separated with spaces.
diff -urN gawk-3.1.4/doc/gawk.1 gawk-3.1.4-STEP/doc/gawk.1
--- gawk-3.1.4/doc/gawk.1	2004-07-29 01:36:56.000000000 +1200
+++ gawk-3.1.4-STEP/doc/gawk.1	2005-08-16 15:59:21.859230520 +1200
@@ -2103,17 +2103,17 @@
 parent process (usually the shell).
 These file names may also be used on the command line to name data files.
 The filenames are:
-.TP "\w'\fB/dev/stdout\fR'u+1n"
-.B /dev/stdin
+.TP "\w'\fB/System/Devices/stdout\fR'u+1n"
+.B /System/Devices/stdin
 The standard input.
 .TP
-.B /dev/stdout
+.B /System/Devices/stdout
 The standard output.
 .TP
-.B /dev/stderr
+.B /System/Devices/stderr
 The standard error output.
 .TP
-.BI /dev/fd/\^ n
+.BI /System/Devices/fd/\^ n
 The file associated with the open file descriptor
 .IR n .
 .PP
@@ -2121,7 +2121,7 @@
 .PP
 .RS
 .ft B
-print "You blew it!" > "/dev/stderr"
+print "You blew it!" > "/System/Devices/stderr"
 .ft R
 .RE
 .PP
@@ -2164,20 +2164,20 @@
 .B PROCINFO
 array to obtain the information they provide.
 The filenames are:
-.TP "\w'\fB/dev/stdout\fR'u+1n"
-.B /dev/pid
+.TP "\w'\fB/System/Devices/stdout\fR'u+1n"
+.B /System/Devices/pid
 Reading this file returns the process ID of the current process,
 in decimal, terminated with a newline.
 .TP
-.B /dev/ppid
+.B /System/Devices/ppid
 Reading this file returns the parent process ID of the current process,
 in decimal, terminated with a newline.
 .TP
-.B /dev/pgrpid
+.B /System/Devices/pgrpid
 Reading this file returns the process group ID of the current process,
 in decimal, terminated with a newline.
 .TP
-.B /dev/user
+.B /System/Devices/user
 Reading this file returns a single record terminated with a newline.
 The fields are separated with spaces.
 .B $1
diff -urN gawk-3.1.4/doc/gawk.info gawk-3.1.4-STEP/doc/gawk.info
--- gawk-3.1.4/doc/gawk.info	2004-06-22 02:09:26.000000000 +1200
+++ gawk-3.1.4-STEP/doc/gawk.info	2005-08-16 16:08:52.186527592 +1200
@@ -3891,7 +3891,7 @@
                     if (getline <= 0) {
                          m = "unexpected EOF or error"
                          m = (m ": " ERRNO)
-                         print m > "/dev/stderr"
+                         print m > "/System/Devices/stderr"
                          exit
                     }
                     t = -1
@@ -5028,13 +5028,13 @@
 separate process.  So people writing `awk' programs often don't do
 this.  Instead, they send the error messages to the terminal, like this:
 
-     print "Serious error detected!" > "/dev/tty"
+     print "Serious error detected!" > "/System/Devices/tty"
 
 This usually has the same effect but not always: although the standard
 error stream is usually the terminal, it can be redirected; when that
 happens, writing to the terminal is not correct.  In fact, if `awk' is
 run from a background job, it may not have a terminal at all.  Then
-opening `/dev/tty' fails.
+opening `/System/Devices/tty' fails.
 
 `gawk' provides special file names for accessing the three standard
 streams, as well as any other inherited open files.  If the file name
@@ -5043,27 +5043,27 @@
 These special file names work for all operating systems that `gawk' has
 been ported to, not just those that are POSIX-compliant:
 
-`/dev/stdin'
+`/System/Devices/stdin'
      The standard input (file descriptor 0).
 
-`/dev/stdout'
+`/System/Devices/stdout'
      The standard output (file descriptor 1).
 
-`/dev/stderr'
+`/System/Devices/stderr'
      The standard error output (file descriptor 2).
 
-`/dev/fd/N'
+`/System/Devices/fd/N'
      The file associated with file descriptor N.  Such a file must be
      opened by the program initiating the `awk' execution (typically
      the shell).  Unless special pains are taken in the shell from which
      `gawk' is invoked, only descriptors 0, 1, and 2 are available.
 
-The file names `/dev/stdin', `/dev/stdout', and `/dev/stderr' are
-aliases for `/dev/fd/0', `/dev/fd/1', and `/dev/fd/2', respectively.
+The file names `/System/Devices/stdin', `/System/Devices/stdout', and `/System/Devices/stderr' are
+aliases for `/System/Devices/fd/0', `/System/Devices/fd/1', and `/System/Devices/fd/2', respectively.
 However, they are more self-explanatory.  The proper way to write an
-error message in a `gawk' program is to use `/dev/stderr', like this:
+error message in a `gawk' program is to use `/System/Devices/stderr', like this:
 
-     print "Serious error detected!" > "/dev/stderr"
+     print "Serious error detected!" > "/System/Devices/stderr"
 
 Note the use of quotes around the file name.  Like any other
 redirection, the value must be a string.  It is a common error to omit
@@ -5081,19 +5081,19 @@
 first be closed with the `close' function (*note Close Files And
 Pipes::).  The file names are:
 
-`/dev/pid'
+`/System/Devices/pid'
      Reading this file returns the process ID of the current process,
      in decimal form, terminated with a newline.
 
-`/dev/ppid'
+`/System/Devices/ppid'
      Reading this file returns the parent process ID of the current
      process, in decimal form, terminated with a newline.
 
-`/dev/pgrpid'
+`/System/Devices/pgrpid'
      Reading this file returns the process group ID of the current
      process, in decimal form, terminated with a newline.
 
-`/dev/user'
+`/System/Devices/user'
      Reading this file returns a single record terminated with a
      newline.  The fields are separated with spaces.  The fields
      represent the following information:
@@ -5166,7 +5166,7 @@
      use the `PROCINFO' array.  *Note Built-in Variables::.
 
    * Starting with version 3.1, `gawk' _always_ interprets these
-     special file names.(1) For example, using `/dev/fd/4' for output
+     special file names.(1) For example, using `/System/Devices/fd/4' for output
      actually writes on file descriptor 4, and not on a new file
      descriptor that is `dup''ed from file descriptor 4.  Most of the
      time this does not matter; however, it is important to _not_ close
@@ -5176,7 +5176,7 @@
 ---------- Footnotes ----------
 
 (1) Older versions of `gawk' would interpret these names internally
-only if the system did not actually have a `/dev/fd' directory or any
+only if the system did not actually have a `/System/Devices/fd' directory or any
 of the other special files listed earlier.  Usually this didn't make a
 difference, but sometimes it did; thus, it was decided to make `gawk''s
 behavior consistent on all systems and to have it always interpret the
@@ -6130,7 +6130,7 @@
 regexp constants whose first character is an `='.  (d.c.)  This is most
 notable in commercial `awk' versions.  For example:
 
-     $ awk /==/ /dev/null
+     $ awk /==/ /System/Devices/null
      error--> awk: syntax error at source line 1
      error-->  context is
      error-->         >>> /= <<<
@@ -6138,7 +6138,7 @@
 
 A workaround is:
 
-     awk '/[=]=/' /dev/null
+     awk '/[=]=/' /System/Devices/null
 
 `gawk' does not have this problem, nor do the other freely available
 versions described in *Note Other Versions::.
@@ -7648,7 +7648,7 @@
 
      NF != 4 {
        err = sprintf("%s:%d: skipped: NF != 4\n", FILENAME, FNR)
-       print err > "/dev/stderr"
+       print err > "/System/Devices/stderr"
        next
      }
 
@@ -7763,7 +7763,7 @@
 
      BEGIN {
             if (("date" | getline date_now) <= 0) {
-              print "Can't get system date" > "/dev/stderr"
+              print "Can't get system date" > "/System/Devices/stderr"
               exit 1
             }
             print "current date is", date_now
@@ -8195,11 +8195,11 @@
      -|         printf "\tARGV[%d] = %s\n", i, ARGV[i]
      -| }
      -| END   { printf "A=%d, B=%d\n", A, B }
-     $ awk -v A=1 -f showargs.awk B=2 /dev/null
+     $ awk -v A=1 -f showargs.awk B=2 /System/Devices/null
      -| A=1, B=0
      -|        ARGV[0] = awk
      -|        ARGV[1] = B=2
-     -|        ARGV[2] = /dev/null
+     -|        ARGV[2] = /System/Devices/null
      -| A=1, B=2
 
 A program can alter `ARGC' and the elements of `ARGV'.  Each time `awk'
@@ -8235,7 +8235,7 @@
              else if (ARGV[i] ~ /^-?/) {
                  e = sprintf("%s: unrecognized option -- %c",
                          ARGV[0], substr(ARGV[i], 1, ,1))
-                 print e > "/dev/stderr"
+                 print e > "/System/Devices/stderr"
              } else
                  break
              delete ARGV[i]
@@ -9870,8 +9870,8 @@
      shell:
 
           while (MORE STUFF TO DO)
-              print COMMAND | "/bin/sh"
-          close("/bin/sh")
+              print COMMAND | "/System/Tools/sh"
+          close("/System/Tools/sh")
 
      However, if your `awk' program is interactive, `system' is useful
      for cranking up large self-contained programs, such as a shell or
@@ -10236,7 +10236,7 @@
 "wrapper" to handle the `-u' option, which requires that `date' run as
 if the time zone is set to UTC:
 
-     #! /bin/sh
+     #! /System/Tools/sh
      #
      # date --- approximate the P1003.2 'date' command
 
@@ -11539,7 +11539,7 @@
 
 This works, but not elegantly.  Among other things, it requires that
 the program be run in a directory that cannot be shared among users;
-for example, `/tmp' will not do, as another user might happen to be
+for example, `/System/TemporaryFiles' will not do, as another user might happen to be
 using a temporary file with the same name.
 
 Starting with version 3.1 of `gawk', it is possible to open a _two-way_
@@ -12220,7 +12220,7 @@
 *Note Definition Syntax::, function names must be unique.)
 
 Library functions can still be used, even if the program is entered at
-the terminal, by specifying `-f /dev/tty'.  After typing your program,
+the terminal, by specifying `-f /System/Devices/tty'.  After typing your program,
 type `Ctrl-d' (the end-of-file character) to terminate it.  (You may
 also use `-f -' to read program source from the standard input but then
 you will not be able to also use the standard input as a source of
@@ -12461,9 +12461,9 @@
 use features that are `gawk'-specific.  Rewriting these programs for
 different implementations of awk is pretty straightforward.
 
-Diagnostic error messages are sent to `/dev/stderr'.  Use `| "cat
-1>&2"' instead of `> "/dev/stderr"' if your system does not have a
-`/dev/stderr', or if you cannot use `gawk'.
+Diagnostic error messages are sent to `/System/Devices/stderr'.  Use `| "cat
+1>&2"' instead of `> "/System/Devices/stderr"' if your system does not have a
+`/System/Devices/stderr', or if you cannot use `gawk'.
 
 A number of programs use `nextfile' (*note Nextfile Statement::) to
 skip any remaining input in the input file.  *Note Nextfile Function::,
@@ -12810,7 +12810,7 @@
      {
          if (! condition) {
              printf("%s:%d: assertion failed: %s\n",
-                 FILENAME, FNR, string) > "/dev/stderr"
+                 FILENAME, FNR, string) > "/System/Devices/stderr"
              _assert_exit = 1
              exit 1
          }
@@ -13580,7 +13580,7 @@
          if (i == 0) {
              if (Opterr)
                  printf("%c -- invalid option\n",
-                                       thisopt) > "/dev/stderr"
+                                       thisopt) > "/System/Devices/stderr"
              if (_opti >= length(argv[Optind])) {
                  Optind++
                  _opti = 0
@@ -13777,14 +13777,14 @@
 A few lines representative of `pwcat''s output are as follows:
 
      $ pwcat
-     -| root:3Ov02d5VaUPB6:0:1:Operator:/:/bin/sh
+     -| root:3Ov02d5VaUPB6:0:1:Operator:/:/System/Tools/sh
      -| nobody:*:65534:65534::/:
      -| daemon:*:1:1::/:
      -| sys:*:2:2::/:/bin/csh
      -| bin:*:3:3::/bin:
-     -| arnold:xyzzy:2076:10:Arnold Robbins:/home/arnold:/bin/sh
-     -| miriam:yxaay:112:10:Miriam Robbins:/home/miriam:/bin/sh
-     -| andy:abcca2:113:10:Andy Jacobs:/home/andy:/bin/sh
+     -| arnold:xyzzy:2076:10:Arnold Robbins:/home/arnold:/System/Tools/sh
+     -| miriam:yxaay:112:10:Miriam Robbins:/home/miriam:/System/Tools/sh
+     -| andy:abcca2:113:10:Andy Jacobs:/home/andy:/System/Tools/sh
      ...
 
 With that introduction, following is a group of functions for getting
@@ -14286,8 +14286,8 @@
      {
          e1 = "usage: cut [-f list] [-d c] [-s] [files...]"
          e2 = "usage: cut [-c list] [files...]"
-         print e1 > "/dev/stderr"
-         print e2 > "/dev/stderr"
+         print e1 > "/System/Devices/stderr"
+         print e2 > "/System/Devices/stderr"
          exit 1
      }
 
@@ -14318,7 +14318,7 @@
              } else if (c == "d") {
                  if (length(Optarg) > 1) {
                      printf("Using first character of %s" \
-                     " for delimiter\n", Optarg) > "/dev/stderr"
+                     " for delimiter\n", Optarg) > "/System/Devices/stderr"
                      Optarg = substr(Optarg, 1, 1)
                  }
                  FS = Optarg
@@ -14355,7 +14355,7 @@
              by_fields = 1    # default
 
          if (fieldlist == "") {
-             print "cut: needs list for -c or -f" > "/dev/stderr"
+             print "cut: needs list for -c or -f" > "/System/Devices/stderr"
              exit 1
          }
 
@@ -14382,7 +14382,7 @@
                  m = split(f[i], g, "-")
                  if (m != 2 || g[1] >= g[2]) {
                      printf("bad field list: %s\n",
-                                       f[i]) > "/dev/stderr"
+                                       f[i]) > "/System/Devices/stderr"
                      exit 1
                  }
                  for (k = g[1]; k <= g[2]; k++)
@@ -14420,7 +14420,7 @@
                  m = split(f[i], g, "-")
                  if (m != 2 || g[1] >= g[2]) {
                      printf("bad character list: %s\n",
-                                    f[i]) > "/dev/stderr"
+                                    f[i]) > "/System/Devices/stderr"
                      exit 1
                  }
                  len = g[2] - g[1] + 1
@@ -14693,7 +14693,7 @@
      {
          e = "Usage: egrep [-csvil] [-e pat] [files ...]"
          e = e "\n\tegrep [-csvil] pat [files ...]"
-         print e > "/dev/stderr"
+         print e > "/System/Devices/stderr"
          exit 1
      }
 
@@ -14891,7 +14891,7 @@
              if (s2 == "z") {
                  if (s1 == "z") {
                      printf("split: %s is too large to split\n",
-                            FILENAME) > "/dev/stderr"
+                            FILENAME) > "/System/Devices/stderr"
                      exit 1
                  }
                  s1 = chr(ord(s1) + 1)
@@ -14910,7 +14910,7 @@
      function usage(   e)
      {
          e = "usage: split [-num] [file] [outname]"
-         print e > "/dev/stderr"
+         print e > "/System/Devices/stderr"
          exit 1
      }
 
@@ -14960,7 +14960,7 @@
              ARGC--
          }
          if (ARGC < 2) {
-             print "usage: tee [-a] file ..." > "/dev/stderr"
+             print "usage: tee [-a] file ..." > "/System/Devices/stderr"
              exit 1
          }
          ARGV[1] = "-"
@@ -15068,7 +15068,7 @@
 If no options are supplied, then the default is taken, to print both
 repeated and nonrepeated lines.  The output file, if provided, is
 assigned to `outputfile'.  Early on, `outputfile' is initialized to the
-standard output, `/dev/stdout':
+standard output, `/System/Devices/stdout':
 
      # uniq.awk --- do uniq in awk
      #
@@ -15076,7 +15076,7 @@
      function usage(    e)
      {
          e = "Usage: uniq [-udc [-n]] [+n] [ in [ out ]]"
-         print e > "/dev/stderr"
+         print e > "/System/Devices/stderr"
          exit 1
      }
 
@@ -15089,7 +15089,7 @@
      BEGIN   \
      {
          count = 1
-         outputfile = "/dev/stdout"
+         outputfile = "/System/Devices/stdout"
          opts = "udc0:1:2:3:4:5:6:7:8:9:"
          while ((c = getopt(ARGC, ARGV, opts)) != -1) {
              if (c == "u")
@@ -15473,8 +15473,8 @@
          usage2 = sprintf("\t(%s) time ::= hh:mm", ARGV[1])
 
          if (ARGC < 2) {
-             print usage1 > "/dev/stderr"
-             print usage2 > "/dev/stderr"
+             print usage1 > "/System/Devices/stderr"
+             print usage2 > "/System/Devices/stderr"
              exit 1
          } else if (ARGC == 5) {
              delay = ARGV[4] + 0
@@ -15486,8 +15486,8 @@
          } else if (ARGC == 3) {
              message = ARGV[2]
          } else if (ARGV[1] !~ /[0-9]?[0-9]:[0-9][0-9]/) {
-             print usage1 > "/dev/stderr"
-             print usage2 > "/dev/stderr"
+             print usage1 > "/System/Devices/stderr"
+             print usage2 > "/System/Devices/stderr"
              exit 1
          }
 
@@ -15531,7 +15531,7 @@
          # how long to sleep for
          naptime = target - current
          if (naptime <= 0) {
-             print "time is in the past!" > "/dev/stderr"
+             print "time is in the past!" > "/System/Devices/stderr"
              exit 1
          }
 
@@ -15642,7 +15642,7 @@
      # main program
      BEGIN {
          if (ARGC < 3) {
-             print "usage: translate from to" > "/dev/stderr"
+             print "usage: translate from to" > "/System/Devices/stderr"
              exit
          }
          FROM = ARGV[1]
@@ -16022,7 +16022,7 @@
          if (NF < 3) {
              e = (FILENAME ":" FNR)
              e = (e  ": badly formed `system' line")
-             print e > "/dev/stderr"
+             print e > "/System/Devices/stderr"
              next
          }
          $1 = ""
@@ -16031,7 +16031,7 @@
          if (stat != 0) {
              e = (FILENAME ":" FNR)
              e = (e ": warning: system returned " stat)
-             print e > "/dev/stderr"
+             print e > "/System/Devices/stderr"
          }
      }
 
@@ -16068,7 +16068,7 @@
      {
          if (NF != 3) {
              e = (FILENAME ":" FNR ": badly formed `file' line")
-             print e > "/dev/stderr"
+             print e > "/System/Devices/stderr"
              next
          }
          if ($3 != curfile) {
@@ -16118,7 +16118,7 @@
 
      function unexpected_eof() {
          printf("%s:%d: unexpected EOF or error\n",
-             FILENAME, FNR) > "/dev/stderr"
+             FILENAME, FNR) > "/System/Devices/stderr"
          exit 1
      }
 
@@ -16156,7 +16156,7 @@
      #    Thanks to Michael Brennan for the idea
      function usage()
      {
-         print "usage: awksed pat repl [files...]" > "/dev/stderr"
+         print "usage: awksed pat repl [files...]" > "/System/Devices/stderr"
          exit 1
      }
 
@@ -16325,7 +16325,7 @@
 
 The program is as follows:
 
-     #! /bin/sh
+     #! /System/Tools/sh
      # igawk --- like gawk but do @include processing
      if [ "$1" = debug ]
      then
@@ -16451,7 +16451,7 @@
                  pathlist[i] = "."
          }
 
-The stack is initialized with `ARGV[1]', which will be `/dev/stdin'.
+The stack is initialized with `ARGV[1]', which will be `/System/Devices/stdin'.
 The main loop comes next.  Input lines are read in succession. Lines
 that do not start with `@include' are printed verbatim.  If the line
 does start with `@include', the file name is in `$2'.  `pathto' is
@@ -16480,7 +16480,7 @@
                  fpath = pathto($2)
                  if (fpath == "") {
                      printf("igawk:%s:%d: cannot find %s\n",
-                         input[stackptr], FNR, $2) > "/dev/stderr"
+                         input[stackptr], FNR, $2) > "/System/Devices/stderr"
                      continue
                  }
                  if (! (fpath in processed)) {
@@ -16489,13 +16489,13 @@
                  } else
                      print $2, "included in", input[stackptr],
                          "already included in",
-                         processed[fpath] > "/dev/stderr"
+                         processed[fpath] > "/System/Devices/stderr"
              }
              close(input[stackptr])
          }
      }'  # close quote ends `expand_prog' variable
 
-     processed_program=`gawk -- "$expand_prog" /dev/stdin <<EOF
+     processed_program=`gawk -- "$expand_prog" /System/Devices/stdin <<EOF
      $program
      EOF
      `
@@ -16798,7 +16798,7 @@
 
    * The `\x' escape sequence (*note Escape Sequences::).
 
-   * The `/dev/stdin', `/dev/stdout', and `/dev/stderr' special files
+   * The `/System/Devices/stdin', `/System/Devices/stdout', and `/System/Devices/stderr' special files
      (*note Special Files::).
 
    * The ability for `FS' and for the third argument to `split' to be
@@ -16828,7 +16828,7 @@
    * The `IGNORECASE' variable and its effects (*note
      Case-sensitivity::).
 
-   * The `/dev/stdin', `/dev/stdout', `/dev/stderr' and `/dev/fd/N'
+   * The `/System/Devices/stdin', `/System/Devices/stdout', `/System/Devices/stderr' and `/System/Devices/fd/N'
      special file names (*note Special Files::).
 
 Version 2.13 of `gawk' introduced the following features:
@@ -16859,7 +16859,7 @@
    * The `ERRNO' variable, which contains the system error message when
      `getline' returns -1 or `close' fails (*note Built-in Variables::).
 
-   * The `/dev/pid', `/dev/ppid', `/dev/pgrpid', and `/dev/user' file
+   * The `/System/Devices/pid', `/System/Devices/ppid', `/System/Devices/pgrpid', and `/System/Devices/user' file
      name interpretation (*note Special Files::).
 
    * The ability to delete all of an array at once with `delete ARRAY'
@@ -18223,7 +18223,7 @@
 sufficient.  Fortunately, this happens infrequently and in rather
 esoteric situations.  In particular, avoid having one part of an `awk'
 program using `print' statements explicitly redirected to
-`/dev/stdout', while other `print' statements use the default standard
+`/System/Devices/stdout', while other `print' statements use the default standard
 output, and a calling shell has redirected standard output to a file.
 
 When `gawk' is compiled with the ST version of `gcc' and its usual
@@ -18401,8 +18401,8 @@
 
         * The `\x' escape sequence (*note Escape Sequences::).
 
-        * The `/dev/stdout', and `/dev/stderr' special files (*note
-          Special Files::).  Use `"-"' instead of `"/dev/stdin"' with
+        * The `/System/Devices/stdout', and `/System/Devices/stderr' special files (*note
+          Special Files::).  Use `"-"' instead of `"/System/Devices/stdin"' with
           `mawk'.
 
         * The ability for `FS' and for the third argument to `split' to
@@ -18987,7 +18987,7 @@
      ret = chdir(newdir)
      if (ret < 0) {
          printf("could not change to %s: %s\n",
-                        newdir, ERRNO) > "/dev/stderr"
+                        newdir, ERRNO) > "/System/Devices/stderr"
          exit 1
      }
      ...
@@ -19005,7 +19005,7 @@
      ret = stat(file, fdata)
      if (ret < 0) {
          printf("could not stat %s: %s\n",
-                  file, ERRNO) > "/dev/stderr"
+                  file, ERRNO) > "/System/Devices/stderr"
          exit 1
      }
      printf("size of %s is %d bytes\n", file, fdata["size"])
@@ -19832,7 +19832,7 @@
      Expression."
 
 Bourne Shell
-     The standard shell (`/bin/sh') on Unix and Unix-like systems,
+     The standard shell (`/System/Tools/sh') on Unix and Unix-like systems,
      originally written by Steven R. Bourne.  Many shells (`bash',
      `ksh', `pdksh', `zsh') are generally upwardly compatible with the
      Bourne shell.
@@ -20289,7 +20289,7 @@
 Special File
      A file name interpreted internally by `gawk', instead of being
      handed directly to the underlying operating system--for example,
-     `/dev/stderr'.  (*Note Special Files::.)
+     `/System/Devices/stderr'.  (*Note Special Files::.)
 
 Stream Editor
      A program that reads records from an input stream and processes
@@ -21286,7 +21286,7 @@
 * / (forward slash), patterns and:       Expression Patterns.
                                                             (line  6843)
 * /= operator vs. /=.../ regexp constant: Assignment Ops.   (line  6129)
-* /dev/... special files (gawk):         Special FD.        (line  5046)
+* /System/Devices/... special files (gawk):         Special FD.        (line  5046)
 * /inet/ files (gawk):                   TCP/IP Networking. (line 11643)
 * /p files (gawk):                       Portal Files.      (line 11710)
 * ; (semicolon):                         Statements/Lines.  (line  1853)
@@ -22176,7 +22176,7 @@
 * files, .po:                            Explaining gettext.
                                                             (line 10931)
 * files, .po, converting to .mo:         I18N Example.      (line 11380)
-* files, /dev/... special files:         Special FD.        (line  5046)
+* files, /System/Devices/... special files:         Special FD.        (line  5046)
 * files, /inet/ (gawk):                  TCP/IP Networking. (line 11643)
 * files, /p (gawk):                      Portal Files.      (line 11710)
 * files, as single records:              Records.           (line  2992)
diff -urN gawk-3.1.4/doc/gawk.texi gawk-3.1.4-STEP/doc/gawk.texi
--- gawk-3.1.4/doc/gawk.texi	2004-06-22 02:09:14.000000000 +1200
+++ gawk-3.1.4-STEP/doc/gawk.texi	2005-08-16 16:08:51.008706648 +1200
@@ -5334,7 +5334,7 @@
                if (getline <= 0) @{
                     m = "unexpected EOF or error"
                     m = (m ": " ERRNO)
-                    print m > "/dev/stderr"
+                    print m > "/System/Devices/stderr"
                     exit
                @}
                t = -1
@@ -6786,7 +6786,7 @@
 terminal, like this:
 
 @example
-print "Serious error detected!" > "/dev/tty"
+print "Serious error detected!" > "/System/Devices/tty"
 @end example
 
 @noindent
@@ -6794,7 +6794,7 @@
 standard error stream is usually the terminal, it can be redirected; when
 that happens, writing to the terminal is not correct.  In fact, if
 @command{awk} is run from a background job, it may not have a terminal at all.
-Then opening @file{/dev/tty} fails.
+Then opening @file{/System/Devices/tty} fails.
 
 @command{gawk} provides special @value{FN}s for accessing the three standard
 streams, as well as any other inherited open files.  If the @value{FN} matches
@@ -6804,37 +6804,37 @@
 has been ported to, not just those that are POSIX-compliant:
 
 @cindex @value{FN}s, standard streams in @command{gawk}
-@cindex @code{/dev/@dots{}} special files (@command{gawk})
-@cindex files, @code{/dev/@dots{}} special files
-@c @cindex @code{/dev/stdin} special file
-@c @cindex @code{/dev/stdout} special file
-@c @cindex @code{/dev/stderr} special file
-@c @cindex @code{/dev/fd} special files
+@cindex @code{/System/Devices/@dots{}} special files (@command{gawk})
+@cindex files, @code{/System/Devices/@dots{}} special files
+@c @cindex @code{/System/Devices/stdin} special file
+@c @cindex @code{/System/Devices/stdout} special file
+@c @cindex @code{/System/Devices/stderr} special file
+@c @cindex @code{/System/Devices/fd} special files
 @table @file
-@item /dev/stdin
+@item /System/Devices/stdin
 The standard input (file descriptor 0).
 
-@item /dev/stdout
+@item /System/Devices/stdout
 The standard output (file descriptor 1).
 
-@item /dev/stderr
+@item /System/Devices/stderr
 The standard error output (file descriptor 2).
 
-@item /dev/fd/@var{N}
+@item /System/Devices/fd/@var{N}
 The file associated with file descriptor @var{N}.  Such a file must
 be opened by the program initiating the @command{awk} execution (typically
 the shell).  Unless special pains are taken in the shell from which
 @command{gawk} is invoked, only descriptors 0, 1, and 2 are available.
 @end table
 
-The @value{FN}s @file{/dev/stdin}, @file{/dev/stdout}, and @file{/dev/stderr}
-are aliases for @file{/dev/fd/0}, @file{/dev/fd/1}, and @file{/dev/fd/2},
+The @value{FN}s @file{/System/Devices/stdin}, @file{/System/Devices/stdout}, and @file{/System/Devices/stderr}
+are aliases for @file{/System/Devices/fd/0}, @file{/System/Devices/fd/1}, and @file{/System/Devices/fd/2},
 respectively. However, they are more self-explanatory.
 The proper way to write an error message in a @command{gawk} program
-is to use @file{/dev/stderr}, like this:
+is to use @file{/System/Devices/stderr}, like this:
 
 @example
-print "Serious error detected!" > "/dev/stderr"
+print "Serious error detected!" > "/System/Devices/stderr"
 @end example
 
 @cindex troubleshooting, quotes with @value{FN}s
@@ -6856,24 +6856,24 @@
 (@pxref{Close Files And Pipes}).
 The @value{FN}s are:
 
-@c @cindex @code{/dev/pid} special file
-@c @cindex @code{/dev/pgrpid} special file
-@c @cindex @code{/dev/ppid} special file
-@c @cindex @code{/dev/user} special file
+@c @cindex @code{/System/Devices/pid} special file
+@c @cindex @code{/System/Devices/pgrpid} special file
+@c @cindex @code{/System/Devices/ppid} special file
+@c @cindex @code{/System/Devices/user} special file
 @table @file
-@item /dev/pid
+@item /System/Devices/pid
 Reading this file returns the process ID of the current process,
 in decimal form, terminated with a newline.
 
-@item /dev/ppid
+@item /System/Devices/ppid
 Reading this file returns the parent process ID of the current process,
 in decimal form, terminated with a newline.
 
-@item /dev/pgrpid
+@item /System/Devices/pgrpid
 Reading this file returns the process group ID of the current process,
 in decimal form, terminated with a newline.
 
-@item /dev/user
+@item /System/Devices/user
 Reading this file returns a single record terminated with a newline.
 The fields are separated with spaces.  The fields represent the
 following information:
@@ -6978,12 +6978,12 @@
 Starting with @value{PVERSION} 3.1, @command{gawk} @emph{always}
 interprets these special @value{FN}s.@footnote{Older versions of
 @command{gawk} would interpret these names internally only if the system
-did not actually have a @file{/dev/fd} directory or any of the other
+did not actually have a @file{/System/Devices/fd} directory or any of the other
 special files listed earlier.  Usually this didn't make a difference,
 but sometimes it did; thus, it was decided to make @command{gawk}'s
 behavior consistent on all systems and to have it always interpret
 the special @value{FN}s itself.}
-For example, using @samp{/dev/fd/4}
+For example, using @samp{/System/Devices/fd/4}
 for output actually writes on file descriptor 4, and not on a new
 file descriptor that is @code{dup}'ed from file descriptor 4.  Most of
 the time this does not matter; however, it is important to @emph{not}
@@ -8289,7 +8289,7 @@
 For example:
 
 @example
-$ awk /==/ /dev/null
+$ awk /==/ /System/Devices/null
 @error{} awk: syntax error at source line 1
 @error{}  context is
 @error{}         >>> /= <<<
@@ -8300,7 +8300,7 @@
 A workaround is:
 
 @example
-awk '/[=]=/' /dev/null
+awk '/[=]=/' /System/Devices/null
 @end example
 
 @command{gawk} does not have this problem,
@@ -10364,7 +10364,7 @@
 @example
 NF != 4 @{
   err = sprintf("%s:%d: skipped: NF != 4\n", FILENAME, FNR)
-  print err > "/dev/stderr"
+  print err > "/System/Devices/stderr"
   next
 @}
 @end example
@@ -10519,7 +10519,7 @@
 @example
 BEGIN @{
        if (("date" | getline date_now) <= 0) @{
-         print "Can't get system date" > "/dev/stderr"
+         print "Can't get system date" > "/System/Devices/stderr"
          exit 1
        @}
        print "current date is", date_now
@@ -11111,11 +11111,11 @@
 @print{}         printf "\tARGV[%d] = %s\n", i, ARGV[i]
 @print{} @}
 @print{} END   @{ printf "A=%d, B=%d\n", A, B @}
-$ awk -v A=1 -f showargs.awk B=2 /dev/null
+$ awk -v A=1 -f showargs.awk B=2 /System/Devices/null
 @print{} A=1, B=0
 @print{}        ARGV[0] = awk
 @print{}        ARGV[1] = B=2
-@print{}        ARGV[2] = /dev/null
+@print{}        ARGV[2] = /System/Devices/null
 @print{} A=1, B=2
 @end example
 
@@ -11159,7 +11159,7 @@
         else if (ARGV[i] ~ /^-?/) @{
             e = sprintf("%s: unrecognized option -- %c",
                     ARGV[0], substr(ARGV[i], 1, ,1))
-            print e > "/dev/stderr"
+            print e > "/System/Devices/stderr"
         @} else
             break
         delete ARGV[i]
@@ -13382,8 +13382,8 @@
 
 @example
 while (@var{more stuff to do})
-    print @var{command} | "/bin/sh"
-close("/bin/sh")
+    print @var{command} | "/System/Tools/sh"
+close("/System/Tools/sh")
 @end example
 
 @noindent
@@ -13834,7 +13834,7 @@
 is set to UTC:
 
 @example
-#! /bin/sh
+#! /System/Tools/sh
 #
 # date --- approximate the P1003.2 'date' command
 
@@ -15683,7 +15683,7 @@
 @noindent
 This works, but not elegantly.  Among other things, it requires that
 the program be run in a directory that cannot be shared among users;
-for example, @file{/tmp} will not do, as another user might happen
+for example, @file{/System/TemporaryFiles} will not do, as another user might happen
 to be using a temporary file with the same name.
 
 @cindex coprocesses
@@ -16640,7 +16640,7 @@
 function names must be unique.)
 
 Library functions can still be used, even if the program is entered at the terminal,
-by specifying @samp{-f /dev/tty}.  After typing your program,
+by specifying @samp{-f /System/Devices/tty}.  After typing your program,
 type @kbd{@value{CTL}-d} (the end-of-file character) to terminate it.
 (You may also use @samp{-f -} to read program source from the standard
 input but then you will not be able to also use the standard input as a
@@ -17043,9 +17043,9 @@
 freely use features that are @command{gawk}-specific.
 Rewriting these programs for different implementations of awk is pretty straightforward.
 
-Diagnostic error messages are sent to @file{/dev/stderr}.
-Use @samp{| "cat 1>&2"} instead of @samp{> "/dev/stderr"} if your system
-does not have a @file{/dev/stderr}, or if you cannot use @command{gawk}.
+Diagnostic error messages are sent to @file{/System/Devices/stderr}.
+Use @samp{| "cat 1>&2"} instead of @samp{> "/System/Devices/stderr"} if your system
+does not have a @file{/System/Devices/stderr}, or if you cannot use @command{gawk}.
 
 A number of programs use @code{nextfile}
 (@pxref{Nextfile Statement})
@@ -17492,7 +17492,7 @@
 @{
     if (! condition) @{
         printf("%s:%d: assertion failed: %s\n",
-            FILENAME, FNR, string) > "/dev/stderr"
+            FILENAME, FNR, string) > "/System/Devices/stderr"
         _assert_exit = 1
         exit 1
     @}
@@ -18188,7 +18188,7 @@
 Removing the element from @code{ARGV} with @code{delete}
 skips the file (since it's no longer in the list).
 
-@c This doesn't handle /dev/stdin etc.  Not worth the hassle to mention or fix.
+@c This doesn't handle /System/Devices/stdin etc.  Not worth the hassle to mention or fix.
 
 @node Empty Files
 @subsection Checking For Zero-length Files
@@ -18568,7 +18568,7 @@
     if (i == 0) @{
         if (Opterr)
             printf("%c -- invalid option\n",
-                                  thisopt) > "/dev/stderr"
+                                  thisopt) > "/System/Devices/stderr"
         if (_opti >= length(argv[Optind])) @{
             Optind++
             _opti = 0
@@ -18872,14 +18872,14 @@
 @cindex Robbins, Miriam
 @example
 $ pwcat
-@print{} root:3Ov02d5VaUPB6:0:1:Operator:/:/bin/sh
+@print{} root:3Ov02d5VaUPB6:0:1:Operator:/:/System/Tools/sh
 @print{} nobody:*:65534:65534::/:
 @print{} daemon:*:1:1::/:
 @print{} sys:*:2:2::/:/bin/csh
 @print{} bin:*:3:3::/bin:
-@print{} arnold:xyzzy:2076:10:Arnold Robbins:/home/arnold:/bin/sh
-@print{} miriam:yxaay:112:10:Miriam Robbins:/home/miriam:/bin/sh
-@print{} andy:abcca2:113:10:Andy Jacobs:/home/andy:/bin/sh
+@print{} arnold:xyzzy:2076:10:Arnold Robbins:/home/arnold:/System/Tools/sh
+@print{} miriam:yxaay:112:10:Miriam Robbins:/home/miriam:/System/Tools/sh
+@print{} andy:abcca2:113:10:Andy Jacobs:/home/andy:/System/Tools/sh
 @dots{}
 @end example
 
@@ -19623,8 +19623,8 @@
 @{
     e1 = "usage: cut [-f list] [-d c] [-s] [files...]"
     e2 = "usage: cut [-c list] [files...]"
-    print e1 > "/dev/stderr"
-    print e2 > "/dev/stderr"
+    print e1 > "/System/Devices/stderr"
+    print e2 > "/System/Devices/stderr"
     exit 1
 @}
 @end group
@@ -19670,7 +19670,7 @@
         @} else if (c == "d") @{
             if (length(Optarg) > 1) @{
                 printf("Using first character of %s" \
-                " for delimiter\n", Optarg) > "/dev/stderr"
+                " for delimiter\n", Optarg) > "/System/Devices/stderr"
                 Optarg = substr(Optarg, 1, 1)
             @}
             FS = Optarg
@@ -19713,7 +19713,7 @@
         by_fields = 1    # default
 
     if (fieldlist == "") @{
-        print "cut: needs list for -c or -f" > "/dev/stderr"
+        print "cut: needs list for -c or -f" > "/System/Devices/stderr"
         exit 1
     @}
 
@@ -19746,7 +19746,7 @@
 @group
             if (m != 2 || g[1] >= g[2]) @{
                 printf("bad field list: %s\n",
-                                  f[i]) > "/dev/stderr"
+                                  f[i]) > "/System/Devices/stderr"
                 exit 1
             @}
 @end group
@@ -19792,7 +19792,7 @@
             m = split(f[i], g, "-")
             if (m != 2 || g[1] >= g[2]) @{
                 printf("bad character list: %s\n",
-                               f[i]) > "/dev/stderr"
+                               f[i]) > "/System/Devices/stderr"
                 exit 1
             @}
             len = g[2] - g[1] + 1
@@ -20140,7 +20140,7 @@
 @{
     e = "Usage: egrep [-csvil] [-e pat] [files ...]"
     e = e "\n\tegrep [-csvil] pat [files ...]"
-    print e > "/dev/stderr"
+    print e > "/System/Devices/stderr"
     exit 1
 @}
 @c endfile
@@ -20399,7 +20399,7 @@
         if (s2 == "z") @{
             if (s1 == "z") @{
                 printf("split: %s is too large to split\n",
-                       FILENAME) > "/dev/stderr"
+                       FILENAME) > "/System/Devices/stderr"
                 exit 1
             @}
             s1 = chr(ord(s1) + 1)
@@ -20427,7 +20427,7 @@
 function usage(   e)
 @{
     e = "usage: split [-num] [file] [outname]"
-    print e > "/dev/stderr"
+    print e > "/System/Devices/stderr"
     exit 1
 @}
 @c endfile
@@ -20509,7 +20509,7 @@
         ARGC--
     @}
     if (ARGC < 2) @{
-        print "usage: tee [-a] file ..." > "/dev/stderr"
+        print "usage: tee [-a] file ..." > "/System/Devices/stderr"
         exit 1
     @}
     ARGV[1] = "-"
@@ -20641,7 +20641,7 @@
 If no options are supplied, then the default is taken, to print both
 repeated and nonrepeated lines.  The output file, if provided, is assigned
 to @code{outputfile}.  Early on, @code{outputfile} is initialized to the
-standard output, @file{/dev/stdout}:
+standard output, @file{/System/Devices/stdout}:
 
 @cindex @code{uniq.awk} program
 @example
@@ -20664,7 +20664,7 @@
 function usage(    e)
 @{
     e = "Usage: uniq [-udc [-n]] [+n] [ in [ out ]]"
-    print e > "/dev/stderr"
+    print e > "/System/Devices/stderr"
     exit 1
 @}
 
@@ -20677,7 +20677,7 @@
 BEGIN   \
 @{
     count = 1
-    outputfile = "/dev/stdout"
+    outputfile = "/System/Devices/stdout"
     opts = "udc0:1:2:3:4:5:6:7:8:9:"
     while ((c = getopt(ARGC, ARGV, opts)) != -1) @{
         if (c == "u")
@@ -21165,8 +21165,8 @@
     usage2 = sprintf("\t(%s) time ::= hh:mm", ARGV[1])
 
     if (ARGC < 2) @{
-        print usage1 > "/dev/stderr"
-        print usage2 > "/dev/stderr"
+        print usage1 > "/System/Devices/stderr"
+        print usage2 > "/System/Devices/stderr"
         exit 1
     @} else if (ARGC == 5) @{
         delay = ARGV[4] + 0
@@ -21178,8 +21178,8 @@
     @} else if (ARGC == 3) @{
         message = ARGV[2]
     @} else if (ARGV[1] !~ /[0-9]?[0-9]:[0-9][0-9]/) @{
-        print usage1 > "/dev/stderr"
-        print usage2 > "/dev/stderr"
+        print usage1 > "/System/Devices/stderr"
+        print usage2 > "/System/Devices/stderr"
         exit 1
     @}
 
@@ -21229,7 +21229,7 @@
     # how long to sleep for
     naptime = target - current
     if (naptime <= 0) @{
-        print "time is in the past!" > "/dev/stderr"
+        print "time is in the past!" > "/System/Devices/stderr"
         exit 1
     @}
 @c endfile
@@ -21385,7 +21385,7 @@
 BEGIN @{
 @group
     if (ARGC < 3) @{
-        print "usage: translate from to" > "/dev/stderr"
+        print "usage: translate from to" > "/System/Devices/stderr"
         exit
     @}
 @end group
@@ -21873,7 +21873,7 @@
     if (NF < 3) @{
         e = (FILENAME ":" FNR)
         e = (e  ": badly formed `system' line")
-        print e > "/dev/stderr"
+        print e > "/System/Devices/stderr"
         next
     @}
     $1 = ""
@@ -21882,7 +21882,7 @@
     if (stat != 0) @{
         e = (FILENAME ":" FNR)
         e = (e ": warning: system returned " stat)
-        print e > "/dev/stderr"
+        print e > "/System/Devices/stderr"
     @}
 @}
 @c endfile
@@ -21935,7 +21935,7 @@
 @{
     if (NF != 3) @{
         e = (FILENAME ":" FNR ": badly formed `file' line")
-        print e > "/dev/stderr"
+        print e > "/System/Devices/stderr"
         next
     @}
     if ($3 != curfile) @{
@@ -21992,7 +21992,7 @@
 @group
 function unexpected_eof() @{
     printf("%s:%d: unexpected EOF or error\n",
-        FILENAME, FNR) > "/dev/stderr"
+        FILENAME, FNR) > "/System/Devices/stderr"
     exit 1
 @}
 @end group
@@ -22053,7 +22053,7 @@
 @c file eg/prog/awksed.awk
 function usage()
 @{
-    print "usage: awksed pat repl [files...]" > "/dev/stderr"
+    print "usage: awksed pat repl [files...]" > "/System/Devices/stderr"
     exit 1
 @}
 
@@ -22270,7 +22270,7 @@
 @cindex @code{igawk.sh} program
 @example
 @c file eg/prog/igawk.sh
-#! /bin/sh
+#! /System/Tools/sh
 # igawk --- like gawk but do @@include processing
 @c endfile
 @ignore
@@ -22432,7 +22432,7 @@
 @c endfile
 @end example
 
-The stack is initialized with @code{ARGV[1]}, which will be @file{/dev/stdin}.
+The stack is initialized with @code{ARGV[1]}, which will be @file{/System/Devices/stdin}.
 The main loop comes next.  Input lines are read in succession. Lines that
 do not start with @samp{@@include} are printed verbatim.
 If the line does start with @samp{@@include}, the @value{FN} is in @code{$2}.
@@ -22464,7 +22464,7 @@
 @group
             if (fpath == "") @{
                 printf("igawk:%s:%d: cannot find %s\n",
-                    input[stackptr], FNR, $2) > "/dev/stderr"
+                    input[stackptr], FNR, $2) > "/System/Devices/stderr"
                 continue
             @}
 @end group
@@ -22474,13 +22474,13 @@
             @} else
                 print $2, "included in", input[stackptr],
                     "already included in",
-                    processed[fpath] > "/dev/stderr"
+                    processed[fpath] > "/System/Devices/stderr"
         @}
         close(input[stackptr])
     @}
 @}'  # close quote ends `expand_prog' variable
 
-processed_program=`gawk -- "$expand_prog" /dev/stdin <<EOF
+processed_program=`gawk -- "$expand_prog" /System/Devices/stdin <<EOF
 $program
 EOF
 `
@@ -22519,17 +22519,17 @@
 
 @c this causes more problems than it solves, so leave it out.
 @ignore
-The special file @file{/dev/null} is passed as a @value{DF} to @command{gawk}
+The special file @file{/System/Devices/null} is passed as a @value{DF} to @command{gawk}
 to handle an interesting case. Suppose that the user's program only has
 a @code{BEGIN} rule and there are no @value{DF}s to read.
 The program should exit without reading any @value{DF}s.
 However, suppose that an included library file defines an @code{END}
 rule of its own. In this case, @command{gawk} will hang, reading standard
-input. In order to avoid this, @file{/dev/null} is explicitly added to the
-command-line. Reading from @file{/dev/null} always returns an immediate
+input. In order to avoid this, @file{/System/Devices/null} is explicitly added to the
+command-line. Reading from @file{/System/Devices/null} always returns an immediate
 end of file indication.
 
-@c Hmm. Add /dev/null if $# is 0?  Still messes up ARGV. Sigh.
+@c Hmm. Add /System/Devices/null if $# is 0?  Still messes up ARGV. Sigh.
 @end ignore
 
 @example
@@ -22556,7 +22556,7 @@
 file's accessibility for use with the main program simplifies things
 considerably.
 @c what problem does this engender though - exercise
-@c answer, reading from "-" or /dev/stdin
+@c answer, reading from "-" or /System/Devices/stdin
 
 @item
 Using a @code{getline} loop in the @code{BEGIN} rule does it all in one
@@ -22948,7 +22948,7 @@
 (@pxref{Escape Sequences}).
 
 @item
-The @file{/dev/stdin}, @file{/dev/stdout}, and @file{/dev/stderr}
+The @file{/System/Devices/stdin}, @file{/System/Devices/stdout}, and @file{/System/Devices/stderr}
 special files
 (@pxref{Special Files}).
 
@@ -23007,8 +23007,8 @@
 (@pxref{Case-sensitivity}).
 
 @item
-The @file{/dev/stdin}, @file{/dev/stdout}, @file{/dev/stderr} and
-@file{/dev/fd/@var{N}} special @value{FN}s
+The @file{/System/Devices/stdin}, @file{/System/Devices/stdout}, @file{/System/Devices/stderr} and
+@file{/System/Devices/fd/@var{N}} special @value{FN}s
 (@pxref{Special Files}).
 @end itemize
 
@@ -23059,8 +23059,8 @@
 (@pxref{Built-in Variables}).
 
 @item
-The @file{/dev/pid}, @file{/dev/ppid}, @file{/dev/pgrpid}, and
-@file{/dev/user} @value{FN} interpretation
+The @file{/System/Devices/pid}, @file{/System/Devices/ppid}, @file{/System/Devices/pgrpid}, and
+@file{/System/Devices/user} @value{FN} interpretation
 (@pxref{Special Files}).
 
 @item
@@ -24744,10 +24744,10 @@
 sufficient.  Fortunately, this happens infrequently and in rather
 esoteric situations.  In particular, avoid having one part of an
 @command{awk} program using @code{print} statements explicitly redirected
-to @file{/dev/stdout}, while other @code{print} statements use the
+to @file{/System/Devices/stdout}, while other @code{print} statements use the
 default standard output, and a calling shell has redirected standard
 output to a file.
-@c 10/2000: Is this still true, now that gawk does /dev/stdout internally?
+@c 10/2000: Is this still true, now that gawk does /System/Devices/stdout internally?
 
 When @command{gawk} is compiled with the ST version of @command{gcc} and its
 usual libraries, it accepts both @samp{/} and @samp{\} as path separators.
@@ -25023,10 +25023,10 @@
 (@pxref{Escape Sequences}).
 
 @item
-The @file{/dev/stdout}, and @file{/dev/stderr}
+The @file{/System/Devices/stdout}, and @file{/System/Devices/stderr}
 special files
 (@pxref{Special Files}).
-Use @code{"-"} instead of @code{"/dev/stdin"} with @command{mawk}.
+Use @code{"-"} instead of @code{"/System/Devices/stdin"} with @command{mawk}.
 
 @item
 The ability for @code{FS} and for the third
@@ -25762,7 +25762,7 @@
 ret = chdir(newdir)
 if (ret < 0) @{
     printf("could not change to %s: %s\n",
-                   newdir, ERRNO) > "/dev/stderr"
+                   newdir, ERRNO) > "/System/Devices/stderr"
     exit 1
 @}
 @dots{}
@@ -25786,7 +25786,7 @@
 ret = stat(file, fdata)
 if (ret < 0) @{
     printf("could not stat %s: %s\n",
-             file, ERRNO) > "/dev/stderr"
+             file, ERRNO) > "/System/Devices/stderr"
     exit 1
 @}
 printf("size of %s is %d bytes\n", file, fdata["size"])
@@ -26927,7 +26927,7 @@
 Named after the English mathematician Boole. See also ``Logical Expression.''
 
 @item Bourne Shell
-The standard shell (@file{/bin/sh}) on Unix and Unix-like systems,
+The standard shell (@file{/System/Tools/sh}) on Unix and Unix-like systems,
 originally written by Steven R.@: Bourne.
 Many shells (@command{bash}, @command{ksh}, @command{pdksh}, @command{zsh}) are
 generally upwardly compatible with the Bourne shell.
@@ -27453,7 +27453,7 @@
 
 @item Special File
 A @value{FN} interpreted internally by @command{gawk}, instead of being handed
-directly to the underlying operating system---for example, @file{/dev/stderr}.
+directly to the underlying operating system---for example, @file{/System/Devices/stderr}.
 (@xref{Special Files}.)
 
 @item Stream Editor
diff -urN gawk-3.1.4/doc/gawkinet.info gawk-3.1.4-STEP/doc/gawkinet.info
--- gawk-3.1.4/doc/gawkinet.info	2004-07-29 01:54:51.000000000 +1200
+++ gawk-3.1.4-STEP/doc/gawkinet.info	2005-08-16 16:08:52.238519688 +1200
@@ -1668,7 +1668,7 @@
        } else if (MENU[2] == "AboutELIZA") {
          Document    = "This is an implementation of the famous ELIZA\
              program by Joseph Weizenbaum. It is written in GAWK and\
-     /bin/sh: expad: command not found
+     /System/Tools/sh: expad: command not found
        } else if (MENU[2] == "StartELIZA") {
          gsub(/\+/, " ", GETARG["YouSay"])
          # Here we also have to substitute coded special characters
@@ -2051,7 +2051,7 @@
 retrieve files from the Internet. It takes a web address as a
 command-line parameter and tries to retrieve the contents of this
 address. The contents are printed to standard output, while the header
-is printed to `/dev/stderr'.  A surrounding shell script could analyze
+is printed to `/System/Devices/stderr'.  A surrounding shell script could analyze
 the contents and extract the text or the links. An ASCII browser could
 be written around GETURL. But more interestingly, web robots are
 straightforward to write on top of GETURL. On the Internet, you can find
@@ -2086,7 +2086,7 @@
        ORS = RS = "\r\n\r\n"
        print Method " " URL " HTTP/1.0" |& HttpService
        HttpService                      |& getline Header
-       print Header > "/dev/stderr"
+       print Header > "/System/Devices/stderr"
        while ((HttpService |& getline) > 0)
          printf "%s", $0
        close(HttpService)
@@ -2288,7 +2288,7 @@
 with the longest part of the command line. Later, in the loop over the
 URLs, `GetHeader' is appended with the URL and a redirection operator
 to form the command that reads the URL's header over the Internet.
-GETURL always produces the headers over `/dev/stderr'. That is the
+GETURL always produces the headers over `/System/Devices/stderr'. That is the
 reason why we need the redirection operator to have the header piped in.
 
 This program is not perfect because it assumes that changing URLs
@@ -2344,7 +2344,7 @@
 files named `doc*.html' even if they do not contain HTML code.  The
 most annoying thing is that we always have to pass the proxy to GETURL.
 If you do not like to see the headers of the web pages appear on the
-screen, you can redirect them to `/dev/null'.  Watching the headers
+screen, you can redirect them to `/System/Devices/null'.  Watching the headers
 appear can be quite interesting, because it reveals interesting details
 such as which web server the companies use.  Now, it is clear how the
 clever marketing people use web robots to determine the market shares
@@ -2816,12 +2816,12 @@
 server system uses a version of `gawk' that supports network access
 (Version 3.1 or later; verify with `gawk --version').
 
-     #!/bin/sh
-     MobAg=/tmp/MobileAgent.$$
+     #!/System/Tools/sh
+     MobAg=/System/TemporaryFiles/MobileAgent.$$
      # direct script to mobile agent file
      cat > $MobAg
      # execute agent concurrently
-     gawk -f $MobAg $MobAg > /dev/null &
+     gawk -f $MobAg $MobAg > /System/Devices/null &
      # HTTP header, terminator and body
      gawk 'BEGIN { print "\r\nAgent started" }'
      rm $MobAg      # delete script file of agent
diff -urN gawk-3.1.4/doc/gawkinet.texi gawk-3.1.4-STEP/doc/gawkinet.texi
--- gawk-3.1.4/doc/gawkinet.texi	2004-07-29 01:39:03.000000000 +1200
+++ gawk-3.1.4-STEP/doc/gawkinet.texi	2005-08-16 16:08:51.065697984 +1200
@@ -1010,7 +1010,7 @@
 @item Service @strong{name} @tab Service @strong{number}
 @item echo @tab 7/tcp @tab echo sends back each line it receivces
 @item echo @tab 7/udp @tab echo is good for testing purposes
-@item discard @tab 9/tcp @tab discard behaves like @file{/dev/null}
+@item discard @tab 9/tcp @tab discard behaves like @file{/System/Devices/null}
 @item discard @tab 9/udp @tab discard just throws away each line
 @item daytime @tab 13/tcp @tab daytime sends date & time once per connection
 @item daytime @tab 13/udp
@@ -2092,7 +2092,7 @@
   @} else if (MENU[2] == "AboutELIZA") @{
     Document    = "This is an implementation of the famous ELIZA\
         program by Joseph Weizenbaum. It is written in GAWK and\
-/bin/sh: expad: command not found
+/System/Tools/sh: expad: command not found
   @} else if (MENU[2] == "StartELIZA") @{
     gsub(/\+/, " ", GETARG["YouSay"])
     # Here we also have to substitute coded special characters
@@ -2665,7 +2665,7 @@
 GETURL is a versatile building block for shell scripts that need to retrieve
 files from the Internet. It takes a web address as a command-line parameter and
 tries to retrieve the contents of this address. The contents are printed
-to standard output, while the header is printed to @file{/dev/stderr}.
+to standard output, while the header is printed to @file{/System/Devices/stderr}.
 A surrounding shell script
 could analyze the contents and extract the text or the links. An ASCII
 browser could be written around GETURL. But more interestingly, web robots are
@@ -2703,7 +2703,7 @@
   ORS = RS = "\r\n\r\n"
   print Method " " URL " HTTP/1.0" |& HttpService
   HttpService                      |& getline Header
-  print Header > "/dev/stderr"
+  print Header > "/System/Devices/stderr"
   while ((HttpService |& getline) > 0)
     printf "%s", $0
   close(HttpService)
@@ -2931,7 +2931,7 @@
 together with the longest part of the command line. Later, in the loop
 over the URLs, @code{GetHeader} is appended with the URL and a redirection
 operator to form the command that reads the URL's header over the Internet.
-GETURL always produces the headers over @file{/dev/stderr}. That is
+GETURL always produces the headers over @file{/System/Devices/stderr}. That is
 the reason why we need the redirection operator to have the header
 piped in.
 
@@ -2994,7 +2994,7 @@
 files named @file{doc*.html} even if they do not contain HTML code.
 The most annoying thing is that we always have to pass the proxy to
 GETURL. If you do not like to see the headers of the web pages
-appear on the screen, you can redirect them to @file{/dev/null}.
+appear on the screen, you can redirect them to @file{/System/Devices/null}.
 Watching the headers appear can be quite interesting, because
 it reveals
 interesting details such as which web server the companies use.
@@ -3614,12 +3614,12 @@
 
 @example
 @c file eg/network/PostAgent.sh
-#!/bin/sh
-MobAg=/tmp/MobileAgent.$$
+#!/System/Tools/sh
+MobAg=/System/TemporaryFiles/MobileAgent.$$
 # direct script to mobile agent file
 cat > $MobAg
 # execute agent concurrently
-gawk -f $MobAg $MobAg > /dev/null &
+gawk -f $MobAg $MobAg > /System/Devices/null &
 # HTTP header, terminator and body
 gawk 'BEGIN @{ print "\r\nAgent started" @}'
 rm $MobAg      # delete script file of agent
diff -urN gawk-3.1.4/install-sh gawk-3.1.4-STEP/install-sh
--- gawk-3.1.4/install-sh	2004-06-22 01:38:34.000000000 +1200
+++ gawk-3.1.4-STEP/install-sh	2005-08-16 16:08:52.242519080 +1200
@@ -1,4 +1,4 @@
-#!/bin/sh
+#!/System/Tools/sh
 # install - install a program, script, or datafile
 
 scriptversion=2004-04-01.17
@@ -281,7 +281,7 @@
       && { test -z "$chmodcmd" || $doit $chmodcmd "$dsttmp"; } &&
 
     # Now rename the file to the real destination.
-    { $doit $mvcmd -f "$dsttmp" "$dstdir/$dstfile" 2>/dev/null \
+    { $doit $mvcmd -f "$dsttmp" "$dstdir/$dstfile" 2>/System/Devices/null \
       || {
 	   # The rename failed, perhaps because mv can't rename something else
 	   # to itself, or perhaps because mv is so ancient that it does not
@@ -294,8 +294,8 @@
 	   # file should still install successfully.
 	   {
 	     if test -f "$dstdir/$dstfile"; then
-	       $doit $rmcmd -f "$dstdir/$dstfile" 2>/dev/null \
-	       || $doit $mvcmd -f "$dstdir/$dstfile" "$rmtmp" 2>/dev/null \
+	       $doit $rmcmd -f "$dstdir/$dstfile" 2>/System/Devices/null \
+	       || $doit $mvcmd -f "$dstdir/$dstfile" "$rmtmp" 2>/System/Devices/null \
 	       || {
 		 echo "$0: cannot unlink or rename $dstdir/$dstfile" >&2
 		 (exit 1); exit
diff -urN gawk-3.1.4/intl/Makefile.in gawk-3.1.4-STEP/intl/Makefile.in
--- gawk-3.1.4/intl/Makefile.in	2004-02-20 10:08:40.000000000 +1300
+++ gawk-3.1.4-STEP/intl/Makefile.in	2005-08-16 16:08:52.248518168 +1200
@@ -19,7 +19,7 @@
 PACKAGE = @PACKAGE@
 VERSION = @VERSION@
 
-SHELL = /bin/sh
+SHELL = /System/Tools/sh
 
 srcdir = @srcdir@
 top_srcdir = @top_srcdir@
@@ -386,7 +386,7 @@
 	    temp=$(DESTDIR)$(libdir)/t-charset.alias; \
 	    dest=$(DESTDIR)$(libdir)/charset.alias; \
 	    sed -f ref-del.sed $$dest > $$temp; \
-	    if grep '^# Packages using this file: $$' $$temp > /dev/null; then \
+	    if grep '^# Packages using this file: $$' $$temp > /System/Devices/null; then \
 	      rm -f $$dest; \
 	    else \
 	      $(INSTALL_DATA) $$temp $$dest; \
@@ -397,7 +397,7 @@
 	    temp=$(DESTDIR)$(localedir)/t-locale.alias; \
 	    dest=$(DESTDIR)$(localedir)/locale.alias; \
 	    sed -f ref-del.sed $$dest > $$temp; \
-	    if grep '^# Packages using this file: $$' $$temp > /dev/null; then \
+	    if grep '^# Packages using this file: $$' $$temp > /System/Devices/null; then \
 	      rm -f $$dest; \
 	    else \
 	      $(INSTALL_DATA) $$temp $$dest; \
diff -urN gawk-3.1.4/intl/config.charset gawk-3.1.4-STEP/intl/config.charset
--- gawk-3.1.4/intl/config.charset	2004-02-20 10:08:40.000000000 +1300
+++ gawk-3.1.4-STEP/intl/config.charset	2005-08-16 16:08:52.253517408 +1200
@@ -1,4 +1,4 @@
-#! /bin/sh
+#! /System/Tools/sh
 # Output a system dependent table of character encoding aliases.
 #
 #   Copyright (C) 2000-2004 Free Software Foundation, Inc.
diff -urN gawk-3.1.4/intl/relocatable.c gawk-3.1.4-STEP/intl/relocatable.c
--- gawk-3.1.4/intl/relocatable.c	2004-02-20 10:08:40.000000000 +1300
+++ gawk-3.1.4-STEP/intl/relocatable.c	2005-08-16 16:06:00.375646816 +1200
@@ -314,11 +314,11 @@
 find_shared_library_fullname ()
 {
 #if defined __linux__ && __GLIBC__ >= 2
-  /* Linux has /proc/self/maps. glibc 2 has the getline() function.  */
+  /* Linux has /System/Processes/self/maps. glibc 2 has the getline() function.  */
   FILE *fp;
 
   /* Open the current process' maps file.  It describes one VMA per line.  */
-  fp = fopen ("/proc/self/maps", "r");
+  fp = fopen ("/System/Processes/self/maps", "r");
   if (fp)
     {
       unsigned long address = (unsigned long) &find_shared_library_fullname;
diff -urN gawk-3.1.4/io.c gawk-3.1.4-STEP/io.c
--- gawk-3.1.4/io.c	2004-07-29 01:41:56.000000000 +1200
+++ gawk-3.1.4-STEP/io.c	2005-08-16 16:08:52.344503576 +1200
@@ -1246,7 +1246,7 @@
 }
 #endif /* HAVE_SOCKETS */
 
-/* devopen --- handle /dev/std{in,out,err}, /dev/fd/N, regular files */
+/* devopen --- handle /System/Devices/std{in,out,err}, /System/Devices/fd/N, regular files */
 
 /*
  * This separate version is still needed for output, since file and pipe
@@ -1284,7 +1284,7 @@
 		return openfd;
 	}
 
-	if (STREQN(name, "/dev/", 5)) {
+	if (STREQN(name, "/System/Devices/", 5)) {
 		cp = (char *) name + 5;
 
 		if (STREQ(cp, "stdin") && (flag & O_ACCMODE) == O_RDONLY)
@@ -1465,7 +1465,7 @@
 #define getpgrp_arg() getpid()
 #endif
 
-/* pidopen --- "open" /dev/pid, /dev/ppid, and /dev/pgrpid */
+/* pidopen --- "open" /System/Devices/pid, /System/Devices/ppid, and /System/Devices/pgrpid */
 
 static int
 pidopen(IOBUF *iop, const char *name, const char *mode ATTRIBUTE_UNUSED)
@@ -1488,10 +1488,10 @@
 	return 0;
 }
 
-/* useropen --- "open" /dev/user */
+/* useropen --- "open" /System/Devices/user */
 
 /*
- * /dev/user creates a record as follows:
+ * /System/Devices/user creates a record as follows:
  *	$1 = getuid()
  *	$2 = geteuid()
  *	$3 = getgid()
@@ -1506,7 +1506,7 @@
 	char tbuf[BUFSIZ], *cp;
 	int i;
 
-	warning(_("use `PROCINFO[...]' instead of `/dev/user'"));
+	warning(_("use `PROCINFO[...]' instead of `/System/Devices/user'"));
 
 	sprintf(tbuf, "%d %d %d %d", (int) getuid(), (int) geteuid(), (int) getgid(), (int) getegid());
 
@@ -1540,15 +1540,15 @@
 		int (*fp) P((IOBUF *, const char *, const char *));
 		IOBUF iob;
 	} table[] = {
-		{ "/dev/fd/",		8,	specfdopen },
-		{ "/dev/stdin",		10,	specfdopen },
-		{ "/dev/stdout",	11,	specfdopen },
-		{ "/dev/stderr",	11,	specfdopen },
+		{ "/System/Devices/fd/",		8,	specfdopen },
+		{ "/System/Devices/stdin",		10,	specfdopen },
+		{ "/System/Devices/stdout",	11,	specfdopen },
+		{ "/System/Devices/stderr",	11,	specfdopen },
 		{ "/inet/",		6,	specfdopen },
-		{ "/dev/pid",		8,	pidopen },
-		{ "/dev/ppid",		9,	pidopen },
-		{ "/dev/pgrpid",	11,	pidopen },
-		{ "/dev/user",		9,	useropen },
+		{ "/System/Devices/pid",		8,	pidopen },
+		{ "/System/Devices/ppid",		9,	pidopen },
+		{ "/System/Devices/pgrpid",	11,	pidopen },
+		{ "/System/Devices/user",		9,	useropen },
 	};
 	int devcount = sizeof(table) / sizeof(table[0]);
 
@@ -1558,7 +1558,7 @@
 		openfd = fileno(stdin);
 	else if (do_traditional)
 		goto strictopen;
-	else if (STREQN(name, "/dev/", 5) || STREQN(name, "/inet/", 6)) {
+	else if (STREQN(name, "/System/Devices/", 5) || STREQN(name, "/inet/", 6)) {
 		int i;
 
 		for (i = 0; i < devcount; i++) {
@@ -1678,11 +1678,11 @@
 		if (! initialized) {
 			initialized = TRUE;
 #ifdef HAVE_GRANTPT
-			have_dev_ptmx = (stat("/dev/ptmx", &statb) >= 0);
+			have_dev_ptmx = (stat("/System/Devices/ptmx", &statb) >= 0);
 #endif
 			c = 'p';
 			do {
-				sprintf(slavenam, "/dev/pty%c0", c);
+				sprintf(slavenam, "/System/Devices/pty%c0", c);
 				if (stat(slavenam, &statb) >= 0) {
 					first_pty_letter = c;
 					break;
@@ -1694,7 +1694,7 @@
 
 #ifdef HAVE_GRANTPT
 		if (have_dev_ptmx) {
-			master = open("/dev/ptmx", O_RDWR);
+			master = open("/System/Devices/ptmx", O_RDWR);
 			if (master >= 0) {
 				char *tem;
 
@@ -1712,7 +1712,7 @@
 
 		if (first_pty_letter) {
 			/*
-			 * Assume /dev/ptyXNN and /dev/ttyXN naming system.
+			 * Assume /System/Devices/ptyXNN and /System/Devices/ttyXN naming system.
 			 * The FIRST_PTY_LETTER gives the first X to try. We try in the 
 			 * sequence FIRST_PTY_LETTER, .., 'z', 'a', .., FIRST_PTY_LETTER.
 			 * Is this worthwhile, or just over-zealous?
@@ -1721,14 +1721,14 @@
 			do {
 				int i;
 				for (i = 0; i < 16; i++) {
-					sprintf(slavenam, "/dev/pty%c%x", c, i);
+					sprintf(slavenam, "/System/Devices/pty%c%x", c, i);
 					if (stat(slavenam, &statb) < 0) {
 						no_ptys = TRUE;	/* bypass all this next time */
 						goto use_pipes;
 					}
 
 					if ((master = open(slavenam, O_RDWR)) >= 0) {
-						slavenam[sizeof("/dev/") - 1] = 't';
+						slavenam[sizeof("/System/Devices/") - 1] = 't';
 						if (access(slavenam, R_OK | W_OK) == 0)
 							goto got_the_pty;
 						close(master);
@@ -1814,7 +1814,7 @@
 
 			signal(SIGPIPE, SIG_DFL);
 
-			execl("/bin/sh", "sh", "-c", str, NULL);
+			execl("/System/Tools/sh", "sh", "-c", str, NULL);
 			_exit(errno == ENOENT ? 127 : 126);
 
 		case -1:
@@ -1917,7 +1917,7 @@
 	os_close_on_exec(save_stdout, str, "pipe", "from"); /* saved stdout of the parent process */
 
 	/* stderr does NOT get dup'ed onto child's stdout */
-	pid = spawnl(P_NOWAIT, "/bin/sh", "sh", "-c", str, NULL);
+	pid = spawnl(P_NOWAIT, "/System/Tools/sh", "sh", "-c", str, NULL);
 	
 	/* restore stdin and stdout */
 	close(1);
@@ -1963,7 +1963,7 @@
 		    || close(ctop[0]) == -1 || close(ctop[1]) == -1)
 			fatal(_("close of pipe failed (%s)"), strerror(errno));
 		/* stderr does NOT get dup'ed onto child's stdout */
-		execl("/bin/sh", "sh", "-c", str, NULL);
+		execl("/System/Tools/sh", "sh", "-c", str, NULL);
 		_exit(errno == ENOENT ? 127 : 126);
 	}
 #endif /* NOT __EMX__ */
@@ -2091,7 +2091,7 @@
 	os_close_on_exec(p[0], cmd, "pipe", "from"); /* pipe output: input of the parent process */
 	os_close_on_exec(save_stdout, cmd, "pipe", "from"); /* saved stdout of the parent process */
 	
-	pid = spawnl(P_NOWAIT, "/bin/sh", "sh", "-c", cmd, NULL);
+	pid = spawnl(P_NOWAIT, "/System/Tools/sh", "sh", "-c", cmd, NULL);
 	
 	/* restore stdout */
 	close(1);
@@ -2108,7 +2108,7 @@
 			fatal(_("moving pipe to stdout in child failed (dup: %s)"), strerror(errno));
 		if (close(p[0]) == -1 || close(p[1]) == -1)
 			fatal(_("close of pipe failed (%s)"), strerror(errno));
-		execl("/bin/sh", "sh", "-c", cmd, NULL);
+		execl("/System/Tools/sh", "sh", "-c", cmd, NULL);
 		_exit(errno == ENOENT ? 127 : 126);
 	}
 #endif /* NOT __EMX__ */
diff -urN gawk-3.1.4/m4/lib-ld.m4 gawk-3.1.4-STEP/m4/lib-ld.m4
--- gawk-3.1.4/m4/lib-ld.m4	2004-02-20 10:08:40.000000000 +1300
+++ gawk-3.1.4-STEP/m4/lib-ld.m4	2005-08-16 16:08:52.348502968 +1200
@@ -14,7 +14,7 @@
 AC_DEFUN([AC_LIB_PROG_LD_GNU],
 [AC_CACHE_CHECK([if the linker ($LD) is GNU ld], acl_cv_prog_gnu_ld,
 [# I'd rather use --version here, but apparently some GNU ld's only accept -v.
-case `$LD -v 2>&1 </dev/null` in
+case `$LD -v 2>&1 </System/Devices/null` in
 *GNU* | *'with BFD'*)
   acl_cv_prog_gnu_ld=yes ;;
 *)
@@ -33,10 +33,10 @@
 # Prepare PATH_SEPARATOR.
 # The user is always right.
 if test "${PATH_SEPARATOR+set}" != set; then
-  echo "#! /bin/sh" >conf$$.sh
+  echo "#! /System/Tools/sh" >conf$$.sh
   echo  "exit 0"   >>conf$$.sh
   chmod +x conf$$.sh
-  if (PATH="/nonexistent;."; conf$$.sh) >/dev/null 2>&1; then
+  if (PATH="/nonexistent;."; conf$$.sh) >/System/Devices/null 2>&1; then
     PATH_SEPARATOR=';'
   else
     PATH_SEPARATOR=:
@@ -60,7 +60,7 @@
       [re_direlt='/[^/][^/]*/\.\./']
       # Canonicalize the path of ld
       ac_prog=`echo $ac_prog| sed 's%\\\\%/%g'`
-      while echo $ac_prog | grep "$re_direlt" > /dev/null 2>&1; do
+      while echo $ac_prog | grep "$re_direlt" > /System/Devices/null 2>&1; do
 	ac_prog=`echo $ac_prog| sed "s%$re_direlt%/%"`
       done
       test -z "$LD" && LD="$ac_prog"
@@ -89,7 +89,7 @@
       # Check to see if the program is GNU ld.  I'd rather use --version,
       # but apparently some GNU ld's only accept -v.
       # Break only if it was the GNU/non-GNU ld that we prefer.
-      case `"$acl_cv_path_LD" -v 2>&1 < /dev/null` in
+      case `"$acl_cv_path_LD" -v 2>&1 < /System/Devices/null` in
       *GNU* | *'with BFD'*)
 	test "$with_gnu_ld" != no && break ;;
       *)
diff -urN gawk-3.1.4/m4/lib-link.m4 gawk-3.1.4-STEP/m4/lib-link.m4
--- gawk-3.1.4/m4/lib-link.m4	2004-02-20 10:08:40.000000000 +1300
+++ gawk-3.1.4-STEP/m4/lib-link.m4	2005-08-16 16:08:52.353502208 +1200
@@ -101,7 +101,7 @@
   AC_REQUIRE([AC_CONFIG_AUX_DIR_DEFAULT]) dnl we use $ac_aux_dir
   AC_CACHE_CHECK([for shared library run path origin], acl_cv_rpath, [
     CC="$CC" GCC="$GCC" LDFLAGS="$LDFLAGS" LD="$LD" with_gnu_ld="$with_gnu_ld" \
-    ${CONFIG_SHELL-/bin/sh} "$ac_aux_dir/config.rpath" "$host" > conftest.sh
+    ${CONFIG_SHELL-/System/Tools/sh} "$ac_aux_dir/config.rpath" "$host" > conftest.sh
     . ./conftest.sh
     rm -f ./conftest.sh
     acl_cv_rpath=done
diff -urN gawk-3.1.4/m4/po.m4 gawk-3.1.4-STEP/m4/po.m4
--- gawk-3.1.4/m4/po.m4	2004-02-20 10:08:40.000000000 +1300
+++ gawk-3.1.4-STEP/m4/po.m4	2005-08-16 15:59:31.514762656 +1200
@@ -34,8 +34,8 @@
   dnl The first test excludes Solaris msgfmt and early GNU msgfmt versions.
   dnl The second test excludes FreeBSD msgfmt.
   AM_PATH_PROG_WITH_TEST(MSGFMT, msgfmt,
-    [$ac_dir/$ac_word --statistics /dev/null >/dev/null 2>&1 &&
-     (if $ac_dir/$ac_word --statistics /dev/null 2>&1 >/dev/null | grep usage >/dev/null; then exit 1; else exit 0; fi)],
+    [$ac_dir/$ac_word --statistics /System/Devices/null >/System/Devices/null 2>&1 &&
+     (if $ac_dir/$ac_word --statistics /System/Devices/null 2>&1 >/System/Devices/null | grep usage >/System/Devices/null; then exit 1; else exit 0; fi)],
     :)
   AC_PATH_PROG(GMSGFMT, gmsgfmt, $MSGFMT)
 
@@ -43,23 +43,23 @@
   dnl The first test excludes Solaris xgettext and early GNU xgettext versions.
   dnl The second test excludes FreeBSD xgettext.
   AM_PATH_PROG_WITH_TEST(XGETTEXT, xgettext,
-    [$ac_dir/$ac_word --omit-header --copyright-holder= --msgid-bugs-address= /dev/null >/dev/null 2>&1 &&
-     (if $ac_dir/$ac_word --omit-header --copyright-holder= --msgid-bugs-address= /dev/null 2>&1 >/dev/null | grep usage >/dev/null; then exit 1; else exit 0; fi)],
+    [$ac_dir/$ac_word --omit-header --copyright-holder= --msgid-bugs-address= /System/Devices/null >/System/Devices/null 2>&1 &&
+     (if $ac_dir/$ac_word --omit-header --copyright-holder= --msgid-bugs-address= /System/Devices/null 2>&1 >/System/Devices/null | grep usage >/System/Devices/null; then exit 1; else exit 0; fi)],
     :)
   dnl Remove leftover from FreeBSD xgettext call.
   rm -f messages.po
 
   dnl Search for GNU msgmerge 0.11 or newer in the PATH.
   AM_PATH_PROG_WITH_TEST(MSGMERGE, msgmerge,
-    [$ac_dir/$ac_word --update -q /dev/null /dev/null >/dev/null 2>&1], :)
+    [$ac_dir/$ac_word --update -q /System/Devices/null /System/Devices/null >/System/Devices/null 2>&1], :)
 
   dnl This could go away some day; the PATH_PROG_WITH_TEST already does it.
   dnl Test whether we really found GNU msgfmt.
   if test "$GMSGFMT" != ":"; then
     dnl If it is no GNU msgfmt we define it as : so that the
     dnl Makefiles still can work.
-    if $GMSGFMT --statistics /dev/null >/dev/null 2>&1 &&
-       (if $GMSGFMT --statistics /dev/null 2>&1 >/dev/null | grep usage >/dev/null; then exit 1; else exit 0; fi); then
+    if $GMSGFMT --statistics /System/Devices/null >/System/Devices/null 2>&1 &&
+       (if $GMSGFMT --statistics /System/Devices/null 2>&1 >/System/Devices/null | grep usage >/System/Devices/null; then exit 1; else exit 0; fi); then
       : ;
     else
       GMSGFMT=`echo "$GMSGFMT" | sed -e 's,^.*/,,'`
@@ -74,8 +74,8 @@
   if test "$XGETTEXT" != ":"; then
     dnl If it is no GNU xgettext we define it as : so that the
     dnl Makefiles still can work.
-    if $XGETTEXT --omit-header --copyright-holder= --msgid-bugs-address= /dev/null >/dev/null 2>&1 &&
-       (if $XGETTEXT --omit-header --copyright-holder= --msgid-bugs-address= /dev/null 2>&1 >/dev/null | grep usage >/dev/null; then exit 1; else exit 0; fi); then
+    if $XGETTEXT --omit-header --copyright-holder= --msgid-bugs-address= /System/Devices/null >/System/Devices/null 2>&1 &&
+       (if $XGETTEXT --omit-header --copyright-holder= --msgid-bugs-address= /System/Devices/null 2>&1 >/System/Devices/null | grep usage >/System/Devices/null; then exit 1; else exit 0; fi); then
       : ;
     else
       AC_MSG_RESULT(
@@ -228,10 +228,10 @@
   esac
 
   # Find a way to echo strings without interpreting backslash.
-  if test "X`(echo '\t') 2>/dev/null`" = 'X\t'; then
+  if test "X`(echo '\t') 2>/System/Devices/null`" = 'X\t'; then
     gt_echo='echo'
   else
-    if test "X`(printf '%s\n' '\t') 2>/dev/null`" = 'X\t'; then
+    if test "X`(printf '%s\n' '\t') 2>/System/Devices/null`" = 'X\t'; then
       gt_echo='printf %s\n'
     else
       echo_func () {
@@ -395,7 +395,7 @@
   fi
 
   sed -e "s|@POTFILES_DEPS@|$POTFILES_DEPS|g" -e "s|@POFILES@|$POFILES|g" -e "s|@UPDATEPOFILES@|$UPDATEPOFILES|g" -e "s|@DUMMYPOFILES@|$DUMMYPOFILES|g" -e "s|@GMOFILES@|$GMOFILES|g" -e "s|@PROPERTIESFILES@|$PROPERTIESFILES|g" -e "s|@CLASSFILES@|$CLASSFILES|g" -e "s|@QMFILES@|$QMFILES|g" -e "s|@MSGFILES@|$MSGFILES|g" -e "s|@RESOURCESDLLFILES@|$RESOURCESDLLFILES|g" -e "s|@CATALOGS@|$CATALOGS|g" -e "s|@JAVACATALOGS@|$JAVACATALOGS|g" -e "s|@QTCATALOGS@|$QTCATALOGS|g" -e "s|@TCLCATALOGS@|$TCLCATALOGS|g" -e "s|@CSHARPCATALOGS@|$CSHARPCATALOGS|g" -e 's,^#distdir:,distdir:,' < "$ac_file" > "$ac_file.tmp"
-  if grep -l '@TCLCATALOGS@' "$ac_file" > /dev/null; then
+  if grep -l '@TCLCATALOGS@' "$ac_file" > /System/Devices/null; then
     # Add dependencies that cannot be formulated as a simple suffix rule.
     for lang in $ALL_LINGUAS; do
       frobbedlang=`echo $lang | sed -e 's/\..*$//' -e 'y/ABCDEFGHIJKLMNOPQRSTUVWXYZ/abcdefghijklmnopqrstuvwxyz/'`
@@ -406,7 +406,7 @@
 EOF
     done
   fi
-  if grep -l '@CSHARPCATALOGS@' "$ac_file" > /dev/null; then
+  if grep -l '@CSHARPCATALOGS@' "$ac_file" > /System/Devices/null; then
     # Add dependencies that cannot be formulated as a simple suffix rule.
     for lang in $ALL_LINGUAS; do
       frobbedlang=`echo $lang | sed -e 's/_/-/g'`
diff -urN gawk-3.1.4/m4/progtest.m4 gawk-3.1.4-STEP/m4/progtest.m4
--- gawk-3.1.4/m4/progtest.m4	2004-02-20 10:08:41.000000000 +1300
+++ gawk-3.1.4-STEP/m4/progtest.m4	2005-08-16 16:08:52.359501296 +1200
@@ -27,10 +27,10 @@
 # Prepare PATH_SEPARATOR.
 # The user is always right.
 if test "${PATH_SEPARATOR+set}" != set; then
-  echo "#! /bin/sh" >conf$$.sh
+  echo "#! /System/Tools/sh" >conf$$.sh
   echo  "exit 0"   >>conf$$.sh
   chmod +x conf$$.sh
-  if (PATH="/nonexistent;."; conf$$.sh) >/dev/null 2>&1; then
+  if (PATH="/nonexistent;."; conf$$.sh) >/System/Devices/null 2>&1; then
     PATH_SEPARATOR=';'
   else
     PATH_SEPARATOR=:
@@ -41,11 +41,11 @@
 # Find out how to test for executable files. Don't use a zero-byte file,
 # as systems may use methods other than mode bits to determine executability.
 cat >conf$$.file <<_ASEOF
-#! /bin/sh
+#! /System/Tools/sh
 exit 0
 _ASEOF
 chmod +x conf$$.file
-if test -x conf$$.file >/dev/null 2>&1; then
+if test -x conf$$.file >/System/Devices/null 2>&1; then
   ac_executable_p="test -x"
 else
   ac_executable_p="test -f"
diff -urN gawk-3.1.4/main.c gawk-3.1.4-STEP/main.c
--- gawk-3.1.4/main.c	2004-07-29 01:42:19.000000000 +1200
+++ gawk-3.1.4-STEP/main.c	2005-08-16 15:59:31.547757640 +1200
@@ -1058,7 +1058,7 @@
 	exit(0);
 }
 
-/* init_fds --- check for 0, 1, 2, open on /dev/null if possible */
+/* init_fds --- check for 0, 1, 2, open on /System/Devices/null if possible */
 
 static void
 init_fds()
@@ -1074,12 +1074,12 @@
 			if (do_lint)
 				lintwarn(_("no pre-opened fd %d"), fd);
 #endif
-			newfd = devopen("/dev/null", "r+");
+			newfd = devopen("/System/Devices/null", "r+");
 			/* turn off some compiler warnings "set but not used" */
 			newfd += 0;
 #ifdef MAKE_A_HEROIC_EFFORT
 			if (do_lint && newfd < 0)
-				lintwarn(_("could not pre-open /dev/null for fd %d"), fd);
+				lintwarn(_("could not pre-open /System/Devices/null for fd %d"), fd);
 #endif
 		}
 	}
diff -urN gawk-3.1.4/missing gawk-3.1.4-STEP/missing
--- gawk-3.1.4/missing	2004-06-22 01:38:34.000000000 +1200
+++ gawk-3.1.4-STEP/missing	2005-08-16 16:08:52.368499928 +1200
@@ -1,4 +1,4 @@
-#! /bin/sh
+#! /System/Tools/sh
 # Common stub for a few missing GNU programs while installing.
 
 scriptversion=2003-09-02.23
@@ -105,7 +105,7 @@
     ;;
 
   aclocal*)
-    if test -z "$run" && ($1 --version) > /dev/null 2>&1; then
+    if test -z "$run" && ($1 --version) > /System/Devices/null 2>&1; then
        # We have it, but it failed.
        exit 1
     fi
@@ -119,7 +119,7 @@
     ;;
 
   autoconf)
-    if test -z "$run" && ($1 --version) > /dev/null 2>&1; then
+    if test -z "$run" && ($1 --version) > /System/Devices/null 2>&1; then
        # We have it, but it failed.
        exit 1
     fi
@@ -133,7 +133,7 @@
     ;;
 
   autoheader)
-    if test -z "$run" && ($1 --version) > /dev/null 2>&1; then
+    if test -z "$run" && ($1 --version) > /System/Devices/null 2>&1; then
        # We have it, but it failed.
        exit 1
     fi
@@ -157,7 +157,7 @@
     ;;
 
   automake*)
-    if test -z "$run" && ($1 --version) > /dev/null 2>&1; then
+    if test -z "$run" && ($1 --version) > /System/Devices/null 2>&1; then
        # We have it, but it failed.
        exit 1
     fi
@@ -173,7 +173,7 @@
     ;;
 
   autom4te)
-    if test -z "$run" && ($1 --version) > /dev/null 2>&1; then
+    if test -z "$run" && ($1 --version) > /System/Devices/null 2>&1; then
        # We have it, but it failed.
        exit 1
     fi
@@ -191,7 +191,7 @@
 	touch $file
     else
 	test -z "$file" || exec >$file
-	echo "#! /bin/sh"
+	echo "#! /System/Tools/sh"
 	echo "# Created by GNU Automake missing as a replacement of"
 	echo "#  $ $@"
 	echo "exit 0"
@@ -254,7 +254,7 @@
     ;;
 
   help2man)
-    if test -z "$run" && ($1 --version) > /dev/null 2>&1; then
+    if test -z "$run" && ($1 --version) > /System/Devices/null 2>&1; then
        # We have it, but it failed.
        exit 1
     fi
@@ -279,7 +279,7 @@
     ;;
 
   makeinfo)
-    if test -z "$run" && (makeinfo --version) > /dev/null 2>&1; then
+    if test -z "$run" && (makeinfo --version) > /System/Devices/null 2>&1; then
        # We have makeinfo, but it failed.
        exit 1
     fi
@@ -309,10 +309,10 @@
     # We have already tried tar in the generic part.
     # Look for gnutar/gtar before invocation to avoid ugly error
     # messages.
-    if (gnutar --version > /dev/null 2>&1); then
+    if (gnutar --version > /System/Devices/null 2>&1); then
        gnutar "$@" && exit 0
     fi
-    if (gtar --version > /dev/null 2>&1); then
+    if (gtar --version > /System/Devices/null 2>&1); then
        gtar "$@" && exit 0
     fi
     firstarg="$1"
diff -urN gawk-3.1.4/mkinstalldirs gawk-3.1.4-STEP/mkinstalldirs
--- gawk-3.1.4/mkinstalldirs	2004-06-22 01:38:41.000000000 +1200
+++ gawk-3.1.4-STEP/mkinstalldirs	2005-08-16 16:08:52.372499320 +1200
@@ -1,4 +1,4 @@
-#! /bin/sh
+#! /System/Tools/sh
 # mkinstalldirs --- make directory hierarchy
 
 scriptversion=2004-02-15.20
@@ -74,7 +74,7 @@
 # ourselves to GNU mkdir, which is thread-safe.
 case $dirmode in
   '')
-    if mkdir -p --version . >/dev/null 2>&1 && test ! -d ./--version; then
+    if mkdir -p --version . >/System/Devices/null 2>&1 && test ! -d ./--version; then
       echo "mkdir -p -- $*"
       exec mkdir -p -- "$@"
     else
@@ -87,7 +87,7 @@
     fi
     ;;
   *)
-    if mkdir -m "$dirmode" -p --version . >/dev/null 2>&1 &&
+    if mkdir -m "$dirmode" -p --version . >/System/Devices/null 2>&1 &&
        test ! -d ./--version; then
       echo "mkdir -m $dirmode -p -- $*"
       exec mkdir -m "$dirmode" -p -- "$@"
diff -urN gawk-3.1.4/pc/ChangeLog gawk-3.1.4-STEP/pc/ChangeLog
--- gawk-3.1.4/pc/ChangeLog	2004-08-02 21:19:07.000000000 +1200
+++ gawk-3.1.4-STEP/pc/ChangeLog	2005-08-16 15:59:31.603749128 +1200
@@ -200,7 +200,7 @@
 
 Thu Nov  5 16:50:09 1998  Arnold D. Robbins  <arnold@gnu.org>
 
-	* gawkmisc.pc (os_devopen): handle "/dev/null".
+	* gawkmisc.pc (os_devopen): handle "/System/Devices/null".
 
 Wed Jul 30 19:53:52 1997  Arnold D. Robbins  <arnold@gnu.org>
 
diff -urN gawk-3.1.4/pc/Makefile.tst gawk-3.1.4-STEP/pc/Makefile.tst
--- gawk-3.1.4/pc/Makefile.tst	2004-07-29 01:45:18.000000000 +1200
+++ gawk-3.1.4-STEP/pc/Makefile.tst	2005-08-16 16:08:52.407494000 +1200
@@ -54,10 +54,10 @@
 # defined on the next few lines.  
 
 # This won't work unless you have "sh" and set SHELL equal to it (Make 3.74
-# or later which comes with DJGPP will work with SHELL=/bin/sh if you have
+# or later which comes with DJGPP will work with SHELL=/System/Tools/sh if you have
 # sh.exe anywhere on your PATH).
 #SHELL = e:\bin\sh.exe
-SHELL = /bin/sh
+SHELL = /System/Tools/sh
 
 # Point to gawk
 AWK = ../gawk.exe
@@ -199,19 +199,19 @@
 extend-msg-end:
 	@echo "======== Done with gawk extension tests ========"
 
-# This test is a PITA because increasingly, /tmp is getting
+# This test is a PITA because increasingly, /System/TemporaryFiles is getting
 # mounted noexec.  So, we'll test it locally.  Sigh.
 #
 # More PITA; some systems have medium short limits on #! paths,
 # so this can still fail
 poundbang::
 	@echo $@
-	@sed "s;/tmp/gawk;`pwd`/$(AWKPROG);" < $(srcdir)/poundbang.awk > ./_pbd.awk
+	@sed "s;/System/TemporaryFiles/gawk;`pwd`/$(AWKPROG);" < $(srcdir)/poundbang.awk > ./_pbd.awk
 	@chmod +x ./_pbd.awk
 	@if ./_pbd.awk $(srcdir)/poundbang.awk > _`basename $@` ; \
 	then : ; \
 	else \
-		sed "s;/tmp/gawk;../$(AWKPROG);" < $(srcdir)/poundbang.awk > ./_pbd.awk ; \
+		sed "s;/System/TemporaryFiles/gawk;../$(AWKPROG);" < $(srcdir)/poundbang.awk > ./_pbd.awk ; \
 		chmod +x ./_pbd.awk ; \
 		LC_ALL=$${GAWKLOCALE:-C} LANG=$${GAWKLOCALE:-C} ./_pbd.awk $(srcdir)/poundbang.awk > _`basename $@`;  \
 	fi
@@ -285,7 +285,7 @@
 
 nonl::
 	@echo $@
-	@-AWKPATH=$(srcdir) $(AWK) --lint -f nonl.awk /dev/null >_$@ 2>&1
+	@-AWKPATH=$(srcdir) $(AWK) --lint -f nonl.awk /System/Devices/null >_$@ 2>&1
 	@-$(CMP) $(srcdir)/nonl.ok _$@ && rm -f _$@
 
 strftime::
@@ -326,7 +326,7 @@
 	@$(AWK) --traditional -f $(srcdir)/tradanch.awk $(srcdir)/tradanch.in >_$@
 	@-$(CMP) $(srcdir)/tradanch.ok _$@ && rm -f _$@
 
-# AIX /bin/sh exec's the last command in a list, therefore issue a ":"
+# AIX /System/Tools/sh exec's the last command in a list, therefore issue a ":"
 # command so that pid.sh is fork'ed as a child before being exec'ed.
 pid::
 	@echo pid
@@ -1385,7 +1385,7 @@
 
 # An attempt to print something that can be grepped for in build logs
 pass-fail:
-	@COUNT=`ls _* 2>/dev/null | wc -l` ; \
+	@COUNT=`ls _* 2>/System/Devices/null | wc -l` ; \
 	if test $$COUNT = 0 ; \
 	then	echo ALL TESTS PASSED ; \
 	else	echo $$COUNT TESTS FAILED ; \
diff -urN gawk-3.1.4/pc/awklib/igawk gawk-3.1.4-STEP/pc/awklib/igawk
--- gawk-3.1.4/pc/awklib/igawk	1996-01-08 18:16:25.000000000 +1300
+++ gawk-3.1.4-STEP/pc/awklib/igawk	2005-08-16 16:08:52.375498864 +1200
@@ -1,11 +1,11 @@
-#! /bin/sh
+#! /System/Tools/sh
 
 # igawk --- like gawk but do @include processing
 # Arnold Robbins, arnold@gnu.ai.mit.edu, Public Domain
 # July 1993
 
-igs=${TMP:-/tmp}/igs$$
-ige=${TMP:-/tmp}/ige$$
+igs=${TMP:-/System/TemporaryFiles}/igs$$
+ige=${TMP:-/System/TemporaryFiles}/ige$$
 
 if [ "$1" = debug ]
 then
diff -urN gawk-3.1.4/pc/awklib/igawk.awk gawk-3.1.4-STEP/pc/awklib/igawk.awk
--- gawk-3.1.4/pc/awklib/igawk.awk	2001-12-20 02:56:30.000000000 +1300
+++ gawk-3.1.4-STEP/pc/awklib/igawk.awk	2005-08-16 15:59:31.599749736 +1200
@@ -35,7 +35,7 @@
             fpath = pathto($2)
             if (fpath == "") {
                 printf("igawk:%s:%d: cannot find %s\n",
-                    input[stackptr], FNR, $2) > "/dev/stderr"
+                    input[stackptr], FNR, $2) > "/System/Devices/stderr"
                 continue
             }
             if (! (fpath in processed)) {
@@ -44,7 +44,7 @@
             } else
                 print $2, "included in", input[stackptr],
                     "already included in",
-                    processed[fpath] > "/dev/stderr"
+                    processed[fpath] > "/System/Devices/stderr"
         }
         close(input[stackptr])
     }
diff -urN gawk-3.1.4/pc/gawkmisc.pc gawk-3.1.4-STEP/pc/gawkmisc.pc
--- gawk-3.1.4/pc/gawkmisc.pc	2003-10-27 02:58:29.000000000 +1300
+++ gawk-3.1.4-STEP/pc/gawkmisc.pc	2005-08-16 15:59:31.631744872 +1200
@@ -129,10 +129,10 @@
 	/* do not use open(name, flag) here !!! */
 	return -1;
 #else
-	if (strcmp(name, "/dev/null") == 0)
+	if (strcmp(name, "/System/Devices/null") == 0)
 		return open("NUL", flag);
 	/* FIXME: */
-	/* else if (strcmp(name, "/dev/tty") == 0)
+	/* else if (strcmp(name, "/System/Devices/tty") == 0)
 	 * 	return open("???", flag);
 	 */
 	return -1;
diff -urN gawk-3.1.4/pc/mkinstal.sh gawk-3.1.4-STEP/pc/mkinstal.sh
--- gawk-3.1.4/pc/mkinstal.sh	1995-12-20 04:08:42.000000000 +1300
+++ gawk-3.1.4-STEP/pc/mkinstal.sh	2005-08-16 16:08:52.410493544 +1200
@@ -1,4 +1,4 @@
-#! /bin/sh
+#! /System/Tools/sh
 # mkinstalldirs --- make directory hierarchy
 # Author: Noah Friedman <friedman@prep.ai.mit.edu>
 # Created: 1993-05-16
diff -urN gawk-3.1.4/po/Makefile.in.in gawk-3.1.4-STEP/po/Makefile.in.in
--- gawk-3.1.4/po/Makefile.in.in	2004-02-20 10:08:40.000000000 +1300
+++ gawk-3.1.4-STEP/po/Makefile.in.in	2005-08-16 16:08:52.414492936 +1200
@@ -13,7 +13,7 @@
 PACKAGE = @PACKAGE@
 VERSION = @VERSION@
 
-SHELL = /bin/sh
+SHELL = /System/Tools/sh
 @SET_MAKE@
 
 srcdir = @srcdir@
@@ -109,7 +109,7 @@
 	  if test -f $(srcdir)/$(DOMAIN).pot; then \
 	    sed -f remove-potcdate.sed < $(srcdir)/$(DOMAIN).pot > $(DOMAIN).1po && \
 	    sed -f remove-potcdate.sed < $(DOMAIN).po > $(DOMAIN).2po && \
-	    if cmp $(DOMAIN).1po $(DOMAIN).2po >/dev/null 2>&1; then \
+	    if cmp $(DOMAIN).1po $(DOMAIN).2po >/System/Devices/null 2>&1; then \
 	      rm -f $(DOMAIN).1po $(DOMAIN).2po $(DOMAIN).po; \
 	    else \
 	      rm -f $(DOMAIN).1po $(DOMAIN).2po $(srcdir)/$(DOMAIN).pot && \
@@ -168,7 +168,7 @@
 	  echo "installing $$realcat as $(DESTDIR)$$dir/$(DOMAIN).mo"; \
 	  for lc in '' $(EXTRA_LOCALE_CATEGORIES); do \
 	    if test -n "$$lc"; then \
-	      if (cd $(DESTDIR)$(localedir)/$$lang && LC_ALL=C ls -l -d $$lc 2>/dev/null) | grep ' -> ' >/dev/null; then \
+	      if (cd $(DESTDIR)$(localedir)/$$lang && LC_ALL=C ls -l -d $$lc 2>/System/Devices/null) | grep ' -> ' >/System/Devices/null; then \
 	        link=`cd $(DESTDIR)$(localedir)/$$lang && LC_ALL=C ls -l -d $$lc | sed -e 's/^.* -> //'`; \
 	        mv $(DESTDIR)$(localedir)/$$lang/$$lc $(DESTDIR)$(localedir)/$$lang/$$lc.old; \
 	        mkdir $(DESTDIR)$(localedir)/$$lang/$$lc; \
@@ -188,8 +188,8 @@
 	        fi; \
 	      fi; \
 	      rm -f $(DESTDIR)$(localedir)/$$lang/$$lc/$(DOMAIN).mo; \
-	      ln -s ../LC_MESSAGES/$(DOMAIN).mo $(DESTDIR)$(localedir)/$$lang/$$lc/$(DOMAIN).mo 2>/dev/null || \
-	      ln $(DESTDIR)$(localedir)/$$lang/LC_MESSAGES/$(DOMAIN).mo $(DESTDIR)$(localedir)/$$lang/$$lc/$(DOMAIN).mo 2>/dev/null || \
+	      ln -s ../LC_MESSAGES/$(DOMAIN).mo $(DESTDIR)$(localedir)/$$lang/$$lc/$(DOMAIN).mo 2>/System/Devices/null || \
+	      ln $(DESTDIR)$(localedir)/$$lang/LC_MESSAGES/$(DOMAIN).mo $(DESTDIR)$(localedir)/$$lang/$$lc/$(DOMAIN).mo 2>/System/Devices/null || \
 	      cp -p $(DESTDIR)$(localedir)/$$lang/LC_MESSAGES/$(DOMAIN).mo $(DESTDIR)$(localedir)/$$lang/$$lc/$(DOMAIN).mo; \
 	      echo "installing $$realcat link as $(DESTDIR)$(localedir)/$$lang/$$lc/$(DOMAIN).mo"; \
 	    fi; \
@@ -217,7 +217,7 @@
 	  $(mkinstalldirs) $(DESTDIR)$$dir; \
 	  for lc in '' $(EXTRA_LOCALE_CATEGORIES); do \
 	    if test -n "$$lc"; then \
-	      if (cd $(DESTDIR)$(localedir)/$$lang && LC_ALL=C ls -l -d $$lc 2>/dev/null) | grep ' -> ' >/dev/null; then \
+	      if (cd $(DESTDIR)$(localedir)/$$lang && LC_ALL=C ls -l -d $$lc 2>/System/Devices/null) | grep ' -> ' >/System/Devices/null; then \
 	        link=`cd $(DESTDIR)$(localedir)/$$lang && LC_ALL=C ls -l -d $$lc | sed -e 's/^.* -> //'`; \
 	        mv $(DESTDIR)$(localedir)/$$lang/$$lc $(DESTDIR)$(localedir)/$$lang/$$lc.old; \
 	        mkdir $(DESTDIR)$(localedir)/$$lang/$$lc; \
@@ -334,7 +334,7 @@
 	echo "$${cdcmd}$(MSGMERGE) $$lang.po $(DOMAIN).pot -o $$lang.new.po"; \
 	cd $(srcdir); \
 	if $(MSGMERGE) $$lang.po $(DOMAIN).pot -o $$tmpdir/$$lang.new.po; then \
-	  if cmp $$lang.po $$tmpdir/$$lang.new.po >/dev/null 2>&1; then \
+	  if cmp $$lang.po $$tmpdir/$$lang.new.po >/System/Devices/null 2>&1; then \
 	    rm -f $$tmpdir/$$lang.new.po; \
 	  else \
 	    if mv -f $$tmpdir/$$lang.new.po $$lang.po; then \
diff -urN gawk-3.1.4/po/Rules-quot gawk-3.1.4-STEP/po/Rules-quot
--- gawk-3.1.4/po/Rules-quot	2004-02-20 10:08:40.000000000 +1300
+++ gawk-3.1.4-STEP/po/Rules-quot	2005-08-16 15:59:31.666739552 +1200
@@ -20,8 +20,8 @@
 	ll=`echo $$lang | sed -e 's/@.*//'`; \
 	LC_ALL=C; export LC_ALL; \
 	cd $(srcdir); \
-	if $(MSGINIT) -i $(DOMAIN).pot --no-translator -l $$ll -o - 2>/dev/null | sed -f $$tmpdir/$$lang.insert-header | $(MSGCONV) -t UTF-8 | $(MSGFILTER) sed -f `echo $$lang | sed -e 's/.*@//'`.sed 2>/dev/null > $$tmpdir/$$lang.new.po; then \
-	  if cmp $$lang.po $$tmpdir/$$lang.new.po >/dev/null 2>&1; then \
+	if $(MSGINIT) -i $(DOMAIN).pot --no-translator -l $$ll -o - 2>/System/Devices/null | sed -f $$tmpdir/$$lang.insert-header | $(MSGCONV) -t UTF-8 | $(MSGFILTER) sed -f `echo $$lang | sed -e 's/.*@//'`.sed 2>/System/Devices/null > $$tmpdir/$$lang.new.po; then \
+	  if cmp $$lang.po $$tmpdir/$$lang.new.po >/System/Devices/null 2>&1; then \
 	    rm -f $$tmpdir/$$lang.new.po; \
 	  else \
 	    if mv -f $$tmpdir/$$lang.new.po $$lang.po; then \
Binary files gawk-3.1.4/po/ca.gmo and gawk-3.1.4-STEP/po/ca.gmo differ
diff -urN gawk-3.1.4/po/ca.po gawk-3.1.4-STEP/po/ca.po
--- gawk-3.1.4/po/ca.po	2004-07-15 22:02:12.000000000 +1200
+++ gawk-3.1.4-STEP/po/ca.po	2005-08-16 15:59:32.161664312 +1200
@@ -1306,8 +1306,8 @@
 msgstr "useu PROCINFO[\"%s\"] en comptes de %s"
 
 #: io.c:1509
-msgid "use `PROCINFO[...]' instead of `/dev/user'"
-msgstr "useu PROCINFO[...] en comptes de /dev/user"
+msgid "use `PROCINFO[...]' instead of `/System/Devices/user'"
+msgstr "useu PROCINFO[...] en comptes de /System/Devices/user"
 
 #: io.c:1574 io.c:1748
 #, c-format
@@ -1667,8 +1667,8 @@
 
 #: main.c:1082
 #, c-format
-msgid "could not pre-open /dev/null for fd %d"
-msgstr "no es pot pre-obrir /dev/null per al descriptor fd %d"
+msgid "could not pre-open /System/Devices/null for fd %d"
+msgstr "no es pot pre-obrir /System/Devices/null per al descriptor fd %d"
 
 #: main.c:1105 main.c:1114
 #, c-format
Binary files gawk-3.1.4/po/da.gmo and gawk-3.1.4-STEP/po/da.gmo differ
diff -urN gawk-3.1.4/po/da.po gawk-3.1.4-STEP/po/da.po
--- gawk-3.1.4/po/da.po	2004-07-15 22:02:12.000000000 +1200
+++ gawk-3.1.4-STEP/po/da.po	2005-08-16 15:59:32.061679512 +1200
@@ -1294,7 +1294,7 @@
 msgstr "brug \"PROCINFO[\"%s\"]\" i stedet for \"%s\""
 
 #: io.c:1509
-msgid "use `PROCINFO[...]' instead of `/dev/user'"
+msgid "use `PROCINFO[...]' instead of `/System/Devices/user'"
 msgstr "brug \"PROCINFO[...]\" i stedet for \"dev/user\""
 
 #: io.c:1574 io.c:1748
@@ -1646,8 +1646,8 @@
 
 #: main.c:1082
 #, c-format
-msgid "could not pre-open /dev/null for fd %d"
-msgstr "kunne ikke for-bne /dev/null for fd %d"
+msgid "could not pre-open /System/Devices/null for fd %d"
+msgstr "kunne ikke for-bne /System/Devices/null for fd %d"
 
 #: main.c:1105 main.c:1114
 #, c-format
Binary files gawk-3.1.4/po/de.gmo and gawk-3.1.4-STEP/po/de.gmo differ
diff -urN gawk-3.1.4/po/de.po gawk-3.1.4-STEP/po/de.po
--- gawk-3.1.4/po/de.po	2004-07-15 22:02:12.000000000 +1200
+++ gawk-3.1.4-STEP/po/de.po	2005-08-16 15:59:32.022685440 +1200
@@ -1306,8 +1306,8 @@
 msgstr "Benutzen Sie 'PROCINFO[\"%s\"]' statt '%s'"
 
 #: io.c:1509
-msgid "use `PROCINFO[...]' instead of `/dev/user'"
-msgstr "Benutzen Sie 'PROCINFO[...] statt '/dev/user'."
+msgid "use `PROCINFO[...]' instead of `/System/Devices/user'"
+msgstr "Benutzen Sie 'PROCINFO[...] statt '/System/Devices/user'."
 
 #: io.c:1574 io.c:1748
 #, c-format
@@ -1661,8 +1661,8 @@
 
 #: main.c:1082
 #, c-format
-msgid "could not pre-open /dev/null for fd %d"
-msgstr "Konnte /dev/null nicht fr Dateideskriptor %d ffnen."
+msgid "could not pre-open /System/Devices/null for fd %d"
+msgstr "Konnte /System/Devices/null nicht fr Dateideskriptor %d ffnen."
 
 #: main.c:1105 main.c:1114
 #, c-format
Binary files gawk-3.1.4/po/es.gmo and gawk-3.1.4-STEP/po/es.gmo differ
diff -urN gawk-3.1.4/po/es.po gawk-3.1.4-STEP/po/es.po
--- gawk-3.1.4/po/es.po	2004-07-29 01:55:28.000000000 +1200
+++ gawk-3.1.4-STEP/po/es.po	2005-08-16 15:59:31.738728608 +1200
@@ -1305,8 +1305,8 @@
 msgstr "use `PROCINFO[\"%s\"]' en lugar de `%s'"
 
 #: io.c:1509
-msgid "use `PROCINFO[...]' instead of `/dev/user'"
-msgstr "use `PROCINFO[...]' en lugar de `/dev/user'"
+msgid "use `PROCINFO[...]' instead of `/System/Devices/user'"
+msgstr "use `PROCINFO[...]' en lugar de `/System/Devices/user'"
 
 #: io.c:1574 io.c:1748
 #, c-format
@@ -1681,8 +1681,8 @@
 
 #: main.c:1082
 #, c-format
-msgid "could not pre-open /dev/null for fd %d"
-msgstr "no se puede abrir previamente /dev/null para el df %d"
+msgid "could not pre-open /System/Devices/null for fd %d"
+msgstr "no se puede abrir previamente /System/Devices/null para el df %d"
 
 #: main.c:1105 main.c:1114
 #, c-format
Binary files gawk-3.1.4/po/fr.gmo and gawk-3.1.4-STEP/po/fr.gmo differ
diff -urN gawk-3.1.4/po/fr.po gawk-3.1.4-STEP/po/fr.po
--- gawk-3.1.4/po/fr.po	2004-07-29 01:55:29.000000000 +1200
+++ gawk-3.1.4-STEP/po/fr.po	2005-08-16 15:59:31.784721616 +1200
@@ -1313,8 +1313,8 @@
 msgstr "utliser  PROCINFO[\"%s\"]  au lieu de  %s "
 
 #: io.c:1509
-msgid "use `PROCINFO[...]' instead of `/dev/user'"
-msgstr "utliser  PROCINFO[\"%s\"]  au lieu de  /dev/user "
+msgid "use `PROCINFO[...]' instead of `/System/Devices/user'"
+msgstr "utliser  PROCINFO[\"%s\"]  au lieu de  /System/Devices/user "
 
 #: io.c:1574 io.c:1748
 #, c-format
@@ -1671,8 +1671,8 @@
 
 #: main.c:1082
 #, c-format
-msgid "could not pre-open /dev/null for fd %d"
-msgstr "ne peut pr-ouvrir /dev/null pour le descripteud fd %d"
+msgid "could not pre-open /System/Devices/null for fd %d"
+msgstr "ne peut pr-ouvrir /System/Devices/null pour le descripteud fd %d"
 
 #: main.c:1105 main.c:1114
 #, c-format
diff -urN gawk-3.1.4/po/gawk.pot gawk-3.1.4-STEP/po/gawk.pot
--- gawk-3.1.4/po/gawk.pot	2004-07-15 22:02:11.000000000 +1200
+++ gawk-3.1.4-STEP/po/gawk.pot	2005-08-16 15:59:31.688736208 +1200
@@ -1257,7 +1257,7 @@
 msgstr ""
 
 #: io.c:1509
-msgid "use `PROCINFO[...]' instead of `/dev/user'"
+msgid "use `PROCINFO[...]' instead of `/System/Devices/user'"
 msgstr ""
 
 #: io.c:1574 io.c:1748
@@ -1591,7 +1591,7 @@
 
 #: main.c:1082
 #, c-format
-msgid "could not pre-open /dev/null for fd %d"
+msgid "could not pre-open /System/Devices/null for fd %d"
 msgstr ""
 
 #: main.c:1105 main.c:1114
Binary files gawk-3.1.4/po/he.gmo and gawk-3.1.4-STEP/po/he.gmo differ
diff -urN gawk-3.1.4/po/he.po gawk-3.1.4-STEP/po/he.po
--- gawk-3.1.4/po/he.po	2004-07-15 22:02:12.000000000 +1200
+++ gawk-3.1.4-STEP/po/he.po	2005-08-16 15:59:31.845712344 +1200
@@ -1276,8 +1276,8 @@
 msgstr "`PROCINFO[\"%s\"]'-   `%s' "
 
 #: io.c:1509
-msgid "use `PROCINFO[...]' instead of `/dev/user'"
-msgstr "`/dev/user' -  `PROCINFO[...]'- "
+msgid "use `PROCINFO[...]' instead of `/System/Devices/user'"
+msgstr "`/System/Devices/user' -  `PROCINFO[...]'- "
 
 # This probably sounds nonsensical in Hebrew, but what can I do,
 # given the original message text?
@@ -1635,11 +1635,11 @@
 msgid "no pre-opened fd %d"
 msgstr "   %d / "
 
-# FIXME: /dev/null might not be known to all.
+# FIXME: /System/Devices/null might not be known to all.
 #: main.c:1082
 #, c-format
-msgid "could not pre-open /dev/null for fd %d"
-msgstr "/dev/null- %d /    "
+msgid "could not pre-open /System/Devices/null for fd %d"
+msgstr "/System/Devices/null- %d /    "
 
 #: main.c:1105 main.c:1114
 #, c-format
Binary files gawk-3.1.4/po/it.gmo and gawk-3.1.4-STEP/po/it.gmo differ
diff -urN gawk-3.1.4/po/it.po gawk-3.1.4-STEP/po/it.po
--- gawk-3.1.4/po/it.po	2004-07-15 22:02:12.000000000 +1200
+++ gawk-3.1.4-STEP/po/it.po	2005-08-16 15:59:31.889705656 +1200
@@ -1281,8 +1281,8 @@
 msgstr "usa `PROCINFO[\"%s\"]' invece che `%s'"
 
 #: io.c:1509
-msgid "use `PROCINFO[...]' instead of `/dev/user'"
-msgstr "usa `PROCINFO[...]' invece che `/dev/user'"
+msgid "use `PROCINFO[...]' instead of `/System/Devices/user'"
+msgstr "usa `PROCINFO[...]' invece che `/System/Devices/user'"
 
 #: io.c:1574 io.c:1748
 #, c-format
@@ -1646,8 +1646,8 @@
 
 #: main.c:1082
 #, c-format
-msgid "could not pre-open /dev/null for fd %d"
-msgstr "non riesco a predefinire /dev/null per 'fd' %d"
+msgid "could not pre-open /System/Devices/null for fd %d"
+msgstr "non riesco a predefinire /System/Devices/null per 'fd' %d"
 
 #: main.c:1105 main.c:1114
 #, c-format
Binary files gawk-3.1.4/po/ja.gmo and gawk-3.1.4-STEP/po/ja.gmo differ
diff -urN gawk-3.1.4/po/ja.po gawk-3.1.4-STEP/po/ja.po
--- gawk-3.1.4/po/ja.po	2004-07-15 22:02:12.000000000 +1200
+++ gawk-3.1.4-STEP/po/ja.po	2005-08-16 15:59:32.260649264 +1200
@@ -1287,8 +1287,8 @@
 msgstr "`%2$s'  `PROCINFO[\"%1$s\"]' "
 
 #: io.c:1509
-msgid "use `PROCINFO[...]' instead of `/dev/user'"
-msgstr "`/dev/user'  `PROCINFO[...]' "
+msgid "use `PROCINFO[...]' instead of `/System/Devices/user'"
+msgstr "`/System/Devices/user'  `PROCINFO[...]' "
 
 #: io.c:1574 io.c:1748
 #, c-format
@@ -1661,8 +1661,8 @@
 
 #: main.c:1082
 #, c-format
-msgid "could not pre-open /dev/null for fd %d"
-msgstr " fd %d  /dev/null "
+msgid "could not pre-open /System/Devices/null for fd %d"
+msgstr " fd %d  /System/Devices/null "
 
 #: main.c:1105 main.c:1114
 #, c-format
Binary files gawk-3.1.4/po/pl.gmo and gawk-3.1.4-STEP/po/pl.gmo differ
diff -urN gawk-3.1.4/po/pl.po gawk-3.1.4-STEP/po/pl.po
--- gawk-3.1.4/po/pl.po	2004-07-29 01:55:29.000000000 +1200
+++ gawk-3.1.4-STEP/po/pl.po	2005-08-16 15:59:32.209657016 +1200
@@ -1298,8 +1298,8 @@
 msgstr "uyj `PROCINFO[\"%s\"]' zamiast `%s'"
 
 #: io.c:1509
-msgid "use `PROCINFO[...]' instead of `/dev/user'"
-msgstr "uyj `PROCINFO[...]' zamiast `/dev/user'"
+msgid "use `PROCINFO[...]' instead of `/System/Devices/user'"
+msgstr "uyj `PROCINFO[...]' zamiast `/System/Devices/user'"
 
 #: io.c:1574 io.c:1748
 #, c-format
@@ -1677,8 +1677,8 @@
 
 #: main.c:1082
 #, c-format
-msgid "could not pre-open /dev/null for fd %d"
-msgstr "nie mona otworzy zawczasu /dev/null dla fd %d"
+msgid "could not pre-open /System/Devices/null for fd %d"
+msgstr "nie mona otworzy zawczasu /System/Devices/null dla fd %d"
 
 #: main.c:1105 main.c:1114
 #, c-format
Binary files gawk-3.1.4/po/pt_BR.gmo and gawk-3.1.4-STEP/po/pt_BR.gmo differ
diff -urN gawk-3.1.4/po/pt_BR.po gawk-3.1.4-STEP/po/pt_BR.po
--- gawk-3.1.4/po/pt_BR.po	2004-07-15 22:02:12.000000000 +1200
+++ gawk-3.1.4-STEP/po/pt_BR.po	2005-08-16 15:59:32.109672216 +1200
@@ -1283,8 +1283,8 @@
 msgstr "use `PROCINFO[\"%s\"]' em vez de `%s'"
 
 #: io.c:1509
-msgid "use `PROCINFO[...]' instead of `/dev/user'"
-msgstr "use `PROCINFO[...]' em vez de `/dev/user'"
+msgid "use `PROCINFO[...]' instead of `/System/Devices/user'"
+msgstr "use `PROCINFO[...]' em vez de `/System/Devices/user'"
 
 #: io.c:1574 io.c:1748
 #, c-format
@@ -1642,8 +1642,8 @@
 
 #: main.c:1082
 #, c-format
-msgid "could not pre-open /dev/null for fd %d"
-msgstr "impossvel pr-abrir /dev/null para descritor %d"
+msgid "could not pre-open /System/Devices/null for fd %d"
+msgstr "impossvel pr-abrir /System/Devices/null para descritor %d"
 
 #: main.c:1105 main.c:1114
 #, c-format
Binary files gawk-3.1.4/po/ro.gmo and gawk-3.1.4-STEP/po/ro.gmo differ
diff -urN gawk-3.1.4/po/ro.po gawk-3.1.4-STEP/po/ro.po
--- gawk-3.1.4/po/ro.po	2004-07-15 22:02:12.000000000 +1200
+++ gawk-3.1.4-STEP/po/ro.po	2005-08-16 15:59:32.307642120 +1200
@@ -1312,8 +1312,8 @@
 msgstr "folosii `PROCINFO[\"%s\"]' n loc de `%s'"
 
 #: io.c:1509
-msgid "use `PROCINFO[...]' instead of `/dev/user'"
-msgstr "folosii `PROCINFO[...]' n loc de `/dev/user'"
+msgid "use `PROCINFO[...]' instead of `/System/Devices/user'"
+msgstr "folosii `PROCINFO[...]' n loc de `/System/Devices/user'"
 
 #: io.c:1574 io.c:1748
 #, c-format
@@ -1666,8 +1666,8 @@
 
 #: main.c:1082
 #, c-format
-msgid "could not pre-open /dev/null for fd %d"
-msgstr "nu s-a putut predeschide /dev/null pentru fd %d"
+msgid "could not pre-open /System/Devices/null for fd %d"
+msgstr "nu s-a putut predeschide /System/Devices/null pentru fd %d"
 
 #: main.c:1105 main.c:1114
 #, c-format
Binary files gawk-3.1.4/po/sv.gmo and gawk-3.1.4-STEP/po/sv.gmo differ
diff -urN gawk-3.1.4/po/sv.po gawk-3.1.4-STEP/po/sv.po
--- gawk-3.1.4/po/sv.po	2004-07-15 22:02:12.000000000 +1200
+++ gawk-3.1.4-STEP/po/sv.po	2005-08-16 15:59:31.924700336 +1200
@@ -1286,7 +1286,7 @@
 msgstr "anvnd \"PROCINFO[\"%s\"]\" istllet fr \"%s\""
 
 #: io.c:1509
-msgid "use `PROCINFO[...]' instead of `/dev/user'"
+msgid "use `PROCINFO[...]' instead of `/System/Devices/user'"
 msgstr "anvnd \"PROCINFO[...]\" istllet fr \"dev/user\""
 
 #: io.c:1574 io.c:1748
@@ -1648,8 +1648,8 @@
 
 #: main.c:1082
 #, c-format
-msgid "could not pre-open /dev/null for fd %d"
-msgstr "kunde inte frppna /dev/null fr fd %d"
+msgid "could not pre-open /System/Devices/null for fd %d"
+msgstr "kunde inte frppna /System/Devices/null fr fd %d"
 
 #: main.c:1105 main.c:1114
 #, c-format
Binary files gawk-3.1.4/po/tr.gmo and gawk-3.1.4-STEP/po/tr.gmo differ
diff -urN gawk-3.1.4/po/tr.po gawk-3.1.4-STEP/po/tr.po
--- gawk-3.1.4/po/tr.po	2004-07-29 01:55:29.000000000 +1200
+++ gawk-3.1.4-STEP/po/tr.po	2005-08-16 15:59:31.976692432 +1200
@@ -1280,8 +1280,8 @@
 msgstr "`PROCINFO[\"%s\"]' kullann (`%s' yerine)"
 
 #: io.c:1509
-msgid "use `PROCINFO[...]' instead of `/dev/user'"
-msgstr "`/dev/user' yerine `PROCINFO[...]' kullann"
+msgid "use `PROCINFO[...]' instead of `/System/Devices/user'"
+msgstr "`/System/Devices/user' yerine `PROCINFO[...]' kullann"
 
 #: io.c:1574 io.c:1748
 #, c-format
@@ -1648,8 +1648,8 @@
 
 #: main.c:1082
 #, c-format
-msgid "could not pre-open /dev/null for fd %d"
-msgstr "%d dosya tanmlaycs iin /dev/null n al yaplamad"
+msgid "could not pre-open /System/Devices/null for fd %d"
+msgstr "%d dosya tanmlaycs iin /System/Devices/null n al yaplamad"
 
 #: main.c:1105 main.c:1114
 #, c-format
diff -urN gawk-3.1.4/random.c gawk-3.1.4-STEP/random.c
--- gawk-3.1.4/random.c	2002-11-01 22:06:39.000000000 +1300
+++ gawk-3.1.4-STEP/random.c	2005-08-16 15:59:32.454619776 +1200
@@ -326,7 +326,7 @@
 
 	done = 0;
 #ifdef O_RDONLY
-	fd = open("/dev/urandom", O_RDONLY, 0);
+	fd = open("/System/Devices/urandom", O_RDONLY, 0);
 	if (fd >= 0) {
 		if (read(fd, (void *) state, len) == (ssize_t) len)
 			done = 1;
diff -urN gawk-3.1.4/replace.c gawk-3.1.4-STEP/replace.c
--- gawk-3.1.4/replace.c	2004-06-01 03:48:48.000000000 +1200
+++ gawk-3.1.4-STEP/replace.c	2005-08-16 16:06:09.076324112 +1200
@@ -12,7 +12,7 @@
  * have to replace path separators in this file into backslashes
  */
 #include "unsupported/atari/stack.c"
-#include "unsupported/atari/tmpnam.c"
+#include "unsupported/atari/System/TemporaryFilesnam.c"
 #endif /* atarist */
 
 #ifndef HAVE_SYSTEM
diff -urN gawk-3.1.4/test/ChangeLog gawk-3.1.4-STEP/test/ChangeLog
--- gawk-3.1.4/test/ChangeLog	2004-08-02 21:19:21.000000000 +1200
+++ gawk-3.1.4-STEP/test/ChangeLog	2005-08-16 16:06:09.162311040 +1200
@@ -9,7 +9,7 @@
 
 Tue Jul 13 10:53:32 2004  Arnold D. Robbins  <arnold@skeeve.com>
 
-	* strftlng: Use `$(CMP) ... >/dev/null 2>&1' instead of `-s'
+	* strftlng: Use `$(CMP) ... >/System/Devices/null 2>&1' instead of `-s'
 	for OS/2 and other systems that use `CMP = diff -a'.
 
 Mon Jun 14 18:44:39 2004  Pat Rankin  <rankin@pactechdata.com>
@@ -367,7 +367,7 @@
 Tue Oct  1 18:28:40 2002  Arnold D. Robbins  <arnold@skeeve.com>
 
 	* Makefile.am (poundbang): Rewrote rule to avoid problems
-	with hardcoding of /tmp pathname.
+	with hardcoding of /System/TemporaryFiles pathname.
 	(poundbang.awk): Changed the way it works.
 	(poundbang.ok): Removed.
 
@@ -380,7 +380,7 @@
 
 	* Makefile.am (AWKPROG): Add $(EXEEXT) macro.
 	(PATH_SEPERATOR): Removed.
-	(poundbag): Added $(EXEEXT) and use of ${TMPDIR-/tmp}.
+	(poundbag): Added $(EXEEXT) and use of ${TMPDIR-/System/TemporaryFiles}.
 
 Wed Aug  7 13:47:09 2002  Arnold D. Robbins  <arnold@skeeve.com>
 
@@ -525,7 +525,7 @@
 
 Wed Nov 22 13:27:59 2000  Arnold Robbins  <arnold@skeeve.com>
 
-	* Makefile.am (poundbang): Added some smarts for /tmp mounted
+	* Makefile.am (poundbang): Added some smarts for /System/TemporaryFiles mounted
 	  noexec.  Hopefully it'll even work.
 
 Tue Nov 14 17:45:02 2000  Arnold Robbins  <arnold@skeeve.com>
@@ -679,13 +679,13 @@
 
 Wed Jun  4 13:18:21 1997  Arnold D. Robbins  <arnold@gnu.org>
 
-	* pid.sh: send errors to /dev/null to toss warning about
+	* pid.sh: send errors to /System/Devices/null to toss warning about
 	  using PROCINFO["pid"] etc. This test explicitly tests
 	  the special files. It'll need changing in 3.2.
 
 Thu Apr 24 23:24:59 1997  Arnold D. Robbins  <arnold@gnu.org>
 
-	* Makefile.in (messages): remove special case if /dev/fd exists.
+	* Makefile.in (messages): remove special case if /System/Devices/fd exists.
 	  Finally.
 
 Mon Aug  7 15:23:00 2000  Arnold D. Robbins  <arnold@skeeve.com>
diff -urN gawk-3.1.4/test/Gentests gawk-3.1.4-STEP/test/Gentests
--- gawk-3.1.4/test/Gentests	2003-06-18 03:13:06.000000000 +1200
+++ gawk-3.1.4-STEP/test/Gentests	2005-08-16 15:59:32.550605184 +1200
@@ -60,7 +60,7 @@
 function generate(x,	s)
 {
 	if (!(x".awk" in files))
-		printf "WARNING: file `%s.awk' not found.\n", x > "/dev/stderr"
+		printf "WARNING: file `%s.awk' not found.\n", x > "/System/Devices/stderr"
 	else
 		delete files[x".awk"]
 		
@@ -84,9 +84,9 @@
 END {
 	for (x in lint)
 		if (!(x in targets))
-			printf "WARNING: --lint target `%s' is missing.\n", x > "/dev/stderr"
+			printf "WARNING: --lint target `%s' is missing.\n", x > "/System/Devices/stderr"
 	for (x in files)
 		if (!(x in unused) && \
 		    !(gensub(/\.(awk|in)$/,"","",x) in targets))
-			printf "WARNING: unused file `%s'.\n", x > "/dev/stderr"
+			printf "WARNING: unused file `%s'.\n", x > "/System/Devices/stderr"
 }
diff -urN gawk-3.1.4/test/Makefile.am gawk-3.1.4-STEP/test/Makefile.am
--- gawk-3.1.4/test/Makefile.am	2004-07-29 01:48:08.000000000 +1200
+++ gawk-3.1.4-STEP/test/Makefile.am	2005-08-16 16:08:52.422491720 +1200
@@ -648,19 +648,19 @@
 	@echo "======== Done with gawk extension tests ========"
 
 
-# This test is a PITA because increasingly, /tmp is getting
+# This test is a PITA because increasingly, /System/TemporaryFiles is getting
 # mounted noexec.  So, we'll test it locally.  Sigh.
 #
 # More PITA; some systems have medium short limits on #! paths,
 # so this can still fail
 poundbang::
 	@echo $@
-	@sed "s;/tmp/gawk;`pwd`/$(AWKPROG);" < $(srcdir)/poundbang.awk > ./_pbd.awk
+	@sed "s;/System/TemporaryFiles/gawk;`pwd`/$(AWKPROG);" < $(srcdir)/poundbang.awk > ./_pbd.awk
 	@chmod +x ./_pbd.awk
 	@if ./_pbd.awk $(srcdir)/poundbang.awk > _`basename $@` ; \
 	then : ; \
 	else \
-		sed "s;/tmp/gawk;../$(AWKPROG);" < $(srcdir)/poundbang.awk > ./_pbd.awk ; \
+		sed "s;/System/TemporaryFiles/gawk;../$(AWKPROG);" < $(srcdir)/poundbang.awk > ./_pbd.awk ; \
 		chmod +x ./_pbd.awk ; \
 		LC_ALL=$${GAWKLOCALE:-C} LANG=$${GAWKLOCALE:-C} ./_pbd.awk $(srcdir)/poundbang.awk > _`basename $@`;  \
 	fi
@@ -732,7 +732,7 @@
 
 nonl::
 	@echo $@
-	@-AWKPATH=$(srcdir) $(AWK) --lint -f nonl.awk /dev/null >_$@ 2>&1
+	@-AWKPATH=$(srcdir) $(AWK) --lint -f nonl.awk /System/Devices/null >_$@ 2>&1
 	@-$(CMP) $(srcdir)/nonl.ok _$@ && rm -f _$@
 
 strftime::
@@ -770,7 +770,7 @@
 	@$(AWK) --traditional -f $(srcdir)/tradanch.awk $(srcdir)/tradanch.in >_$@
 	@-$(CMP) $(srcdir)/tradanch.ok _$@ && rm -f _$@
 
-# AIX /bin/sh exec's the last command in a list, therefore issue a ":"
+# AIX /System/Tools/sh exec's the last command in a list, therefore issue a ":"
 # command so that pid.sh is fork'ed as a child before being exec'ed.
 pid::
 	@echo pid
@@ -780,7 +780,7 @@
 strftlng::
 	@echo $@
 	@TZ=UTC; export TZ; $(AWK) -f $(srcdir)/strftlng.awk >_$@
-	@if $(CMP) $(srcdir)/strftlng.ok _$@ >/dev/null 2>&1 ; then : ; else \
+	@if $(CMP) $(srcdir)/strftlng.ok _$@ >/System/Devices/null 2>&1 ; then : ; else \
 	TZ=UTC0; export TZ; $(AWK) -f $(srcdir)/strftlng.awk >_$@ ; \
 	fi
 	@-$(CMP) $(srcdir)/strftlng.ok _$@ && rm -f _$@
@@ -922,7 +922,7 @@
 
 # An attempt to print something that can be grepped for in build logs
 pass-fail:
-	@COUNT=`ls _* 2>/dev/null | wc -l` ; \
+	@COUNT=`ls _* 2>/System/Devices/null | wc -l` ; \
 	if test $$COUNT = 0 ; \
 	then	echo ALL TESTS PASSED ; \
 	else	echo $$COUNT TESTS FAILED ; \
diff -urN gawk-3.1.4/test/Makefile.in gawk-3.1.4-STEP/test/Makefile.in
--- gawk-3.1.4/test/Makefile.in	2004-08-02 21:16:31.000000000 +1200
+++ gawk-3.1.4-STEP/test/Makefile.in	2005-08-16 16:08:52.436489592 +1200
@@ -966,19 +966,19 @@
 extend-msg-end:
 	@echo "======== Done with gawk extension tests ========"
 
-# This test is a PITA because increasingly, /tmp is getting
+# This test is a PITA because increasingly, /System/TemporaryFiles is getting
 # mounted noexec.  So, we'll test it locally.  Sigh.
 #
 # More PITA; some systems have medium short limits on #! paths,
 # so this can still fail
 poundbang::
 	@echo $@
-	@sed "s;/tmp/gawk;`pwd`/$(AWKPROG);" < $(srcdir)/poundbang.awk > ./_pbd.awk
+	@sed "s;/System/TemporaryFiles/gawk;`pwd`/$(AWKPROG);" < $(srcdir)/poundbang.awk > ./_pbd.awk
 	@chmod +x ./_pbd.awk
 	@if ./_pbd.awk $(srcdir)/poundbang.awk > _`basename $@` ; \
 	then : ; \
 	else \
-		sed "s;/tmp/gawk;../$(AWKPROG);" < $(srcdir)/poundbang.awk > ./_pbd.awk ; \
+		sed "s;/System/TemporaryFiles/gawk;../$(AWKPROG);" < $(srcdir)/poundbang.awk > ./_pbd.awk ; \
 		chmod +x ./_pbd.awk ; \
 		LC_ALL=$${GAWKLOCALE:-C} LANG=$${GAWKLOCALE:-C} ./_pbd.awk $(srcdir)/poundbang.awk > _`basename $@`;  \
 	fi
@@ -1050,7 +1050,7 @@
 
 nonl::
 	@echo $@
-	@-AWKPATH=$(srcdir) $(AWK) --lint -f nonl.awk /dev/null >_$@ 2>&1
+	@-AWKPATH=$(srcdir) $(AWK) --lint -f nonl.awk /System/Devices/null >_$@ 2>&1
 	@-$(CMP) $(srcdir)/nonl.ok _$@ && rm -f _$@
 
 strftime::
@@ -1088,7 +1088,7 @@
 	@$(AWK) --traditional -f $(srcdir)/tradanch.awk $(srcdir)/tradanch.in >_$@
 	@-$(CMP) $(srcdir)/tradanch.ok _$@ && rm -f _$@
 
-# AIX /bin/sh exec's the last command in a list, therefore issue a ":"
+# AIX /System/Tools/sh exec's the last command in a list, therefore issue a ":"
 # command so that pid.sh is fork'ed as a child before being exec'ed.
 pid::
 	@echo pid
@@ -1098,7 +1098,7 @@
 strftlng::
 	@echo $@
 	@TZ=UTC; export TZ; $(AWK) -f $(srcdir)/strftlng.awk >_$@
-	@if $(CMP) $(srcdir)/strftlng.ok _$@ >/dev/null 2>&1 ; then : ; else \
+	@if $(CMP) $(srcdir)/strftlng.ok _$@ >/System/Devices/null 2>&1 ; then : ; else \
 	TZ=UTC0; export TZ; $(AWK) -f $(srcdir)/strftlng.awk >_$@ ; \
 	fi
 	@-$(CMP) $(srcdir)/strftlng.ok _$@ && rm -f _$@
@@ -2152,7 +2152,7 @@
 
 # An attempt to print something that can be grepped for in build logs
 pass-fail:
-	@COUNT=`ls _* 2>/dev/null | wc -l` ; \
+	@COUNT=`ls _* 2>/System/Devices/null | wc -l` ; \
 	if test $$COUNT = 0 ; \
 	then	echo ALL TESTS PASSED ; \
 	else	echo $$COUNT TESTS FAILED ; \
diff -urN gawk-3.1.4/test/arynasty.awk gawk-3.1.4-STEP/test/arynasty.awk
--- gawk-3.1.4/test/arynasty.awk	2000-10-17 21:49:30.000000000 +1300
+++ gawk-3.1.4-STEP/test/arynasty.awk	2005-08-16 15:59:32.567602600 +1200
@@ -1,16 +1,16 @@
 BEGIN {
 	a = 12.153
-#print "-- stroring test[a]" > "/dev/stderr" ; fflush("/dev/stderr")
+#print "-- stroring test[a]" > "/System/Devices/stderr" ; fflush("/System/Devices/stderr")
 	test[a] = "hi"
-#print "-- setting CONVFMT" > "/dev/stderr" ; fflush("/dev/stderr")
+#print "-- setting CONVFMT" > "/System/Devices/stderr" ; fflush("/System/Devices/stderr")
 	CONVFMT = "%.0f"
-#print "-- setting a" > "/dev/stderr" ; fflush("/dev/stderr")
+#print "-- setting a" > "/System/Devices/stderr" ; fflush("/System/Devices/stderr")
 	a = 5
 #stopme()
-#print "-- starting loop" > "/dev/stderr" ; fflush("/dev/stderr")
+#print "-- starting loop" > "/System/Devices/stderr" ; fflush("/System/Devices/stderr")
 	for (i in test) {
-#print("-- i =", i) > "/dev/stderr" ; fflush("/dev/stderr");
-#printf("-- i = <%s>\n", i) > "/dev/stderr" ; fflush("/dev/stderr");
+#print("-- i =", i) > "/System/Devices/stderr" ; fflush("/System/Devices/stderr");
+#printf("-- i = <%s>\n", i) > "/System/Devices/stderr" ; fflush("/System/Devices/stderr");
 		printf ("test[%s] = %s\n", i, test[i])
 	}
 }
diff -urN gawk-3.1.4/test/clobber.awk gawk-3.1.4-STEP/test/clobber.awk
--- gawk-3.1.4/test/clobber.awk	1997-06-05 04:38:08.000000000 +1200
+++ gawk-3.1.4-STEP/test/clobber.awk	2005-08-16 16:06:09.181308152 +1200
@@ -15,9 +15,9 @@
 # 
 # The following program produces a core file on my FreeBSD system:
 # 
-# bash$ echo 000800 >/tmp/seq
-# bash$ gawk '{ printf "%06d", $1 + 1 >"/tmp/seq";
-# 	      printf "%06d", $1 + 1 }' /tmp/seq                  
+# bash$ echo 000800 >/System/TemporaryFiles/seq
+# bash$ gawk '{ printf "%06d", $1 + 1 >"/System/TemporaryFiles/seq";
+# 	      printf "%06d", $1 + 1 }' /System/TemporaryFiles/seq                  
 # 
 # This fragment comes from mgetty+sendfax.
 # 
@@ -47,9 +47,9 @@
 # There is absolutely no warranty for GDB; type "show warranty" for details.
 # GDB 4.13 (i386-unknown-freebsd), 
 # Copyright 1994 Free Software Foundation, Inc...
-# (gdb) shell echo 000800 >/tmp/seq
-# (gdb) r '{ printf "%06d", $1 + 1 >"/tmp/seq"; printf "%06d", $1 + 1 }(gdb) r '{ printf "%06d", $1 + 1 >"/tmp/seq"; printf "%06d", $1 + 1 }' /tmp/seq
-# Starting program: /scratch/archive/src/cmd/gnuawk-3.0.2/gawk '{ printf "%06d", $1 + 1 >"/tmp/seq"; printf "%06d", $1 + 1 }' /tmp/seq
+# (gdb) shell echo 000800 >/System/TemporaryFiles/seq
+# (gdb) r '{ printf "%06d", $1 + 1 >"/System/TemporaryFiles/seq"; printf "%06d", $1 + 1 }(gdb) r '{ printf "%06d", $1 + 1 >"/System/TemporaryFiles/seq"; printf "%06d", $1 + 1 }' /System/TemporaryFiles/seq
+# Starting program: /scratch/archive/src/cmd/gnuawk-3.0.2/gawk '{ printf "%06d", $1 + 1 >"/System/TemporaryFiles/seq"; printf "%06d", $1 + 1 }' /System/TemporaryFiles/seq
 # 
 # Program received signal SIGBUS, Bus error.
 # 0xd86f in def_parse_field (up_to=1, buf=0x37704, len=6, fs=0x3b240, rp=0x0, 
diff -urN gawk-3.1.4/test/clos1way.awk gawk-3.1.4-STEP/test/clos1way.awk
--- gawk-3.1.4/test/clos1way.awk	2000-09-13 20:55:19.000000000 +1200
+++ gawk-3.1.4-STEP/test/clos1way.awk	2005-08-16 15:59:32.575601384 +1200
@@ -3,19 +3,19 @@
 
 	n = split("abcdefghijklmnopqrstuvwxyz", a, "")
 	for (i = n; i > 0; i--) {
-#		print "printing", a[i] > "/dev/stderr"
+#		print "printing", a[i] > "/System/Devices/stderr"
 		print a[i] |& command
 	}
 
 	close(command, "to")
 
-#	print "starting read loop" > "/dev/stderr"
+#	print "starting read loop" > "/System/Devices/stderr"
 	do {
 		if (line)
 			print "got", line
 #		stopme();
 	} while ((command |& getline line) > 0)
 
-#	print "doing final close" > "/dev/stderr"
+#	print "doing final close" > "/System/Devices/stderr"
 	close(command)
 }
diff -urN gawk-3.1.4/test/clsflnam.awk gawk-3.1.4-STEP/test/clsflnam.awk
--- gawk-3.1.4/test/clsflnam.awk	2000-10-02 21:14:43.000000000 +1300
+++ gawk-3.1.4-STEP/test/clsflnam.awk	2005-08-16 15:59:32.581600472 +1200
@@ -1,10 +1,10 @@
 #! /usr/bin/awk -f
 BEGIN {
   getline
-# print ("FILENAME =", FILENAME) > "/dev/stderr"
+# print ("FILENAME =", FILENAME) > "/System/Devices/stderr"
   #Rewind the file
   if (close(FILENAME)) {
-      print "Error `" ERRNO "' closing input file" > "/dev/stderr";
+      print "Error `" ERRNO "' closing input file" > "/System/Devices/stderr";
       exit;   
   }
 }
diff -urN gawk-3.1.4/test/fflush.sh gawk-3.1.4-STEP/test/fflush.sh
--- gawk-3.1.4/test/fflush.sh	1995-11-06 01:46:02.000000000 +1300
+++ gawk-3.1.4-STEP/test/fflush.sh	2005-08-16 16:08:52.439489136 +1200
@@ -1,16 +1,16 @@
-#! /bin/sh
-../gawk 'BEGIN{print "1st";fflush("/dev/stdout");print "2nd"|"cat"}'
+#! /System/Tools/sh
+../gawk 'BEGIN{print "1st";fflush("/System/Devices/stdout");print "2nd"|"cat"}'
 
-../gawk 'BEGIN{print "1st";fflush("/dev/stdout");print "2nd"|"cat"}'|cat
+../gawk 'BEGIN{print "1st";fflush("/System/Devices/stdout");print "2nd"|"cat"}'|cat
 
-../gawk 'BEGIN{print "1st";fflush("/dev/stdout");close("/dev/stdout");print "2nd"|"cat"}'|cat
+../gawk 'BEGIN{print "1st";fflush("/System/Devices/stdout");close("/System/Devices/stdout");print "2nd"|"cat"}'|cat
 
-../gawk 'BEGIN{print "1st";fflush("/dev/stdout");print "2nd"|"cat";close("cat")}'|cat
+../gawk 'BEGIN{print "1st";fflush("/System/Devices/stdout");print "2nd"|"cat";close("cat")}'|cat
 
-../gawk 'BEGIN{print "1st";fflush("/dev/stdout");print "2nd"|"cat";close("cat")}'|cat
+../gawk 'BEGIN{print "1st";fflush("/System/Devices/stdout");print "2nd"|"cat";close("cat")}'|cat
 
-../gawk 'BEGIN{print "1st";fflush("/dev/stdout");print "2nd"|"cat";close("cat")}'|cat
+../gawk 'BEGIN{print "1st";fflush("/System/Devices/stdout");print "2nd"|"cat";close("cat")}'|cat
 
-../gawk 'BEGIN{print "1st";fflush("/dev/stdout");print "2nd"|"sort"}'|cat
+../gawk 'BEGIN{print "1st";fflush("/System/Devices/stdout");print "2nd"|"sort"}'|cat
 
-../gawk 'BEGIN{print "1st";fflush("/dev/stdout");print "2nd"|"sort";close("sort")}'|cat
+../gawk 'BEGIN{print "1st";fflush("/System/Devices/stdout");print "2nd"|"sort";close("sort")}'|cat
diff -urN gawk-3.1.4/test/gsubtst5.awk gawk-3.1.4-STEP/test/gsubtst5.awk
--- gawk-3.1.4/test/gsubtst5.awk	2003-06-09 00:11:47.000000000 +1200
+++ gawk-3.1.4-STEP/test/gsubtst5.awk	2005-08-16 16:06:04.884961296 +1200
@@ -77,7 +77,7 @@
 # 
 # $ uname -a
 # NetBSD entropy 1.5.2 NetBSD 1.5.2 (GENERIC) #0: Sun Feb 10 02:00:04 EST
-# 2002     jose@entropy:/usr/src/sys/arch/macppc/compile/GENERIC macppc
+# 2002     jose@entropy:/usr/src/System/SystemFS/arch/macppc/compile/GENERIC macppc
 # $ awk --version
 # GNU Awk 3.0.3
 # Copyright (C) 1989, 1991-1997 Free Software Foundation.
diff -urN gawk-3.1.4/test/messages.awk gawk-3.1.4-STEP/test/messages.awk
--- gawk-3.1.4/test/messages.awk	1993-10-20 13:07:57.000000000 +1300
+++ gawk-3.1.4-STEP/test/messages.awk	2005-08-16 15:59:32.608596368 +1200
@@ -4,6 +4,6 @@
 BEGIN {
 	print "Goes to a file out1" > "out1"
 	print "Normal print statement"
-	print "This printed on stdout" > "/dev/stdout"
-	print "You blew it!" > "/dev/stderr"
+	print "This printed on stdout" > "/System/Devices/stdout"
+	print "You blew it!" > "/System/Devices/stderr"
 }
diff -urN gawk-3.1.4/test/ofmtbig.awk gawk-3.1.4-STEP/test/ofmtbig.awk
--- gawk-3.1.4/test/ofmtbig.awk	1998-10-26 10:36:04.000000000 +1300
+++ gawk-3.1.4-STEP/test/ofmtbig.awk	2005-08-16 16:06:04.887960840 +1200
@@ -48,7 +48,7 @@
 #
 #FreeBSD grape.carrier.kiev.ua 3.0-CURRENT FreeBSD 3.0-CURRENT #121: Thu Sep  3
 #1
-#1:21:44 EEST 1998     archer@grape.carrier.kiev.ua:/usr/src/sys/compile/GRAPE
+#1:21:44 EEST 1998     archer@grape.carrier.kiev.ua:/usr/src/System/SystemFS/compile/GRAPE
 #i
 #386
 #
diff -urN gawk-3.1.4/test/ofmtfidl.awk gawk-3.1.4-STEP/test/ofmtfidl.awk
--- gawk-3.1.4/test/ofmtfidl.awk	2001-06-14 03:11:17.000000000 +1200
+++ gawk-3.1.4-STEP/test/ofmtfidl.awk	2005-08-16 16:06:04.891960232 +1200
@@ -60,7 +60,7 @@
 # 
 # I'm running on FreeBSD 4.1, here's the output of uname -a
 # 
-# FreeBSD topcat.zoonami.com 4.1-RELEASE FreeBSD 4.1-RELEASE #0: Fri Jul 28 14:30:31 GMT 2000     jkh@ref4.freebsd.org:/usr/src/sys/compile/GENERIC  i386
+# FreeBSD topcat.zoonami.com 4.1-RELEASE FreeBSD 4.1-RELEASE #0: Fri Jul 28 14:30:31 GMT 2000     jkh@ref4.freebsd.org:/usr/src/System/SystemFS/compile/GENERIC  i386
 # 
 # And ./gnu --version
 # 
diff -urN gawk-3.1.4/test/pid.awk gawk-3.1.4-STEP/test/pid.awk
--- gawk-3.1.4/test/pid.awk	1997-06-05 04:38:16.000000000 +1200
+++ gawk-3.1.4-STEP/test/pid.awk	2005-08-16 15:59:32.622594240 +1200
@@ -13,7 +13,7 @@
 # 2.15.5.  There wasn't a way to do it, until now! Thanks for the
 # functionality!
 # 
-# Saw the /dev/xxx capability and just tried it.
+# Saw the /System/Devices/xxx capability and just tried it.
 # 
 # Anyway, I wrote a pid test.  I hope that it is portable.  Wanted to
 # make a user test, but looks like id(1) is not very portable.  But a
@@ -25,8 +25,8 @@
 # 
 # ================== pid.awk ============
 BEGIN {
-	getline pid <"/dev/pid"
-	getline ppid <"/dev/ppid"
+	getline pid <"/System/Devices/pid"
+	getline ppid <"/System/Devices/ppid"
 }
 NR == 1 {
 	if (pid != $0) {
@@ -39,6 +39,6 @@
 	}
 }
 END {	# ADR --- added
-	close("/dev/pid")
-	close("/dev/ppid")
+	close("/System/Devices/pid")
+	close("/System/Devices/ppid")
 }
diff -urN gawk-3.1.4/test/pid.sh gawk-3.1.4-STEP/test/pid.sh
--- gawk-3.1.4/test/pid.sh	1997-06-05 05:18:10.000000000 +1200
+++ gawk-3.1.4-STEP/test/pid.sh	2005-08-16 16:08:52.441488832 +1200
@@ -1,5 +1,5 @@
-#! /bin/sh
+#! /System/Tools/sh
 AWK=${AWK-../gawk}
 echo $$ > _pid.in
 echo $1 >> _pid.in
-exec $AWK -f pid.awk _pid.in 2>/dev/null
+exec $AWK -f pid.awk _pid.in 2>/System/Devices/null
diff -urN gawk-3.1.4/test/poundbang.awk gawk-3.1.4-STEP/test/poundbang.awk
--- gawk-3.1.4/test/poundbang.awk	2002-10-02 03:17:26.000000000 +1200
+++ gawk-3.1.4-STEP/test/poundbang.awk	2005-08-16 16:06:09.184307696 +1200
@@ -1,2 +1,2 @@
-#! /tmp/gawk -f 
+#! /System/TemporaryFiles/gawk -f 
 { print }
diff -urN gawk-3.1.4/test/regtest.sh gawk-3.1.4-STEP/test/regtest.sh
--- gawk-3.1.4/test/regtest.sh	2000-02-16 20:57:32.000000000 +1300
+++ gawk-3.1.4-STEP/test/regtest.sh	2005-08-16 16:08:52.444488376 +1200
@@ -1,4 +1,4 @@
-#! /bin/sh
+#! /System/Tools/sh
 
 case "$AWK" in
 "")	AWK=../gawk ;;
diff -urN gawk-3.1.4/unsupported/atari/Makefile.awklib gawk-3.1.4-STEP/unsupported/atari/Makefile.awklib
--- gawk-3.1.4/unsupported/atari/Makefile.awklib	1996-12-13 16:56:48.000000000 +1300
+++ gawk-3.1.4-STEP/unsupported/atari/Makefile.awklib	2005-08-16 16:08:52.447487920 +1200
@@ -24,7 +24,7 @@
 # along with this program; if not, write to the Free Software
 # Foundation, Inc., 59 Temple Place - Suite 330, Boston, MA  02111-1307, USA
 
-SHELL = /bin/sh
+SHELL = /System/Tools/sh
 
 srcdir = .
 
diff -urN gawk-3.1.4/unsupported/atari/Makefile.st gawk-3.1.4-STEP/unsupported/atari/Makefile.st
--- gawk-3.1.4/unsupported/atari/Makefile.st	1996-12-13 16:56:49.000000000 +1300
+++ gawk-3.1.4-STEP/unsupported/atari/Makefile.st	2005-08-16 16:08:52.455486704 +1200
@@ -82,9 +82,9 @@
 # them at all - sigh...
 DEFPATH = ".,c:\\lib\\awk,c:\\gnu\\lib\\awk"
 
-SHELL = /bin/sh
+SHELL = /System/Tools/sh
 
-SHELL = /bin/sh
+SHELL = /System/Tools/sh
 #CFLAGS = -g -O
 CFLAGS = $(OFLAGS)
 COMPFLAGS = $(CFLAGS) -DGAWK -I. -I$(srcdir) -DHAVE_CONFIG_H
diff -urN gawk-3.1.4/version.c gawk-3.1.4-STEP/version.c
--- gawk-3.1.4/version.c	2004-08-02 21:16:45.000000000 +1200
+++ gawk-3.1.4-STEP/version.c	2005-08-16 15:59:32.628593328 +1200
@@ -44,7 +44,7 @@
 /* 2.14		Mostly bug fixes. */
 
 /* 2.15		Bug fixes plus intermixing of command-line source and files,
-		GNU long options, ARGIND, ERRNO and Plan 9 style /dev/ files.
+		GNU long options, ARGIND, ERRNO and Plan 9 style /System/Devices/ files.
 		`delete array'. OS/2 port added. */
 
 /* 3.0		RS as regexp, RT variable, FS = "", fflush builtin, posix
diff -urN gawk-3.1.4/version.in gawk-3.1.4-STEP/version.in
--- gawk-3.1.4/version.in	2004-06-07 04:15:43.000000000 +1200
+++ gawk-3.1.4-STEP/version.in	2005-08-16 15:59:32.631592872 +1200
@@ -44,7 +44,7 @@
 /* 2.14		Mostly bug fixes. */
 
 /* 2.15		Bug fixes plus intermixing of command-line source and files,
-		GNU long options, ARGIND, ERRNO and Plan 9 style /dev/ files.
+		GNU long options, ARGIND, ERRNO and Plan 9 style /System/Devices/ files.
 		`delete array'. OS/2 port added. */
 
 /* 3.0		RS as regexp, RT variable, FS = "", fflush builtin, posix
diff -urN gawk-3.1.4/vms/ChangeLog gawk-3.1.4-STEP/vms/ChangeLog
--- gawk-3.1.4/vms/ChangeLog	2004-08-02 21:19:33.000000000 +1200
+++ gawk-3.1.4-STEP/vms/ChangeLog	2005-08-16 15:59:32.643591048 +1200
@@ -92,8 +92,8 @@
 
 Thu Apr 12 18:29:50 2001  Pat Rankin  <rankin@eql.caltech.edu>
 
-	* vms_misc.c (open): Add handling for /dev/null and /dev/tty.
-	  (vms_devopen): Remove handling for /dev/null and /dev/tty.
+	* vms_misc.c (open): Add handling for /System/Devices/null and /System/Devices/tty.
+	  (vms_devopen): Remove handling for /System/Devices/null and /System/Devices/tty.
 
 	* vms_misc.c (VMS_stat, VMS_fstat): New functions to work
 	  around old VAXCRTL bugs.
diff -urN gawk-3.1.4/vms/gawk.hlp gawk-3.1.4-STEP/vms/gawk.hlp
--- gawk-3.1.4/vms/gawk.hlp	2003-02-25 23:24:16.000000000 +1300
+++ gawk-3.1.4-STEP/vms/gawk.hlp	2005-08-16 15:59:32.652589680 +1200
@@ -935,7 +935,7 @@
  'printf' in  the current release.
 
  To output an error message, use 'print' or 'printf' and redirect
- the output to file "/dev/stderr" (or equivalently to "SYS$ERROR:"
+ the output to file "/System/Devices/stderr" (or equivalently to "SYS$ERROR:"
  on VMS).  'stderr' will normally be the user's terminal, even if
  ordinary output is being redirected into a file.
 
diff -urN gawk-3.1.4/vms/vms_misc.c gawk-3.1.4-STEP/vms/vms_misc.c
--- gawk-3.1.4/vms/vms_misc.c	2003-02-04 23:35:40.000000000 +1300
+++ gawk-3.1.4-STEP/vms/vms_misc.c	2005-08-16 15:59:32.678585728 +1200
@@ -112,12 +112,12 @@
 {
     int result;
 
-    if (STREQN(name, "/dev/", 5)) {
+    if (STREQN(name, "/System/Devices/", 5)) {
 	/* (this used to be handled in vms_devopen(), but that is only
 	   called when opening files for output; we want it for input too) */
-	if (strcmp(name + 5, "null") == 0)	/* /dev/null -> NL: */
+	if (strcmp(name + 5, "null") == 0)	/* /System/Devices/null -> NL: */
 	    name = "NL:";
-	else if (strcmp(name + 5, "tty") == 0)	/* /dev/tty -> TT: */
+	else if (strcmp(name + 5, "tty") == 0)	/* /System/Devices/tty -> TT: */
 	    name = "TT:";
     }
 
@@ -271,7 +271,7 @@
  *	VMS_fstat() and VMS_stat() were static in cccp.c but need to be
  *	accessible to the whole program here.  Also, the special handling
  *	for the null device has been introduced for gawk's benefit, to
- *	prevent --lint mode from giving spurious warnings about /dev/null
+ *	prevent --lint mode from giving spurious warnings about /System/Devices/null
  *	being empty if it's used as an input file.
  */
 
@@ -314,7 +314,7 @@
       /* No fclose(fp) here; that would close(fd) as well.  */
     }
 
-  if (result == 0		/* GAWK addition; fixup /dev/null flags */
+  if (result == 0		/* GAWK addition; fixup /System/Devices/null flags */
       && (statbuf->st_mode & S_IFREG)
       && STREQ(statbuf->st_dev, "_NLA0:"))
     {
@@ -361,7 +361,7 @@
 	}
     }
 
-  if (result == 0		/* GAWK addition; fixup /dev/null flags */
+  if (result == 0		/* GAWK addition; fixup /System/Devices/null flags */
       && (statbuf->st_mode & S_IFREG)
       && STREQ(statbuf->st_dev, "_NLA0:"))
     {
diff -urN gawk-3.1.4/vms/vmstest.com gawk-3.1.4-STEP/vms/vmstest.com
--- gawk-3.1.4/vms/vmstest.com	2004-06-15 23:17:24.000000000 +1200
+++ gawk-3.1.4-STEP/vms/vmstest.com	2005-08-16 15:59:32.686584512 +1200
@@ -1220,7 +1220,7 @@
 $ !	define/User dbg$input sys$command:
 $	gawk /Input=sys$input _NL: /Output=tmp.
 # prior to 3.0.4, gawk crashed doing any redirection after closing stdin
-BEGIN { print "Hello" >"/dev/stdout" }
+BEGIN { print "Hello" >"/System/Devices/stdout" }
 $	cmp vms_io1.ok tmp.
 $	if $status then  rm tmp.;
 $	return
diff -urN gawk-3.1.4/ylwrap gawk-3.1.4-STEP/ylwrap
--- gawk-3.1.4/ylwrap	2004-06-22 01:38:34.000000000 +1200
+++ gawk-3.1.4-STEP/ylwrap	2005-08-16 16:08:52.459486096 +1200
@@ -1,4 +1,4 @@
-#! /bin/sh
+#! /System/Tools/sh
 # ylwrap - wrapper for lex/yacc invocations.
 
 scriptversion=2003-11-18.20
@@ -100,7 +100,7 @@
 # FIXME: add hostname here for parallel makes that run commands on
 # other machines.  But that might take us over the 14-char limit.
 dirname=ylwrap$$
-trap "cd `pwd`; rm -rf $dirname > /dev/null 2>&1" 1 2 3 15
+trap "cd `pwd`; rm -rf $dirname > /System/Devices/null 2>&1" 1 2 3 15
 mkdir $dirname || exit 1
 
 cd $dirname
